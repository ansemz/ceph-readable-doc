.\" Man page generated from reStructuredText.
.
.TH "CEPH-MON" "8" "Mar 12, 2022" "dev" "Ceph"
.SH NAME
ceph-mon \- ceph monitor daemon
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH 提纲
.nf
\fBceph\-mon\fP \-i \fImonid\fP [ \-\-mon\-data \fImondatapath\fP ]
.fi
.sp
.SH 描述
.sp
\fBceph\-mon\fP 是 Ceph 分布式存储集群的监视器守护进程。
一或多个 \fBceph\-mon\fP 例程可形成 Paxos 兼职议员集群，
它们能为集群成员、配置和状态提供非常可靠、坚实的存储。
.sp
\fImondatapath\fP 是个本地文件系统上的目录，
存储着监视器数据。
通常可用配置文件中的 \fBmon data\fP 选项指定。
.SH 选项
.INDENT 0.0
.TP
.B \-f, \-\-foreground
前台：启动后不要作为守护进程，仍在前台运行。不要生成 PID 文件。通过 ceph\-run(8) 运行时此选项有用。
.UNINDENT
.INDENT 0.0
.TP
.B \-d
调试模式：类似 \fB\-f\fP ，还会把所有日志发到了标准错误。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-setuser userorgid
启动后设置 UID 。如果指定的是用户名，
会查询用户记录以获取 UID 及其 GID ，同时设置 GID ，
除非还指定了 \-\-setgroup 选项。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-setgroup grouporgid
启动后设置 GID 。如果指定的是组名，
会查询组记录以获取 GID 。
.UNINDENT
.INDENT 0.0
.TP
.B \-c ceph.conf, \-\-conf=ceph.conf
启动时用 \fIceph.conf\fP 配置文件而非默认的 \fB/etc/ceph/ceph.conf\fP 来确定启动时所需的监视器地址。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-mkfs
用种子信息初始化 \fBmon data\fP 目录，
以形成并初始化 Ceph 文件系统或加入现有监视器集群。
以下三个信息是必需的：
.INDENT 7.0
.IP \(bu 2
集群的 fsid 。可从 monmap （ \fB\-\-monmap <path>\fP ）中获得或直接用 \fB\-\-fsid <uuid>\fP 指定。
.IP \(bu 2
一连串监视器及其地址。这些监视器可来源于
monmap （ \fB\-\-monmap <path>\fP ）、
\fBmon host\fP 配置（在 \fIceph.conf\fP 里或通过
\fB\-m host1,host2,...\fP ）或 \fIceph.conf\fP 中
（为顾及向后兼容性）已废弃的 \fBmon addr\fP 行。
如果这个监视器将作为新 Ceph 集群监视器法定人数的一部分，
还必须放进初始列表中。
匹配地址时，
可以用 \fBpublic addr\fP 或 \fBpublic subnet\fP 。
.IP \(bu 2
监视器私钥 \fBmon.\fP 。必须包含在 \fB\-\-keyring <path>\fP
所提供的密钥环内。
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-keyring
指定 \fB\-\-mkfs\fP 所需的密钥环。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-no\-config\-file
我们不想依赖 \fIceph.conf\fP 的信号，
靠用户提供的、或默认值来运行此守护进程。
需要向守护进程加参数来提供所有必要的选项。
.UNINDENT
.SH 使用范围
.sp
\fBceph\-mon\fP 是 Ceph 的一部分，这是个伸缩力强、开源、分布式的存储系统，更多信息参见 \fI\%https://docs.ceph.com\fP 。
.SH 参考
.sp
ceph(8),
ceph\-mds(8),
ceph\-osd(8)
.SH COPYRIGHT
2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0)
.\" Generated by docutils manpage writer.
.
