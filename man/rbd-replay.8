.\" Man page generated from reStructuredText.
.
.TH "RBD-REPLAY" "8" "Jan 22, 2022" "dev" "Ceph"
.SH NAME
rbd-replay \- replay rados block device (RBD) workloads
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH 提纲
.nf
\fBrbd\-replay\fP [ \fIoptions\fP ] \fIreplay_file\fP
.fi
.sp
.SH 描述
.sp
\fBrbd\-replay\fP 工具用于重放 RBD 载荷。
.SH 选项
.INDENT 0.0
.TP
.B \-c ceph.conf, \-\-conf ceph.conf
使用 ceph.conf 配置文件而非默认的 /etc/ceph/ceph.conf 来确定启动期间所需的监视器地址。
.UNINDENT
.INDENT 0.0
.TP
.B \-p pool, \-\-pool pool
与指定存储池交互，默认为 \(aqrbd\(aq 。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-latency\-multiplier
请求间延时加倍，默认为 1 。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-read\-only
只重放非破坏性的请求。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-map\-image rule
增加一条规则把跟踪文件中的映像名映射为重放集群中的映像名。此规则 image1@snap1=image2@snap2 将把 image1 的快照 snap1 映射为 image2 的快照 snap2 。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dump\-perf\-counters
\fB实验功能\fP
关闭映像前先把性能计数器转储到标准输出。如果关闭了多个映像或者同一映像被打开、关闭多次，那么性能计数器就可能转储多次。性能计数器及其含义可能因版本而不同。
.UNINDENT
.SH 实例
.sp
尽可能快地重放 workload1:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
rbd\-replay \-\-latency\-multiplier=0 workload1
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
重放 workload1 ，并用 test_image 取代 prod_image:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
rbd\-replay \-\-map\-image=prod_image=test_image workload1
.ft P
.fi
.UNINDENT
.UNINDENT
.SH 使用范围
.sp
\fBrbd\-replay\fP 是 Ceph 的一部分，这是个伸缩力强、开源、分布式的存储系统，更多信息参见 \fI\%https://docs.ceph.com\fP 。
.SH 参考
.sp
rbd\-replay\-prep(8),
rbd(8)
.SH COPYRIGHT
2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0)
.\" Generated by docutils manpage writer.
.
