.\" Man page generated from reStructuredText.
.
.TH "CEPH-SYN" "8" "Dec 26, 2021" "dev" "Ceph"
.SH NAME
ceph-syn \- ceph synthetic workload generator
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH 提纲
.nf
\fBceph\-syn\fP [ \-m \fImonaddr\fP:\fIport\fP ] \-\-syn \fIcommand\fP \fI\&...\fP
.fi
.sp
.SH 描述
.sp
\fBceph\-syn\fP 是个适用于 Ceph 分布式文件系统的简单的人造载荷生成器。它通过用户空间客户端库在当前运行着的文件系统上生成简单的载荷，此文件系统不必通过 ceph\-fuse(8) 或内核客户端挂载。
.sp
一或多个 \fB\-\-syn\fP 命令参数规定特定的载荷，具体文档如下。
.SH 选项
.INDENT 0.0
.TP
.B \-d
启动后离开控制台并进入后台。
.UNINDENT
.INDENT 0.0
.TP
.B \-c ceph.conf, \-\-conf=ceph.conf
启动时用 \fIceph.conf\fP 配置文件而非默认的 \fB/etc/ceph/ceph.conf\fP 来确定监视器地址。
.UNINDENT
.INDENT 0.0
.TP
.B \-m monaddress[:port]
连接到指定监视器（而不是在 \fBceph.conf\fP 里查找）。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-num_client num
模拟 num 个不同的客户端，都位于独立的线程中。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-syn workloadspec
运行给定载荷。可以指定任意多次，通常依次被运行。
.UNINDENT
.SH 载荷
.sp
命令行中每个载荷前都要加 \fB\-\-syn\fP 。下面是个不太完整的列表。
.INDENT 0.0
.TP
\fBmknap\fP \fIpath\fP \fIsnapname\fP
在 \fIpath\fP 下创建名为 \fIsnapname\fP 的快照。
.TP
\fBrmsnap\fP \fIpath\fP \fIsnapname\fP
删除 \fIpath\fP 路径下名为 \fIsnapname\fP 的快照。
.TP
\fBrmfile\fP \fIpath\fP
删除或断链 \fIpath\fP 。
.TP
\fBwritefile\fP \fIsizeinmb\fP \fIblocksize\fP
创建一个文件，以我们的客户端 ID 命名，写入 \fIblocksize\fP 个尺寸为 \fIsizeinmb\fP MB 的数据块。
.TP
\fBreadfile\fP \fIsizeinmb\fP \fIblocksize\fP
读文件，以我们的客户端 ID 命名，写入 \fIblocksize\fP 个尺寸为 \fIsizeinmb\fP MB 的数据块。
.TP
\fBrw\fP \fIsizeinmb\fP \fIblocksize\fP
写文件，然后再读出，像上面的一样。
.TP
\fBmakedirs\fP \fInumsubdirs\fP \fInumfiles\fP \fIdepth\fP
创建深度为 \fIdepth\fP 级的分级目录，各目录有 \fInumsubdirs\fP 个子目录和 \fInumfiles\fP 个文件。
.TP
\fBwalk\fP
递归地遍历文件系统（类似 find ）。
.UNINDENT
.SH 使用范围
.sp
\fBceph\-syn\fP 是 Ceph 的一部分，这是个伸缩力强、开源、分布式的存储系统，更多信息参见 \fI\%https://docs.ceph.com\fP 。
.SH 参考
.sp
ceph(8),
ceph\-fuse(8)
.SH COPYRIGHT
2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0)
.\" Generated by docutils manpage writer.
.
