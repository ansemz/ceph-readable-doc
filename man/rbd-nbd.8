.\" Man page generated from reStructuredText.
.
.TH "RBD-NBD" "8" "Dec 10, 2021" "dev" "Ceph"
.SH NAME
rbd-nbd \- map rbd images to nbd device
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH 提纲
.nf
\fBrbd\-nbd\fP [\-c conf] [\-\-read\-only] [\-\-device \fInbd device\fP] [\-\-nbds_max \fIlimit\fP] [\-\-max_part \fIlimit\fP] [\-\-exclusive] [\-\-notrim] [\-\-encryption\-format \fIformat\fP] [\-\-encryption\-passphrase\-file \fIpassphrase\-file\fP] [\-\-io\-timeout \fIseconds\fP] [\-\-reattach\-timeout \fIseconds\fP] map \fIimage\-spec\fP | \fIsnap\-spec\fP
\fBrbd\-nbd\fP unmap \fInbd device\fP | \fIimage\-spec\fP | \fIsnap\-spec\fP
\fBrbd\-nbd\fP list\-mapped
\fBrbd\-nbd\fP attach \-\-device \fInbd device\fP \fIimage\-spec\fP | \fIsnap\-spec\fP
\fBrbd\-nbd\fP detach \fInbd device\fP | \fIimage\-spec\fP | \fIsnap\-spec\fP
.fi
.sp
.SH 描述
.sp
\fBrbd\-nbd\fP 是个 RADOS 块设备（ rbd ）映像的客户端，与 rbd
内核模块类似。它可以把一个 rbd 映像映射为 nbd （网络块设备）设备，这样就可以当常规的本地块设备使用了。
.SH 选项
.INDENT 0.0
.TP
.B \-c ceph.conf
指定 ceph.conf 配置文件，而不是用默认的 /etc/ceph/ceph.conf
来确定启动时需要的监视器。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-read\-only
以只读方式映射。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-nbds_max *limit*
modprobe 载入 NBD 内核模块时覆盖其 nbds_max 参数，用于限制 nbd 设备数量。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-max_part *limit*
覆盖（内核的）模块参数 max_part 。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclusive
禁止其它客户端写入。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-notrim
Turn off trim/discard.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-encryption\-format
Image encryption format.
Possible values: \fIluks1\fP, \fIluks2\fP
.UNINDENT
.INDENT 0.0
.TP
.B \-\-encryption\-passphrase\-file
Path of file containing a passphrase for unlocking image encryption.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-io\-timeout *seconds*
会覆盖设备超时值。 Linux 内核请求的默认超时时间是 30 秒。这个可选参数允许你另外指定超时时长。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-reattach\-timeout *seconds*
Specify timeout for the kernel to wait for a new rbd\-nbd process is
attached after the old process is detached. The default is 30
second.
.UNINDENT
.SH 映像名和快照名规则
.nf
\fIimage\-spec\fP is [\fIpool\-name\fP]/\fIimage\-name\fP
\fIsnap\-spec\fP  is [\fIpool\-name\fP]/\fIimage\-name\fP@\fIsnap\-name\fP
.fi
.sp
.sp
\fIpool\-name\fP 的默认值是 "rbd" 。如果映像名里包含字符串斜杠（ / ），那就必须指定 \fIpool\-name\fP 。
.SH 使用范围
.sp
\fBrbd\-nbd\fP 是 Ceph 的一部分，这是个伸缩力强、开源、分布式的存储系统，更多信息参见 \fI\%https://docs.ceph.com\fP 。
.SH 参考
.sp
rbd(8)
.SH COPYRIGHT
2010-2014, Inktank Storage, Inc. and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0)
.\" Generated by docutils manpage writer.
.
