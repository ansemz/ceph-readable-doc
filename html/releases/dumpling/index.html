
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>v0.67.12 “Dumpling” (draft) &#8212; Ceph Documentation</title>
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="v0.61.9 “Cuttlefish”" href="../cuttlefish/" />
    <link rel="prev" title="v0.72.3 Emperor (pending release)" href="../emperor/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../cuttlefish/" title="v0.61.9 “Cuttlefish”"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../emperor/" title="v0.72.3 Emperor (pending release)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" >Ceph 版本（索引）</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../archived-index/" accesskey="U">归档的版本</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            

<div id="dev-warning" class="admonition note" style="display:none;">
  <p class="first admonition-title">Notice</p>
  <p class="last">This document is for a development version of Ceph.</p>
</div>

<div id="eol-warning" class="admonition warning" style="display:none;">
  <p class="first admonition-title">Warning</p>
  <p class="last">This document is for an unsupported version of Ceph.</p>
</div>
  <div id="docubetter" align="right" style="display:none; padding: 15px; font-weight: bold;">
    <a id="edit-on-github" href="https://github.com/ceph/ceph/edit/master/doc/releases/dumpling.rst" rel="nofollow">Edit on GitHub</a> | <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <div class="section" id="v0-67-12-dumpling-draft">
<h1>v0.67.12 “Dumpling” (draft)<a class="headerlink" href="#v0-67-12-dumpling-draft" title="Permalink to this headline">¶</a></h1>
<p>This stable update for Dumpling fixes a few longstanding issues with
backfill in the OSD that can lead to stalled IOs.  There is also a fix
for memory utilization for reads in librbd when caching is enabled,
and then several other small fixes across the rest of the system.</p>
<p>Dumpling users who have encountered IO stalls during backfill and who
do not expect to upgrade to Firefly soon should upgrade.  Everyone
else should upgrade to Firefly already.  This is likely to be the last stable
release for the 0.67.x Dumpling series.</p>
<div class="section" id="notable-changes">
<h2>Notable Changes<a class="headerlink" href="#notable-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>buffer: fix buffer rebuild alignment corner case (#6614 #6003 Loic Dachary, Samuel Just)</p></li>
<li><p>ceph-disk: reprobe partitions after zap (#9665 #9721 Loic Dachary)</p></li>
<li><p>ceph-disk: use partx instead of partprobe when appropriate (Loic Dachary)</p></li>
<li><p>common: add $cctid meta variable (#6228 Adam Crume)</p></li>
<li><p>crush: fix get_full_location_ordered (Sage Weil)</p></li>
<li><p>crush: pick ruleset id that matches rule_id (#9675 Xiaoxi Chen)</p></li>
<li><p>libcephfs: fix tid wrap bug (#9869 Greg Farnum)</p></li>
<li><p>libcephfs: get osd location on -1 should return EINVAL (Sage Weil)</p></li>
<li><p>librados: fix race condition with C API and op timeouts (#9582 Sage Weil)</p></li>
<li><p>librbd: constrain max number of in-flight read requests (#9854 Jason Dillaman)</p></li>
<li><p>librbd: enforce cache size on read requests (Jason Dillaman)</p></li>
<li><p>librbd: fix invalid close in image open failure path (#10030 Jason Dillaman)</p></li>
<li><p>librbd: fix read hang on sparse files (Jason Dillaman)</p></li>
<li><p>librbd: gracefully handle deleted/renamed pools (#10270 #10122 Jason Dillaman)</p></li>
<li><p>librbd: protect list_children from invalid child pool ioctxs (#10123 Jason Dillaman)</p></li>
<li><p>mds: fix ctime updates from clients without dirty caps (#9514 Greg Farnum)</p></li>
<li><p>mds: fix rare NULL dereference in cap update path (Greg Farnum)</p></li>
<li><p>mds: fix assertion caused by system clock backwards (#11053 Yan, Zheng)</p></li>
<li><p>mds: store backtrace on straydir (Yan, Zheng)</p></li>
<li><p>osd: fix journal committed_thru update after replay (#6756 Samuel Just)</p></li>
<li><p>osd: fix memory leak, busy loop on snap trim (#9113 Samuel Just)</p></li>
<li><p>osd: fix misc peering, recovery bugs (#10168 Samuel Just)</p></li>
<li><p>osd: fix purged_snap field on backfill start (#9487 Sage Weil, Samuel Just)</p></li>
<li><p>osd: handle no-op write with snapshot corner case (#10262 Sage Weil, Loic Dachary)</p></li>
<li><p>osd: respect RWORDERED rados flag (Sage Weil)</p></li>
<li><p>osd: several backfill fixes and refactors (Samuel Just, David Zafman)</p></li>
<li><p>rgw: send http status reason explicitly in fastcgi (Yehuda Sadeh)</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-67-11-dumpling">
<h1>v0.67.11 “Dumpling”<a class="headerlink" href="#v0-67-11-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This stable update for Dumpling fixes several important bugs that
affect a small set of users.</p>
<p>We recommend that all Dumpling users upgrade at their convenience.  If
none of these issues are affecting your deployment there is no
urgency.</p>
<div class="section" id="id1">
<h2>Notable Changes<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>common: fix sending dup cluster log items (#9080 Sage Weil)</p></li>
<li><p>doc: several doc updates (Alfredo Deza)</p></li>
<li><p>libcephfs-java: fix build against older JNI headesr (Greg Farnum)</p></li>
<li><p>librados: fix crash in op timeout path (#9362 Matthias Kiefer, Sage Weil)</p></li>
<li><p>librbd: fix crash using clone of flattened image (#8845 Josh Durgin)</p></li>
<li><p>librbd: fix error path cleanup when failing to open image (#8912 Josh Durgin)</p></li>
<li><p>mon: fix crash when adjusting pg_num before any OSDs are added (#9052 Sage Weil)</p></li>
<li><p>mon: reduce log noise from paxos (Aanchal Agrawal, Sage Weil)</p></li>
<li><p>osd: allow scrub and snap trim thread pool IO priority to be adjusted (Sage Weil)</p></li>
<li><p>osd: fix mount/remount sync race (#9144 Sage Weil)</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-67-10-dumpling">
<h1>v0.67.10 “Dumpling”<a class="headerlink" href="#v0-67-10-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This stable update release for Dumpling includes primarily fixes for
RGW, including several issues with bucket listings and a potential
data corruption problem when multiple multi-part uploads race.  There is also
some throttling capability added in the OSD for scrub that can mitigate the
performance impact on production clusters.</p>
<p>We recommend that all Dumpling users upgrade at their convenience.</p>
<div class="section" id="id2">
<h2>Notable Changes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>ceph-disk: partprobe befoere settle, fixing dm-crypt (#6966, Eric Eastman)</p></li>
<li><p>librbd: add invalidate cache interface (Josh Durgin)</p></li>
<li><p>librbd: close image if remove_child fails (Ilya Dryomov)</p></li>
<li><p>librbd: fix potential null pointer dereference (Danny Al-Gaaf)</p></li>
<li><p>librbd: improve writeback checks, performance (Haomai Wang)</p></li>
<li><p>librbd: skip zeroes when copying image (#6257, Josh Durgin)</p></li>
<li><p>mon: fix rule(set) check on ‘ceph pool set … crush_ruleset …’ (#8599, John Spray)</p></li>
<li><p>mon: shut down if mon is removed from cluster (#6789, Joao Eduardo Luis)</p></li>
<li><p>osd: fix filestore perf reports to mon (Sage Weil)</p></li>
<li><p>osd: force any new or updated xattr into leveldb if E2BIG from XFS (#7779, Sage Weil)</p></li>
<li><p>osd: lock snapdir object during write to fix race with backfill (Samuel Just)</p></li>
<li><p>osd: option sleep during scrub (Sage Weil)</p></li>
<li><p>osd: set io priority on scrub and snap trim threads (Sage Weil)</p></li>
<li><p>osd: ‘status’ admin socket command (Sage Weil)</p></li>
<li><p>rbd: tolerate missing NULL terminator on block_name_prefix (#7577, Dan Mick)</p></li>
<li><p>rgw: calculate user manifest (#8169, Yehuda Sadeh)</p></li>
<li><p>rgw: fix abort on chunk read error, avoid using extra memory (#8289, Yehuda Sadeh)</p></li>
<li><p>rgw: fix buffer overflow on bucket instance id (#8608, Yehuda Sadeh)</p></li>
<li><p>rgw: fix crash in swift CORS preflight request (#8586, Yehuda Sadeh)</p></li>
<li><p>rgw: fix implicit removal of old objects on object creation (#8972, Patrycja Szablowska, Yehuda Sadeh)</p></li>
<li><p>rgw: fix MaxKeys in bucket listing (Yehuda Sadeh)</p></li>
<li><p>rgw: fix race with multiple updates to a single multipart object (#8269, Yehuda Sadeh)</p></li>
<li><p>rgw: improve bucket listing with delimiter (Yehuda Sadeh)</p></li>
<li><p>rgw: include NextMarker in bucket listing (#8858, Yehuda Sadeh)</p></li>
<li><p>rgw: return error early on non-existent bucket (#7064, Yehuda Sadeh)</p></li>
<li><p>rgw: set truncation flag correctly in bucket listing (Yehuda Sadeh)</p></li>
<li><p>sysvinit: continue starting daemons after pre-mount error (#8554, Sage Weil)</p></li>
</ul>
<p>For more detailed information, see <a class="reference download internal" download="" href="../../_downloads/d6e9e5f24cd15d35d2d2baad6f36da18/v0.67.10.txt"><code class="xref download docutils literal notranslate"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></code></a>.</p>
</div>
</div>
<div class="section" id="v0-67-9-dumpling">
<h1>v0.67.9 “Dumpling”<a class="headerlink" href="#v0-67-9-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This Dumpling point release fixes several minor bugs. The most
prevalent in the field is one that occasionally prevents OSDs from
starting on recently created clusters.</p>
<p>We recommend that all Dumpling users upgrade at their convenience.</p>
<div class="section" id="id3">
<h2>Notable Changes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>ceph-fuse, libcephfs: client admin socket command to kick and inspect MDS sessions (#8021, Zheng Yan)</p></li>
<li><p>monclient: fix failure detection during mon handshake (#8278, Sage Weil)</p></li>
<li><p>mon: set tid on no-op PGStatsAck messages (#8280, Sage Weil)</p></li>
<li><p>msgr: fix a rare bug with connection negotiation between OSDs (Guang Yang)</p></li>
<li><p>osd: allow snap trim throttling with simple delay (#6278, Sage Weil)</p></li>
<li><p>osd: check for splitting when processing recover/backfill reservations (#6565, Samuel Just)</p></li>
<li><p>osd: fix backfill position tracking (#8162, Samuel Just)</p></li>
<li><p>osd: fix bug in backfill stats (Samuel Just)</p></li>
<li><p>osd: fix bug preventing OSD startup for infant clusters (#8162, Greg Farnum)</p></li>
<li><p>osd: fix rare PG resurrection race causing an incomplete PG (#7740, Samuel Just)</p></li>
<li><p>osd: only complete replicas count toward min_size (#7805, Samuel Just)</p></li>
<li><p>rgw: allow setting ACLs with empty owner (#6892, Yehuda Sadeh)</p></li>
<li><p>rgw: send user manifest header field (#8170, Yehuda Sadeh)</p></li>
</ul>
<p>For more detailed information, see <a class="reference download internal" download="" href="../../_downloads/c6f52ee3851626160df9e720c546fab7/v0.67.9.txt"><code class="xref download docutils literal notranslate"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></code></a>.</p>
</div>
</div>
<div class="section" id="v0-67-8-dumpling">
<h1>v0.67.8 “Dumpling”<a class="headerlink" href="#v0-67-8-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This Dumpling point release fixes several non-critical issues since
v0.67.7.  The most notable bug fixes are an auth fix in librbd
(observed as an occasional crash from KVM), an improvement in the
network failure detection with the monitor, and several hard to hit
OSD crashes or hangs.</p>
<p>We recommend that all users upgrade at their convenience.</p>
<div class="section" id="upgrading">
<h2>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The ‘rbd ls’ function now returns success and returns an empty when a pool
does not store any rbd images.  Previously it would return an ENOENT error.</p></li>
<li><p>Ceph will now issue a health warning if the ‘mon osd down out
interval’ config option is set to zero.  This warning can be
disabled by adding ‘mon warn on osd down out interval zero = false’
to ceph.conf.</p></li>
</ul>
</div>
<div class="section" id="id4">
<h2>Notable Changes<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>all: improve keepalive detection of failed monitor connections (#7888, Sage Weil)</p></li>
<li><p>ceph-fuse, libcephfs: pin inodes during readahead, fixing rare crash (#7867, Sage Weil)</p></li>
<li><p>librbd: make cache writeback a bit less aggressive (Sage Weil)</p></li>
<li><p>librbd: make symlink for qemu to detect librbd in RPM (#7293, Josh Durgin)</p></li>
<li><p>mon: allow ‘hashpspool’ pool flag to be set and unset (Loic Dachary)</p></li>
<li><p>mon: commit paxos state only after entire quorum acks, fixing rare race where prior round state is readable (#7736, Sage Weil)</p></li>
<li><p>mon: make elections and timeouts a bit more robust (#7212, Sage Weil)</p></li>
<li><p>mon: prevent extreme pool split operations (Greg Farnum)</p></li>
<li><p>mon: wait for quorum for get_version requests to close rare pool creation race (#7997, Sage Weil)</p></li>
<li><p>mon: warn on ‘mon osd down out interval = 0’ (#7784, Joao Luis)</p></li>
<li><p>msgr: fix byte-order for auth challenge, fixing auth errors on big-endian clients (#7977, Dan Mick)</p></li>
<li><p>msgr: fix occasional crash in authentication code (usually triggered by librbd) (#6840, Josh Durgin)</p></li>
<li><p>msgr: fix rebind() race (#6992, Xihui He)</p></li>
<li><p>osd: avoid timeouts during slow PG deletion (#6528, Samuel Just)</p></li>
<li><p>osd: fix bug in pool listing during recovery (#6633, Samuel Just)</p></li>
<li><p>osd: fix queue limits, fixing recovery stalls (#7706, Samuel Just)</p></li>
<li><p>osd: fix rare peering crashes (#6722, #6910, Samuel Just)</p></li>
<li><p>osd: fix rare recovery hang (#6681, Samuel Just)</p></li>
<li><p>osd: improve error handling on journal errors (#7738, Sage Weil)</p></li>
<li><p>osd: reduce load on the monitor from OSDMap subscriptions (Greg Farnum)</p></li>
<li><p>osd: rery GetLog on peer osd startup, fixing some rare peering stalls (#6909, Samuel Just)</p></li>
<li><p>osd: reset journal state on remount to fix occasional crash on OSD startup (#8019, Sage Weil)</p></li>
<li><p>osd: share maps with peers more aggressively (Greg Farnum)</p></li>
<li><p>rbd: make it harder to delete an rbd image that is currently in use (#7076, Ilya Drymov)</p></li>
<li><p>rgw: deny writes to secondary zone by non-system users (#6678, Yehuda Sadeh)</p></li>
<li><p>rgw: do’nt log system requests in usage log (#6889, Yehuda Sadeh)</p></li>
<li><p>rgw: fix bucket recreation (#6951, Yehuda Sadeh)</p></li>
<li><p>rgw: fix Swift range response (#7099, Julien Calvet, Yehuda Sadeh)</p></li>
<li><p>rgw: fix URL escaping (#8202, Yehuda Sadeh)</p></li>
<li><p>rgw: fix whitespace trimming in http headers (#7543, Yehuda Sadeh)</p></li>
<li><p>rgw: make multi-object deletion idempotent (#7346, Yehuda Sadeh)</p></li>
</ul>
<p>For more detailed information, see <a class="reference download internal" download="" href="../../_downloads/8ee237cf5d19dc7ecc53a40869ae2214/v0.67.8.txt"><code class="xref download docutils literal notranslate"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></code></a>.</p>
</div>
</div>
<div class="section" id="v0-67-7-dumpling">
<h1>v0.67.7 “Dumpling”<a class="headerlink" href="#v0-67-7-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This Dumpling point release fixes a few critical issues in v0.67.6.</p>
<p>All v0.67.6 users are urgently encouraged to upgrade.  We also
recommend that all v0.67.5 (or older) users upgrade.</p>
<div class="section" id="id5">
<h2>Upgrading<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Once you have upgraded a radosgw instance or OSD to v0.67.7, you should not
downgrade to a previous version.</p></li>
</ul>
</div>
<div class="section" id="id6">
<h2>Notable Changes<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>ceph-disk: additional unit tests</p></li>
<li><p>librbd: revert caching behavior change in v0.67.6</p></li>
<li><p>osd: fix problem reading xattrs due to incomplete backport in v0.67.6</p></li>
<li><p>radosgw-admin: fix reading object policy</p></li>
</ul>
<p>For more detailed information, see <a class="reference download internal" download="" href="../../_downloads/9e20d16536440c7ff2ea5e18fa78c843/v0.67.7.txt"><code class="xref download docutils literal notranslate"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></code></a>.</p>
</div>
</div>
<div class="section" id="v0-67-6-dumpling">
<h1>v0.67.6 “Dumpling”<a class="headerlink" href="#v0-67-6-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This Dumpling point release contains a number of important fixed for
the OSD, monitor, and radosgw.  Most significantly, a change that
forces large object attributes to spill over into leveldb has been
backported that can prevent objects and the cluster from being damaged
by large attributes (which can be induced via the radosgw).  There is
also a set of fixes that improves data safety and RADOS semantics when
the cluster becomes full and then non-full.</p>
<p>We recommend that all 0.67.x Dumpling users skip this release and upgrade to v0.67.7.</p>
<div class="section" id="id7">
<h2>Upgrading<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The OSD has long contained a feature that allows large xattrs to
spill over into the leveldb backing store in situations where not
all local file systems are able to store them reliably.  This option
is now enabled unconditionally in order to avoid rare cases where
storing large xattrs renders the object unreadable. This is known to
be triggered by very large multipart objects, but could be caused by
other workloads as well.  Although there is some small risk that
performance for certain workloads will degrade, it is more important
that data be retrievable.  Note that newer versions of Ceph (e.g.,
firefly) do some additional work to avoid the potential performance
regression in this case, but that is current considered too complex
for backport to the Dumpling stable series.</p></li>
<li><p>It is very dangerous to downgrade from v0.67.6 to a prior version of
Dumpling.  If the old version does not have ‘filestore xattr use
omap = true’ it may not be able to read all xattrs for an object and
can cause undefined behavior.</p></li>
</ul>
</div>
<div class="section" id="id8">
<h2>Notable changes<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>ceph-disk: misc bug fixes, particularly on RHEL (Loic Dachary, Alfredo Deza, various)</p></li>
<li><p>ceph-fuse, libcephfs: fix crash from read over certain sparseness patterns (Sage Weil)</p></li>
<li><p>ceph-fuse, libcephfs: fix integer overflow for sync reads racing with appends (Sage Weil)</p></li>
<li><p>ceph.spec: fix udev rule when building RPM under RHEL (Derek Yarnell)</p></li>
<li><p>common: fix crash from bad format from admin socket (Loic Dachary)</p></li>
<li><p>librados: add optional timeouts (Josh Durgin)</p></li>
<li><p>librados: do not leak budget when resending localized or redirected ops (Josh Durgin)</p></li>
<li><p>librados, osd: fix and improve full cluster handling (Josh Durgin)</p></li>
<li><p>librbd: fix use-after-free when updating perfcounters during image close (Josh Durgin)</p></li>
<li><p>librbd: remove limit on objects in cache (Josh Durgin)</p></li>
<li><p>mon: avoid on-disk full OSDMap corruption from pg_temp removal (Sage Weil)</p></li>
<li><p>mon: avoid stray pg_temp entries from pool deletion race (Joao Eduardo Luis)</p></li>
<li><p>mon: do not generate spurious MDSMaps from laggy daemons (Joao Eduardo Luis)</p></li>
<li><p>mon: fix error code from ‘osd rm|down|out|in …’ commands (Loic Dachary)</p></li>
<li><p>mon: include all health items in summary output (John Spray)</p></li>
<li><p>osd: fix occasional race/crash during startup (Sage Weil)</p></li>
<li><p>osd: ignore stray OSDMap messages during init (Sage Weil)</p></li>
<li><p>osd: unconditionally let xattrs overflow into leveldb (David Zafman)</p></li>
<li><p>rados: fix a few error checks for the CLI (Josh Durgin)</p></li>
<li><p>rgw: convert legacy bucket info objects on demand (Yehuda Sadeh)</p></li>
<li><p>rgw: fix bug causing system users to lose privileges (Yehuda Sadeh)</p></li>
<li><p>rgw: fix CORS bugs related to headers and case sensitivity (Robin H. Johnson)</p></li>
<li><p>rgw: fix multipart object listing (Yehuda Sadeh)</p></li>
<li><p>rgw: fix racing object creations (Yehuda Sadeh)</p></li>
<li><p>rgw: fix racing object put and delete (Yehuda Sadeh)</p></li>
<li><p>rgw: fix S3 auth when using response-* query string params (Sylvain Munaut)</p></li>
<li><p>rgw: use correct secret key for POST authentication (Robin H. Johnson)</p></li>
</ul>
<p>For more detailed information, see <a class="reference download internal" download="" href="../../_downloads/30f2b31475c21c8eeb3ccd4602cd4ad5/v0.67.6.txt"><code class="xref download docutils literal notranslate"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></code></a>.</p>
</div>
</div>
<div class="section" id="v0-67-5-dumpling">
<h1>v0.67.5 “Dumpling”<a class="headerlink" href="#v0-67-5-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This release includes a few critical bug fixes for the radosgw,
including a fix for hanging operations on large objects.  There are also
several bug fixes for radosgw multi-site replications, and a few
backported features.  Also, notably, the ‘osd perf’ command (which dumps
recent performance information about active OSDs) has been backported.</p>
<p>We recommend that all 0.67.x Dumpling users upgrade.</p>
<div class="section" id="id9">
<h2>Notable changes<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>ceph-fuse: fix crash in caching code</p></li>
<li><p>mds: fix looping in populate_mydir()</p></li>
<li><p>mds: fix standby-replay race</p></li>
<li><p>mon: accept ‘osd pool set …’ as string</p></li>
<li><p>mon: backport: ‘osd perf’ command to dump recent OSD performance stats</p></li>
<li><p>osd: add feature compat check for upcoming object sharding</p></li>
<li><p>osd: fix osd bench block size argument</p></li>
<li><p>rbd.py: increase parent name size limit</p></li>
<li><p>rgw: backport: allow wildcard in supported keystone roles</p></li>
<li><p>rgw: backport: improve swift COPY behavior</p></li>
<li><p>rgw: backport: log and open admin socket by default</p></li>
<li><p>rgw: backport: validate S3 tokens against keystone</p></li>
<li><p>rgw: fix bucket removal</p></li>
<li><p>rgw: fix client error code for chunked PUT failure</p></li>
<li><p>rgw: fix hang on large object GET</p></li>
<li><p>rgw: fix rare use-after-free</p></li>
<li><p>rgw: various DR bug fixes</p></li>
<li><p>sysvinit, upstart: prevent starting daemons using both init systems</p></li>
</ul>
<p>For more detailed information, see <a class="reference download internal" download="" href="../../_downloads/90b2b4ae67f4fb3f384f53ca18804f6f/v0.67.5.txt"><code class="xref download docutils literal notranslate"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></code></a>.</p>
</div>
</div>
<div class="section" id="v0-67-4-dumpling">
<h1>v0.67.4 “Dumpling”<a class="headerlink" href="#v0-67-4-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This point release fixes an important performance issue with radosgw,
keystone authentication token caching, and CORS.  All users
(especially those of rgw) are encouraged to upgrade.</p>
<div class="section" id="id10">
<h2>Notable changes<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>crush: fix invalidation of cached names</p></li>
<li><p>crushtool: do not crash on non-unique bucket ids</p></li>
<li><p>mds: be more careful when decoding LogEvents</p></li>
<li><p>mds: fix heap check debugging commands</p></li>
<li><p>mon: avoid rebuilding old full osdmaps</p></li>
<li><p>mon: fix ‘ceph crush move …’</p></li>
<li><p>mon: fix ‘ceph osd crush reweight …’</p></li>
<li><p>mon: fix writeout of full osdmaps during trim</p></li>
<li><p>mon: limit size of transactions</p></li>
<li><p>mon: prevent both unmanaged and pool snaps</p></li>
<li><p>osd: disable xattr size limit (prevents upload of large rgw objects)</p></li>
<li><p>osd: fix recovery op throttling</p></li>
<li><p>osd: fix throttling of log messages for very slow requests</p></li>
<li><p>rgw: drain pending requests before completing write</p></li>
<li><p>rgw: fix CORS</p></li>
<li><p>rgw: fix inefficient list::size() usage</p></li>
<li><p>rgw: fix keystone token expiration</p></li>
<li><p>rgw: fix minor memory leaks</p></li>
<li><p>rgw: fix null termination of buffer</p></li>
</ul>
<p>For more detailed information, see <a class="reference download internal" download="" href="../../_downloads/f9dda549a6c8101890b662196c76a84a/v0.67.4.txt"><code class="xref download docutils literal notranslate"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></code></a>.</p>
</div>
</div>
<div class="section" id="v0-67-3-dumpling">
<h1>v0.67.3 “Dumpling”<a class="headerlink" href="#v0-67-3-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This point release fixes a few important performance regressions with
the OSD (both with CPU and disk utilization), as well as several other
important but less common problems.  We recommend that all production users
upgrade.</p>
<div class="section" id="id11">
<h2>Notable Changes<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>ceph-disk: partprobe after creation journal partition</p></li>
<li><p>ceph-disk: specify fs type when mounting</p></li>
<li><p>ceph-post-file: new utility to help share logs and other files with ceph developers</p></li>
<li><p>libcephfs: fix truncate vs readahead race (crash)</p></li>
<li><p>mds: fix flock/fcntl lock deadlock</p></li>
<li><p>mds: fix rejoin loop when encountering pre-dumpling backpointers</p></li>
<li><p>mon: allow name and addr discovery during election stage</p></li>
<li><p>mon: always refresh after Paxos store_state (fixes recovery corner case)</p></li>
<li><p>mon: fix off-by-4x bug with osd byte counts</p></li>
<li><p>osd: add and disable ‘pg log keys debug’ by default</p></li>
<li><p>osd: add option to disable throttling</p></li>
<li><p>osd: avoid leveldb iterators for pg log append and trim</p></li>
<li><p>osd: fix readdir_r invocations</p></li>
<li><p>osd: use fdatasync instead of sync</p></li>
<li><p>radosgw: fix sysvinit script return status</p></li>
<li><p>rbd: relicense as LGPL2</p></li>
<li><p>rgw: flush pending data on multipart upload</p></li>
<li><p>rgw: recheck object name during S3 POST</p></li>
<li><p>rgw: reorder init/startup</p></li>
<li><p>rpm: fix debuginfo package build</p></li>
</ul>
<p>For more detailed information, see <a class="reference download internal" download="" href="../../_downloads/64886e3f4754736ee0bc1babd5422017/v0.67.3.txt"><code class="xref download docutils literal notranslate"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></code></a>.</p>
</div>
</div>
<div class="section" id="v0-67-2-dumpling">
<h1>v0.67.2 “Dumpling”<a class="headerlink" href="#v0-67-2-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This is an important point release for Dumpling.  Most notably, it
fixes a problem when upgrading directly from v0.56.x Bobtail to
v0.67.x Dumpling (without stopping at v0.61.x Cuttlefish along the
way).  It also fixes a problem with the CLI parsing of the CEPH_ARGS
environment variable, high CPU utilization by the ceph-osd daemons,
and cleans up the radosgw shutdown sequence.</p>
<div class="section" id="id12">
<h2>Notable Changes<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>objecter: resend linger requests when cluster goes from full to non-full</p></li>
<li><p>ceph: parse CEPH_ARGS environment variable</p></li>
<li><p>librados: fix small memory leak</p></li>
<li><p>osd: remove old log objects on upgrade (fixes bobtail -&gt; dumpling jump)</p></li>
<li><p>osd: disable PGLog::check() via config option (fixes CPU burn)</p></li>
<li><p>rgw: drain requests on shutdown</p></li>
<li><p>rgw: misc memory leaks on shutdown</p></li>
</ul>
<p>For more detailed information, see <a class="reference download internal" download="" href="../../_downloads/9f742bde8494365964cffc4b192350cd/v0.67.2.txt"><code class="xref download docutils literal notranslate"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></code></a>.</p>
</div>
</div>
<div class="section" id="v0-67-1-dumpling">
<h1>v0.67.1 “Dumpling”<a class="headerlink" href="#v0-67-1-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This is a minor point release for Dumpling that fixes problems with
OpenStack and librbd hangs when caching is disabled.</p>
<div class="section" id="id13">
<h2>Notable changes<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>librados, librbd: fix constructor for python bindings with certain
usages (in particular, that used by OpenStack)</p></li>
<li><p>librados, librbd: fix aio_flush wakeup when cache is disabled</p></li>
<li><p>librados: fix locking for aio completion refcounting</p></li>
<li><p>fixes ‘ceph –admin-daemon …’ command error code on error</p></li>
<li><p>fixes ‘ceph daemon … config set …’ command for boolean config
options.</p></li>
</ul>
<p>For more detailed information, see <a class="reference download internal" download="" href="../../_downloads/8f7e544af272ac28900fd7ced35e1ff5/v0.67.1.txt"><code class="xref download docutils literal notranslate"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></code></a>.</p>
</div>
</div>
<div class="section" id="v0-67-dumpling">
<h1>v0.67 “Dumpling”<a class="headerlink" href="#v0-67-dumpling" title="Permalink to this headline">¶</a></h1>
<p>This is the fourth major release of Ceph, code-named “Dumpling.”  The
headline features for this release include:</p>
<ul class="simple">
<li><p>Multi-site support for radosgw.  This includes the ability to set up
separate “regions” in the same or different Ceph clusters that share
a single S3/Swift bucket/container namespace.</p></li>
<li><p>RESTful API endpoint for Ceph cluster administration.
ceph-rest-api, a wrapper around ceph_rest_api.py, can be used to
start up a test single-threaded HTTP server that provides access to
cluster information and administration in very similar ways to the
ceph commandline tool.  ceph_rest_api.py can be used as a WSGI
application for deployment in a more-capable web server.  See
ceph-rest-api.8 for more.</p></li>
<li><p>Object namespaces in librados.</p></li>
</ul>
<div class="section" id="upgrade-sequencing">
<span id="dumpling-upgrade"></span><h2>Upgrade Sequencing<a class="headerlink" href="#upgrade-sequencing" title="Permalink to this headline">¶</a></h2>
<p>It is possible to do a rolling upgrade from Cuttlefish to Dumpling.</p>
<ol class="arabic simple">
<li><p>Upgrade ceph-common on all nodes that will use the command line
‘ceph’ utility.</p></li>
<li><p>Upgrade all monitors (upgrade ceph package, restart ceph-mon
daemons).  This can happen one daemon or host at a time.  Note that
because cuttlefish and dumpling monitors can’t talk to each other,
all monitors should be upgraded in relatively short succession to
minimize the risk that an a untimely failure will reduce
availability.</p></li>
<li><p>Upgrade all osds (upgrade ceph package, restart ceph-osd daemons).
This can happen one daemon or host at a time.</p></li>
<li><p>Upgrade radosgw (upgrade radosgw package, restart radosgw daemons).</p></li>
</ol>
</div>
<div class="section" id="upgrading-from-v0-66">
<h2>Upgrading from v0.66<a class="headerlink" href="#upgrading-from-v0-66" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>There is monitor internal protocol change, which means that v0.67
ceph-mon daemons cannot talk to v0.66 or older daemons.  We
recommend upgrading all monitors at once (or in relatively quick
succession) to minimize the possibility of downtime.</p></li>
<li><p>The output of ‘ceph status –format=json’ or ‘ceph -s –format=json’
has changed to return status information in a more structured and
usable format.</p></li>
<li><p>The ‘ceph pg dump_stuck [threshold]’ command used to require a
–threshold or -t prefix to the threshold argument, but now does
not.</p></li>
<li><p>Many more ceph commands now output formatted information; select
with ‘–format=&lt;format&gt;’, where &lt;format&gt; can be ‘json’, ‘json-pretty’,
‘xml’, or ‘xml-pretty’.</p></li>
<li><p>The ‘ceph pg &lt;pgid&gt; …’ commands (like ‘ceph pg &lt;pgid&gt; query’) are
deprecated in favor of ‘ceph tell &lt;pgid&gt; …’.  This makes the
distinction between ‘ceph pg &lt;command&gt; &lt;pgid&gt;’ and ‘ceph pg &lt;pgid&gt;
&lt;command&gt;’ less awkward by making it clearer that the ‘tell’
commands are talking to the OSD serving the placement group, not the
monitor.</p></li>
<li><p>The ‘ceph –admin-daemon &lt;path&gt; &lt;command …&gt;’ used to accept the
command and arguments as either a single string or as separate
arguments.  It will now only accept the command spread across
multiple arguments.  This means that any script which does something
like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="o">--</span><span class="n">admin</span><span class="o">-</span><span class="n">daemon</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">ceph</span><span class="o">/</span><span class="n">ceph</span><span class="o">-</span><span class="n">osd</span><span class="o">.</span><span class="mf">0.</span><span class="n">asok</span> <span class="s1">&#39;config set debug_ms 1&#39;</span>
</pre></div>
</div>
<p>needs to remove the quotes.  Also, note that the above can now be
shortened to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">daemon</span> <span class="n">osd</span><span class="o">.</span><span class="mi">0</span> <span class="n">config</span> <span class="nb">set</span> <span class="n">debug_ms</span> <span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p>The radosgw caps were inconsistently documented to be either ‘mon =
allow r’ or ‘mon = allow rw’.  The ‘mon = allow rw’ is required for
radosgw to create its own pools.  All documentation has been updated
accordingly.</p></li>
<li><p>The radosgw copy object operation may return extra progress info
during the operation. At this point it will only happen when doing
cross zone copy operations. The S3 response will now return extra
&lt;Progress&gt; field under the &lt;CopyResult&gt; container. The Swift
response will now send the progress as a json array.</p></li>
<li><p>In v0.66 and v0.65 the HASHPSPOOL pool flag was enabled by default
for new pools, but has been disabled again until Linux kernel client
support reaches more distributions and users.</p></li>
<li><p>ceph-osd now requires a max file descriptor limit (e.g., <code class="docutils literal notranslate"><span class="pre">ulimit</span> <span class="pre">-n</span>
<span class="pre">...</span></code>) of at least
filestore_wbthrottle_(xfs|btrfs)_inodes_hard_limit (5000 by default)
in order to accommodate the new write back throttle system.  On
Ubuntu, upstart now sets the fd limit to 32k.  On other platforms,
the sysvinit script will set it to 32k by default (still
overrideable via max_open_files).  If this field has been customized
in ceph.conf it should likely be adjusted upwards.</p></li>
</ul>
</div>
<div class="section" id="upgrading-from-v0-61-cuttlefish">
<h2>Upgrading from v0.61 “Cuttlefish”<a class="headerlink" href="#upgrading-from-v0-61-cuttlefish" title="Permalink to this headline">¶</a></h2>
<p>In addition to the above notes about upgrading from v0.66:</p>
<ul>
<li><p>There has been a huge revamp of the ‘ceph’ command-line interface
implementation.  The <code class="docutils literal notranslate"><span class="pre">ceph-common</span></code> client library needs to be
upgrade before <code class="docutils literal notranslate"><span class="pre">ceph-mon</span></code> is restarted in order to avoid problems
using the CLI (the old <code class="docutils literal notranslate"><span class="pre">ceph</span></code> client utility cannot talk to the
new <code class="docutils literal notranslate"><span class="pre">ceph-mon</span></code>).</p></li>
<li><p>The CLI is now very careful about sending the ‘status’ one-liner
output to stderr and command output to stdout.  Scripts relying on
output should take care.</p></li>
<li><p>The ‘ceph osd tell …’ and ‘ceph mon tell …’ commands are no
longer supported.  Any callers should use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">tell</span> <span class="n">osd</span><span class="o">.&lt;</span><span class="nb">id</span> <span class="ow">or</span> <span class="o">*&gt;</span> <span class="o">...</span>
<span class="n">ceph</span> <span class="n">tell</span> <span class="n">mon</span><span class="o">.&lt;</span><span class="nb">id</span> <span class="ow">or</span> <span class="n">name</span> <span class="ow">or</span> <span class="o">*&gt;</span> <span class="o">...</span>
</pre></div>
</div>
<p>The ‘ceph mds tell …’ command is still there, but will soon also
transition to ‘ceph tell mds.&lt;id or name or *&gt; …’</p>
</li>
<li><p>The ‘ceph osd crush add …’ command used to take one of two forms:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">add</span> <span class="mi">123</span> <span class="n">osd</span><span class="o">.</span><span class="mi">123</span> <span class="o">&lt;</span><span class="n">weight</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">location</span> <span class="o">...&gt;</span>
<span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">add</span> <span class="n">osd</span><span class="o">.</span><span class="mi">123</span> <span class="o">&lt;</span><span class="n">weight</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">location</span> <span class="o">...&gt;</span>
</pre></div>
</div>
<p>This is because the id and crush name are redundant.  Now only the
simple form is supported, where the osd name/id can either be a bare
id (integer) or name (osd.&lt;id&gt;):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">add</span> <span class="n">osd</span><span class="o">.</span><span class="mi">123</span> <span class="o">&lt;</span><span class="n">weight</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">location</span> <span class="o">...&gt;</span>
<span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">add</span> <span class="mi">123</span> <span class="o">&lt;</span><span class="n">weight</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">location</span> <span class="o">...&gt;</span>
</pre></div>
</div>
</li>
<li><p>There is now a maximum RADOS object size, configurable via ‘osd max
object size’, defaulting to 100 GB.  Note that this has no effect on
RBD, CephFS, or radosgw, which all stripe over objects. If you are
using librados and storing objects larger than that, you will need
to adjust ‘osd max object size’, and should consider using smaller
objects instead.</p></li>
<li><p>The ‘osd min down {reporters|reports}’ config options have been
renamed to ‘mon osd min down {reporters|reports}’, and the
documentation has been updated to reflect that these options apply
to the monitors (who process failure reports) and not OSDs.  If you
have adjusted these settings, please update your <code class="docutils literal notranslate"><span class="pre">ceph.conf</span></code>
accordingly.</p></li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-66">
<h2>Notable changes since v0.66<a class="headerlink" href="#notable-changes-since-v0-66" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>mon: sync improvements (performance and robustness)</p></li>
<li><p>mon: many bug fixes (paxos and services)</p></li>
<li><p>mon: fixed bugs in recovery and io rate reporting (negative/large values)</p></li>
<li><p>mon: collect metadata on osd performance</p></li>
<li><p>mon: generate health warnings from slow or stuck requests</p></li>
<li><p>mon: expanded –format=&lt;json|xml|…&gt; support for monitor commands</p></li>
<li><p>mon: scrub function for verifying data integrity</p></li>
<li><p>mon, osd: fix old osdmap trimming logic</p></li>
<li><p>mon: enable leveldb caching by default</p></li>
<li><p>mon: more efficient storage of PG metadata</p></li>
<li><p>ceph-rest-api: RESTful endpoint for administer cluster (mirrors CLI)</p></li>
<li><p>rgw: multi-region support</p></li>
<li><p>rgw: infrastructure to support georeplication of bucket and user metadata</p></li>
<li><p>rgw: infrastructure to support georeplication of bucket data</p></li>
<li><p>rgw: COPY object support between regions</p></li>
<li><p>rbd: /etc/ceph/rbdmap file for mapping rbd images on startup</p></li>
<li><p>osd: many bug fixes</p></li>
<li><p>osd: limit number of incremental osdmaps sent to peers (could cause osds to be wrongly marked down)</p></li>
<li><p>osd: more efficient small object recovery</p></li>
<li><p>osd, librados: support for object namespaces</p></li>
<li><p>osd: automatically enable xattrs on leveldb as necessary</p></li>
<li><p>mds: fix bug in LOOKUPINO (used by nfs reexport)</p></li>
<li><p>mds: fix O_TRUNC locking</p></li>
<li><p>msgr: fixed race condition in inter-osd network communication</p></li>
<li><p>msgr: fixed various memory leaks related to network sessions</p></li>
<li><p>ceph-disk: fixes for unusual device names, partition detection</p></li>
<li><p>hypertable: fixes for hypertable CephBroker bindings</p></li>
<li><p>use SSE4.2 crc32c instruction if present</p></li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-61-cuttlefish">
<h2>Notable changes since v0.61 “Cuttlefish”<a class="headerlink" href="#notable-changes-since-v0-61-cuttlefish" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>add ‘config get’ admin socket command</p></li>
<li><p>ceph-conf: –show-config-value now reflects daemon defaults</p></li>
<li><p>ceph-disk: add ‘[un]suppress-active DEV’ command</p></li>
<li><p>ceph-disk: avoid mounting over an existing osd in /var/lib/ceph/osd/*</p></li>
<li><p>ceph-disk: fixes for unusual device names, partition detection</p></li>
<li><p>ceph-disk: improved handling of odd device names</p></li>
<li><p>ceph-disk: many fixes for RHEL/CentOS, Fedora, wheezy</p></li>
<li><p>ceph-disk: simpler, more robust locking</p></li>
<li><p>ceph-fuse, libcephfs: fix a few caps revocation bugs</p></li>
<li><p>ceph-fuse, libcephfs: fix read zeroing at EOF</p></li>
<li><p>ceph-fuse, libcephfs: fix request refcounting bug (hang on shutdown)</p></li>
<li><p>ceph-fuse, libcephfs: fix truncatation bug on &gt;4MB files (Yan, Zheng)</p></li>
<li><p>ceph-fuse, libcephfs: fix for cap release/hang</p></li>
<li><p>ceph-fuse: add ioctl support</p></li>
<li><p>ceph-fuse: fixed long-standing O_NOATIME vs O_LAZY bug</p></li>
<li><p>ceph-rest-api: RESTful endpoint for administer cluster (mirrors CLI)</p></li>
<li><p>ceph, librados: fix resending of commands on mon reconnect</p></li>
<li><p>daemons: create /var/run/ceph as needed</p></li>
<li><p>debian wheezy: fix udev rules</p></li>
<li><p>debian, specfile: packaging cleanups</p></li>
<li><p>debian: fix upstart behavior with upgrades</p></li>
<li><p>debian: rgw: stop daemon on uninstall</p></li>
<li><p>debian: stop daemons on uninstall; fix dependencies</p></li>
<li><p>hypertable: fixes for hypertable CephBroker bindings</p></li>
<li><p>librados python binding cleanups</p></li>
<li><p>librados python: fix xattrs &gt; 4KB (Josh Durgin)</p></li>
<li><p>librados: configurable max object size (default 100 GB)</p></li>
<li><p>librados: new calls to administer the cluster</p></li>
<li><p>librbd: ability to read from local replicas</p></li>
<li><p>librbd: locking tests (Josh Durgin)</p></li>
<li><p>librbd: make default options/features for newly created images (e.g., via qemu-img) configurable</p></li>
<li><p>librbd: parallelize delete, rollback, flatten, copy, resize</p></li>
<li><p>many many fixes from static code analysis (Danny Al-Gaaf)</p></li>
<li><p>mds: fix O_TRUNC locking</p></li>
<li><p>mds: fix bug in LOOKUPINO (used by nfs reexport)</p></li>
<li><p>mds: fix rare hang after client restart</p></li>
<li><p>mds: fix several bugs (Yan, Zheng)</p></li>
<li><p>mds: many backpointer improvements (Yan, Zheng)</p></li>
<li><p>mds: many fixes for mds clustering</p></li>
<li><p>mds: misc stability fixes (Yan, Zheng, Greg Farnum)</p></li>
<li><p>mds: new robust open-by-ino support (Yan, Zheng)</p></li>
<li><p>mds: support robust lookup by ino number (good for NFS) (Yan, Zheng)</p></li>
<li><p>mon, ceph: huge revamp of CLI and internal admin API. (Dan Mick)</p></li>
<li><p>mon, osd: fix old osdmap trimming logic</p></li>
<li><p>mon, osd: many memory leaks fixed</p></li>
<li><p>mon: better trim/compaction behavior</p></li>
<li><p>mon: collect metadata on osd performance</p></li>
<li><p>mon: enable leveldb caching by default</p></li>
<li><p>mon: expanded –format=&lt;json|xml|…&gt; support for monitor commands</p></li>
<li><p>mon: fix election timeout</p></li>
<li><p>mon: fix leveldb compression, trimming</p></li>
<li><p>mon: fix start fork behavior</p></li>
<li><p>mon: fix units in ‘ceph df’ output</p></li>
<li><p>mon: fix validation of mds ids from CLI commands</p></li>
<li><p>mon: fixed bugs in recovery and io rate reporting (negative/large values)</p></li>
<li><p>mon: generate health warnings from slow or stuck requests</p></li>
<li><p>mon: many bug fixes (paxos and services, sync)</p></li>
<li><p>mon: many stability fixes (Joao Luis)</p></li>
<li><p>mon: more efficient storage of PG metadata</p></li>
<li><p>mon: new –extract-monmap to aid disaster recovery</p></li>
<li><p>mon: new capability syntax</p></li>
<li><p>mon: scrub function for verifying data integrity</p></li>
<li><p>mon: simplify PaxosService vs Paxos interaction, fix readable/writeable checks</p></li>
<li><p>mon: sync improvements (performance and robustness)</p></li>
<li><p>mon: tuning, performance improvements</p></li>
<li><p>msgr: fix various memory leaks</p></li>
<li><p>msgr: fixed race condition in inter-osd network communication</p></li>
<li><p>msgr: fixed various memory leaks related to network sessions</p></li>
<li><p>osd, librados: support for object namespaces</p></li>
<li><p>osd, mon: optionally dump leveldb transactions to a log</p></li>
<li><p>osd: automatically enable xattrs on leveldb as necessary</p></li>
<li><p>osd: avoid osd flapping from asymmetric network failure</p></li>
<li><p>osd: break blacklisted client watches (David Zafman)</p></li>
<li><p>osd: close narrow journal race</p></li>
<li><p>osd: do not use fadvise(DONTNEED) on XFS (data corruption on power cycle)</p></li>
<li><p>osd: fix for an op ordering bug</p></li>
<li><p>osd: fix handling for split after upgrade from bobtail</p></li>
<li><p>osd: fix incorrect mark-down of osds</p></li>
<li><p>osd: fix internal heartbeart timeouts when scrubbing very large objects</p></li>
<li><p>osd: fix memory/network inefficiency during deep scrub</p></li>
<li><p>osd: fixed problem with front-side heartbeats and mixed clusters (David Zafman)</p></li>
<li><p>osd: limit number of incremental osdmaps sent to peers (could cause osds to be wrongly marked down)</p></li>
<li><p>osd: many bug fixes</p></li>
<li><p>osd: monitor both front and back interfaces</p></li>
<li><p>osd: more efficient small object recovery</p></li>
<li><p>osd: new writeback throttling (for less bursty write performance) (Sam Just)</p></li>
<li><p>osd: pg log (re)writes are now vastly more efficient (faster peering) (Sam Just)</p></li>
<li><p>osd: ping/heartbeat on public and private interfaces</p></li>
<li><p>osd: prioritize recovery for degraded PGs</p></li>
<li><p>osd: re-use partially deleted PG contents when present (Sam Just)</p></li>
<li><p>osd: recovery and peering performance improvements</p></li>
<li><p>osd: resurrect partially deleted PGs</p></li>
<li><p>osd: verify both front and back network are working before rejoining cluster</p></li>
<li><p>rados: clonedata command for cli</p></li>
<li><p>radosgw-admin: create keys for new users by default</p></li>
<li><p>rbd: /etc/ceph/rbdmap file for mapping rbd images on startup</p></li>
<li><p>rgw: COPY object support between regions</p></li>
<li><p>rgw: fix CORS bugs</p></li>
<li><p>rgw: fix locking issue, user operation mask,</p></li>
<li><p>rgw: fix radosgw-admin buckets list (Yehuda Sadeh)</p></li>
<li><p>rgw: fix usage log scanning for large, untrimmed logs</p></li>
<li><p>rgw: handle deep uri resources</p></li>
<li><p>rgw: infrastructure to support georeplication of bucket and user metadata</p></li>
<li><p>rgw: infrastructure to support georeplication of bucket data</p></li>
<li><p>rgw: multi-region support</p></li>
<li><p>sysvinit: fix enumeration of local daemons</p></li>
<li><p>sysvinit: fix osd crush weight calculation when using -a</p></li>
<li><p>sysvinit: handle symlinks in /var/lib/ceph/osd/*</p></li>
<li><p>use SSE4.2 crc32c instruction if present</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-66">
<h1>v0.66<a class="headerlink" href="#v0-66" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id14">
<h2>Upgrading<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>There is now a configurable maximum rados object size, defaulting to 100 GB.  If you
are using librados and storing objects larger than that, you will need to adjust
‘osd max object size’, and should consider using smaller objects instead.</p></li>
</ul>
</div>
<div class="section" id="id15">
<h2>Notable changes<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>osd: pg log (re)writes are now vastly more efficient (faster peering) (Sam Just)</p></li>
<li><p>osd: fixed problem with front-side heartbeats and mixed clusters (David Zafman)</p></li>
<li><p>mon: tuning, performance improvements</p></li>
<li><p>mon: simplify PaxosService vs Paxos interaction, fix readable/writeable checks</p></li>
<li><p>rgw: fix radosgw-admin buckets list (Yehuda Sadeh)</p></li>
<li><p>mds: support robust lookup by ino number (good for NFS) (Yan, Zheng)</p></li>
<li><p>mds: fix several bugs (Yan, Zheng)</p></li>
<li><p>ceph-fuse, libcephfs: fix truncatation bug on &gt;4MB files (Yan, Zheng)</p></li>
<li><p>ceph/librados: fix resending of commands on mon reconnect</p></li>
<li><p>librados python: fix xattrs &gt; 4KB (Josh Durgin)</p></li>
<li><p>librados: configurable max object size (default 100 GB)</p></li>
<li><p>msgr: fix various memory leaks</p></li>
<li><p>ceph-fuse: fixed long-standing O_NOATIME vs O_LAZY bug</p></li>
<li><p>ceph-fuse, libcephfs: fix request refcounting bug (hang on shutdown)</p></li>
<li><p>ceph-fuse, libcephfs: fix read zeroing at EOF</p></li>
<li><p>ceph-conf: –show-config-value now reflects daemon defaults</p></li>
<li><p>ceph-disk: simpler, more robust locking</p></li>
<li><p>ceph-disk: avoid mounting over an existing osd in /var/lib/ceph/osd/*</p></li>
<li><p>sysvinit: handle symlinks in /var/lib/ceph/osd/*</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-65">
<h1>v0.65<a class="headerlink" href="#v0-65" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id16">
<h2>Upgrading<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Huge revamp of the ‘ceph’ command-line interface implementation.
The <code class="docutils literal notranslate"><span class="pre">ceph-common</span></code> client library needs to be upgrade before
<code class="docutils literal notranslate"><span class="pre">ceph-mon</span></code> is restarted in order to avoid problems using the CLI
(the old <code class="docutils literal notranslate"><span class="pre">ceph</span></code> client utility cannot talk to the new
<code class="docutils literal notranslate"><span class="pre">ceph-mon</span></code>).</p></li>
<li><p>The CLI is now very careful about sending the ‘status’ one-liner
output to stderr and command output to stdout.  Scripts relying on
output should take care.</p></li>
<li><p>The ‘ceph osd tell …’ and ‘ceph mon tell …’ commands are no
longer supported.  Any callers should use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">tell</span> <span class="n">osd</span><span class="o">.&lt;</span><span class="nb">id</span> <span class="ow">or</span> <span class="o">*&gt;</span> <span class="o">...</span>
<span class="n">ceph</span> <span class="n">tell</span> <span class="n">mon</span><span class="o">.&lt;</span><span class="nb">id</span> <span class="ow">or</span> <span class="n">name</span> <span class="ow">or</span> <span class="o">*&gt;</span> <span class="o">...</span>
</pre></div>
</div>
<p>The ‘ceph mds tell …’ command is still there, but will soon also
transition to ‘ceph tell mds.&lt;id or name or *&gt; …’</p>
</li>
<li><p>The ‘ceph osd crush add …’ command used to take one of two forms:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">add</span> <span class="mi">123</span> <span class="n">osd</span><span class="o">.</span><span class="mi">123</span> <span class="o">&lt;</span><span class="n">weight</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">location</span> <span class="o">...&gt;</span>
<span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">add</span> <span class="n">osd</span><span class="o">.</span><span class="mi">123</span> <span class="o">&lt;</span><span class="n">weight</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">location</span> <span class="o">...&gt;</span>
</pre></div>
</div>
<p>This is because the id and crush name are redundant.  Now only the
simple form is supported, where the osd name/id can either be a bare
id (integer) or name (osd.&lt;id&gt;):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">add</span> <span class="n">osd</span><span class="o">.</span><span class="mi">123</span> <span class="o">&lt;</span><span class="n">weight</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">location</span> <span class="o">...&gt;</span>
<span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">add</span> <span class="mi">123</span> <span class="o">&lt;</span><span class="n">weight</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">location</span> <span class="o">...&gt;</span>
</pre></div>
</div>
</li>
<li><p>There is now a maximum RADOS object size, configurable via ‘osd max
object size’, defaulting to 100 GB.  Note that this has no effect on
RBD, CephFS, or radosgw, which all stripe over objects.</p></li>
</ul>
</div>
<div class="section" id="id17">
<h2>Notable changes<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>mon, ceph: huge revamp of CLI and internal admin API. (Dan Mick)</p></li>
<li><p>mon: new capability syntax</p></li>
<li><p>osd: do not use fadvise(DONTNEED) on XFS (data corruption on power cycle)</p></li>
<li><p>osd: recovery and peering performance improvements</p></li>
<li><p>osd: new writeback throttling (for less bursty write performance) (Sam Just)</p></li>
<li><p>osd: ping/heartbeat on public and private interfaces</p></li>
<li><p>osd: avoid osd flapping from asymmetric network failure</p></li>
<li><p>osd: re-use partially deleted PG contents when present (Sam Just)</p></li>
<li><p>osd: break blacklisted client watches (David Zafman)</p></li>
<li><p>mon: many stability fixes (Joao Luis)</p></li>
<li><p>mon, osd: many memory leaks fixed</p></li>
<li><p>mds: misc stability fixes (Yan, Zheng, Greg Farnum)</p></li>
<li><p>mds: many backpointer improvements (Yan, Zheng)</p></li>
<li><p>mds: new robust open-by-ino support (Yan, Zheng)</p></li>
<li><p>ceph-fuse, libcephfs: fix a few caps revocation bugs</p></li>
<li><p>librados: new calls to administer the cluster</p></li>
<li><p>librbd: locking tests (Josh Durgin)</p></li>
<li><p>ceph-disk: improved handling of odd device names</p></li>
<li><p>ceph-disk: many fixes for RHEL/CentOS, Fedora, wheezy</p></li>
<li><p>many many fixes from static code analysis (Danny Al-Gaaf)</p></li>
<li><p>daemons: create /var/run/ceph as needed</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-64">
<h1>v0.64<a class="headerlink" href="#v0-64" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id18">
<h2>Upgrading<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>New pools now have the HASHPSPOOL flag set by default to provide
better distribution over OSDs.  Support for this feature was
introduced in v0.59 and Linux kernel version v3.9.  If you wish to
access the cluster from an older kernel, set the ‘osd pool default
flag hashpspool = false’ option in your ceph.conf prior to creating
the cluster or creating new pools.  Note that the presence of any
pool in the cluster with the flag enabled will make the OSD require
support from all clients.</p></li>
</ul>
</div>
<div class="section" id="id19">
<h2>Notable changes<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>osd: monitor both front and back interfaces</p></li>
<li><p>osd: verify both front and back network are working before rejoining cluster</p></li>
<li><p>osd: fix memory/network inefficiency during deep scrub</p></li>
<li><p>osd: fix incorrect mark-down of osds</p></li>
<li><p>mon: fix start fork behavior</p></li>
<li><p>mon: fix election timeout</p></li>
<li><p>mon: better trim/compaction behavior</p></li>
<li><p>mon: fix units in ‘ceph df’ output</p></li>
<li><p>mon, osd: misc memory leaks</p></li>
<li><p>librbd: make default options/features for newly created images (e.g., via qemu-img) configurable</p></li>
<li><p>mds: many fixes for mds clustering</p></li>
<li><p>mds: fix rare hang after client restart</p></li>
<li><p>ceph-fuse: add ioctl support</p></li>
<li><p>ceph-fuse/libcephfs: fix for cap release/hang</p></li>
<li><p>rgw: handle deep uri resources</p></li>
<li><p>rgw: fix CORS bugs</p></li>
<li><p>ceph-disk: add ‘[un]suppress-active DEV’ command</p></li>
<li><p>debian: rgw: stop daemon on uninstall</p></li>
<li><p>debian: fix upstart behavior with upgrades</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-63">
<h1>v0.63<a class="headerlink" href="#v0-63" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id20">
<h2>Upgrading<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The ‘osd min down {reporters|reports}’ config options have been
renamed to ‘mon osd min down {reporters|reports}’, and the
documentation has been updated to reflect that these options apply
to the monitors (who process failure reports) and not OSDs.  If you
have adjusted these settings, please update your <code class="docutils literal notranslate"><span class="pre">ceph.conf</span></code>
accordingly.</p></li>
</ul>
</div>
<div class="section" id="id21">
<h2>Notable Changes<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>librbd: parallelize delete, rollback, flatten, copy, resize</p></li>
<li><p>librbd: ability to read from local replicas</p></li>
<li><p>osd: resurrect partially deleted PGs</p></li>
<li><p>osd: prioritize recovery for degraded PGs</p></li>
<li><p>osd: fix internal heartbeart timeouts when scrubbing very large objects</p></li>
<li><p>osd: close narrow journal race</p></li>
<li><p>rgw: fix usage log scanning for large, untrimmed logs</p></li>
<li><p>rgw: fix locking issue, user operation mask,</p></li>
<li><p>initscript: fix osd crush weight calculation when using -a</p></li>
<li><p>initscript: fix enumeration of local daemons</p></li>
<li><p>mon: several fixes to paxos, sync</p></li>
<li><p>mon: new –extract-monmap to aid disaster recovery</p></li>
<li><p>mon: fix leveldb compression, trimming</p></li>
<li><p>add ‘config get’ admin socket command</p></li>
<li><p>rados: clonedata command for cli</p></li>
<li><p>debian: stop daemons on uninstall; fix dependencies</p></li>
<li><p>debian wheezy: fix udev rules</p></li>
<li><p>many many small fixes from coverity scan</p></li>
</ul>
</div>
</div>
<div class="section" id="v0-62">
<h1>v0.62<a class="headerlink" href="#v0-62" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id22">
<h2>Notable Changes<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>mon: fix validation of mds ids from CLI commands</p></li>
<li><p>osd: fix for an op ordering bug</p></li>
<li><p>osd, mon: optionally dump leveldb transactions to a log</p></li>
<li><p>osd: fix handling for split after upgrade from bobtail</p></li>
<li><p>debian, specfile: packaging cleanups</p></li>
<li><p>radosgw-admin: create keys for new users by default</p></li>
<li><p>librados python binding cleanups</p></li>
<li><p>misc code cleanups</p></li>
</ul>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">安装 Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/">Ceph 管理器守护进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/dashboard/">Ceph 仪表盘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/developer_guide/">开发者指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/internals/">Ceph 内幕</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../governance/">项目管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundation/">Ceph 基金会</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/">Ceph 版本（总目录）</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Ceph 版本（索引）</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../#id1">活跃版本</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../#id2">归档版本</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../archived-index/">归档版本目录</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../luminous/">v12.2.13 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-12-luminous">v12.2.12 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-11-luminous">v12.2.11 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-10-luminous">v12.2.10 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-9-luminous">v12.2.9 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-8-luminous">v12.2.8 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-7-luminous">v12.2.7 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-6-luminous">v12.2.6 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-5-luminous">v12.2.5 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-4-luminous">v12.2.4 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-3-luminous">v12.2.3 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-2-luminous">v12.2.2 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-1-luminous">v12.2.1 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../luminous/#v12-2-0-luminous">v12.2.0 Luminous</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kraken/">v11.2.1 Kraken</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kraken/#v11-2-0-kraken">v11.2.0 Kraken</a></li>
<li class="toctree-l4"><a class="reference internal" href="../kraken/#v11-0-2-kraken">v11.0.2 Kraken</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/">v10.2.11 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/#v10-2-10-jewel">v10.2.10 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/#v10-2-9-jewel">v10.2.9 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/#v10-2-8-jewel">v10.2.8 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/#v10-2-7-jewel">v10.2.7 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/#v10-2-6-jewel">v10.2.6 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/#v10-2-5-jewel">v10.2.5 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/#v10-2-4-jewel">v10.2.4 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/#v10-2-3-jewel">v10.2.3 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/#v10-2-2-jewel">v10.2.2 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/#v10-2-1-jewel">v10.2.1 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../jewel/#v10-2-0-jewel">v10.2.0 Jewel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../infernalis/">v9.2.1 Infernalis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../infernalis/#v9-2-0-infernalis">v9.2.0 Infernalis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../infernalis/#v9-1-0-infernalis-release-candidate">v9.1.0 Infernalis release candidate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../infernalis/#v9-0-3">v9.0.3</a></li>
<li class="toctree-l4"><a class="reference internal" href="../infernalis/#v9-0-2">v9.0.2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../infernalis/#v9-0-1">v9.0.1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../infernalis/#v9-0-0">v9.0.0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/">v0.94.10 Hammer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-94-9-hammer">v0.94.9 Hammer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-94-8-hammer">v0.94.8 Hammer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-94-7-hammer">v0.94.7 Hammer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-94-6-hammer">v0.94.6 Hammer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-94-5-hammer">v0.94.5 Hammer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-94-4-hammer">v0.94.4 Hammer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-94-3-hammer">v0.94.3 Hammer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-94-2-hammer">v0.94.2 Hammer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-94-1-hammer">v0.94.1 Hammer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-94-hammer">v0.94 Hammer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-93">v0.93</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-92">v0.92</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-91">v0.91</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-90">v0.90</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-89">v0.89</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hammer/#v0-88">v0.88</a></li>
<li class="toctree-l4"><a class="reference internal" href="../giant/">v0.87.2 Giant</a></li>
<li class="toctree-l4"><a class="reference internal" href="../giant/#v0-87-1-giant">v0.87.1 Giant</a></li>
<li class="toctree-l4"><a class="reference internal" href="../giant/#v0-87-giant">v0.87 Giant</a></li>
<li class="toctree-l4"><a class="reference internal" href="../giant/#v0-86">v0.86</a></li>
<li class="toctree-l4"><a class="reference internal" href="../giant/#v0-85">v0.85</a></li>
<li class="toctree-l4"><a class="reference internal" href="../giant/#v0-84">v0.84</a></li>
<li class="toctree-l4"><a class="reference internal" href="../giant/#v0-83">v0.83</a></li>
<li class="toctree-l4"><a class="reference internal" href="../giant/#v0-82">v0.82</a></li>
<li class="toctree-l4"><a class="reference internal" href="../giant/#v0-81">v0.81</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/">v0.80.11 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-80-10-firefly">v0.80.10 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-80-9-firefly">v0.80.9 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-80-8-firefly">v0.80.8 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-80-7-firefly">v0.80.7 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-80-6-firefly">v0.80.6 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-80-5-firefly">v0.80.5 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-80-4-firefly">v0.80.4 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-80-3-firefly">v0.80.3 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-80-2-firefly">v0.80.2 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-80-1-firefly">v0.80.1 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-80-firefly">v0.80 Firefly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-79">v0.79</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-78">v0.78</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-77">v0.77</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-76">v0.76</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-75">v0.75</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-74">v0.74</a></li>
<li class="toctree-l4"><a class="reference internal" href="../firefly/#v0-73">v0.73</a></li>
<li class="toctree-l4"><a class="reference internal" href="../emperor/">v0.72.3 Emperor (pending release)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../emperor/#v0-72-2-emperor">v0.72.2 Emperor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../emperor/#v0-72-1-emperor">v0.72.1 Emperor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../emperor/#v0-72-emperor">v0.72 Emperor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../emperor/#v0-71">v0.71</a></li>
<li class="toctree-l4"><a class="reference internal" href="../emperor/#v0-70">v0.70</a></li>
<li class="toctree-l4"><a class="reference internal" href="../emperor/#v0-69">v0.69</a></li>
<li class="toctree-l4"><a class="reference internal" href="../emperor/#v0-68">v0.68</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">v0.67.12 “Dumpling” (draft)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#notable-changes">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-11-dumpling">v0.67.11 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id1">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-10-dumpling">v0.67.10 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id2">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-9-dumpling">v0.67.9 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id3">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-8-dumpling">v0.67.8 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#upgrading">Upgrading</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id4">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-7-dumpling">v0.67.7 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id5">Upgrading</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id6">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-6-dumpling">v0.67.6 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id7">Upgrading</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id8">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-5-dumpling">v0.67.5 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id9">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-4-dumpling">v0.67.4 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id10">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-3-dumpling">v0.67.3 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id11">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-2-dumpling">v0.67.2 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id12">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-1-dumpling">v0.67.1 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id13">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-67-dumpling">v0.67 “Dumpling”</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#upgrade-sequencing">Upgrade Sequencing</a></li>
<li class="toctree-l5"><a class="reference internal" href="#upgrading-from-v0-66">Upgrading from v0.66</a></li>
<li class="toctree-l5"><a class="reference internal" href="#upgrading-from-v0-61-cuttlefish">Upgrading from v0.61 “Cuttlefish”</a></li>
<li class="toctree-l5"><a class="reference internal" href="#notable-changes-since-v0-66">Notable changes since v0.66</a></li>
<li class="toctree-l5"><a class="reference internal" href="#notable-changes-since-v0-61-cuttlefish">Notable changes since v0.61 “Cuttlefish”</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-66">v0.66</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id14">Upgrading</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id15">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-65">v0.65</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id16">Upgrading</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id17">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-64">v0.64</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id18">Upgrading</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id19">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-63">v0.63</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id20">Upgrading</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id21">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#v0-62">v0.62</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id22">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/">v0.61.9 “Cuttlefish”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-61-8-cuttlefish">v0.61.8 “Cuttlefish”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-61-7-cuttlefish">v0.61.7 “Cuttlefish”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-61-6-cuttlefish">v0.61.6 “Cuttlefish”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-61-5-cuttlefish">v0.61.5 “Cuttlefish”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-61-4-cuttlefish">v0.61.4 “Cuttlefish”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-61-3-cuttlefish">v0.61.3 “Cuttlefish”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-61-2-cuttlefish">v0.61.2 “Cuttlefish”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-61-1-cuttlefish">v0.61.1 “Cuttlefish”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-61-cuttlefish">v0.61 “Cuttlefish”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-60">v0.60</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-59">v0.59</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-58">v0.58</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cuttlefish/#v0-57">v0.57</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bobtail/">v0.56.7 “bobtail”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bobtail/#v0-56-6-bobtail">v0.56.6 “bobtail”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bobtail/#v0-56-5-bobtail">v0.56.5 “bobtail”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bobtail/#v0-56-4-bobtail">v0.56.4 “bobtail”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bobtail/#v0-56-3-bobtail">v0.56.3 “bobtail”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bobtail/#v0-56-2-bobtail">v0.56.2 “bobtail”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bobtail/#v0-56-1-bobtail">v0.56.1 “bobtail”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bobtail/#v0-56-bobtail">v0.56 “bobtail”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bobtail/#v0-54">v0.54</a></li>
<li class="toctree-l4"><a class="reference internal" href="../argonaut/">v0.48.3 “argonaut”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../argonaut/#v0-48-2-argonaut">v0.48.2 “argonaut”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../argonaut/#v0-48-1-argonaut">v0.48.1 “argonaut”</a></li>
<li class="toctree-l4"><a class="reference internal" href="../argonaut/#v0-48-argonaut">v0.48 “argonaut”</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Ceph 术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation_cn/">中文版翻译资源</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../cuttlefish/" title="v0.61.9 “Cuttlefish”"
             >next</a> |</li>
        <li class="right" >
          <a href="../emperor/" title="v0.72.3 Emperor (pending release)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" >Ceph 版本（索引）</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../archived-index/" >归档的版本</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>