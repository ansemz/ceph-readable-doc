
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Release Notes &mdash; Ceph Documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Ceph Documentation" href="../" />
    <link rel="next" title="Ceph 版本" href="../releases/" />
    <link rel="prev" title="向 Ceph 贡献：开发者指南" href="../dev/" />
    

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../releases/" title="Ceph 版本"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../dev/" title="向 Ceph 贡献：开发者指南"
             accesskey="P">previous</a> |</li>
        <li><a href="../">Ceph Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="release-notes">
<h1>Release Notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="v12-0-2-luminous-dev">
<h2>v12.0.2 Luminous (dev)<a class="headerlink" href="#v12-0-2-luminous-dev" title="Permalink to this headline">¶</a></h2>
<p>This is the third development checkpoint release of Luminous, the next long term
stable release.</p>
<div class="section" id="major-changes-from-v12-0-1">
<h3>Major changes from v12.0.1<a class="headerlink" href="#major-changes-from-v12-0-1" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The original librados rados_objects_list_open (C) and objects_begin
(C++) object listing API, deprecated in Hammer, has finally been
removed.  Users of this interface must update their software to use
either the rados_nobjects_list_open (C) and nobjects_begin (C++) API or
the new rados_object_list_begin (C) and object_list_begin (C++) API
before updating the client-side librados library to Luminous.</p>
<p>Object enumeration (via any API) with the latest librados version
and pre-Hammer OSDs is no longer supported.  Note that no in-tree
Ceph services rely on object enumeration via the deprecated APIs, so
only external librados users might be affected.</p>
<p>The newest (and recommended) rados_object_list_begin (C) and
object_list_begin (C++) API is only usable on clusters with the
SORTBITWISE flag enabled (Jewel and later).  (Note that this flag is
required to be set before upgrading beyond Jewel.)</p>
</li>
<li><p class="first">CephFS clients without the &#8216;p&#8217; flag in their authentication capability
string will no longer be able to set quotas or any layout fields.  This
flag previously only restricted modification of the pool and namespace
fields in layouts.</p>
</li>
<li><p class="first">CephFS directory fragmentation (large directory support) is enabled
by default on new filesystems.  To enable it on existing filesystems
use &#8220;ceph fs set &lt;fs_name&gt; allow_dirfrags&#8221;.</p>
</li>
<li><p class="first">CephFS will generate a health warning if you have fewer standby daemons
than it thinks you wanted.  By default this will be 1 if you ever had
a standby, and 0 if you did not.  You can customize this using
<tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">fs</span> <span class="pre">set</span> <span class="pre">&lt;fs&gt;</span> <span class="pre">standby_count_wanted</span> <span class="pre">&lt;number&gt;</span></tt>.  Setting it
to zero will effectively disable the health check.</p>
</li>
<li><p class="first">The &#8220;ceph mds tell ...&#8221; command has been removed.  It is superceded
by &#8220;ceph tell mds.&lt;id&gt; ...&#8221;</p>
</li>
<li><p class="first">RGW introduces server side encryption of uploaded objects with 3 options for
the management of encryption keys, automatic encryption (only recommended for
test setups), customer provided keys similar to Amazon SSE KMS specification &amp;
using a key management service (openstack barbician)</p>
</li>
</ul>
</div>
<div class="section" id="notable-changes">
<h3>Notable Changes<a class="headerlink" href="#notable-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bluestore: bluestore/NVMEDEVICE: update SPDK to version 17.03 (<a class="reference external" href="https://github.com/ceph/ceph/pull/14585">pr#14585</a>, optimistyzy)</li>
<li>bluestore: bluestore, NVMeDevice: use task&#8217; own lock for (random) read (<a class="reference external" href="https://github.com/ceph/ceph/pull/14094">pr#14094</a>, optimistyzy)</li>
<li>bluestore: common/config: set rocksdb_cache_size to OPT_U64 (<a class="reference external" href="https://github.com/ceph/ceph/pull/13995">pr#13995</a>, liuhongtong)</li>
<li>bluestore: os/bluestore: avoid nullptr in bluestore_extent_ref_map_t::bound_encode (<a class="reference external" href="https://github.com/ceph/ceph/pull/14073">pr#14073</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: clean up flush logic (<a class="reference external" href="https://github.com/ceph/ceph/pull/14162">pr#14162</a>, Jianpeng Ma)</li>
<li>bluestore: os/bluestore: clean up Invalid return value judgment (<a class="reference external" href="https://github.com/ceph/ceph/pull/14219">pr#14219</a>, shiqi)</li>
<li>bluestore: os/bluestore: fix bug for calc extent_avg in reshard function (<a class="reference external" href="https://github.com/ceph/ceph/pull/13931">pr#13931</a>, wangzhengyong)</li>
<li>bluestore: os/bluestore: fix bug in _open_alloc() (<a class="reference external" href="https://github.com/ceph/ceph/pull/13577">pr#13577</a>, yonghengdexin735)</li>
<li>bluestore: os/bluestore: fix deferred writes vs collection split race (<a class="reference external" href="http://tracker.ceph.com/issues/19379">issue#19379</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14157">pr#14157</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix narrow osr-&gt;flush() race (<a class="reference external" href="https://github.com/ceph/ceph/pull/14489">pr#14489</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix perf counters (<a class="reference external" href="https://github.com/ceph/ceph/pull/13965">pr#13965</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fsck: verify blob.unused field (<a class="reference external" href="https://github.com/ceph/ceph/pull/14316">pr#14316</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: implement collect_metadata (<a class="reference external" href="https://github.com/ceph/ceph/pull/14115">pr#14115</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: make live changes for BlueStore throttle config work like initial config (<a class="reference external" href="https://github.com/ceph/ceph/pull/14225">pr#14225</a>, J. Eric Ivancich)</li>
<li>bluestore: os/bluestore: misc fixes (<a class="reference external" href="https://github.com/ceph/ceph/pull/14333">pr#14333</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/NVMEDevice: Add multiple thread support for SPDK I/O thread (<a class="reference external" href="https://github.com/ceph/ceph/pull/14420">pr#14420</a>, Ziye Yang)</li>
<li>bluestore: os/bluestore/NVMEDevice: fix the compilation issue for collect_metadata (<a class="reference external" href="https://github.com/ceph/ceph/pull/14455">pr#14455</a>, optimistyzy)</li>
<li>bluestore,performance: kv/RocksDBStore: implement rm_range_keys operator interface and test (<a class="reference external" href="https://github.com/ceph/ceph/pull/13855">pr#13855</a>, Haomai Wang)</li>
<li>bluestore,performance: os/bluestore: avoid the VTABLE-related burden in BitMapAllocator&#8217;s hotspot (<a class="reference external" href="https://github.com/ceph/ceph/pull/14348">pr#14348</a>, Radoslaw Zarzynski)</li>
<li>bluestore,performance: os/bluestore/BlueFS: optimize get_allocated (<a class="reference external" href="https://github.com/ceph/ceph/pull/14121">pr#14121</a>, Jianpeng Ma)</li>
<li>bluestore,performance: os/bluestore: memory and dereference clean-up in the BitAllocator (<a class="reference external" href="https://github.com/ceph/ceph/pull/13811">pr#13811</a>, Radoslaw Zarzynski)</li>
<li>bluestore,performance: os/bluestore: optimize blob usage when doing appends/overwrites (<a class="reference external" href="https://github.com/ceph/ceph/pull/13337">pr#13337</a>, Igor Fedotov)</li>
<li>bluestore,performance: os/bluestore: refactor small write handling to reuse blob more effect… (<a class="reference external" href="https://github.com/ceph/ceph/pull/14399">pr#14399</a>, Igor Fedotov)</li>
<li>bluestore,performance: os/bluestore: tune deferred_batch_ops separately for hdd and ssd (<a class="reference external" href="https://github.com/ceph/ceph/pull/14435">pr#14435</a>, Sage Weil)</li>
<li>bluestore,performance: os/bluestore: unify throttling model (<a class="reference external" href="http://tracker.ceph.com/issues/19542">issue#19542</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14306">pr#14306</a>, Sage Weil)</li>
<li>bluestore,tests: test/objectstore/store_test_fixture.cc: Exclude bluestore code if required. (<a class="reference external" href="https://github.com/ceph/ceph/pull/14085">pr#14085</a>, Willem Jan Withagen)</li>
<li>bluestore,tests: test/store_test: fix bluestore test cases disablement (<a class="reference external" href="https://github.com/ceph/ceph/pull/14228">pr#14228</a>, Igor Fedotov)</li>
<li>bluestore,tests: test/unittest_bluefs: check whether add_block_device success (<a class="reference external" href="https://github.com/ceph/ceph/pull/14013">pr#14013</a>, shiqi)</li>
<li>bluestore,tools: ceph-bluestore-tool: rename from bluefs-tool; improve usage (<a class="reference external" href="https://github.com/ceph/ceph/pull/14258">pr#14258</a>, Sage Weil)</li>
<li>build/ops: add 12.0.1 release tag in master (<a class="reference external" href="https://github.com/ceph/ceph/pull/14690">pr#14690</a>, Jenkins Build Slave User)</li>
<li>build/ops: arch: fix build on PowerPC with FreeBSD (<a class="reference external" href="https://github.com/ceph/ceph/pull/14378">pr#14378</a>, Andrew Solomon)</li>
<li>build/ops: arch: fix cmake&#8217;s ARM CRC intrinsics test to handle duplicitous gcc 4.8.5 (<a class="reference external" href="http://tracker.ceph.com/issues/19386">issue#19386</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14132">pr#14132</a>, Dan Mick)</li>
<li>build/ops: build: Add Virtuozzo Linux support (<a class="reference external" href="https://github.com/ceph/ceph/pull/14301">pr#14301</a>, Andrey Parfenov)</li>
<li>build/ops,core: build: let FreeBSD build ceph-fuse (<a class="reference external" href="https://github.com/ceph/ceph/pull/14282">pr#14282</a>, Willem Jan Withagen)</li>
<li>build/ops,core: os: allow offline conversion of filestore -&gt; bluestore (or anything else) (<a class="reference external" href="https://github.com/ceph/ceph/pull/14210">pr#14210</a>, Sage Weil)</li>
<li>build/ops: debian: package ceph.logroate properly (<a class="reference external" href="http://tracker.ceph.com/issues/19390">issue#19390</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14600">pr#14600</a>, Kefu Chai)</li>
<li>build/ops: debian/rules, ceph.spec.in: invoke cmake with -DBOOST_J (<a class="reference external" href="https://github.com/ceph/ceph/pull/14114">pr#14114</a>, Dan Mick)</li>
<li>build/ops: gitignore: Ignore rejects by patch (<a class="reference external" href="https://github.com/ceph/ceph/pull/14405">pr#14405</a>, Willem Jan Withagen)</li>
<li>build/ops,performance: crc32c: Add crc32c function optimized for ppc architecture (<a class="reference external" href="https://github.com/ceph/ceph/pull/13909">pr#13909</a>, Andrew Solomon)</li>
<li>build/ops: rocksdb: sync with upstream (<a class="reference external" href="https://github.com/ceph/ceph/pull/14456">pr#14456</a>, Kefu Chai)</li>
<li>build/ops: script: drop the -x arg for credits script (<a class="reference external" href="https://github.com/ceph/ceph/pull/14296">pr#14296</a>, Abhishek Lekshmanan)</li>
<li>build/ops: systemd/ceph-disk: make it possible to customize timeout (<a class="reference external" href="http://tracker.ceph.com/issues/18740">issue#18740</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13197">pr#13197</a>, Alexey Sheplyakov)</li>
<li>build/ops: systemd: remove ceph-create-keys from presets (<a class="reference external" href="https://github.com/ceph/ceph/pull/14226">pr#14226</a>, Sébastien Han)</li>
<li>build/ops: Tested-by: Andrew Solomon &lt;<a class="reference external" href="mailto:asolomon&#37;&#52;&#48;us&#46;ibm&#46;com">asolomon<span>&#64;</span>us<span>&#46;</span>ibm<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/ceph/ceph/pull/14289">pr#14289</a>, Kefu Chai)</li>
<li>build/ops,tests: test/osd/CMakeLists.txt: osd-dup.sh require BlueStore/AIO (<a class="reference external" href="https://github.com/ceph/ceph/pull/14387">pr#14387</a>, Willem Jan Withagen)</li>
<li>build/ops: vstart: do not start mgr if not start_all (<a class="reference external" href="https://github.com/ceph/ceph/pull/13974">pr#13974</a>, Kefu Chai)</li>
<li>cephfs: client/Client.cc: after reset session from MDS - reconnect (<a class="reference external" href="http://tracker.ceph.com/issues/18757">issue#18757</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13522">pr#13522</a>, Henrik Korkuc)</li>
<li>cephfs: client: drop cap snaps when auth mds session gets closed (<a class="reference external" href="http://tracker.ceph.com/issues/19022">issue#19022</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13579">pr#13579</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>cephfs: client: refine fsync/close writeback error handling (<a class="reference external" href="https://github.com/ceph/ceph/pull/14589">pr#14589</a>, John Spray)</li>
<li>cephfs: client: specify inode in get_caps log message (<a class="reference external" href="https://github.com/ceph/ceph/pull/13966">pr#13966</a>, John Spray)</li>
<li>cephfs,core: Add test for is_hacky_ecoverwrites in cephfs pool checks (<a class="reference external" href="https://github.com/ceph/ceph/pull/13466">pr#13466</a>, John Spray)</li>
<li>cephfs: fix mount point break off problem after mds switch occured  (<a class="reference external" href="http://tracker.ceph.com/issues/19437">issue#19437</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14267">pr#14267</a>, Guan yunfei)</li>
<li>cephfs: fix write_buf&#8217;s _len overflow problem (<a class="reference external" href="http://tracker.ceph.com/issues/19033">issue#19033</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13587">pr#13587</a>, Yang Honggang)</li>
<li>cephfs: Mitigation for #16842, validate sessions after load (<a class="reference external" href="http://tracker.ceph.com/issues/16842">issue#16842</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14164">pr#14164</a>, John Spray)</li>
<li>cephfs: Permit recovering metadata into a new RADOS pool (<a class="reference external" href="http://tracker.ceph.com/issues/15069">issue#15069</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15068">issue#15068</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/10636">pr#10636</a>, Douglas Fuller)</li>
<li>cephfs: qa: whitelist new fullness messages in fs tests (<a class="reference external" href="http://tracker.ceph.com/issues/19253">issue#19253</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13915">pr#13915</a>, John Spray)</li>
<li>cephfs,tests: qa: fix test_standby_for_invalid_fscid with vstart_runner (<a class="reference external" href="https://github.com/ceph/ceph/pull/14272">pr#14272</a>, John Spray)</li>
<li>cephfs,tests: qa, mds: add checks for fragmentation, and enable it by default (<a class="reference external" href="http://tracker.ceph.com/issues/16523">issue#16523</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13862">pr#13862</a>, john Spray, John Spray)</li>
<li>cephfs,tests: qa: re-enable ENOSPC tests for kclient (<a class="reference external" href="http://tracker.ceph.com/issues/19550">issue#19550</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14396">pr#14396</a>, John Spray)</li>
<li>cephfs,tests: qa/vstart_runner: amend ps invocation (<a class="reference external" href="https://github.com/ceph/ceph/pull/14254">pr#14254</a>, Ilya Dryomov)</li>
<li>cephfs,tests: qa: whitelist another fullness log message (<a class="reference external" href="http://tracker.ceph.com/issues/19253">issue#19253</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14221">pr#14221</a>, John Spray)</li>
<li>cephfs: tools/cephfs: set dir_layout when injecting inodes (<a class="reference external" href="http://tracker.ceph.com/issues/19406">issue#19406</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14234">pr#14234</a>, John Spray)</li>
<li>cleanup: misc: Warning Elimination (<a class="reference external" href="https://github.com/ceph/ceph/pull/14439">pr#14439</a>, Adam C. Emerson)</li>
<li>cmake: Add simple recursive ctags target for Ceph source only (<a class="reference external" href="https://github.com/ceph/ceph/pull/14334">pr#14334</a>, Kefu Chai, Dan Mick)</li>
<li>cmake: build tracepoint libraries for vstart target (<a class="reference external" href="https://github.com/ceph/ceph/pull/14354">pr#14354</a>, Mohamad Gebai)</li>
<li>cmake: do not try to add submodule to exclude list if .git is not around (<a class="reference external" href="https://github.com/ceph/ceph/pull/14495">pr#14495</a>, Kefu Chai)</li>
<li>cmake: support optional argument for overriding default ctag excludes (<a class="reference external" href="https://github.com/ceph/ceph/pull/14379">pr#14379</a>, Kefu Chai)</li>
<li>common: common/ceph_context: fewer warnings about experimental features (<a class="reference external" href="https://github.com/ceph/ceph/pull/14170">pr#14170</a>, Sage Weil)</li>
<li>common: common/config: eliminate config_t::set_val unsafe option (<a class="reference external" href="http://tracker.ceph.com/issues/19106">issue#19106</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13687">pr#13687</a>, liuchang0812)</li>
<li>common: common/perf_counters: fix race condition with atomic variables (<a class="reference external" href="https://github.com/ceph/ceph/pull/14227">pr#14227</a>, J. Eric Ivancich)</li>
<li>common,core,tests: Wip cppcheck errors (<a class="reference external" href="https://github.com/ceph/ceph/pull/14446">pr#14446</a>, Brad Hubbard)</li>
<li>common: do not print error when asok is closed (<a class="reference external" href="https://github.com/ceph/ceph/pull/14022">pr#14022</a>, Patrick Donnelly)</li>
<li>common: Fix heap buffer overflow in do_request (<a class="reference external" href="http://tracker.ceph.com/issues/19393">issue#19393</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14173">pr#14173</a>, Brad Hubbard)</li>
<li>common: fix segfault in public IPv6 addr picking (<a class="reference external" href="http://tracker.ceph.com/issues/19371">issue#19371</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14124">pr#14124</a>, Fabian Grünbichler)</li>
<li>common: Implements simple_spin_t in terms of std::atomic_flag. (<a class="reference external" href="https://github.com/ceph/ceph/pull/14370">pr#14370</a>, Jesse Williamson)</li>
<li>common: include/denc: remove nullptr runtime magic boundedness check (<a class="reference external" href="https://github.com/ceph/ceph/pull/13889">pr#13889</a>, Sage Weil)</li>
<li>common: Make spinlock delay more conventional (<a class="reference external" href="https://github.com/ceph/ceph/pull/14248">pr#14248</a>, Brad Hubbard)</li>
<li>common: messages: fix return type name of MOSDMap (<a class="reference external" href="https://github.com/ceph/ceph/pull/14382">pr#14382</a>, Leo Zhang)</li>
<li>common: msg/async/rdma: Add fork safe on RDMA (<a class="reference external" href="https://github.com/ceph/ceph/pull/13740">pr#13740</a>, Sarit Zubakov)</li>
<li>common: msg/async/rdma: Update fix broken compilation (<a class="reference external" href="https://github.com/ceph/ceph/pull/13940">pr#13940</a>, Sarit Zubakov)</li>
<li>common: msg/SimpleMessenger: error out misplace in set_socket_options (<a class="reference external" href="https://github.com/ceph/ceph/pull/13961">pr#13961</a>, wangzhengyong)</li>
<li>common: .organizationmap: Updated authors (<a class="reference external" href="https://github.com/ceph/ceph/pull/14360">pr#14360</a>, Jos Collin)</li>
<li>common: rados: more info added to pool deletion error (<a class="reference external" href="http://tracker.ceph.com/issues/19400">issue#19400</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14235">pr#14235</a>, Vedant Nanda)</li>
<li>common,rbd,rgw: common/escape: do not escape / in json (<a class="reference external" href="https://github.com/ceph/ceph/pull/14130">pr#14130</a>, Sage Weil)</li>
<li>common,rdma: msg/async/rdma: Introduce RDMAConnMgr + Debug prints (<a class="reference external" href="https://github.com/ceph/ceph/pull/14201">pr#14201</a>, Amir Vadai)</li>
<li>common,rdma: msg/async/rdma: Move resource handling to Device (<a class="reference external" href="https://github.com/ceph/ceph/pull/14088">pr#14088</a>, Sarit Zubakov, Amir Vadai)</li>
<li>common,rdma: msg/async/rdma: RDMA-CM Initialize device on first connect (<a class="reference external" href="https://github.com/ceph/ceph/pull/14179">pr#14179</a>, Amir Vadai)</li>
<li>common: remove useless parameter (<a class="reference external" href="https://github.com/ceph/ceph/pull/14096">pr#14096</a>, baiyanchun)</li>
<li>common: support s390 and unknown architectures in spin-wait loop (<a class="reference external" href="http://tracker.ceph.com/issues/19492">issue#19492</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14337">pr#14337</a>, Nathan Cutler)</li>
<li>common: Tested-by: Andrew Solomon &lt;<a class="reference external" href="mailto:asolomon&#37;&#52;&#48;us&#46;ibm&#46;com">asolomon<span>&#64;</span>us<span>&#46;</span>ibm<span>&#46;</span>com</a>&gt; (<a class="reference external" href="https://github.com/ceph/ceph/pull/14310">pr#14310</a>, Kefu Chai)</li>
<li>common: tracing: fix segv (<a class="reference external" href="http://tracker.ceph.com/issues/18576">issue#18576</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14304">pr#14304</a>, Anjaneya Chagam)</li>
<li>core: ceph-disk: Adding retry loop in get_partition_dev() (<a class="reference external" href="https://github.com/ceph/ceph/pull/14275">pr#14275</a>, Erwan Velu)</li>
<li>core: ceph-disk/ceph_disk/main.py: fix calling of the bsdrc init scripts (<a class="reference external" href="https://github.com/ceph/ceph/pull/14476">pr#14476</a>, Willem Jan Withagen)</li>
<li>core: ceph-disk: enable directory backed OSD at boot time (<a class="reference external" href="http://tracker.ceph.com/issues/19628">issue#19628</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14546">pr#14546</a>, Loic Dachary)</li>
<li>core: ceph-disk,osd: add support for crush device classes (<a class="reference external" href="http://tracker.ceph.com/issues/19513">issue#19513</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14436">pr#14436</a>, Loic Dachary)</li>
<li>core: ceph-disk: Populate mount options when running &#8220;list&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/17331">issue#17331</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14293">pr#14293</a>, Brad Hubbard)</li>
<li>core: ceph-disk: Write 10M to all partitions before zapping (<a class="reference external" href="http://tracker.ceph.com/issues/18962">issue#18962</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13766">pr#13766</a>, Wido den Hollander)</li>
<li>core: client/SyntheticClient.cc: Fix warning in random_walk (<a class="reference external" href="http://tracker.ceph.com/issues/19445">issue#19445</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14308">pr#14308</a>, Brad Hubbard)</li>
<li>core: cls/timeindex: clean up cls_timeindex_client.h|cc (<a class="reference external" href="https://github.com/ceph/ceph/pull/13987">pr#13987</a>, Shinobu Kinjo)</li>
<li>core: common/TrackedOp: allow dumping historic ops sorted by duration (<a class="reference external" href="https://github.com/ceph/ceph/pull/14050">pr#14050</a>, Piotr Dałek)</li>
<li>core: Give requested scrub work a higher priority (<a class="reference external" href="http://tracker.ceph.com/issues/15789">issue#15789</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14488">pr#14488</a>, David Zafman)</li>
<li>core: include/denc: add {encode,decode}_nohead for denc_traits&lt;basic_string&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/18938">issue#18938</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14099">pr#14099</a>, Kefu Chai)</li>
<li>core,mgr,mon: mon,mgr: tag some commands for ceph-mgr (<a class="reference external" href="https://github.com/ceph/ceph/pull/13617">pr#13617</a>, Sage Weil)</li>
<li>core: misc: SCA fixes (<a class="reference external" href="https://github.com/ceph/ceph/pull/14426">pr#14426</a>, Danny Al-Gaaf)</li>
<li>core,mon: mon,osd: decouple creating pgs from pgmap (<a class="reference external" href="https://github.com/ceph/ceph/pull/13999">pr#13999</a>, Kefu Chai)</li>
<li>core: mon/OSDMonitor: osd crush set-device-class (<a class="reference external" href="http://tracker.ceph.com/issues/19307">issue#19307</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14039">pr#14039</a>, Loic Dachary)</li>
<li>core: msg/async/AsyncConnection: keepalive objecter ping connection to avoid timeout (<a class="reference external" href="https://github.com/ceph/ceph/pull/14009">pr#14009</a>, Haomai Wang)</li>
<li>core: osdc/Objecter: respect epoch barrier in _op_submit() (<a class="reference external" href="http://tracker.ceph.com/issues/19396">issue#19396</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14190">pr#14190</a>, Ilya Dryomov)</li>
<li>core: osd,mon: misc full fixes and cleanups (<a class="reference external" href="https://github.com/ceph/ceph/pull/13968">pr#13968</a>, David Zafman)</li>
<li>core: osd/OSDMap: hide require_*_osd and sortbitwise flags (<a class="reference external" href="https://github.com/ceph/ceph/pull/14440">pr#14440</a>, Sage Weil)</li>
<li>core: osd/PG: only correct filestore collection bits on load (<a class="reference external" href="http://tracker.ceph.com/issues/19541">issue#19541</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14397">pr#14397</a>, Sage Weil)</li>
<li>core: osd/PG: some minor cleanups (<a class="reference external" href="https://github.com/ceph/ceph/pull/14133">pr#14133</a>, runsisi)</li>
<li>core: osd/PrimaryLogPG: do not expect FULL_TRY ops to get resent (<a class="reference external" href="http://tracker.ceph.com/issues/19430">issue#19430</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14255">pr#14255</a>, Sage Weil)</li>
<li>core: osd/PrimaryLogPG: set return value if sparse read failed (<a class="reference external" href="https://github.com/ceph/ceph/pull/14093">pr#14093</a>, huangjun)</li>
<li>core: osd/ReplicatedBackend: clear pull source once we are done with it (<a class="reference external" href="http://tracker.ceph.com/issues/19076">issue#19076</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13879">pr#13879</a>, Samuel Just)</li>
<li>core: os/filestore: handle error returned from write_fd() (<a class="reference external" href="https://github.com/ceph/ceph/pull/10146">pr#10146</a>, yonghengdexin735)</li>
<li>core: os/fs/FS.cc: remove the redundant code. (<a class="reference external" href="https://github.com/ceph/ceph/pull/14362">pr#14362</a>, Jianpeng Ma)</li>
<li>core: os/kstore: some error handling (<a class="reference external" href="https://github.com/ceph/ceph/pull/13960">pr#13960</a>, wangzhengyong)</li>
<li>core,performance: mon,osd: explicitly remap some pgs (<a class="reference external" href="https://github.com/ceph/ceph/pull/13984">pr#13984</a>, Sage Weil)</li>
<li>core: Prefix /proc/ with FreeBSD emulation (<a class="reference external" href="https://github.com/ceph/ceph/pull/14290">pr#14290</a>, Willem Jan Withagen)</li>
<li>core: Revert &#8220;msg/async/rdma: Debug prints for ibv_*&#8221; (<a class="reference external" href="https://github.com/ceph/ceph/pull/14245">pr#14245</a>, Kefu Chai)</li>
<li>core: test, osd: fix some coverity issues (<a class="reference external" href="https://github.com/ceph/ceph/pull/13293">pr#13293</a>, liuchang0812)</li>
<li>core,tests: ceph-disk/tests/test_main.py: FreeBSD does not do multipath (<a class="reference external" href="https://github.com/ceph/ceph/pull/13847">pr#13847</a>, Willem Jan Withagen)</li>
<li>core,tests: ceph_test_librados_api_misc: fix stupid LibRadosMiscConnectFailure.ConnectFailure test (<a class="reference external" href="http://tracker.ceph.com/issues/15368">issue#15368</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14261">pr#14261</a>, Sage Weil)</li>
<li>core,tests: os: allow &#8216;osd objectstore = random&#8217; to pick either filestore or bluestore (<a class="reference external" href="https://github.com/ceph/ceph/pull/13754">pr#13754</a>, Sage Weil)</li>
<li>core,tests,tools: Fixes: <a class="reference external" href="http://tracker.ceph.com/issues/18533">http://tracker.ceph.com/issues/18533</a> (<a class="reference external" href="https://github.com/ceph/ceph/pull/13423">pr#13423</a>, Samuel Just, David Zafman)</li>
<li>crush: bucket: crush_add_uniform_bucket_item should check for uniformity (<a class="reference external" href="https://github.com/ceph/ceph/pull/14208">pr#14208</a>, Sahid Orentino Ferdjaoui)</li>
<li>crush: builder: clean the arguments of crush_reweight* methods (<a class="reference external" href="https://github.com/ceph/ceph/pull/14110">pr#14110</a>, Sahid Orentino Ferdjaoui)</li>
<li>crush: builder: creating crush map with optimal configurations (<a class="reference external" href="https://github.com/ceph/ceph/pull/14209">pr#14209</a>, Sahid Orentino Ferdjaoui)</li>
<li>crush: only encode class info if SERVER_LUMINOUS (<a class="reference external" href="http://tracker.ceph.com/issues/19361">issue#19361</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14131">pr#14131</a>, Sage Weil)</li>
<li>crush: weight_set and id remapping (<a class="reference external" href="http://tracker.ceph.com/issues/15653">issue#15653</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14486">pr#14486</a>, Loic Dachary)</li>
<li>doc: add 12.0.1 release notes (<a class="reference external" href="https://github.com/ceph/ceph/pull/14106">pr#14106</a>, Abhishek Lekshmanan)</li>
<li>doc: add changelog for v10.2.7 (<a class="reference external" href="https://github.com/ceph/ceph/pull/14441">pr#14441</a>, Abhishek Lekshmanan)</li>
<li>doc: add RGW ldap auth documentation (<a class="reference external" href="https://github.com/ceph/ceph/pull/14339">pr#14339</a>, Harald Klein)</li>
<li>doc: add some undocumented options to rbd-nbd (<a class="reference external" href="https://github.com/ceph/ceph/pull/14134">pr#14134</a>, wangzhengyong)</li>
<li>doc: change osd_op_thread_timeout default value to 15 (<a class="reference external" href="https://github.com/ceph/ceph/pull/14199">pr#14199</a>, Andreas Gerstmayr)</li>
<li>doc: correct arguments for ceph tell osd.N bench (<a class="reference external" href="https://github.com/ceph/ceph/pull/14462">pr#14462</a>, Patrick Dinnen)</li>
<li>doc: correct the quota section (<a class="reference external" href="http://tracker.ceph.com/issues/19397">issue#19397</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14122">pr#14122</a>, Chu, Hua-Rong)</li>
<li>doc: dev guide: how to run s3-tests locally against vstart (<a class="reference external" href="https://github.com/ceph/ceph/pull/14508">pr#14508</a>, Nathan Cutler, Abhishek Lekshmanan)</li>
<li>doc: doc/radosgw/s3/cpp.rst: update usage of libs3 APIs to make the examples work (<a class="reference external" href="https://github.com/ceph/ceph/pull/10851">pr#10851</a>, Weibing Zhang)</li>
<li>doc: doc/rgw: instructions for changing multisite master zone (<a class="reference external" href="https://github.com/ceph/ceph/pull/14089">pr#14089</a>, Casey Bodley)</li>
<li>doc: docs: Clarify the relationship of min_size to EC pool recovery (<a class="reference external" href="https://github.com/ceph/ceph/pull/14419">pr#14419</a>, Brad Hubbard)</li>
<li>doc: how to specify filesystem for cephfs clients (<a class="reference external" href="https://github.com/ceph/ceph/pull/14087">pr#14087</a>, John Spray)</li>
<li>doc: mailmap: shiqi affiliation (<a class="reference external" href="https://github.com/ceph/ceph/pull/14361">pr#14361</a>, shiqi)</li>
<li>doc: mention &#8211;show-mappings in crushtool manpage (<a class="reference external" href="http://tracker.ceph.com/issues/19649">issue#19649</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14599">pr#14599</a>, Nathan Cutler, Loic Dachary)</li>
<li>doc: PendingReleaseNotes: recent cephfs changes (<a class="reference external" href="https://github.com/ceph/ceph/pull/14196">pr#14196</a>, John Spray)</li>
<li>doc: radosgw-admin: new &#8216;global quota&#8217; commands update period config (<a class="reference external" href="http://tracker.ceph.com/issues/19409">issue#19409</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14252">pr#14252</a>, Casey Bodley)</li>
<li>doc: README.FreeBSD: Update the status (<a class="reference external" href="https://github.com/ceph/ceph/pull/14406">pr#14406</a>, Willem Jan Withagen)</li>
<li>doc: README.md: fix build instructions inconsistent. (<a class="reference external" href="https://github.com/ceph/ceph/pull/14555">pr#14555</a>, Yao Zongyou)</li>
<li>doc: README.md: use github heading syntax to mark the headings (<a class="reference external" href="https://github.com/ceph/ceph/pull/14591">pr#14591</a>, Kefu Chai)</li>
<li>doc: release notes for v10.2.7 Jewel (<a class="reference external" href="https://github.com/ceph/ceph/pull/14295">pr#14295</a>, Abhishek Lekshmanan)</li>
<li>doc: rgw: remove mention of megabytes for quotas (<a class="reference external" href="https://github.com/ceph/ceph/pull/14413">pr#14413</a>, Hans van den Bogert)</li>
<li>doc: rgw server-side encryption and barbican (<a class="reference external" href="https://github.com/ceph/ceph/pull/13483">pr#13483</a>, Adam Kupczyk, Casey Bodley)</li>
<li>doc: script: build-doc/serve-doc fixes (<a class="reference external" href="https://github.com/ceph/ceph/pull/14438">pr#14438</a>, Abhishek Lekshmanan)</li>
<li>doc: script: ceph-release-notes: use https instead of http (<a class="reference external" href="https://github.com/ceph/ceph/pull/14103">pr#14103</a>, Kefu Chai)</li>
<li>doc: typo in hit_set_search_last_n (<a class="reference external" href="https://github.com/ceph/ceph/pull/14108">pr#14108</a>, Sven Seeberg)</li>
<li>doc: update packages mentioned by build-doc and related doc (<a class="reference external" href="https://github.com/ceph/ceph/pull/14649">pr#14649</a>, Yu Shengzuo)</li>
<li>doc: wip-doc-multisite ports downstream multisite document upstream. (<a class="reference external" href="https://github.com/ceph/ceph/pull/14259">pr#14259</a>, John Wilkins)</li>
<li>librados: set the flag CEPH_OSD_FLAG_FULL_TRY of Op in the right place. (<a class="reference external" href="https://github.com/ceph/ceph/pull/14193">pr#14193</a>, Pan Liu)</li>
<li>librbd: changed the return type of ImageRequestWQ::discard() (<a class="reference external" href="http://tracker.ceph.com/issues/18511">issue#18511</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14032">pr#14032</a>, Jos Collin)</li>
<li>librbd: corrected resize RPC message backwards compatibility (<a class="reference external" href="http://tracker.ceph.com/issues/19636">issue#19636</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14615">pr#14615</a>, Jason Dillaman)</li>
<li>librbd: deferred image deletion (<a class="reference external" href="http://tracker.ceph.com/issues/18481">issue#18481</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13105">pr#13105</a>, Ricardo Dias)</li>
<li>librbd: fix rbd_metadata_list and rbd_metadata_get (<a class="reference external" href="http://tracker.ceph.com/issues/19588">issue#19588</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14471">pr#14471</a>, Mykola Golub)</li>
<li>librbd: is_exclusive_lock_owner API should ping OSD (<a class="reference external" href="http://tracker.ceph.com/issues/19287">issue#19287</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14003">pr#14003</a>, Jason Dillaman)</li>
<li>librbd: Notifier::notify API improvement (<a class="reference external" href="https://github.com/ceph/ceph/pull/14072">pr#14072</a>, Mykola Golub)</li>
<li>librbd: pass an uint64_t to clip_io() as the third param (<a class="reference external" href="http://tracker.ceph.com/issues/18938">issue#18938</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14159">pr#14159</a>, Kefu Chai)</li>
<li>librbd: potential use of uninitialised value in ImageWatcher (<a class="reference external" href="https://github.com/ceph/ceph/pull/14091">pr#14091</a>, Mykola Golub)</li>
<li>librbd: random unit test failures due to shut down race (<a class="reference external" href="http://tracker.ceph.com/issues/19389">issue#19389</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14166">pr#14166</a>, Jason Dillaman)</li>
<li>mds: bump client_reply debug to match client_req (<a class="reference external" href="https://github.com/ceph/ceph/pull/14036">pr#14036</a>, Patrick Donnelly)</li>
<li>mds: don&#8217;t assert on read errors in RecoveryQueue (<a class="reference external" href="http://tracker.ceph.com/issues/19282">issue#19282</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14017">pr#14017</a>, John Spray)</li>
<li>mds: drop partial entry and adjust write_pos when opening PurgeQueue (<a class="reference external" href="http://tracker.ceph.com/issues/19450">issue#19450</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14447">pr#14447</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>mds: fix mgrc shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/19566">issue#19566</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14505">pr#14505</a>, John Spray)</li>
<li>mds: fix stray creation/removal notification (<a class="reference external" href="http://tracker.ceph.com/issues/19630">issue#19630</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14554">pr#14554</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>mds: ignore ENOENT on writing backtrace (<a class="reference external" href="http://tracker.ceph.com/issues/19401">issue#19401</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14207">pr#14207</a>, John Spray)</li>
<li>mds: include advisory <cite>path</cite> field in damage (<a class="reference external" href="http://tracker.ceph.com/issues/18509">issue#18509</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14104">pr#14104</a>, John Spray)</li>
<li>mds: make C_MDSInternalNoop::complete() delete &#8216;this&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/19501">issue#19501</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14347">pr#14347</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>mds: miscellaneous multimds fixes (<a class="reference external" href="http://tracker.ceph.com/issues/19022">issue#19022</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13698">pr#13698</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>mds: pretty json from <cite>tell</cite> commands (<a class="reference external" href="https://github.com/ceph/ceph/pull/14105">pr#14105</a>, John Spray)</li>
<li>mds: remove legacy &#8220;mds tell&#8221; command (<a class="reference external" href="http://tracker.ceph.com/issues/19288">issue#19288</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14015">pr#14015</a>, John Spray)</li>
<li>mds: Return error message instead of asserting (<a class="reference external" href="https://github.com/ceph/ceph/pull/14469">pr#14469</a>, Brad Hubbard)</li>
<li>mds: set ceph-mds name uncond for external tools (<a class="reference external" href="http://tracker.ceph.com/issues/19291">issue#19291</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14021">pr#14021</a>, Patrick Donnelly)</li>
<li>mds: shut down finisher before objecter (<a class="reference external" href="http://tracker.ceph.com/issues/19204">issue#19204</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13859">pr#13859</a>, John Spray)</li>
<li>mds: use same inode count in health check as in trim (<a class="reference external" href="http://tracker.ceph.com/issues/19395">issue#19395</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14197">pr#14197</a>, John Spray)</li>
<li>mds: warn if insufficient standbys exist (<a class="reference external" href="http://tracker.ceph.com/issues/17604">issue#17604</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/12074">pr#12074</a>, Patrick Donnelly)</li>
<li>mgr: always free allocated MgrPyModule (<a class="reference external" href="http://tracker.ceph.com/issues/19590">issue#19590</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14507">pr#14507</a>, Kefu Chai)</li>
<li>mgr: ceph-mgr: rotate logs on sighup (<a class="reference external" href="http://tracker.ceph.com/issues/19568">issue#19568</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14437">pr#14437</a>, Dan van der Ster)</li>
<li>mgr: fix bugs in init, beacons (<a class="reference external" href="http://tracker.ceph.com/issues/19516">issue#19516</a>, <a class="reference external" href="http://tracker.ceph.com/issues/19502">issue#19502</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14374">pr#14374</a>, Sage Weil)</li>
<li>mgr: fix crash on missing &#8216;ceph_version&#8217; in daemon metadata (fixes #18764) (<a class="reference external" href="http://tracker.ceph.com/issues/18764">issue#18764</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14129">pr#14129</a>, Tim Serong)</li>
<li>mgr: fix several init/re-init bugs (<a class="reference external" href="http://tracker.ceph.com/issues/19491">issue#19491</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14328">pr#14328</a>, Sage Weil)</li>
<li>mgr: mgr/MgrClient: fix reconnect event leak (<a class="reference external" href="http://tracker.ceph.com/issues/19580">issue#19580</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14431">pr#14431</a>, Sage Weil)</li>
<li>mgr,mon: mon,mgr: move reweight-by-* to mgr (<a class="reference external" href="https://github.com/ceph/ceph/pull/14404">pr#14404</a>, Kefu Chai)</li>
<li>mgr: move &#8216;osd perf&#8217; and &#8216;osd blocked-by&#8217; to mgr (<a class="reference external" href="https://github.com/ceph/ceph/pull/14303">pr#14303</a>, Sage Weil)</li>
<li>mgr: move &#8220;osd pool stats&#8221; to mgr (<a class="reference external" href="https://github.com/ceph/ceph/pull/14365">pr#14365</a>, Kefu Chai)</li>
<li>mgr: optimization some judgment and adjust the debug remove value in register_new_pgs (<a class="reference external" href="https://github.com/ceph/ceph/pull/14046">pr#14046</a>, song baisen)</li>
<li>mgr: pass through cluster log to plugins (<a class="reference external" href="https://github.com/ceph/ceph/pull/13690">pr#13690</a>, John Spray)</li>
<li>mgr: pybind/mgr/rest: don&#8217;t set timezone to Chicago (<a class="reference external" href="https://github.com/ceph/ceph/pull/14184">pr#14184</a>, Tim Serong)</li>
<li>mgr: remove unused function declarations (<a class="reference external" href="https://github.com/ceph/ceph/pull/14366">pr#14366</a>, Wei Jin)</li>
<li>mgr: rm nonused main function (<a class="reference external" href="https://github.com/ceph/ceph/pull/14313">pr#14313</a>, Wei Jin)</li>
<li>mgr: shutdown py_modules in Mgr::shutdown() (<a class="reference external" href="http://tracker.ceph.com/issues/19258">issue#19258</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14078">pr#14078</a>, Kefu Chai)</li>
<li>mon: add mon_debug_no_require_luminous (<a class="reference external" href="https://github.com/ceph/ceph/pull/14490">pr#14490</a>, Sage Weil)</li>
<li>mon: avoid segfault in wait_auth_rotating (<a class="reference external" href="http://tracker.ceph.com/issues/19566">issue#19566</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14430">pr#14430</a>, John Spray)</li>
<li>mon: common/config_opts.h: kill mon_pg_create_interval (<a class="reference external" href="https://github.com/ceph/ceph/pull/13800">pr#13800</a>, xie xingguo)</li>
<li>mon: emit cluster log messages on MDS health changes (<a class="reference external" href="http://tracker.ceph.com/issues/19551">issue#19551</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14398">pr#14398</a>, John Spray)</li>
<li>mon: fix hiding mdsmonitor informative strings (<a class="reference external" href="http://tracker.ceph.com/issues/16709">issue#16709</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13904">pr#13904</a>, John Spray)</li>
<li>mon: fix synchronise pgmap with others  (<a class="reference external" href="https://github.com/ceph/ceph/pull/14418">pr#14418</a>, song baisen, z09440)</li>
<li>mon: mon/MonClient: make get_mon_log_message() atomic (<a class="reference external" href="http://tracker.ceph.com/issues/19427">issue#19427</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14422">pr#14422</a>, Kefu Chai)</li>
<li>mon: mon/Monitor.h: add const to member function (<a class="reference external" href="https://github.com/ceph/ceph/pull/10412">pr#10412</a>, Michal Jarzabek)</li>
<li>mon: mon/OSDMonitor: check last_osd_report only when the whole cluster is lu… (<a class="reference external" href="https://github.com/ceph/ceph/pull/14294">pr#14294</a>, Kefu Chai)</li>
<li>mon: mon/OSDMonitor: Clean up: delete extra S signature for plural (<a class="reference external" href="https://github.com/ceph/ceph/pull/14174">pr#14174</a>, Shinobu Kinjo)</li>
<li>mon: mon/OSDMonitor: spinlock -&gt; std::mutex (<a class="reference external" href="https://github.com/ceph/ceph/pull/14269">pr#14269</a>, Sage Weil)</li>
<li>mon: mon/OSDMonitor: transit creating_pgs from pgmap when upgrading (<a class="reference external" href="http://tracker.ceph.com/issues/19584">issue#19584</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14551">pr#14551</a>, Kefu Chai)</li>
<li>mon: mon/OSDMonitor: update creating epoch if target osd changed (<a class="reference external" href="http://tracker.ceph.com/issues/19515">issue#19515</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14386">pr#14386</a>, Kefu Chai)</li>
<li>mon: mon/PGMap: make si units more readable in PGMap summary (<a class="reference external" href="https://github.com/ceph/ceph/pull/14185">pr#14185</a>, liuhong)</li>
<li>mon: osd crush set crushmap need sanity check (<a class="reference external" href="http://tracker.ceph.com/issues/19302">issue#19302</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14029">pr#14029</a>, Loic Dachary)</li>
<li>mon: Tidy up removal of debug mon features (<a class="reference external" href="https://github.com/ceph/ceph/pull/14467">pr#14467</a>, Brad Hubbard)</li>
<li>mon: update mgrmap when active goes offline (<a class="reference external" href="http://tracker.ceph.com/issues/19407">issue#19407</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14220">pr#14220</a>, John Spray)</li>
<li>msg/async: Postpone bind if network stack is not ready (<a class="reference external" href="https://github.com/ceph/ceph/pull/14414">pr#14414</a>, Amir Vadai, Haomai Wang)</li>
<li>msg: src/msg/async: Update fix broken compilation for Posix (<a class="reference external" href="https://github.com/ceph/ceph/pull/14336">pr#14336</a>, Sarit Zubakov)</li>
<li>NVMEDevice: remove unnessary dpdk header file (<a class="reference external" href="https://github.com/ceph/ceph/pull/14650">pr#14650</a>, optimistyzy)</li>
<li>osd: add &#8220;heap <a href="#id5"><span class="problematic" id="id6">*</span></a>&#8221; admin command (<a class="reference external" href="http://tracker.ceph.com/issues/15475">issue#15475</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13073">pr#13073</a>, Jesse Williamson)</li>
<li>osd: add override in headers files (<a class="reference external" href="https://github.com/ceph/ceph/pull/13962">pr#13962</a>, liuchang0812)</li>
<li>osd: Cleanup-Updated OSDMap.cc with C++11 style range-for loops (<a class="reference external" href="https://github.com/ceph/ceph/pull/14381">pr#14381</a>, Jos Collin)</li>
<li>osd: combine unstable stats with info.stats when publish stats to osd (<a class="reference external" href="https://github.com/ceph/ceph/pull/14060">pr#14060</a>, Mingxin Liu)</li>
<li>osd: fix comments about pg refs and lock (<a class="reference external" href="https://github.com/ceph/ceph/pull/14279">pr#14279</a>, tang.jin)</li>
<li>osd: fix some osd beacon bugs (<a class="reference external" href="https://github.com/ceph/ceph/pull/14274">pr#14274</a>, Sage Weil)</li>
<li>osd: kill all remaining MOSDSubOp users (<a class="reference external" href="https://github.com/ceph/ceph/pull/13401">pr#13401</a>, Sage Weil)</li>
<li>osd: make ec overwrites ready to use (<a class="reference external" href="https://github.com/ceph/ceph/pull/14496">pr#14496</a>, Josh Durgin)</li>
<li>osd: new op for calculating an extent checksum (<a class="reference external" href="https://github.com/ceph/ceph/pull/14256">pr#14256</a>, Jason Dillaman)</li>
<li>osd: osd/PrimaryLogPG: nullptr not NULL (<a class="reference external" href="https://github.com/ceph/ceph/pull/13973">pr#13973</a>, Shinobu Kinjo)</li>
<li>osd: pg-remap -&gt; pg-upmap (<a class="reference external" href="https://github.com/ceph/ceph/pull/14556">pr#14556</a>, Sage Weil)</li>
<li>osd: print pg_info_t::purged_snaps as array, not string (<a class="reference external" href="http://tracker.ceph.com/issues/18584">issue#18584</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14217">pr#14217</a>, liuchang0812)</li>
<li>qa: krbd_data_pool.sh: account for rbd_info metadata object (<a class="reference external" href="https://github.com/ceph/ceph/pull/14631">pr#14631</a>, Ilya Dryomov)</li>
<li>qa/objectstore: test bluestore with aggressive compression (<a class="reference external" href="https://github.com/ceph/ceph/pull/14623">pr#14623</a>, Sage Weil)</li>
<li>qa/tasks: assert on pg status with a timeout (<a class="reference external" href="http://tracker.ceph.com/issues/19594">issue#19594</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14608">pr#14608</a>, Kefu Chai)</li>
<li>qa/workunits/cephtool/test.sh: Be more liberal in testing health-output. (<a class="reference external" href="https://github.com/ceph/ceph/pull/14614">pr#14614</a>, Willem Jan Withagen)</li>
<li>rbd: correct issues with image importing (<a class="reference external" href="https://github.com/ceph/ceph/pull/14401">pr#14401</a>, Jason Dillaman)</li>
<li>rbd: error out if import image format failed (<a class="reference external" href="https://github.com/ceph/ceph/pull/13957">pr#13957</a>, wangzhengyong)</li>
<li>rbd: import-diff should discard any zeroed extents (<a class="reference external" href="https://github.com/ceph/ceph/pull/14445">pr#14445</a>, Jason Dillaman)</li>
<li>rbd: import real thin-provision image (<a class="reference external" href="http://tracker.ceph.com/issues/15648">issue#15648</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/12883">pr#12883</a>, yaoning, Ning Yao)</li>
<li>rbd-mirror: pool watcher should track mirror uuid (<a class="reference external" href="https://github.com/ceph/ceph/pull/14240">pr#14240</a>, Jason Dillaman)</li>
<li>rbd-mirror: separate ImageReplayer handling from Replayer (<a class="reference external" href="http://tracker.ceph.com/issues/18785">issue#18785</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13803">pr#13803</a>, Mykola Golub)</li>
<li>rbd-nbd: clean up the doc and help information (<a class="reference external" href="https://github.com/ceph/ceph/pull/14146">pr#14146</a>, Pan Liu)</li>
<li>rbd-nbd: remove debug messages from do_unmap (<a class="reference external" href="https://github.com/ceph/ceph/pull/14253">pr#14253</a>, Pan Liu)</li>
<li>rbd-nbd: s/cpp_error/cpp_strerror/ to fix FTBFS (<a class="reference external" href="https://github.com/ceph/ceph/pull/14223">pr#14223</a>, Kefu Chai)</li>
<li>rbd-nbd: support signal handle for SIGHUP, SIGINT and SIGTERM. (<a class="reference external" href="http://tracker.ceph.com/issues/19349">issue#19349</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14079">pr#14079</a>, Pan Liu)</li>
<li>rbd:  pybind/rbd: add image metadata methods (<a class="reference external" href="http://tracker.ceph.com/issues/19451">issue#19451</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14463">pr#14463</a>, Mykola Golub)</li>
<li>rbd,tests: qa/workunits: corrected issues with RBD cli test (<a class="reference external" href="https://github.com/ceph/ceph/pull/14460">pr#14460</a>, Jason Dillaman)</li>
<li>rbd,tests: qa/workunits/rbd: diff.sh failed removing nonexistent file (<a class="reference external" href="https://github.com/ceph/ceph/pull/14482">pr#14482</a>, Mykola Golub)</li>
<li>rbd,tests: test/librados_test_stub: fixed cls_cxx_map_get_keys/vals return value (<a class="reference external" href="http://tracker.ceph.com/issues/19597">issue#19597</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14484">pr#14484</a>, Jason Dillaman)</li>
<li>rbd,tests: test/rbd_mirror: race in TestMockInstanceWatcher on destroy (<a class="reference external" href="https://github.com/ceph/ceph/pull/14453">pr#14453</a>, Mykola Golub)</li>
<li>rbd: use min&lt;uint64_t&gt;() explicitly (<a class="reference external" href="http://tracker.ceph.com/issues/18938">issue#18938</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14202">pr#14202</a>, Kefu Chai)</li>
<li>rbd: validate pool and snap name optionals (<a class="reference external" href="http://tracker.ceph.com/issues/14535">issue#14535</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13836">pr#13836</a>, Gaurav Kumar Garg)</li>
<li>rbd: warning, ‘devno’ may be used uninitialized in this function (<a class="reference external" href="https://github.com/ceph/ceph/pull/14271">pr#14271</a>, Jos Collin)</li>
<li>rdma: msg/async/rdma: Debug prints for ibv_* (<a class="reference external" href="https://github.com/ceph/ceph/pull/14249">pr#14249</a>, Amir Vadai)</li>
<li>rdma: msg/async/rdma: Device::last_poll_dev must be positive (<a class="reference external" href="https://github.com/ceph/ceph/pull/14250">pr#14250</a>, Amir Vadai)</li>
<li>rdma: msg/async/rdma: Fix small memory leaks detected by valgrind (<a class="reference external" href="https://github.com/ceph/ceph/pull/14288">pr#14288</a>, Amir Vadai)</li>
<li>rdma: msg/async/rdma: Make poll_blocking() poll for async events in additio… (<a class="reference external" href="https://github.com/ceph/ceph/pull/14320">pr#14320</a>, Amir Vadai)</li>
<li>rdma: msg/async/rdma: Make port number an attribute of the Connection not o… (<a class="reference external" href="https://github.com/ceph/ceph/pull/14297">pr#14297</a>, Amir Vadai)</li>
<li>rdma: msg/async/rdma: RDMA-CM, get_device() by ibv_context (<a class="reference external" href="https://github.com/ceph/ceph/pull/14410">pr#14410</a>, Amir Vadai)</li>
<li>rdma: msg/async/rdma: RDMA-CM, Pass specific ConnMgr info in constructor (<a class="reference external" href="https://github.com/ceph/ceph/pull/14409">pr#14409</a>, Amir Vadai)</li>
<li>rgw: Added code to correctly account for bytes sent/ received during a &#8216;PUT&#8217; operation. (<a class="reference external" href="https://github.com/ceph/ceph/pull/14042">pr#14042</a>, Pritha Srivastava)</li>
<li>rgw: add &#8211;num-zonegroups option for multi test (<a class="reference external" href="https://github.com/ceph/ceph/pull/14216">pr#14216</a>, lvshuhua)</li>
<li>rgw: add pool namespace to cache&#8217;s key so that system obj can have unique key (<a class="reference external" href="http://tracker.ceph.com/issues/19372">issue#19372</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14125">pr#14125</a>, Zhang Shaowen)</li>
<li>rgw: add support for multipart upload expiration. (<a class="reference external" href="http://tracker.ceph.com/issues/19088">issue#19088</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13622">pr#13622</a>, Zhang Shaowen)</li>
<li>rgw: add support for the BulkUpload of Swift API (<a class="reference external" href="https://github.com/ceph/ceph/pull/12243">pr#12243</a>, Radoslaw Zarzynski)</li>
<li>rgw: add the remove-x-delete feature to cancel swift object expiration (<a class="reference external" href="http://tracker.ceph.com/issues/19074">issue#19074</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13621">pr#13621</a>, Jing Wenjun)</li>
<li>rgw: Add &#8211;zonegroup-new-name  in usage (<a class="reference external" href="https://github.com/ceph/ceph/pull/12084">pr#12084</a>, Hans van den Bogert)</li>
<li>rgw: allow larger payload for period commit (<a class="reference external" href="http://tracker.ceph.com/issues/19505">issue#19505</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14355">pr#14355</a>, Casey Bodley)</li>
<li>rgw: allow system users to read SLO parts (<a class="reference external" href="http://tracker.ceph.com/issues/19027">issue#19027</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13561">pr#13561</a>, Casey Bodley)</li>
<li>rgw: avoid listing user buckets for rgw_delete_user (<a class="reference external" href="https://github.com/ceph/ceph/pull/13991">pr#13991</a>, liuchang0812)</li>
<li>rgw: avoid using null pointer in rgw_file.cc (<a class="reference external" href="https://github.com/ceph/ceph/pull/14474">pr#14474</a>, lihongjie)</li>
<li>rgw: bucket stats display bucket index type (<a class="reference external" href="https://github.com/ceph/ceph/pull/14466">pr#14466</a>, fang yuxiang)</li>
<li>rgw: clean up the unneeded rgw::io::ChunkingFilter::has_content_length. (<a class="reference external" href="https://github.com/ceph/ceph/pull/13504">pr#13504</a>, Radoslaw Zarzynski)</li>
<li>rgw: cls/rgw: Clean up the &#8220;magic string&#8221; usage in the cls layer for RGW. (<a class="reference external" href="https://github.com/ceph/ceph/pull/12536">pr#12536</a>, Ira Cooper)</li>
<li>rgw: cls/user: cls_user_bucket backward compatibility (<a class="reference external" href="http://tracker.ceph.com/issues/19367">issue#19367</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14128">pr#14128</a>, Yehuda Sadeh)</li>
<li>rgw: cls_user don&#8217;t clobber existing bucket stats when creating bucket (<a class="reference external" href="http://tracker.ceph.com/issues/16357">issue#16357</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/10121">pr#10121</a>, Abhishek Lekshmanan)</li>
<li>rgw: continuation of the auth rework (<a class="reference external" href="https://github.com/ceph/ceph/pull/12893">pr#12893</a>, Radoslaw Zarzynski, Matt Benjamin)</li>
<li>rgw: delete non-empty buckets in slave zonegroup works not well (<a class="reference external" href="http://tracker.ceph.com/issues/19313">issue#19313</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14043">pr#14043</a>, Zhang Shaowen)</li>
<li>rgw: don&#8217;t read all user input for a few param requests (<a class="reference external" href="https://github.com/ceph/ceph/pull/13815">pr#13815</a>, Abhishek Lekshmanan)</li>
<li>rgw: enable to update acl of bucket created in slave zonegroup (<a class="reference external" href="http://tracker.ceph.com/issues/16888">issue#16888</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14082">pr#14082</a>, Guo Zhandong)</li>
<li>rgw: error more verbosely in RGWRados::create_pool (<a class="reference external" href="https://github.com/ceph/ceph/pull/14642">pr#14642</a>, Matt Benjamin)</li>
<li>rgw: fix build of conflict after auth rework (<a class="reference external" href="https://github.com/ceph/ceph/pull/14203">pr#14203</a>, Casey Bodley)</li>
<li>rgw: fix configurable write obj window size (<a class="reference external" href="https://github.com/ceph/ceph/pull/13934">pr#13934</a>, hechuang)</li>
<li>rgw: fix for EINVAL errors on forwarded bucket put_acl requests (<a class="reference external" href="https://github.com/ceph/ceph/pull/14376">pr#14376</a>, Casey Bodley)</li>
<li>rgw: fix for null version_id in fetch_remote_obj() (<a class="reference external" href="https://github.com/ceph/ceph/pull/14375">pr#14375</a>, Casey Bodley)</li>
<li>rgw: fix memory leak in delete_obj_aio (<a class="reference external" href="https://github.com/ceph/ceph/pull/13998">pr#13998</a>, wangzhengyong)</li>
<li>rgw: fix memory leak in RGWGetObjLayout (<a class="reference external" href="https://github.com/ceph/ceph/pull/14014">pr#14014</a>, liuchang0812)</li>
<li>rgw: fix response header of Swift API (<a class="reference external" href="http://tracker.ceph.com/issues/19443">issue#19443</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14280">pr#14280</a>, tone-zhang)</li>
<li>rgw: fix slave zonegroup cannot enable the bucket versioning (<a class="reference external" href="http://tracker.ceph.com/issues/18003">issue#18003</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/12175">pr#12175</a>, lvshuhua)</li>
<li>rgw: fix uninitialized fields (<a class="reference external" href="https://github.com/ceph/ceph/pull/14120">pr#14120</a>, wangzhengyong)</li>
<li>rgw: LCWorker&#8217;s worktime is not the same as config rgw_lifecycle_work_time. (<a class="reference external" href="http://tracker.ceph.com/issues/18087">issue#18087</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/11963">pr#11963</a>, Zhang Shaowen)</li>
<li>rgw: multisite enabled over multiple clusters (<a class="reference external" href="https://github.com/ceph/ceph/pull/12535">pr#12535</a>, Ali Maredia)</li>
<li>rgw: multisite: fixes for zonegroup redirect (<a class="reference external" href="http://tracker.ceph.com/issues/19488">issue#19488</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14319">pr#14319</a>, Casey Bodley)</li>
<li>rgw: radosgw-admin: use zone id when creating a zone (<a class="reference external" href="http://tracker.ceph.com/issues/19498">issue#19498</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14340">pr#14340</a>, Orit Wasserman)</li>
<li>rgw: Removed Unwanted headers (<a class="reference external" href="https://github.com/ceph/ceph/pull/14183">pr#14183</a>, Jos Collin)</li>
<li>rgw: remove duplicate flush formatter (<a class="reference external" href="https://github.com/ceph/ceph/pull/12437">pr#12437</a>, Guo Zhandong)</li>
<li>rgw: remove extra RGWMPObj in rgw_multi.h (<a class="reference external" href="https://github.com/ceph/ceph/pull/14619">pr#14619</a>, Casey Bodley)</li>
<li>rgw: rgw_file: fix missing unlock in unlink (<a class="reference external" href="http://tracker.ceph.com/issues/19435">issue#19435</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14262">pr#14262</a>, Gui Hecheng)</li>
<li>rgw: rgw_file: fix non-posix errcode EINVAL to ENAMETOOLONG (<a class="reference external" href="https://github.com/ceph/ceph/pull/13764">pr#13764</a>, Gui Hecheng)</li>
<li>rgw: rgw_file: fix readdir after dirent-change (<a class="reference external" href="http://tracker.ceph.com/issues/19634">issue#19634</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14561">pr#14561</a>, Matt Benjamin)</li>
<li>rgw: rgw_file:  pre-compute unix attrs in write_finish() (<a class="reference external" href="http://tracker.ceph.com/issues/19653">issue#19653</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14609">pr#14609</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: support readdir cb type hints (plus fixes) (<a class="reference external" href="http://tracker.ceph.com/issues/19623">issue#19623</a>, <a class="reference external" href="http://tracker.ceph.com/issues/19625">issue#19625</a>, <a class="reference external" href="http://tracker.ceph.com/issues/19624">issue#19624</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14458">pr#14458</a>, Matt Benjamin)</li>
<li>rgw: rgw_lc: drop a bunch of unused headers (<a class="reference external" href="https://github.com/ceph/ceph/pull/14342">pr#14342</a>, Abhishek Lekshmanan)</li>
<li>rgw: rgw/lifecycle: do not send lifecycle rules when GetLifeCycle failed (<a class="reference external" href="http://tracker.ceph.com/issues/19363">issue#19363</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14160">pr#14160</a>, liuchang0812)</li>
<li>rgw: rgw_op: remove unused variable iter (<a class="reference external" href="https://github.com/ceph/ceph/pull/14276">pr#14276</a>, Weibing Zhang)</li>
<li>rgw: s3 server-side encryption (SSE-C, SSE-KMS) (<a class="reference external" href="https://github.com/ceph/ceph/pull/11049">pr#11049</a>, Adam Kupczyk, Casey Bodley, Radoslaw Zarzynski)</li>
<li>rgw: stat requests skip compression, manifest handling, etc (<a class="reference external" href="https://github.com/ceph/ceph/pull/14109">pr#14109</a>, Casey Bodley)</li>
<li>rgw: switch from &#8220;timegm()&#8221; to &#8220;internal_timegm()&#8221; for better portability (<a class="reference external" href="http://tracker.ceph.com/issues/12863">issue#12863</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14327">pr#14327</a>, Rishabh Kumar)</li>
<li>rgw: switch to std::array in RGWBulkUploadOp due to C++11 and FreeBSD. (<a class="reference external" href="https://github.com/ceph/ceph/pull/14314">pr#14314</a>, Radoslaw Zarzynski)</li>
<li>rgw,tests: qa/rgw: add configuration for server-side encryption tests (<a class="reference external" href="https://github.com/ceph/ceph/pull/13597">pr#13597</a>, Casey Bodley)</li>
<li>rgw,tests: test/rgw: test_bucket_delete_notempty in test_multi.py (<a class="reference external" href="https://github.com/ceph/ceph/pull/14090">pr#14090</a>, Casey Bodley)</li>
<li>rgw: update is_truncated in function rgw_read_user_buckets (<a class="reference external" href="http://tracker.ceph.com/issues/19365">issue#19365</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14343">pr#14343</a>, liuchang0812)</li>
<li>rgw: verified f23 (<a class="reference external" href="https://github.com/ceph/ceph/pull/14553">pr#14553</a>, Gui Hecheng)</li>
<li>rgw: version id doesn&#8217;t work in fetch_remote_obj (<a class="reference external" href="https://github.com/ceph/ceph/pull/14010">pr#14010</a>, Zhang Shaowen)</li>
<li>rgw: warning, output may be truncated before the last format character (<a class="reference external" href="https://github.com/ceph/ceph/pull/14194">pr#14194</a>, Jos Collin)</li>
<li>src/ceph-disk/ceph_disk/main.py: Make &#8216;ceph-disk list&#8217; work on FreeBSD (<a class="reference external" href="https://github.com/ceph/ceph/pull/14483">pr#14483</a>, Willem Jan Withagen)</li>
<li>test/osd/osd-dup.sh: warn on low open file limit (<a class="reference external" href="https://github.com/ceph/ceph/pull/14637">pr#14637</a>, Piotr Dałek)</li>
<li>test: rbd master/slave notify test should test active features (<a class="reference external" href="http://tracker.ceph.com/issues/19692">issue#19692</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14638">pr#14638</a>, Jason Dillaman)</li>
<li>test/rgw: refactor test_multi.py for use in qa suite (<a class="reference external" href="https://github.com/ceph/ceph/pull/14433">pr#14433</a>, Casey Bodley)</li>
<li>tests: add MGR=1 so &#8216;pg dump&#8217; won&#8217;t be blocked (<a class="reference external" href="https://github.com/ceph/ceph/pull/14266">pr#14266</a>, Kefu Chai)</li>
<li>tests: ceph_objectstore_tool.py: kill all daemons (<a class="reference external" href="https://github.com/ceph/ceph/pull/14428">pr#14428</a>, Kefu Chai)</li>
<li>tests: qa: Add reboot case for systemd test (<a class="reference external" href="https://github.com/ceph/ceph/pull/14229">pr#14229</a>, Vasu Kulkarni)</li>
<li>tests: qa/suites: drop &#8216;fs&#8217; facet, and add &#8216;objectstore&#8217; facet where missing (<a class="reference external" href="https://github.com/ceph/ceph/pull/14198">pr#14198</a>, Sage Weil)</li>
<li>tests: qa/tasks: use sudo to check ceph health for systemd test (<a class="reference external" href="https://github.com/ceph/ceph/pull/14464">pr#14464</a>, Vasu Kulkarni)</li>
<li>tests: qa/tasks/workunit.py: use &#8220;overrides&#8221; as the default settings of workunit (<a class="reference external" href="http://tracker.ceph.com/issues/19429">issue#19429</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14281">pr#14281</a>, Kefu Chai)</li>
<li>tests: qa/workunits/ceph-helpers: display rejected string (<a class="reference external" href="https://github.com/ceph/ceph/pull/14468">pr#14468</a>, Kefu Chai)</li>
<li>tests: tasks/workunit.py: when cloning, use &#8211;depth=1 (<a class="reference external" href="https://github.com/ceph/ceph/pull/14214">pr#14214</a>, Dan Mick)</li>
<li>tests: test: add explicit braces to avoid ambiguous ‘else’ and to silence warnings (<a class="reference external" href="https://github.com/ceph/ceph/pull/14472">pr#14472</a>, Jos Collin)</li>
<li>tests: test: objectstore: chain_xattr: fix wrong memset usage to fill buf (<a class="reference external" href="https://github.com/ceph/ceph/pull/14277">pr#14277</a>, Weibing Zhang)</li>
<li>tests: Thrasher: handle &#8220;OSD has the store locked&#8221; gracefully (<a class="reference external" href="http://tracker.ceph.com/issues/19556">issue#19556</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14415">pr#14415</a>, Nathan Cutler)</li>
<li>tests: workunit: request branch when cloning (<a class="reference external" href="https://github.com/ceph/ceph/pull/14260">pr#14260</a>, Kefu Chai, Dan Mick)</li>
<li>tools: ceph-disk: Add fix subcommand (<a class="reference external" href="https://github.com/ceph/ceph/pull/13310">pr#13310</a>, Boris Ranto)</li>
<li>tools: ceph-release-notes: prefixes and pep8 compliance (<a class="reference external" href="https://github.com/ceph/ceph/pull/14156">pr#14156</a>, Nathan Cutler)</li>
<li>tools: ceph-release-notes: strip trailing punctuation (<a class="reference external" href="https://github.com/ceph/ceph/pull/14385">pr#14385</a>, Nathan Cutler)</li>
<li>tools: stop.sh: boilerplate error (don&#8217;t stop mon when stopping mgr) (<a class="reference external" href="https://github.com/ceph/ceph/pull/14461">pr#14461</a>, Dan Mick)</li>
<li>tools: warning, ‘%.16x’ directive output truncated writing 16 bytes into a region of size 9. (<a class="reference external" href="https://github.com/ceph/ceph/pull/14292">pr#14292</a>, Jos Collin)</li>
</ul>
</div>
</div>
<div class="section" id="v12-0-1-luminous-dev">
<h2>v12.0.1 Luminous (dev)<a class="headerlink" href="#v12-0-1-luminous-dev" title="Permalink to this headline">¶</a></h2>
<p>This is the second development checkpoint release of Luminous, the next long term
stable release.</p>
<div class="section" id="major-changes-from-12-0-0">
<h3>Major changes from 12.0.0<a class="headerlink" href="#major-changes-from-12-0-0" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The original librados rados_objects_list_open (C) and objects_begin
(C++) object listing API, deprecated in Hammer, has finally been
removed.  Users of this interface must update their software to use
either the rados_nobjects_list_open (C) and nobjects_begin (C++) API or
the new rados_object_list_begin (C) and object_list_begin (C++) API
before updating the client-side librados library to Luminous.</p>
<p>Object enumeration (via any API) with the latest librados version
and pre-Hammer OSDs is no longer supported.  Note that no in-tree
Ceph services rely on object enumeration via the deprecated APIs, so
only external librados users might be affected.</p>
<p>The newest (and recommended) rados_object_list_begin (C) and
object_list_begin (C++) API is only usable on clusters with the
SORTBITWISE flag enabled (Jewel and later).  (Note that this flag is
required to be set before upgrading beyond Jewel.)</p>
</li>
<li><p class="first">CephFS clients without the &#8216;p&#8217; flag in their authentication capability
string will no longer be able to set quotas or any layout fields.  This
flag previously only restricted modification of the pool and namespace
fields in layouts.</p>
</li>
<li><p class="first">The rados copy-get-classic operation has been removed since it has not been
used by the OSD since before hammer.  It is unlikely any librados user is
using this operation explicitly since there is also the more modern copy-get.</p>
</li>
<li><p class="first">The RGW api for getting object torrent has changed its params from &#8216;get_torrent&#8217;
to &#8216;torrent&#8217; so that it can be compatible with Amazon S3. Now the request for
object torrent is like &#8216;GET /ObjectName?torrent&#8217;.</p>
</li>
</ul>
</div>
<div class="section" id="other-notable-changes">
<h3>Other Notable Changes<a class="headerlink" href="#other-notable-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>auth: &#8216;ceph auth import -i&#8217; overwrites caps, if caps are not specified (<a class="reference external" href="http://tracker.ceph.com/issues/18932">issue#18932</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13468">pr#13468</a>, Vikhyat Umrao)</li>
<li>BitAllocator: delete useless codes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13619">pr#13619</a>, Jie Wang)</li>
<li>Bluestore, NVMEDevice: add the spdk core mask check (<a class="reference external" href="http://github.com/ceph/ceph/pull/14068">pr#14068</a>, optimistyzy)</li>
<li>Bluestore, NVMeDevice: fix the core id for rte_remote_launch (<a class="reference external" href="http://github.com/ceph/ceph/pull/13896">pr#13896</a>, optimistyzy)</li>
<li>bluestore,NVMEDevice: minor error for get slave core (<a class="reference external" href="http://github.com/ceph/ceph/pull/14012">pr#14012</a>, Ziye Yang)</li>
<li>bluestore, NVMEDEVICE: Specify the max io completion in conf (<a class="reference external" href="http://github.com/ceph/ceph/pull/13799">pr#13799</a>, optimistyzy)</li>
<li>brag: count the number of mds in fsmap not in mdsmap (<a class="reference external" href="http://tracker.ceph.com/issues/19192">issue#19192</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13798">pr#13798</a>, Peng Zhang)</li>
<li>build/ops: add psmisc dependency to ceph-base (deb and rpm) (<a class="reference external" href="http://tracker.ceph.com/issues/19129">issue#19129</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13744">pr#13744</a>, Nathan Cutler)</li>
<li>build/ops: make package groups comply with openSUSE guidelines (<a class="reference external" href="http://tracker.ceph.com/issues/19184">issue#19184</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13781">pr#13781</a>, Nathan Cutler)</li>
<li>buildpackages: remove because it does not belong (<a class="reference external" href="http://tracker.ceph.com/issues/18846">issue#18846</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13297">pr#13297</a>, Loic Dachary)</li>
<li>build: remove ceph-qa-suite directory (<a class="reference external" href="http://github.com/ceph/ceph/pull/13880">pr#13880</a>, Casey Bodley)</li>
<li>ceph_common.sh: fix syntax error (<a class="reference external" href="http://tracker.ceph.com/issues/17826">issue#17826</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13419">pr#13419</a>, Dan Mick)</li>
<li>ceph-create-keys: Add connection timeouts. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11995">pr#11995</a>, Owen Synge)</li>
<li>ceph-dencoder: enable bluestore types (<a class="reference external" href="http://github.com/ceph/ceph/pull/13595">pr#13595</a>, Willem Jan Withagen, Kefu Chai)</li>
<li>ceph-detect-init: Add docker detection (<a class="reference external" href="http://github.com/ceph/ceph/pull/13218">pr#13218</a>, Guillaume Abrioux)</li>
<li>ceph-detect-init: Adds Oracle Linux Server and Oracle VM Server detect (<a class="reference external" href="http://github.com/ceph/ceph/pull/13917">pr#13917</a>, Nikita Gerasimov)</li>
<li>ceph-disk: ability to use a different cluster name with dmcrypt (<a class="reference external" href="http://tracker.ceph.com/issues/17821">issue#17821</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11786">pr#11786</a>, Sébastien Han, Erwan Velu)</li>
<li>ceph-disk: dmcrypt activate must use the same cluster as prepare (<a class="reference external" href="http://tracker.ceph.com/issues/17821">issue#17821</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13573">pr#13573</a>, Loic Dachary)</li>
<li>ceph-disk: Fix getting wrong group name when &#8211;setgroup in bluestore (<a class="reference external" href="http://tracker.ceph.com/issues/18955">issue#18955</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13457">pr#13457</a>, craigchi)</li>
<li>ceph-disk: FreeBSD changes to get it working and passing tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/12086">pr#12086</a>, Willem Jan Withagen)</li>
<li>ceph-disk: Reporting /sys directory in get_partition_dev() (<a class="reference external" href="http://github.com/ceph/ceph/pull/14080">pr#14080</a>, Erwan Velu)</li>
<li>ceph-disk: Revert &#8220;Revert &#8220;change get_dmcrypt_key test to support different cluster name&#8221;&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/13600">pr#13600</a>, Loic Dachary)</li>
<li>ceph-disk/tests: Certain partition types do not work on FreeBSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/13560">pr#13560</a>, Willem Jan Withagen)</li>
<li>ceph: do not throw TypeError on connection failure (<a class="reference external" href="http://github.com/ceph/ceph/pull/13268">pr#13268</a>, Kefu Chai)</li>
<li>ceph_fuse: fix daemonization when pid file is non-empty (<a class="reference external" href="http://github.com/ceph/ceph/pull/13532">pr#13532</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>ceph.in: add help for locally-handled commands (<a class="reference external" href="http://github.com/ceph/ceph/pull/13288">pr#13288</a>, Dan Mick)</li>
<li>ceph.in: Fix couple of minor issues on the messages (<a class="reference external" href="http://github.com/ceph/ceph/pull/12797">pr#12797</a>, Dave Chen)</li>
<li>ceph-osd: &#8211;flush-journal: sporadic segfaults on exit (<a class="reference external" href="http://tracker.ceph.com/issues/18820">issue#18820</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13311">pr#13311</a>, Alexey Sheplyakov)</li>
<li>ceph.spec.in, debian/control: Add bc to build dependencies (<a class="reference external" href="http://tracker.ceph.com/issues/18876">issue#18876</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13338">pr#13338</a>, Kyr Shatskyy)</li>
<li>ceph_test_objectstore: tolerate fsck EOPNOTSUPP too (<a class="reference external" href="http://github.com/ceph/ceph/pull/13325">pr#13325</a>, Sage Weil)</li>
<li>ceph_test_rados_api_misc: avoid livelock from PoolCreationRace (<a class="reference external" href="http://github.com/ceph/ceph/pull/13565">pr#13565</a>, Sage Weil)</li>
<li>cleanup: rbd: fix a typo in comment (<a class="reference external" href="http://github.com/ceph/ceph/pull/14049">pr#14049</a>, Dongsheng Yang)</li>
<li>cleanup: resolve compiler warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/13236">pr#13236</a>, Adam C. Emerson)</li>
<li>client: priority to verify the correctness of the &#8220;flag&#8221;  (<a class="reference external" href="http://github.com/ceph/ceph/pull/12897">pr#12897</a>, huanwen ren)</li>
<li>client: remove dead log code (<a class="reference external" href="http://github.com/ceph/ceph/pull/13093">pr#13093</a>, Patrick Donnelly)</li>
<li>client: wait for lastest osdmap when handling set file/dir layout (<a class="reference external" href="http://tracker.ceph.com/issues/18914">issue#18914</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13580">pr#13580</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>cmake: link consumers of libclient with libcommon (<a class="reference external" href="http://tracker.ceph.com/issues/18838">issue#18838</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13394">pr#13394</a>, Kefu Chai)</li>
<li>CMakeLists.txt: suppress unneeded warning about jemalloc (<a class="reference external" href="http://github.com/ceph/ceph/pull/13377">pr#13377</a>, Willem Jan Withagen)</li>
<li>common: add override in common and misc (<a class="reference external" href="http://tracker.ceph.com/issues/18922">issue#18922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13443">pr#13443</a>, liuchang0812)</li>
<li>common: add override in header file (<a class="reference external" href="http://github.com/ceph/ceph/pull/13774">pr#13774</a>, liuchang0812)</li>
<li>common: add override in msg subsystem (<a class="reference external" href="http://github.com/ceph/ceph/pull/13771">pr#13771</a>, liuchang0812)</li>
<li>common/auth: add override in headers (<a class="reference external" href="http://github.com/ceph/ceph/pull/13692">pr#13692</a>, liuchang0812)</li>
<li>common/config_opts.h: Remove deprecated osd_compact_leveldb_on_mount option (<a class="reference external" href="http://tracker.ceph.com/issues/19318">issue#19318</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/14059">pr#14059</a>, Vikhyat Umrao)</li>
<li>common/config_opts: improve rdma buffer size to 128k (<a class="reference external" href="http://github.com/ceph/ceph/pull/13510">pr#13510</a>, Haomai Wang)</li>
<li>common/EventTrace: fix compiler warning. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13659">pr#13659</a>, Jianpeng Ma)</li>
<li>common: Fix clang compilation (<a class="reference external" href="http://github.com/ceph/ceph/pull/13335">pr#13335</a>, Bartłomiej Święcki)</li>
<li>common: fix lockdep vs recursive mutexes (<a class="reference external" href="http://github.com/ceph/ceph/pull/9940">pr#9940</a>, Adam Kupczyk)</li>
<li>common: fix that $host always expands to localhost instead of actual hostname (<a class="reference external" href="http://tracker.ceph.com/issues/11081">issue#11081</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12998">pr#12998</a>, liuchang0812)</li>
<li>common: include/ceph_features.h uses uint64_t, which is in sys/types.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/13339">pr#13339</a>, Willem Jan Withagen)</li>
<li>common/MemoryModel: Bump int to long and drop mallinfo (<a class="reference external" href="http://github.com/ceph/ceph/pull/13453">pr#13453</a>, Xiaoxi Chen)</li>
<li>common, osd, tools: Add histograms to performance counters (<a class="reference external" href="http://github.com/ceph/ceph/pull/12829">pr#12829</a>, Bartłomiej Święcki)</li>
<li>common/perf_counters.: Remove unnecessary judgment (<a class="reference external" href="http://github.com/ceph/ceph/pull/10407">pr#10407</a>, zhang.zezhu)</li>
<li>common: possible lockdep false alarm for ThreadPool lock (<a class="reference external" href="http://tracker.ceph.com/issues/18819">issue#18819</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13258">pr#13258</a>, Mykola Golub)</li>
<li>common: remove n on clog messages (<a class="reference external" href="http://github.com/ceph/ceph/pull/13794">pr#13794</a>, Sage Weil)</li>
<li>common/TracepointProvider: add assert if dlopen error. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13430">pr#13430</a>, Jianpeng Ma)</li>
<li>common/TrackedOp: make TrackedOp::reset_desc() safe (<a class="reference external" href="http://tracker.ceph.com/issues/19110">issue#19110</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13702">pr#13702</a>, Sage Weil)</li>
<li>common: use ref to avoid unnecessary memory copy (<a class="reference external" href="http://tracker.ceph.com/issues/19107">issue#19107</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13689">pr#13689</a>, liuchang0812)</li>
<li>compressor: fix Mutex::Locker used is not correct (<a class="reference external" href="http://github.com/ceph/ceph/pull/13935">pr#13935</a>, hechuang)</li>
<li>compressor/zstd: add zstd to embedded ceph (<a class="reference external" href="http://github.com/ceph/ceph/pull/13159">pr#13159</a>, Bassam Tabbara)</li>
<li>crc32c: optimize aarch64 crc32c implementation (<a class="reference external" href="http://github.com/ceph/ceph/pull/12977">pr#12977</a>, wei xiao)</li>
<li>crush: add devices class that rules can use as a filter (<a class="reference external" href="http://tracker.ceph.com/issues/18943">issue#18943</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13444">pr#13444</a>, Loic Dachary)</li>
<li>crush: add &#8211;dump to crushtool (<a class="reference external" href="http://github.com/ceph/ceph/pull/13726">pr#13726</a>, Loic Dachary)</li>
<li>crush: allow uniform buckets with no items (<a class="reference external" href="http://github.com/ceph/ceph/pull/13521">pr#13521</a>, Loic Dachary)</li>
<li>crush: document tunables and rule step <a href="#id2648"><span class="problematic" id="id2649">set_</span></a> (<a class="reference external" href="http://github.com/ceph/ceph/pull/13722">pr#13722</a>, Loic Dachary)</li>
<li>crush: do is_out test only if we do not collide (<a class="reference external" href="http://github.com/ceph/ceph/pull/13326">pr#13326</a>, xie xingguo)</li>
<li>crush: fix dprintk compilation (<a class="reference external" href="http://github.com/ceph/ceph/pull/13424">pr#13424</a>, Loic Dachary)</li>
<li>debian: Add missing tp files in deb packaging (<a class="reference external" href="http://github.com/ceph/ceph/pull/13526">pr#13526</a>, Ganesh Mahalingam)</li>
<li>debian/control: add ceph-base-dbg (<a class="reference external" href="http://github.com/ceph/ceph/pull/13796">pr#13796</a>, Sage Weil)</li>
<li>debian: drop boost build dependencies (<a class="reference external" href="http://github.com/ceph/ceph/pull/13524">pr#13524</a>, Kefu Chai)</li>
<li>doc: add changelog for v0.94.10 (<a class="reference external" href="http://github.com/ceph/ceph/pull/13572">pr#13572</a>, Abhishek Lekshmanan)</li>
<li>doc: add changelog for v10.2.6 Jewel release (<a class="reference external" href="http://github.com/ceph/ceph/pull/13839">pr#13839</a>, Abhishek Lekshmanan)</li>
<li>doc: add optional argument for build-doc (<a class="reference external" href="http://github.com/ceph/ceph/pull/14058">pr#14058</a>, Kefu Chai)</li>
<li>doc: clarify that &#8220;ms bind ipv6&#8221; disables IPv4 (<a class="reference external" href="http://github.com/ceph/ceph/pull/13317">pr#13317</a>, Ken Dreyer)</li>
<li>doc: crush: API documentation fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13589">pr#13589</a>, Loic Dachary)</li>
<li>doc: crush typo in algorithm description (<a class="reference external" href="http://github.com/ceph/ceph/pull/13661">pr#13661</a>, Loic Dachary)</li>
<li>doc: deletes duplicated word and clarifies an example (<a class="reference external" href="http://github.com/ceph/ceph/pull/13746">pr#13746</a>, Tahia Khan)</li>
<li>doc: document <cite>osd-agent-{max,low}-ops</cite> options (<a class="reference external" href="http://github.com/ceph/ceph/pull/13648">pr#13648</a>, Kefu Chai)</li>
<li>doc: fix a typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/13930">pr#13930</a>, Drunkard Zhang)</li>
<li>doc: fixes a broken hyperlink to RADOS paper in architecture  (<a class="reference external" href="http://github.com/ceph/ceph/pull/13682">pr#13682</a>, Tahia Khan)</li>
<li>doc: Fixes a typo. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13985">pr#13985</a>, Edwin F. Boza)</li>
<li>doc: Fixes parameter name in rbd configuration on openstack havana/icehouse (<a class="reference external" href="http://tracker.ceph.com/issues/17978">issue#17978</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13403">pr#13403</a>, Michael Eischer)</li>
<li>doc:  fixes to silence sphinx-build (<a class="reference external" href="http://github.com/ceph/ceph/pull/13997">pr#13997</a>, Kefu Chai)</li>
<li>doc: fix the links to <a class="reference external" href="http://ceph.com/docs">http://ceph.com/docs</a> (<a class="reference external" href="http://tracker.ceph.com/issues/19090">issue#19090</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13976">pr#13976</a>, Kefu Chai)</li>
<li>doc: Fix typo and grammar in RGW config reference (<a class="reference external" href="http://github.com/ceph/ceph/pull/13356">pr#13356</a>, Ruben Kerkhof)</li>
<li>doc: fix typos in radosgw-admin usage (<a class="reference external" href="http://github.com/ceph/ceph/pull/13936">pr#13936</a>, Enming Zhang)</li>
<li>doc: hammer 0.94.10 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13152">pr#13152</a>, Nathan Cutler)</li>
<li>doc: Have install put manpages in the FreeBSD correct location (<a class="reference external" href="http://github.com/ceph/ceph/pull/13301">pr#13301</a>, Willem Jan Withagen)</li>
<li>doc: improve firewalld instructions (<a class="reference external" href="http://github.com/ceph/ceph/pull/13360">pr#13360</a>, Ken Dreyer)</li>
<li>doc: instructions and guidance for multimds (<a class="reference external" href="http://tracker.ceph.com/issues/19135">issue#19135</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13830">pr#13830</a>, John Spray)</li>
<li>doc: instructions for provisioning OpenStack VMs ad hoc (<a class="reference external" href="http://github.com/ceph/ceph/pull/13368">pr#13368</a>, Nathan Cutler)</li>
<li>doc: Jewel 10.2.6 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13835">pr#13835</a>, Abhishek Lekshmanan)</li>
<li>doc: kernel client os-recommendations update (<a class="reference external" href="http://github.com/ceph/ceph/pull/13369">pr#13369</a>, John Spray, Ilya Dryomov)</li>
<li>doc: mention ENXIO change in the 10.2.6 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13878">pr#13878</a>, Nathan Cutler)</li>
<li>doc: minor changes in fuse client config reference (<a class="reference external" href="http://github.com/ceph/ceph/pull/13065">pr#13065</a>, Barbora Ančincová)</li>
<li>doc: misc minor fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13713">pr#13713</a>, Drunkard Zhang)</li>
<li>doc: Modify Configuring Cinder section (<a class="reference external" href="http://tracker.ceph.com/issues/18840">issue#18840</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13400">pr#13400</a>, Shinobu Kinjo)</li>
<li>doc/release-notes: avoid &#8216;production-ready&#8217; in describing kraken (<a class="reference external" href="http://github.com/ceph/ceph/pull/13675">pr#13675</a>, Sage Weil)</li>
<li>doc: releases update the luminous, hammer, jewel release dates (<a class="reference external" href="http://github.com/ceph/ceph/pull/13584">pr#13584</a>, Abhishek Lekshmanan)</li>
<li>doc: remove duplicated references (<a class="reference external" href="http://github.com/ceph/ceph/pull/13396">pr#13396</a>, Kefu Chai)</li>
<li>doc: remove mentions about mon_osd_min_down_reports (<a class="reference external" href="http://tracker.ceph.com/issues/19016">issue#19016</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13558">pr#13558</a>, Barbora Ančincová)</li>
<li>doc: rgw: make a note abt system users vs normal users (<a class="reference external" href="http://tracker.ceph.com/issues/18889">issue#18889</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13461">pr#13461</a>, Abhishek Lekshmanan)</li>
<li>docs: Fix problems with example code (<a class="reference external" href="http://github.com/ceph/ceph/pull/14007">pr#14007</a>, Brad Hubbard)</li>
<li>doc: Update adminops.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/13893">pr#13893</a>, Chu, Hua-Rong)</li>
<li>doc: Update CephFS disaster recovery documentation (<a class="reference external" href="http://github.com/ceph/ceph/pull/12370">pr#12370</a>, Wido den Hollander)</li>
<li>doc: update links to point to ceph/qa instead of ceph-qa-suite (<a class="reference external" href="http://github.com/ceph/ceph/pull/13397">pr#13397</a>, Jan Fajerski, Nathan Cutler)</li>
<li>doc: Update sample.ceph.conf (<a class="reference external" href="http://github.com/ceph/ceph/pull/13751">pr#13751</a>, Saumay Agrawal)</li>
<li>doc: update to new ceph fs commands (<a class="reference external" href="http://github.com/ceph/ceph/pull/13346">pr#13346</a>, Patrick Donnelly)</li>
<li>doc: v12.0.0 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13281">pr#13281</a>, Abhishek Lekshmanan)</li>
<li>do_freebsd.sh: Remove ENODATA requirement (<a class="reference external" href="http://github.com/ceph/ceph/pull/13626">pr#13626</a>, Willem Jan Withagen)</li>
<li>fix upgrate from hammer when zone doesn&#8217;t have zoneparams (<a class="reference external" href="http://tracker.ceph.com/issues/19231">issue#19231</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13900">pr#13900</a>, Orit Wasserman)</li>
<li>include/denc, kv: silence gcc warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/13458">pr#13458</a>, Kefu Chai)</li>
<li>include/mempool.h: fix Clangs complaint about types (<a class="reference external" href="http://github.com/ceph/ceph/pull/13523">pr#13523</a>, Willem Jan Withagen)</li>
<li>init-ceph: fix ceph user args (<a class="reference external" href="http://github.com/ceph/ceph/pull/13467">pr#13467</a>, Sage Weil)</li>
<li>init-ceph: Make init-ceph work under FreeBSD for init-system (<a class="reference external" href="http://github.com/ceph/ceph/pull/13209">pr#13209</a>, Willem Jan Withagen)</li>
<li>init-ceph: print trailing n in &#8220;status&#8221; output (<a class="reference external" href="http://github.com/ceph/ceph/pull/13351">pr#13351</a>, Kefu Chai)</li>
<li>librados: add override for librados (<a class="reference external" href="http://tracker.ceph.com/issues/18922">issue#18922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13442">pr#13442</a>, liuchang0812)</li>
<li>librados: add override in headers (<a class="reference external" href="http://github.com/ceph/ceph/pull/13775">pr#13775</a>, liuchang0812)</li>
<li>librados: do not expose non-public symbols (<a class="reference external" href="http://github.com/ceph/ceph/pull/13265">pr#13265</a>, Kefu Chai)</li>
<li>librados, osd: clang fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13768">pr#13768</a>, Kefu Chai)</li>
<li>librados: remove legacy object listing API, clean up newer api (<a class="reference external" href="http://github.com/ceph/ceph/pull/13149">pr#13149</a>, Sage Weil)</li>
<li>librados: replace the var name from onack to complete (<a class="reference external" href="http://github.com/ceph/ceph/pull/13857">pr#13857</a>, Pan Liu)</li>
<li>librados: use cursor for nobjects listing (<a class="reference external" href="http://github.com/ceph/ceph/pull/13323">pr#13323</a>, Yehuda Sadeh, Sage Weil)</li>
<li>librbd: add override keyword in header files (<a class="reference external" href="http://tracker.ceph.com/issues/19012">issue#19012</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13536">pr#13536</a>, liuchang0812)</li>
<li>librbd: add SnapshotNamespace to ImageCtx (<a class="reference external" href="http://github.com/ceph/ceph/pull/12970">pr#12970</a>, Victor Denisov)</li>
<li>librbd: add writesame API (<a class="reference external" href="http://github.com/ceph/ceph/pull/12645">pr#12645</a>, Mingxin Liu, Gui Hecheng)</li>
<li>librbd: asynchronous clone state machine (<a class="reference external" href="http://github.com/ceph/ceph/pull/12041">pr#12041</a>, Dongsheng Yang)</li>
<li>librbd: asynchronous image removal state machine (<a class="reference external" href="http://github.com/ceph/ceph/pull/12102">pr#12102</a>, Dongsheng Yang, Venky Shankar)</li>
<li>librbd: eliminate compiler warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/13729">pr#13729</a>, Jason Dillaman)</li>
<li>librbd: fix clang compilation error (<a class="reference external" href="http://tracker.ceph.com/issues/19260">issue#19260</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13926">pr#13926</a>, Mykola Golub)</li>
<li>librbd: fix segfault on EOPNOTSUPP returned while fetching snapshot timestamp (<a class="reference external" href="http://tracker.ceph.com/issues/18839">issue#18839</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13287">pr#13287</a>, Gui Hecheng)</li>
<li>librbd: fix valid coverity warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/14023">pr#14023</a>, Jason Dillaman)</li>
<li>librbd: image create validates that pool supports overwrites (<a class="reference external" href="http://tracker.ceph.com/issues/19081">issue#19081</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13986">pr#13986</a>, Jason Dillaman)</li>
<li>librbd: image-extent cache needs to clip out-of-bounds read buffers (<a class="reference external" href="http://github.com/ceph/ceph/pull/13679">pr#13679</a>, Jason Dillaman)</li>
<li>librbd: Include WorkQueue.h since we use it (<a class="reference external" href="http://tracker.ceph.com/issues/18862">issue#18862</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13322">pr#13322</a>, Boris Ranto)</li>
<li>librbd: rbd ack cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/13791">pr#13791</a>, runsisi)</li>
<li>librbd: relax &#8220;is parent mirrored&#8221; check when enabling mirroring for pool (<a class="reference external" href="http://tracker.ceph.com/issues/19130">issue#19130</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13752">pr#13752</a>, Mykola Golub)</li>
<li>librbd: scatter/gather support for the C API (<a class="reference external" href="http://tracker.ceph.com/issues/13025">issue#13025</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13447">pr#13447</a>, Jason Dillaman)</li>
<li>librbd: simplify image open/close semantics  (<a class="reference external" href="http://github.com/ceph/ceph/pull/13701">pr#13701</a>, Jason Dillaman)</li>
<li>librbd: use &#8216;override&#8217; keyword instead of &#8216;virtual&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/18922">issue#18922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13437">pr#13437</a>, liuchang0812)</li>
<li>mailmap: fix Zhao Chao affiliation. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13413">pr#13413</a>, Zhao Chao)</li>
<li>mailmap: Liu Yang affiliation (<a class="reference external" href="http://github.com/ceph/ceph/pull/13427">pr#13427</a>, LiuYang)</li>
<li>mailmap updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/13309">pr#13309</a>, Loic Dachary)</li>
<li>mailmap: Willem Jan Withagen affiliation (<a class="reference external" href="http://github.com/ceph/ceph/pull/13034">pr#13034</a>, Willem Jan Withagen)</li>
<li>make-srpm: Pass first parameter to make-dist for building SRPM (<a class="reference external" href="http://github.com/ceph/ceph/pull/13480">pr#13480</a>, Wido den Hollander)</li>
<li>man/8/ceph-disk: fix formatting (<a class="reference external" href="http://github.com/ceph/ceph/pull/13969">pr#13969</a>, Kefu Chai)</li>
<li>mds: #11950: Persistent purge queue (<a class="reference external" href="http://tracker.ceph.com/issues/11950">issue#11950</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12786">pr#12786</a>, John Spray)</li>
<li>mds: #18600: Clear out tasks that don&#8217;t make sense from multimds suite (<a class="reference external" href="http://tracker.ceph.com/issues/18600">issue#18600</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13089">pr#13089</a>, John Spray)</li>
<li>mds: Add multimds:thrash sub-suite and fix bugs in thrasher for multimds (<a class="reference external" href="http://tracker.ceph.com/issues/18690">issue#18690</a>, <a class="reference external" href="http://tracker.ceph.com/issues/10792">issue#10792</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13262">pr#13262</a>, Patrick Donnelly)</li>
<li>mds: add override in headers (<a class="reference external" href="http://github.com/ceph/ceph/pull/13691">pr#13691</a>, liuchang0812)</li>
<li>mds: add override in mds subsystem (<a class="reference external" href="http://tracker.ceph.com/issues/18922">issue#18922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13438">pr#13438</a>, liuchang0812)</li>
<li>mds: automate MDS object count tracking (<a class="reference external" href="http://github.com/ceph/ceph/pull/13591">pr#13591</a>, Patrick Donnelly)</li>
<li>mds: extend &#8216;p&#8217; auth cap to cover all vxattr stuff (<a class="reference external" href="http://tracker.ceph.com/issues/19075">issue#19075</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13628">pr#13628</a>, John Spray)</li>
<li>mds: fix handling very fast delete ops (<a class="reference external" href="http://tracker.ceph.com/issues/19245">issue#19245</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13899">pr#13899</a>, John Spray)</li>
<li>mds: fix IO error handling in SessionMap (<a class="reference external" href="http://github.com/ceph/ceph/pull/13464">pr#13464</a>, John Spray)</li>
<li>mds: ignore fs full check for CEPH_MDS_OP_SETFILELOCK (<a class="reference external" href="http://tracker.ceph.com/issues/18953">issue#18953</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13455">pr#13455</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>mds/MDLog.cc Fix perf counter type for jlat (<a class="reference external" href="http://github.com/ceph/ceph/pull/13449">pr#13449</a>, Xiaoxi Chen)</li>
<li>mds: misc multimds fixes (<a class="reference external" href="http://tracker.ceph.com/issues/18717">issue#18717</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18754">issue#18754</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13227">pr#13227</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>mds: print rank as int (<a class="reference external" href="http://tracker.ceph.com/issues/19201">issue#19201</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13816">pr#13816</a>, Patrick Donnelly)</li>
<li>mds: remove some redundant object counters (<a class="reference external" href="http://github.com/ceph/ceph/pull/13704">pr#13704</a>, Patrick Donnelly)</li>
<li>mds: replace C_VoidFn in MDSDaemon with lambdas (<a class="reference external" href="http://github.com/ceph/ceph/pull/13465">pr#13465</a>, John Spray)</li>
<li>mds/StrayManager: avoid reusing deleted inode in StrayManager::_purge_stray_logged (<a class="reference external" href="http://tracker.ceph.com/issues/18877">issue#18877</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13347">pr#13347</a>, Zhi Zhang)</li>
<li>mds: try to avoid false positive heartbeat timeouts (<a class="reference external" href="http://tracker.ceph.com/issues/19118">issue#19118</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13807">pr#13807</a>, John Spray)</li>
<li>messages/MOSDOp: fix pg_t decoding for version &lt;7 decoding (<a class="reference external" href="http://tracker.ceph.com/issues/19005">issue#19005</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13537">pr#13537</a>, Sage Weil)</li>
<li>mgr: add a get_version to the python interface (<a class="reference external" href="http://github.com/ceph/ceph/pull/13669">pr#13669</a>, John Spray)</li>
<li>mgr: add override in headers (<a class="reference external" href="http://github.com/ceph/ceph/pull/13772">pr#13772</a>, liuchang0812)</li>
<li>mgr: add override in mgr subsystem (<a class="reference external" href="http://tracker.ceph.com/issues/18922">issue#18922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13436">pr#13436</a>, liuchang0812)</li>
<li>mgr/MgrClient: use unique_ptr for MgrClient::session  (<a class="reference external" href="http://tracker.ceph.com/issues/19097">issue#19097</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13685">pr#13685</a>, Kefu Chai)</li>
<li>mgr: use unique_ptr for MgrStandby::active_mgr (<a class="reference external" href="http://github.com/ceph/ceph/pull/13667">pr#13667</a>, John Spray)</li>
<li>misc: SCA and Coverity Fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13208">pr#13208</a>, Danny Al-Gaaf)</li>
<li>mon: add override in headers (<a class="reference external" href="http://github.com/ceph/ceph/pull/13693">pr#13693</a>, liuchang0812)</li>
<li>mon: add override in mon subsystem (<a class="reference external" href="http://tracker.ceph.com/issues/18922">issue#18922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13440">pr#13440</a>, liuchang0812)</li>
<li>mon: add warn info for osds were removed from osdmap but still kept in crushmap (<a class="reference external" href="http://github.com/ceph/ceph/pull/12273">pr#12273</a>, song baisen)</li>
<li>mon: avoid start election twice when quorum enter (<a class="reference external" href="http://github.com/ceph/ceph/pull/10150">pr#10150</a>, song baisen)</li>
<li>mon:  crush straw_calc_version value is 0 or 1 not 0 to 2. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13554">pr#13554</a>, song baisen)</li>
<li>mon: detect existing fs and duplicate name earlier (<a class="reference external" href="http://tracker.ceph.com/issues/18964">issue#18964</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13471">pr#13471</a>, Patrick Donnelly)</li>
<li>mon: drop useless assignment statements (<a class="reference external" href="http://github.com/ceph/ceph/pull/13958">pr#13958</a>, wangzhengyong)</li>
<li>mon: enable luminous monmap feature on full quorum (<a class="reference external" href="http://github.com/ceph/ceph/pull/13379">pr#13379</a>, Joao Eduardo Luis)</li>
<li>mon: fix force_pg_create pg stuck in creating bug (<a class="reference external" href="http://tracker.ceph.com/issues/18298">issue#18298</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12539">pr#12539</a>, Sage Weil)</li>
<li>mon: in output of &#8220;ceph osd df tree&#8221;, display &#8220;-&#8221;, not &#8220;0&#8221;,  for pg amount of a bucket (<a class="reference external" href="http://github.com/ceph/ceph/pull/13015">pr#13015</a>, Chuanhong Hong)</li>
<li>mon/MDSMonitor: remove create_new_fs from header (<a class="reference external" href="http://github.com/ceph/ceph/pull/14019">pr#14019</a>, Henrik Korkuc)</li>
<li>mon/MonClient: discard stray messages from non-acitve conns (<a class="reference external" href="http://tracker.ceph.com/issues/19015">issue#19015</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13656">pr#13656</a>, Kefu Chai)</li>
<li>mon/MonClient: don&#8217;t return zero global_id (<a class="reference external" href="http://tracker.ceph.com/issues/19134">issue#19134</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13853">pr#13853</a>, &#8220;Yan, Zheng&#8221;, Kefu Chai)</li>
<li>mon/MonClient: hunt monitors in parallel (<a class="reference external" href="http://tracker.ceph.com/issues/16091">issue#16091</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11128">pr#11128</a>, Steven Dieffenbach, Kefu Chai)</li>
<li>mon/MonClient: persist global_id across re-connecting (<a class="reference external" href="http://tracker.ceph.com/issues/18968">issue#18968</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13550">pr#13550</a>, Kefu Chai)</li>
<li>mon/MonClient: random all ranks then pick first_n (<a class="reference external" href="http://github.com/ceph/ceph/pull/13479">pr#13479</a>, Mingxin Liu)</li>
<li>mon,osd: luminous feature bits, require flags, upgrade gates (<a class="reference external" href="http://github.com/ceph/ceph/pull/13278">pr#13278</a>, Sage Weil)</li>
<li>mon: OSDMonitor add check only concern our self cluster command (<a class="reference external" href="http://github.com/ceph/ceph/pull/10309">pr#10309</a>, song baisen)</li>
<li>mon/OSDMonitor: fix dividing by zero in OSDUtilizationDumper (<a class="reference external" href="http://github.com/ceph/ceph/pull/13531">pr#13531</a>, Mingxin Liu)</li>
<li>mon/OSDMonitor: make mapping job behave if mon_osd_prime_pg_temp = false (<a class="reference external" href="http://tracker.ceph.com/issues/19020">issue#19020</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13574">pr#13574</a>, Sage Weil)</li>
<li>mon/OSDMonitor: remove trivial PGMap dependency for &#8216;osd primary-temp&#8217; command (<a class="reference external" href="http://github.com/ceph/ceph/pull/13616">pr#13616</a>, Sage Weil)</li>
<li>mon/OSDMonitor: some cleanup for reweight-by-pg (<a class="reference external" href="http://github.com/ceph/ceph/pull/13462">pr#13462</a>, Haodong Tang)</li>
<li>mon,osd: new mechanism for managing full and nearfull OSDs for luminous (<a class="reference external" href="http://github.com/ceph/ceph/pull/13615">pr#13615</a>, Sage Weil)</li>
<li>mon/PGMap: factor mon_osd_full_ratio into MAX AVAIL calc (<a class="reference external" href="http://tracker.ceph.com/issues/18522">issue#18522</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12923">pr#12923</a>, Sage Weil)</li>
<li>mon: PGMonitor add check only concern our self cluster command (<a class="reference external" href="http://github.com/ceph/ceph/pull/9976">pr#9976</a>, song baisen)</li>
<li>mon/PGMonitor: rm nonused function (<a class="reference external" href="http://github.com/ceph/ceph/pull/14033">pr#14033</a>, Wei Jin)</li>
<li>mon: refactor MDSMonitor command handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/13581">pr#13581</a>, John Spray)</li>
<li>mon: remove the redudant jugement in paxosservice is_writeable function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10240">pr#10240</a>, song baisen)</li>
<li>mon: remove unnecessary function declaration (<a class="reference external" href="http://github.com/ceph/ceph/pull/13762">pr#13762</a>, liuchang0812)</li>
<li>mon: restructure prime_pg_temp around a full pg mapping calculated on multiple CPUs (<a class="reference external" href="http://github.com/ceph/ceph/pull/13207">pr#13207</a>, Sage Weil)</li>
<li>mon: smooth io/recovery stats over longer period (<a class="reference external" href="http://github.com/ceph/ceph/pull/13249">pr#13249</a>, Sage Weil)</li>
<li>mon: Update OSDMon.cc comments (<a class="reference external" href="http://github.com/ceph/ceph/pull/13750">pr#13750</a>, Saumay Agrawal)</li>
<li>msg/async: avoid lossy connection sending ack message (<a class="reference external" href="http://github.com/ceph/ceph/pull/13700">pr#13700</a>, Haomai Wang)</li>
<li>msg/async: cleanup code. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13304">pr#13304</a>, Jianpeng Ma)</li>
<li>msg/async: fix crash that writing char to nonblock-fd gets EAGAIN in EventCenter::wakeup (<a class="reference external" href="http://github.com/ceph/ceph/pull/13822">pr#13822</a>, liuchang0812)</li>
<li>msg/AsyncMessenger: remove unused method (<a class="reference external" href="http://github.com/ceph/ceph/pull/10125">pr#10125</a>, Michal Jarzabek)</li>
<li>msg/async/rdma: add log to show correct destruct queuepair (<a class="reference external" href="http://github.com/ceph/ceph/pull/13412">pr#13412</a>, Haomai Wang)</li>
<li>msg/async/rdma: add perf counters to RDMA backend (<a class="reference external" href="http://github.com/ceph/ceph/pull/13484">pr#13484</a>, Haomai Wang)</li>
<li>msg/async/rdma: check if exp verbs avail (<a class="reference external" href="http://github.com/ceph/ceph/pull/13391">pr#13391</a>, Oren Duer, Adir Lev)</li>
<li>msg/async/rdma: check ulimit (<a class="reference external" href="http://github.com/ceph/ceph/pull/13655">pr#13655</a>, Sarit Zubakov, Adir Lev)</li>
<li>msg/async/rdma: cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/13509">pr#13509</a>, Haomai Wang)</li>
<li>msg/async/rdma: compile with rdma as default (<a class="reference external" href="http://github.com/ceph/ceph/pull/13901">pr#13901</a>, DanielBar-On)</li>
<li>msg/async/rdma: destroy QueuePair if needed (<a class="reference external" href="http://github.com/ceph/ceph/pull/13810">pr#13810</a>, Haomai Wang)</li>
<li>msg/async/rdma: don&#8217;t need to delete event when tcp connection isn&#8217;t … (<a class="reference external" href="http://github.com/ceph/ceph/pull/13528">pr#13528</a>, Haomai Wang)</li>
<li>msg/async/rdma: Fix broken compilation (<a class="reference external" href="http://github.com/ceph/ceph/pull/13603">pr#13603</a>, Sarit Zubakov)</li>
<li>msg/async/rdma: fix outstanding queuepair when destruct RDMAStack (<a class="reference external" href="http://github.com/ceph/ceph/pull/13905">pr#13905</a>, Haomai Wang)</li>
<li>msg/async/rdma: fix potential racing connection usage (<a class="reference external" href="http://github.com/ceph/ceph/pull/13738">pr#13738</a>, Haomai Wang)</li>
<li>msg/async/rdma: Introduce Device.{cc,h} (<a class="reference external" href="http://github.com/ceph/ceph/pull/14001">pr#14001</a>, Amir Vadai)</li>
<li>msg/async/rdma: make Infiniband can be forkable (<a class="reference external" href="http://github.com/ceph/ceph/pull/13525">pr#13525</a>, Haomai Wang)</li>
<li>msg/async/rdma: move active_queue_pairs perf counter dec to polling (<a class="reference external" href="http://github.com/ceph/ceph/pull/13716">pr#13716</a>, DanielBar-On)</li>
<li>msg/async/rdma: Print error only on ENOMEM (<a class="reference external" href="http://github.com/ceph/ceph/pull/13538">pr#13538</a>, Sarit Zubakov)</li>
<li>msg/async/rdma: refactor tx handle flow to get rid of locks (<a class="reference external" href="http://github.com/ceph/ceph/pull/13680">pr#13680</a>, Haomai Wang)</li>
<li>msg/async/rdma: rename chunk_size to buffer_size (<a class="reference external" href="http://github.com/ceph/ceph/pull/13666">pr#13666</a>, Adir Lev)</li>
<li>msg/async/rdma: update destructor message (<a class="reference external" href="http://github.com/ceph/ceph/pull/13539">pr#13539</a>, Sarit Zubakov)</li>
<li>msg/async/rdma: zero wqe inline (<a class="reference external" href="http://github.com/ceph/ceph/pull/13392">pr#13392</a>, Adir Lev)</li>
<li>msg/async/rdm: fix leak when existing failure in ip network (<a class="reference external" href="http://github.com/ceph/ceph/pull/13435">pr#13435</a>, Haomai Wang)</li>
<li>msg/async: remove useless close function (<a class="reference external" href="http://github.com/ceph/ceph/pull/13286">pr#13286</a>, liuchang0812)</li>
<li>msg/async: set thread name for msgr worker (<a class="reference external" href="http://github.com/ceph/ceph/pull/13699">pr#13699</a>, Haomai Wang)</li>
<li>msg/async/Stack.cc: use of pthread_setname_np() needs compat.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/13825">pr#13825</a>, Willem Jan Withagen)</li>
<li>msg/async: support IPv6 QoS. (<a class="reference external" href="http://tracker.ceph.com/issues/18887">issue#18887</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18928">issue#18928</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13418">pr#13418</a>, Robin H. Johnson)</li>
<li>msg: end parameter in entity_addr_t::parse is optional (<a class="reference external" href="http://github.com/ceph/ceph/pull/13650">pr#13650</a>, Mykola Golub)</li>
<li>msg: Fix calls to Messenger::create with new parameter (<a class="reference external" href="http://github.com/ceph/ceph/pull/13329">pr#13329</a>, Sarit Zubakov)</li>
<li>msg, messages: coverity fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13473">pr#13473</a>, Kefu Chai)</li>
<li>msg: no need to pass supported features to Messenger::Policy ctor (<a class="reference external" href="http://github.com/ceph/ceph/pull/13785">pr#13785</a>, Sage Weil)</li>
<li>msg/simple: fix missing unlock when already bind (<a class="reference external" href="http://github.com/ceph/ceph/pull/13267">pr#13267</a>, Haomai Wang)</li>
<li>msg/simple/Pipe: support IPv6 QoS. (<a class="reference external" href="http://tracker.ceph.com/issues/18887">issue#18887</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13370">pr#13370</a>, Robin H. Johnson)</li>
<li>msg/simple/Pipe:the returned value for do_recv unequal to zero (<a class="reference external" href="http://github.com/ceph/ceph/pull/10272">pr#10272</a>, zhang.zezhu)</li>
<li>os/aio: remove the redundant memset(struct iocb) (<a class="reference external" href="http://github.com/ceph/ceph/pull/13662">pr#13662</a>, Jianpeng Ma)</li>
<li>os/blestore/NVMEDevice: fix the I/O logic for read (<a class="reference external" href="http://github.com/ceph/ceph/pull/13971">pr#13971</a>, optimistyzy)</li>
<li>os/bluestore: add bluestore_prefer_wal_size option (<a class="reference external" href="http://github.com/ceph/ceph/pull/13217">pr#13217</a>, Sage Weil)</li>
<li>os/bluestore: add flush_store_cache cmd (<a class="reference external" href="http://github.com/ceph/ceph/pull/13428">pr#13428</a>, xie xingguo)</li>
<li>os/bluestore: add more perf_counters to BlueStore (<a class="reference external" href="http://github.com/ceph/ceph/pull/13274">pr#13274</a>, Igor Fedotov)</li>
<li>os/bluestore: add new garbage collector (<a class="reference external" href="http://github.com/ceph/ceph/pull/12144">pr#12144</a>, Igor Fedotov)</li>
<li>os/bluestore: add &#8220;_&#8221; prefix for internal methods (<a class="reference external" href="http://github.com/ceph/ceph/pull/13409">pr#13409</a>, xie xingguo)</li>
<li>os/bluestore/Allocator: drop unused return value in release function (<a class="reference external" href="http://github.com/ceph/ceph/pull/13913">pr#13913</a>, wangzhengyong)</li>
<li>os/bluestore/BitAllocator: fix bug of checking required blocks (<a class="reference external" href="http://github.com/ceph/ceph/pull/13470">pr#13470</a>, wangzhengyong)</li>
<li>os/bluestore/BitMapAllocator: rm unused variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/13599">pr#13599</a>, Jie Wang)</li>
<li>os/bluestore/BlueStore.cc:remove unuse code in _open_bdev() (<a class="reference external" href="http://github.com/ceph/ceph/pull/13553">pr#13553</a>, yonghengdexin735)</li>
<li>os/bluestore: cleanup, got rid of table reference of 1&lt;&lt;x (<a class="reference external" href="http://github.com/ceph/ceph/pull/13718">pr#13718</a>, Adam Kupczyk)</li>
<li>os/bluestore: default 16KB min_alloc_size on ssd (<a class="reference external" href="http://github.com/ceph/ceph/pull/14076">pr#14076</a>, Sage Weil)</li>
<li>os/bluestore: do not use nullptr to calc the size of bluestore_pextent_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/14030">pr#14030</a>, Kefu Chai)</li>
<li>os/bluestore: enable SSE-assisted CRC32 calculations in RocksDB (<a class="reference external" href="http://github.com/ceph/ceph/pull/13741">pr#13741</a>, Radoslaw Zarzynski)</li>
<li>os/bluestore: fix a bug in small write handling on sharded extents (<a class="reference external" href="http://github.com/ceph/ceph/pull/13728">pr#13728</a>, Igor Fedotov)</li>
<li>os/bluestore: fix bug in aio_read() (<a class="reference external" href="http://github.com/ceph/ceph/pull/13511">pr#13511</a>, tangwenjun)</li>
<li>os/bluestore: fix bug in _open_super_meta() (<a class="reference external" href="http://github.com/ceph/ceph/pull/13559">pr#13559</a>, Taeksang Kim)</li>
<li>os/bluestore: fix bugs in bluefs and bdev flush (<a class="reference external" href="http://tracker.ceph.com/issues/19250">issue#19250</a>, <a class="reference external" href="http://tracker.ceph.com/issues/19251">issue#19251</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13911">pr#13911</a>, Sage Weil)</li>
<li>os/bluestore: fix coredump in register_ctrlr() (<a class="reference external" href="http://github.com/ceph/ceph/pull/13556">pr#13556</a>, tangwenjun)</li>
<li>os/bluestore: fix deferred writes; improve flush (<a class="reference external" href="http://github.com/ceph/ceph/pull/13888">pr#13888</a>, Sage Weil)</li>
<li>os/bluestore: fix wal-queue bytes-counter to keep pace with others (<a class="reference external" href="http://github.com/ceph/ceph/pull/13382">pr#13382</a>, xie xingguo)</li>
<li>os/bluestore: leverage the type knowledge in BitMapAreaLeaf. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13736">pr#13736</a>, Radoslaw Zarzynski)</li>
<li>os/bluestore: &#8220;noid&#8221; is not always necessary in clone op (<a class="reference external" href="http://github.com/ceph/ceph/pull/13769">pr#13769</a>, wangzhengyong)</li>
<li>os/bluestore: partial reshard support (<a class="reference external" href="http://github.com/ceph/ceph/pull/13162">pr#13162</a>, Sage Weil)</li>
<li>os/bluestore: remove CephContext* from BmapEntry. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13651">pr#13651</a>, Radoslaw Zarzynski)</li>
<li>os/bluestore: remove unneeded indirection in BitMapZone. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13743">pr#13743</a>, Radoslaw Zarzynski)</li>
<li>os/bluestore: remove unused local variable &#8220;pos&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/13715">pr#13715</a>, wangzhengyong)</li>
<li>os/bluestore rm unused variable in aio_read() (<a class="reference external" href="http://github.com/ceph/ceph/pull/13530">pr#13530</a>, tangwenjun)</li>
<li>os/bluestore: silence gcc warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/14028">pr#14028</a>, Kefu Chai)</li>
<li>os/bluestore: some cleanup  (<a class="reference external" href="http://github.com/ceph/ceph/pull/13390">pr#13390</a>, liuchang0812)</li>
<li>os/bluestore,test/ceph_test_objectstore: silence gcc warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/13924">pr#13924</a>, Kefu Chai)</li>
<li>os/bluestore: the exhausted check in BitMapZone can be lock-less. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13653">pr#13653</a>, Radoslaw Zarzynski)</li>
<li>osd: adding PerfCounters for backoff throttle (<a class="reference external" href="http://github.com/ceph/ceph/pull/13017">pr#13017</a>, Chuanhong Wang)</li>
<li>osd:  add is_split check before _start_split (<a class="reference external" href="http://github.com/ceph/ceph/pull/13307">pr#13307</a>, song baisen)</li>
<li>osd: add override in osd subsystem (<a class="reference external" href="http://tracker.ceph.com/issues/18922">issue#18922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13439">pr#13439</a>, liuchang0812)</li>
<li>osd: add snap trim reservation and re-implement osd_snap_trim_sleep (<a class="reference external" href="http://github.com/ceph/ceph/pull/13594">pr#13594</a>, Samuel Just)</li>
<li>osdc: clean up osd_command/start_mon_command interfaces (<a class="reference external" href="http://github.com/ceph/ceph/pull/13727">pr#13727</a>, John Spray)</li>
<li>osdc: fix osdc_osd_seesion perf counter. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13478">pr#13478</a>, Xiaoxi Chen)</li>
<li>osd: change a few messages at level 0 and 1; change default level to 1/5 (<a class="reference external" href="http://github.com/ceph/ceph/pull/13407">pr#13407</a>, Sage Weil)</li>
<li>osd: clarify REQUIRE_LUMINOUS error message (<a class="reference external" href="http://github.com/ceph/ceph/pull/13363">pr#13363</a>, Josh Durgin)</li>
<li>osdc/Objecter: fix bugs in explicit naming of op spg_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/13534">pr#13534</a>, Sage Weil)</li>
<li>osdc/Objecter: fix possible OSDSession leak on wrong connection (<a class="reference external" href="http://github.com/ceph/ceph/pull/13365">pr#13365</a>, xie xingguo)</li>
<li>osdc/Objecter: resend RWORDERED ops on full (<a class="reference external" href="http://tracker.ceph.com/issues/19133">issue#19133</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13759">pr#13759</a>, Sage Weil)</li>
<li>osd: constify OpRequest::get_req(); fix a few cases of operator&lt;&lt; vs mutated message races (<a class="reference external" href="http://github.com/ceph/ceph/pull/13545">pr#13545</a>, Sage Weil)</li>
<li>osd: correct epoch setting of osd boot msg (<a class="reference external" href="http://github.com/ceph/ceph/pull/12623">pr#12623</a>, Mingxin Liu)</li>
<li>osd: correct the func name in execute_ctx() log messages (<a class="reference external" href="http://github.com/ceph/ceph/pull/13582">pr#13582</a>, Gu Zhongyan)</li>
<li>osd: debug con in ms_handle_connect (<a class="reference external" href="http://github.com/ceph/ceph/pull/13540">pr#13540</a>, Sage Weil)</li>
<li>osd/: don&#8217;t leak context for Blessed*Context or RecoveryQueueAsync (<a class="reference external" href="http://tracker.ceph.com/issues/18809">issue#18809</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13342">pr#13342</a>, Samuel Just)</li>
<li>osd: don&#8217;t share osdmap with objecter when preboot (<a class="reference external" href="http://tracker.ceph.com/issues/15025">issue#15025</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13946">pr#13946</a>, Mingxin Liu)</li>
<li>osd: don&#8217;t use ORDERSNAP for flush; always request/send ondisk ack (<a class="reference external" href="http://tracker.ceph.com/issues/18961">issue#18961</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13570">pr#13570</a>, Samuel Just)</li>
<li>OSD: drop parameter t from merge_log() (<a class="reference external" href="http://github.com/ceph/ceph/pull/13923">pr#13923</a>, xie xingguo)</li>
<li>osd: drop support for listing objects at a given snap (<a class="reference external" href="http://github.com/ceph/ceph/pull/13398">pr#13398</a>, Sage Weil)</li>
<li>osd/ECBackend: drop duplicated pending_commit field from &lt;&lt; operator (<a class="reference external" href="http://github.com/ceph/ceph/pull/13665">pr#13665</a>, xie xingguo)</li>
<li>osd: fall back to failsafe threshold if osdmap doesn&#8217;t set [near]full (<a class="reference external" href="http://github.com/ceph/ceph/pull/14004">pr#14004</a>, Sage Weil)</li>
<li>osd: faster dispatch (<a class="reference external" href="http://github.com/ceph/ceph/pull/13343">pr#13343</a>, Sage Weil)</li>
<li>osd: fix a signed/unsigned warning in PG (<a class="reference external" href="http://github.com/ceph/ceph/pull/13922">pr#13922</a>, Greg Farnum)</li>
<li>osd: fix func name in log produced by handle_pg_peering_evt() (<a class="reference external" href="http://github.com/ceph/ceph/pull/13801">pr#13801</a>, xie xingguo)</li>
<li>osd: fix stat sum update of recovery pushing (<a class="reference external" href="http://github.com/ceph/ceph/pull/13328">pr#13328</a>, Zhiqiang Wang)</li>
<li>osd: fix the setting of soid in sub_op_push (<a class="reference external" href="http://github.com/ceph/ceph/pull/13353">pr#13353</a>, Zhiqiang Wang)</li>
<li>osd: have clients resend ops on pg split (<a class="reference external" href="http://github.com/ceph/ceph/pull/13235">pr#13235</a>, Sage Weil)</li>
<li>osd: kill sortbitwise (<a class="reference external" href="http://github.com/ceph/ceph/pull/13321">pr#13321</a>, Sage Weil)</li>
<li>osd,osdc: pg and osd-based backoff (<a class="reference external" href="http://github.com/ceph/ceph/pull/12342">pr#12342</a>, Sage Weil)</li>
<li>osd: osd discussion docs (<a class="reference external" href="http://github.com/ceph/ceph/pull/13344">pr#13344</a>, Greg Farnum)</li>
<li>osd/osd_internal_types: wake snaptrimmer on put_read lock, too (<a class="reference external" href="http://tracker.ceph.com/issues/19131">issue#19131</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13755">pr#13755</a>, Sage Weil)</li>
<li>osd/OSDMap: don&#8217;t set weight to IN when OSD is destroyed (<a class="reference external" href="http://tracker.ceph.com/issues/19119">issue#19119</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13730">pr#13730</a>, Ilya Dryomov)</li>
<li>osd/PG: conditionally retry on receiving pg-notify when Primary is Incomplete (<a class="reference external" href="http://github.com/ceph/ceph/pull/13942">pr#13942</a>, xie xingguo)</li>
<li>osd/PGLog: fix index for parent and child log on split (<a class="reference external" href="http://tracker.ceph.com/issues/18975">issue#18975</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13493">pr#13493</a>, Sage Weil)</li>
<li>osd/PG: restrict want_acting to up+acting on recovery completion (<a class="reference external" href="http://tracker.ceph.com/issues/18929">issue#18929</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13420">pr#13420</a>, Sage Weil)</li>
<li>osd/Pool: Disallow enabling &#8216;hashpspool&#8217; option to a pool without  &#8216;&#8211;yes-i-really-mean-it&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/18468">issue#18468</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13406">pr#13406</a>, Vikhyat Umrao)</li>
<li>osd/PrimaryLogPG: remove duplicated code. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13894">pr#13894</a>, Jianpeng Ma)</li>
<li>osd: remove copy-get-classic (<a class="reference external" href="http://github.com/ceph/ceph/pull/13547">pr#13547</a>, Sage Weil)</li>
<li>osd: remove sortbitwise thrashing (<a class="reference external" href="http://github.com/ceph/ceph/pull/13296">pr#13296</a>, Sage Weil)</li>
<li>osd: replace object_info_t::operator=() with decode() (<a class="reference external" href="http://github.com/ceph/ceph/pull/13938">pr#13938</a>, tang.jin)</li>
<li>osd: small clear up and optimize on _recover_now and should_share_map function (<a class="reference external" href="http://github.com/ceph/ceph/pull/13476">pr#13476</a>, song baisen)</li>
<li>osd: the osd should not share map with others when it is in stopping state (<a class="reference external" href="http://github.com/ceph/ceph/pull/13668">pr#13668</a>, song baisen)</li>
<li>osd: various changes for preventing internal ENOSPC condition (<a class="reference external" href="http://tracker.ceph.com/issues/16878">issue#16878</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13425">pr#13425</a>, David Zafman)</li>
<li>osd: we know the definite epoch of marking down (<a class="reference external" href="http://github.com/ceph/ceph/pull/13121">pr#13121</a>, Mingxin Liu)</li>
<li>os/filestore: avoid unnecessary copy in filestore::_do_transaction (<a class="reference external" href="http://github.com/ceph/ceph/pull/12578">pr#12578</a>, Yunchuan Wen)</li>
<li>os/filestore: debug which omap keys are set (<a class="reference external" href="http://tracker.ceph.com/issues/19067">issue#19067</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13671">pr#13671</a>, Sage Weil)</li>
<li>os/filestore/FileJournal: bufferlist rebuild (<a class="reference external" href="http://github.com/ceph/ceph/pull/13980">pr#13980</a>, Jianpeng Ma)</li>
<li>os/filestore/FileStore.cc: remove unneeded loop (<a class="reference external" href="http://github.com/ceph/ceph/pull/12177">pr#12177</a>, Li Wang)</li>
<li>os/filestore/HashIndex: be loud about splits (<a class="reference external" href="http://tracker.ceph.com/issues/18235">issue#18235</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12421">pr#12421</a>, Dan van der Ster)</li>
<li>os/filestore: use existing variable for same func. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13742">pr#13742</a>, Pan Liu)</li>
<li>os/FuseStore: include &lt;functional&gt; header in src/os/FuseStore.h for gcc 7.x (<a class="reference external" href="http://github.com/ceph/ceph/pull/13454">pr#13454</a>, Jos Collin)</li>
<li>PendingReleaseNotes: note the fuse fstab format change (<a class="reference external" href="http://github.com/ceph/ceph/pull/13259">pr#13259</a>, John Spray)</li>
<li>pybind/ceph_daemon: use small chunk for recv (<a class="reference external" href="http://github.com/ceph/ceph/pull/13804">pr#13804</a>, Xiaoxi Chen)</li>
<li>pybind: cephfs should be built without librados / python-rados (<a class="reference external" href="http://github.com/ceph/ceph/pull/13431">pr#13431</a>, Kefu Chai)</li>
<li>pybind: fix docstring for librbd Python binding (<a class="reference external" href="http://github.com/ceph/ceph/pull/13977">pr#13977</a>, runsisi)</li>
<li>qa: add supported distros for ceph-ansible (<a class="reference external" href="http://github.com/ceph/ceph/pull/13711">pr#13711</a>, Tamil Muthamizhan)</li>
<li>qa: add workunit to test krbd data-pool support (<a class="reference external" href="http://github.com/ceph/ceph/pull/13482">pr#13482</a>, Ilya Dryomov)</li>
<li>qa: fix race in Mount.open_background (<a class="reference external" href="http://tracker.ceph.com/issues/18661">issue#18661</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13137">pr#13137</a>, John Spray)</li>
<li>qa: handle SSHException in logrotate (<a class="reference external" href="http://github.com/ceph/ceph/pull/13359">pr#13359</a>, John Spray)</li>
<li>qa/rados/upgrade/jewel-x-singleton: run luminous.yaml at the end (<a class="reference external" href="http://github.com/ceph/ceph/pull/13378">pr#13378</a>, Sage Weil)</li>
<li>qa/suites/{ceph-ansible,rest}: OpenStack volumes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13672">pr#13672</a>, Zack Cerza)</li>
<li>qa/suites/ceph-deploy: Drop OpenStack volume count (<a class="reference external" href="http://github.com/ceph/ceph/pull/13706">pr#13706</a>, Zack Cerza)</li>
<li>qa/suites: fix upgrade tests vs cluster full thrashing (<a class="reference external" href="http://github.com/ceph/ceph/pull/13852">pr#13852</a>, Sage Weil)</li>
<li>qa/suites/fs: Add openstack volume configuration (<a class="reference external" href="http://github.com/ceph/ceph/pull/13640">pr#13640</a>, Zack Cerza)</li>
<li>qa/suites/kcephfs: Openstack volume configuration (<a class="reference external" href="http://github.com/ceph/ceph/pull/13634">pr#13634</a>, Zack Cerza)</li>
<li>qa/suites/{knfs,hadoop,samba}: OpenStack volume configuration (<a class="reference external" href="http://github.com/ceph/ceph/pull/13637">pr#13637</a>, Zack Cerza)</li>
<li>qa/suites/krbd: Add openstack volume configuration (<a class="reference external" href="http://github.com/ceph/ceph/pull/13631">pr#13631</a>, Zack Cerza)</li>
<li>qa/suites/rados/objectstore: enable experimental features for testing bluestore (<a class="reference external" href="http://github.com/ceph/ceph/pull/13456">pr#13456</a>, Kefu Chai, Dan Mick)</li>
<li>qa/suites/rgw: Add openstack volume configuration (<a class="reference external" href="http://github.com/ceph/ceph/pull/13611">pr#13611</a>, Zack Cerza)</li>
<li>qa/suites/rgw/thrash: add osd thrashing tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/13445">pr#13445</a>, Sage Weil)</li>
<li>qa/suites/upgrade: add tiering test to hammer-jewel-x (<a class="reference external" href="http://tracker.ceph.com/issues/19185">issue#19185</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13805">pr#13805</a>, Kefu Chai)</li>
<li>qa/suites/upgrade/kraken-x: do not thrash cluster full during upgrade (<a class="reference external" href="http://tracker.ceph.com/issues/19232">issue#19232</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13892">pr#13892</a>, Dan Mick)</li>
<li>qa/suites/upgrade/kraken-x (<a class="reference external" href="http://github.com/ceph/ceph/pull/13517">pr#13517</a>, Sage Weil, Yuri Weinstein)</li>
<li>qa/suite/upgrade/jewel-x: various fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/13734">pr#13734</a>, Sage Weil)</li>
<li>qa/tasks/ceph.py: debug which pgs aren&#8217;t scrubbing (<a class="reference external" href="http://github.com/ceph/ceph/pull/13649">pr#13649</a>, Sage Weil)</li>
<li>qa/tasks: force umount during kclient teardown (<a class="reference external" href="http://tracker.ceph.com/issues/18663">issue#18663</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13099">pr#13099</a>, John Spray)</li>
<li>qa/tasks/rgw.py: start Apache before RadosGW. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13846">pr#13846</a>, Radoslaw Zarzynski)</li>
<li>qa/tasks/workunit: use ceph.git as an alternative of ceph-ci.git for cloning workunit (<a class="reference external" href="http://github.com/ceph/ceph/pull/13663">pr#13663</a>, Kefu Chai)</li>
<li>qa/tasks/workunit: use the suite repo for cloning workunit (<a class="reference external" href="http://github.com/ceph/ceph/pull/13452">pr#13452</a>, Kefu Chai)</li>
<li>qa/tasks/workunit: use the suite repo for cloning workunit (<a class="reference external" href="http://github.com/ceph/ceph/pull/13625">pr#13625</a>, Kefu Chai)</li>
<li>qa/workunits/rados/test.sh: print test name when it fails (<a class="reference external" href="http://github.com/ceph/ceph/pull/13264">pr#13264</a>, Kefu Chai)</li>
<li>qa/workunits/rbd: resolve potential rbd-mirror race conditions (<a class="reference external" href="http://tracker.ceph.com/issues/18935">issue#18935</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13421">pr#13421</a>, Jason Dillaman)</li>
<li>qa/workunits/rbd: tweak rbd-mirror config to spead up testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/13228">pr#13228</a>, Mykola Golub)</li>
<li>rados: allow &#8220;rados purge&#8221; to delete objects when osd is full (<a class="reference external" href="http://github.com/ceph/ceph/pull/13814">pr#13814</a>, Pan Liu)</li>
<li>rados:  we need to get the latest osdmap when pool does not exists (<a class="reference external" href="http://github.com/ceph/ceph/pull/13289">pr#13289</a>, song baisen)</li>
<li>rbd: demote/promote all mirrored images in a pool (<a class="reference external" href="http://tracker.ceph.com/issues/18748">issue#18748</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13758">pr#13758</a>, Jason Dillaman)</li>
<li>rbd: fix typo in Kernel.cc (<a class="reference external" href="http://tracker.ceph.com/issues/19273">issue#19273</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13983">pr#13983</a>, Gaurav Kumar Garg)</li>
<li>rbd: introduce v2 format for rbd export/import (<a class="reference external" href="http://tracker.ceph.com/issues/13186">issue#13186</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10487">pr#10487</a>, Dongsheng Yang)</li>
<li>rbdmap: consider /etc/ceph/rbdmap when unmapping images (<a class="reference external" href="http://tracker.ceph.com/issues/18884">issue#18884</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13361">pr#13361</a>, David Disseldorp)</li>
<li>rbd-mirror A/A: leader should track up/down rbd-mirror instances (<a class="reference external" href="http://tracker.ceph.com/issues/18784">issue#18784</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13571">pr#13571</a>, Mykola Golub)</li>
<li>rbd-mirror: deleting a snapshot during sync can result in read errors (<a class="reference external" href="http://tracker.ceph.com/issues/18990">issue#18990</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13568">pr#13568</a>, Jason Dillaman)</li>
<li>rbd-mirror: InstanceWatcher watch/notify stub for leader/follower RPC (<a class="reference external" href="http://tracker.ceph.com/issues/18783">issue#18783</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13312">pr#13312</a>, Mykola Golub)</li>
<li>rbd-mirror: replace remote pool polling with add/remove notifications (<a class="reference external" href="http://tracker.ceph.com/issues/15029">issue#15029</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12364">pr#12364</a>, Jason Dillaman)</li>
<li>rbd-mirror: track images via global image id (<a class="reference external" href="http://github.com/ceph/ceph/pull/13416">pr#13416</a>, Jason Dillaman)</li>
<li>rbd-nbd: check /sys/block/nbdX/size to ensure kernel mapped correctly (<a class="reference external" href="http://tracker.ceph.com/issues/18335">issue#18335</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13229">pr#13229</a>, Mykola Golub)</li>
<li>rbd-nbd: create admin socket only for map command (<a class="reference external" href="http://tracker.ceph.com/issues/17951">issue#17951</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12433">pr#12433</a>, Pan Liu)</li>
<li>rbd-nbd: don&#8217;t ignore &#8211;read-only option in BLKROSET ioctl (<a class="reference external" href="http://github.com/ceph/ceph/pull/13944">pr#13944</a>, Pan Liu)</li>
<li>rbd-nbd: fix a typo &#8220;moudle&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/13652">pr#13652</a>, Pan Liu)</li>
<li>rbd-nbd: fix typo in comment (<a class="reference external" href="http://github.com/ceph/ceph/pull/14034">pr#14034</a>, Pan Liu)</li>
<li>rbd-nbd: no need to check image format any more (<a class="reference external" href="http://github.com/ceph/ceph/pull/13389">pr#13389</a>, Mykola Golub)</li>
<li>rbd-nbd: update size only when NBD_SET_SIZE successful (<a class="reference external" href="http://github.com/ceph/ceph/pull/14005">pr#14005</a>, Pan Liu)</li>
<li>rbd-nbd: warn when kernel parameters are ignored (<a class="reference external" href="http://tracker.ceph.com/issues/19108">issue#19108</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13694">pr#13694</a>, Pan Liu)</li>
<li>rbd: prevent adding multiple mirror peers to a single pool (<a class="reference external" href="http://tracker.ceph.com/issues/19256">issue#19256</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13919">pr#13919</a>, Jason Dillaman)</li>
<li>rbd: spell out image features unsupported by the kernel (<a class="reference external" href="http://tracker.ceph.com/issues/19095">issue#19095</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13812">pr#13812</a>, Ilya Dryomov)</li>
<li>rbd: use concurrent writes for imports (<a class="reference external" href="http://tracker.ceph.com/issues/19034">issue#19034</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13782">pr#13782</a>, Venky Shankar)</li>
<li>rbd: When Ceph cluster becomes full, should allow user to remove rbd … (<a class="reference external" href="http://github.com/ceph/ceph/pull/12627">pr#12627</a>, Pan Liu)</li>
<li>ReplicatedBackend: don&#8217;t queue Context outside of ObjectStore with obc (<a class="reference external" href="http://tracker.ceph.com/issues/18927">issue#18927</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13569">pr#13569</a>, Samuel Just)</li>
<li>Revert &#8220;dummy: reduce run time, run user.yaml playbook&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/18259">issue#18259</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12506">pr#12506</a>, Nathan Cutler)</li>
<li>Revert &#8220;qa/tasks/workunit: use the suite repo for cloning workunit&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/13495">pr#13495</a>, Sage Weil)</li>
<li>Reviewed by: Yan, Zheng &lt;<a class="reference external" href="mailto:zyan&#37;&#52;&#48;redhat&#46;com">zyan<span>&#64;</span>redhat<span>&#46;</span>com</a>&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/18830">issue#18830</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13272">pr#13272</a>, John Spray)</li>
<li>rgw: AbortMultipart request returns NoSuchUpload error if the meta obj doesn&#8217;t exist (<a class="reference external" href="http://github.com/ceph/ceph/pull/12793">pr#12793</a>, Zhang Shaowen)</li>
<li>rgw: add apis to support ragweed (<a class="reference external" href="http://github.com/ceph/ceph/pull/13645">pr#13645</a>, Yehuda Sadeh)</li>
<li>rgw: add override in header files mostly (<a class="reference external" href="http://github.com/ceph/ceph/pull/13586">pr#13586</a>, liuchang0812)</li>
<li>rgw: add override in rgw subsystem (<a class="reference external" href="http://tracker.ceph.com/issues/18922">issue#18922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13441">pr#13441</a>, liuchang0812)</li>
<li>rgw: add radosclient finisher to perf counter (<a class="reference external" href="http://tracker.ceph.com/issues/19011">issue#19011</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13535">pr#13535</a>, lvshuhua)</li>
<li>rgw: add support for noncurrentversion expiration in s3 lifecycle. (<a class="reference external" href="http://tracker.ceph.com/issues/18916">issue#18916</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13385">pr#13385</a>, Zhang Shaowen)</li>
<li>rgw-admin: remove deprecated regionmap commands (<a class="reference external" href="http://tracker.ceph.com/issues/18725">issue#18725</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13963">pr#13963</a>, Casey Bodley)</li>
<li>rgw: change default chunk size to 4MB (<a class="reference external" href="http://tracker.ceph.com/issues/18621">issue#18621</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18622">issue#18622</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18623">issue#18623</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13035">pr#13035</a>, Yehuda Sadeh)</li>
<li>rgw: change loglevel to 20 for &#8216;System already converted&#8217; message (<a class="reference external" href="http://tracker.ceph.com/issues/18919">issue#18919</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13399">pr#13399</a>, Vikhyat Umrao)</li>
<li>rgw: change loglevel to 5 in user&#8217;s quota sync. (<a class="reference external" href="http://tracker.ceph.com/issues/18921">issue#18921</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13408">pr#13408</a>, Zhang Shaowen)</li>
<li>rgw: clean redundant code (<a class="reference external" href="http://github.com/ceph/ceph/pull/13302">pr#13302</a>, Yankun Li)</li>
<li>rgw: cleanup lifecycle managament (<a class="reference external" href="http://github.com/ceph/ceph/pull/13820">pr#13820</a>, Jiaying Ren)</li>
<li>rgw: clean up the redundant assignment in last_entry_in_listing (<a class="reference external" href="http://github.com/ceph/ceph/pull/13387">pr#13387</a>, Jing Wenjun)</li>
<li>rgw: cleanup unused var in rgw/rgw_rest_s3.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/13434">pr#13434</a>, Jiaying Ren)</li>
<li>rgw: clear old zone short ids on period update (<a class="reference external" href="http://tracker.ceph.com/issues/15618">issue#15618</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13949">pr#13949</a>, Casey Bodley)</li>
<li>rgw: correct the debug info when unlink instance failed. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13761">pr#13761</a>, Zhang Shaowen)</li>
<li>rgw: Correct the return codes for the health check feature (<a class="reference external" href="http://tracker.ceph.com/issues/19025">issue#19025</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13557">pr#13557</a>, Pavan Rallabhandi)</li>
<li>rgw: data sync includes instance in rgw_obj_index_key (<a class="reference external" href="http://github.com/ceph/ceph/pull/13948">pr#13948</a>, Casey Bodley)</li>
<li>rgw: don&#8217;t init rgw_obj from rgw_obj_key when it&#8217;s incorrect to do so (<a class="reference external" href="http://tracker.ceph.com/issues/19096">issue#19096</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13676">pr#13676</a>, Yehuda Sadeh)</li>
<li>rgw: don&#8217;t log the env_map twice (<a class="reference external" href="http://github.com/ceph/ceph/pull/13481">pr#13481</a>, Abhishek Lekshmanan)</li>
<li>rgw: don&#8217;t return skew time error in pre-signed url (<a class="reference external" href="http://tracker.ceph.com/issues/18828">issue#18828</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13354">pr#13354</a>, liuchang0812)</li>
<li>rgw: error_code in error log is not right when data sync fails. (<a class="reference external" href="http://tracker.ceph.com/issues/18437">issue#18437</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12810">pr#12810</a>, Zhang Shaowen)</li>
<li>rgw_file: avoid stranding invalid-name bucket handles in fhcache (<a class="reference external" href="http://tracker.ceph.com/issues/19036">issue#19036</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13590">pr#13590</a>, Matt Benjamin)</li>
<li>rgw_file: ensure valid_s3_object_name for directories, too (<a class="reference external" href="http://tracker.ceph.com/issues/19066">issue#19066</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13614">pr#13614</a>, Matt Benjamin)</li>
<li>rgw_file: fix double unref on rgw_fh for rename (<a class="reference external" href="http://github.com/ceph/ceph/pull/13988">pr#13988</a>, Gui Hecheng)</li>
<li>rgw_file:  fix fs_inst progression (<a class="reference external" href="http://tracker.ceph.com/issues/19214">issue#19214</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13832">pr#13832</a>, Matt Benjamin)</li>
<li>rgw_file: fix non-negative return code for open operation (<a class="reference external" href="http://github.com/ceph/ceph/pull/14045">pr#14045</a>, Gui Hecheng)</li>
<li>rgw_file: fix reversed return value of getattr (<a class="reference external" href="http://github.com/ceph/ceph/pull/13895">pr#13895</a>, Gui Hecheng)</li>
<li>rgw_file: implement reliable has-children check (unlink dir) (<a class="reference external" href="http://tracker.ceph.com/issues/19270">issue#19270</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13953">pr#13953</a>, Matt Benjamin)</li>
<li>rgw_file: posix style atime,ctime,mtime (<a class="reference external" href="http://github.com/ceph/ceph/pull/13765">pr#13765</a>, Gui Hecheng)</li>
<li>rgw_file: RGWFileHandle dtor must also cond-unlink from FHCache (<a class="reference external" href="http://tracker.ceph.com/issues/19112">issue#19112</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13712">pr#13712</a>, Matt Benjamin)</li>
<li>rgw: fix break inside of yield in RGWFetchAllMetaCR (<a class="reference external" href="http://tracker.ceph.com/issues/17655">issue#17655</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11586">pr#11586</a>, Casey Bodley)</li>
<li>rgw: fix disabling Swift&#8217;s object versioning through empty X-Versions-Location (<a class="reference external" href="http://tracker.ceph.com/issues/18852">issue#18852</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13303">pr#13303</a>, Jing Wenjun)</li>
<li>rgw: fix error code of inexistence of versions location in swift api (<a class="reference external" href="http://tracker.ceph.com/issues/18880">issue#18880</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13350">pr#13350</a>, Jing Wenjun)</li>
<li>rgw:Fixes typo in rgw_admin.cc (<a class="reference external" href="http://tracker.ceph.com/issues/19026">issue#19026</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13576">pr#13576</a>, Ronak Jain)</li>
<li>rgw: fix for broken yields in RGWMetaSyncShardCR (<a class="reference external" href="http://tracker.ceph.com/issues/18076">issue#18076</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12223">pr#12223</a>, Casey Bodley)</li>
<li>rgw: fix init_bucket_for_sync retcode (<a class="reference external" href="http://github.com/ceph/ceph/pull/13684">pr#13684</a>, Shasha Lu)</li>
<li>rgw: fix transition from full to incremental meta sync (<a class="reference external" href="http://github.com/ceph/ceph/pull/13920">pr#13920</a>, Casey Bodley)</li>
<li>rgw: fix typo in comment (<a class="reference external" href="http://github.com/ceph/ceph/pull/13578">pr#13578</a>, liuchang0812)</li>
<li>rgw: get torrent request&#8217;s parameter is not the same as amazon s3. (<a class="reference external" href="http://tracker.ceph.com/issues/19136">issue#19136</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13760">pr#13760</a>, Zhang Shaowen)</li>
<li>rgw: handle error return value in build_linked_oids_index (<a class="reference external" href="http://github.com/ceph/ceph/pull/13955">pr#13955</a>, wangzhengyong)</li>
<li>rgw: http_client clarify the debug msg function call (<a class="reference external" href="http://github.com/ceph/ceph/pull/13688">pr#13688</a>, Abhishek Lekshmanan)</li>
<li>rgw: if user.email is empty, dont try to delete (<a class="reference external" href="http://tracker.ceph.com/issues/18980">issue#18980</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13783">pr#13783</a>, Casey Bodley)</li>
<li>rgw: improve handling of illformed Swift&#8217;s container ACLs. (<a class="reference external" href="http://tracker.ceph.com/issues/18796">issue#18796</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13248">pr#13248</a>, Radoslaw Zarzynski)</li>
<li>rgw: Let the object stat command be shown in the usage (<a class="reference external" href="http://tracker.ceph.com/issues/19013">issue#19013</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13291">pr#13291</a>, Pavan Rallabhandi)</li>
<li>rgw: librgw refcnt (<a class="reference external" href="http://github.com/ceph/ceph/pull/13405">pr#13405</a>, Matt Benjamin)</li>
<li>rgw: make sending Content-Length in 204 and 304 responses controllable (<a class="reference external" href="http://tracker.ceph.com/issues/16602">issue#16602</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10156">pr#10156</a>, Radoslaw Zarzynski)</li>
<li>rgw: make sync thread name clear (<a class="reference external" href="http://tracker.ceph.com/issues/18860">issue#18860</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13324">pr#13324</a>, lvshuhua)</li>
<li>rgw: print is_admin as int instead of __u8 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12264">pr#12264</a>, Casey Bodley)</li>
<li>rgw: put object&#8217;s acl can&#8217;t work well on the latest object (<a class="reference external" href="http://tracker.ceph.com/issues/18649">issue#18649</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13078">pr#13078</a>, Zhang Shaowen)</li>
<li>rgw: remove redundant codes in rgw_cache.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/13902">pr#13902</a>, lihongjie)</li>
<li>rgw: remove useless &#8211;tier_type in radosgw-admin. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13856">pr#13856</a>, Zhang Shaowen)</li>
<li>rgw: rest_admin/user avoid double checking input args (<a class="reference external" href="http://github.com/ceph/ceph/pull/13460">pr#13460</a>, Abhishek Lekshmanan)</li>
<li>rgw/rgw_main.cc: fix parenteses and function result (<a class="reference external" href="http://github.com/ceph/ceph/pull/12295">pr#12295</a>, Willem Jan Withagen)</li>
<li>rgw: set dumpable flag after setuid post ff0e521 (<a class="reference external" href="http://tracker.ceph.com/issues/19089">issue#19089</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13657">pr#13657</a>, Brad Hubbard)</li>
<li>rgw: set FCGI_INCLUDE_DIR for cephd_rgw_base (<a class="reference external" href="http://tracker.ceph.com/issues/18918">issue#18918</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13393">pr#13393</a>, David Disseldorp)</li>
<li>rgw structures rework (<a class="reference external" href="http://tracker.ceph.com/issues/17996">issue#17996</a>, <a class="reference external" href="http://tracker.ceph.com/issues/19249">issue#19249</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11485">pr#11485</a>, Yehuda Sadeh)</li>
<li>rgw: use rgw_zone_root_pool for region_map like is done in hammer (<a class="reference external" href="http://tracker.ceph.com/issues/19195">issue#19195</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13928">pr#13928</a>, Orit Wasserman)</li>
<li>rgw: use separate http_manager for read_sync_status (<a class="reference external" href="http://tracker.ceph.com/issues/19236">issue#19236</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13660">pr#13660</a>, Shasha Lu)</li>
<li>rgw: wip dir orphan (<a class="reference external" href="http://tracker.ceph.com/issues/18992">issue#18992</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18989">issue#18989</a>, <a class="reference external" href="http://tracker.ceph.com/issues/19018">issue#19018</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18991">issue#18991</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13529">pr#13529</a>, Matt Benjamin)</li>
<li>rgw: wip parentref (<a class="reference external" href="http://tracker.ceph.com/issues/19060">issue#19060</a>, <a class="reference external" href="http://tracker.ceph.com/issues/19059">issue#19059</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13607">pr#13607</a>, Matt Benjamin)</li>
<li>rocksdb: sync with upstream (<a class="reference external" href="http://tracker.ceph.com/issues/18464">issue#18464</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13306">pr#13306</a>, Kefu Chai)</li>
<li>rpm: build ceph-resource-agents by default (<a class="reference external" href="http://tracker.ceph.com/issues/17613">issue#17613</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13515">pr#13515</a>, Nathan Cutler)</li>
<li>rpm: disable dwz to speed up valgrind (<a class="reference external" href="http://tracker.ceph.com/issues/19099">issue#19099</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13748">pr#13748</a>, Kefu Chai)</li>
<li>rpm: drop boost build dependencies (<a class="reference external" href="http://github.com/ceph/ceph/pull/13519">pr#13519</a>, Nathan Cutler)</li>
<li>script/find_dups_in_pg_log: scrip to find dup requests due to short pg logs (<a class="reference external" href="http://github.com/ceph/ceph/pull/13417">pr#13417</a>, Sage Weil)</li>
<li>script/sepia_bt.sh: get sha1,release from t.log if it&#8217;s not in core (<a class="reference external" href="http://github.com/ceph/ceph/pull/13620">pr#13620</a>, Kefu Chai)</li>
<li>script/sepia_bt.sh: no need to pass version and sha1 anymore (<a class="reference external" href="http://github.com/ceph/ceph/pull/13380">pr#13380</a>, Kefu Chai)</li>
<li>script/sepia_bt.sh: support xenial (<a class="reference external" href="http://github.com/ceph/ceph/pull/13292">pr#13292</a>, Kefu Chai)</li>
<li>selinux: Allow ceph daemons to read net stats (<a class="reference external" href="http://tracker.ceph.com/issues/19254">issue#19254</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13945">pr#13945</a>, Boris Ranto)</li>
<li>Signed-off-by: Kefu Chai &lt;<a class="reference external" href="mailto:kchai&#37;&#52;&#48;redhat&#46;com">kchai<span>&#64;</span>redhat<span>&#46;</span>com</a>&gt; (<a class="reference external" href="http://github.com/ceph/ceph/pull/14006">pr#14006</a>, shiqi)</li>
<li>systemd: Start OSDs after MONs (<a class="reference external" href="http://tracker.ceph.com/issues/18516">issue#18516</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13097">pr#13097</a>, Boris Ranto)</li>
<li>tasks/cephfs: tear down on mount() failure (<a class="reference external" href="http://github.com/ceph/ceph/pull/13282">pr#13282</a>, John Spray)</li>
<li>test: add override in test submodule (<a class="reference external" href="http://github.com/ceph/ceph/pull/13773">pr#13773</a>, liuchang0812)</li>
<li>test/ceph-test-objectstore: Don&#8217;t always include BlueStore code (<a class="reference external" href="http://github.com/ceph/ceph/pull/13516">pr#13516</a>, Willem Jan Withagen)</li>
<li>tested by-had, using fault injection (<a class="reference external" href="http://tracker.ceph.com/issues/19019">issue#19019</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13546">pr#13546</a>, Casey Bodley)</li>
<li>test/encoding: fix readable.sh bugs; fix ceph-object-corpus (<a class="reference external" href="http://github.com/ceph/ceph/pull/13678">pr#13678</a>, Sage Weil)</li>
<li>test: Fix mismatched sign comparison in histogram test (<a class="reference external" href="http://github.com/ceph/ceph/pull/13362">pr#13362</a>, Adam C. Emerson)</li>
<li>test: fix rbd unit test cases w/ striping feature (<a class="reference external" href="http://tracker.ceph.com/issues/18888">issue#18888</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13196">pr#13196</a>, Venky Shankar)</li>
<li>test: fix test_pidfile (<a class="reference external" href="http://github.com/ceph/ceph/pull/13646">pr#13646</a>, yaoning)</li>
<li>test/libcephfs: avoid buffer overflow when testing ceph_getdents() (<a class="reference external" href="http://tracker.ceph.com/issues/18941">issue#18941</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13429">pr#13429</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>test/librbd/CMakeLists.txt: ceph_test_librbd_fsx requires linux includes/libs (<a class="reference external" href="http://github.com/ceph/ceph/pull/13630">pr#13630</a>, Willem Jan Withagen)</li>
<li>test/librbd: move tests using non-public api to internal (<a class="reference external" href="http://github.com/ceph/ceph/pull/13806">pr#13806</a>, Venky Shankar)</li>
<li>test: Need to exclude the fsx executable also on FreeBSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/13686">pr#13686</a>, Willem Jan Withagen)</li>
<li>test/rgw: add bucket acl and versioning tests to test_multi.py (<a class="reference external" href="http://github.com/ceph/ceph/pull/12449">pr#12449</a>, Casey Bodley)</li>
<li>tests: ceph_test_rados_api_watch_notify: test timeout using rados_wat… (<a class="reference external" href="http://tracker.ceph.com/issues/19312">issue#19312</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/14061">pr#14061</a>, Kefu Chai)</li>
<li>tests: drop buildpackages.py (<a class="reference external" href="http://tracker.ceph.com/issues/18846">issue#18846</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13319">pr#13319</a>, Nathan Cutler)</li>
<li>tests: drop obsolete Perl scripts (<a class="reference external" href="http://github.com/ceph/ceph/pull/13951">pr#13951</a>, Nathan Cutler)</li>
<li>test: sed on FreeBSD requires &#8220;-i extension&#8221;, so use gsed (<a class="reference external" href="http://github.com/ceph/ceph/pull/13903">pr#13903</a>, Willem Jan Withagen)</li>
<li>tests: fix regression in qa/tasks/ceph_master.py (<a class="reference external" href="http://tracker.ceph.com/issues/16263">issue#16263</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13279">pr#13279</a>, Nathan Cutler, Kefu Chai)</li>
<li>tests: osd-scrub-repair.sh disable scrub backoff in test  (<a class="reference external" href="http://github.com/ceph/ceph/pull/13334">pr#13334</a>, Kefu Chai)</li>
<li>tests: re-enable cephfs python tests on kclient (<a class="reference external" href="http://tracker.ceph.com/issues/17193">issue#17193</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18161">issue#18161</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13200">pr#13200</a>, Nathan Cutler)</li>
<li>test/store_test: add deferred test case setup to support explicit min… (<a class="reference external" href="http://tracker.ceph.com/issues/18857">issue#18857</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13415">pr#13415</a>, Igor Fedotov)</li>
<li>tests: update SUSE yaml facets in qa/distros/all (<a class="reference external" href="http://tracker.ceph.com/issues/18856">issue#18856</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13313">pr#13313</a>, Nathan Cutler)</li>
<li>test: support blacklisting within librados_test_stub  (<a class="reference external" href="http://github.com/ceph/ceph/pull/13737">pr#13737</a>, Jason Dillaman)</li>
<li>test: Thrasher: do not update pools_to_fix_pgp_num if nothing happens (<a class="reference external" href="http://github.com/ceph/ceph/pull/13518">pr#13518</a>, Kefu Chai)</li>
<li>test: Thrasher: update pgp_num of all expanded pools if not yet (<a class="reference external" href="http://github.com/ceph/ceph/pull/13367">pr#13367</a>, Kefu Chai)</li>
<li>test: unittest_hostname compile error on freebsd (<a class="reference external" href="http://github.com/ceph/ceph/pull/13739">pr#13739</a>, liuchang0812)</li>
<li>tools: add override in tool submodule (<a class="reference external" href="http://github.com/ceph/ceph/pull/13776">pr#13776</a>, liuchang0812)</li>
<li>tools/rados: Check return value of connect (<a class="reference external" href="http://tracker.ceph.com/issues/19319">issue#19319</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/14057">pr#14057</a>, Brad Hubbard)</li>
<li>tools/rados: remove useless function declaration (<a class="reference external" href="http://github.com/ceph/ceph/pull/12566">pr#12566</a>, liuchang0812)</li>
<li>tools/scripts:&#8221;FreeBSD getopt is not compatible, use the one from packages&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/13260">pr#13260</a>, Willem Jan Withagen)</li>
<li>tracing: don&#8217;t include oid when tracing at dequeue_op() (<a class="reference external" href="http://github.com/ceph/ceph/pull/13410">pr#13410</a>, Yehuda Sadeh)</li>
<li>upstart: start radosgw-all according to runlevel (<a class="reference external" href="http://tracker.ceph.com/issues/18313">issue#18313</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12586">pr#12586</a>, Ken Dreyer)</li>
<li>verified by hand f23 (<a class="reference external" href="http://tracker.ceph.com/issues/19111">issue#19111</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13703">pr#13703</a>, Matt Benjamin)</li>
<li>vstart: add &#8211;help documentation for rgw_num (<a class="reference external" href="http://github.com/ceph/ceph/pull/13817">pr#13817</a>, Ali Maredia)</li>
<li>vstart: clean up usage a bit (<a class="reference external" href="http://github.com/ceph/ceph/pull/13138">pr#13138</a>, Sage Weil)</li>
<li>vstart: do not add host for mgr.* section if not $overwrite_conf (<a class="reference external" href="http://github.com/ceph/ceph/pull/13767">pr#13767</a>, Kefu Chai)</li>
<li>vstart: don&#8217;t configure rgw_dns_name (<a class="reference external" href="http://github.com/ceph/ceph/pull/13411">pr#13411</a>, Yehuda Sadeh)</li>
<li>vstart: don&#8217;t create cluster by default (<a class="reference external" href="http://github.com/ceph/ceph/pull/13891">pr#13891</a>, Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v12-0-0-luminous-dev">
<h2>v12.0.0 Luminous (dev)<a class="headerlink" href="#v12-0-0-luminous-dev" title="Permalink to this headline">¶</a></h2>
<p>This is the first development checkpoint release of Luminous series, the next
long term release. We&#8217;re off to a good start to release Luminous in the spring
of &#8216;17.</p>
<div class="section" id="major-changes-from-kraken">
<h3>Major changes from Kraken<a class="headerlink" href="#major-changes-from-kraken" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>When assigning a network to the public network and not to
the cluster network the network specification of the public
network will be used for the cluster network as well.
In older versions this would lead to cluster services
being bound to 0.0.0.0:&lt;port&gt;, thus making the
cluster service even more publicly available than the
public services. When only specifying a cluster network it
will still result in the public services binding to 0.0.0.0.</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Some variants of the omap_get_keys and omap_get_vals librados
functions have been deprecated in favor of omap_get_vals2 and
omap_get_keys2.  The new methods include an output argument
indicating whether there are additional keys left to fetch.
Previously this had to be inferred from the requested key count vs
the number of keys returned, but this breaks with new OSD-side
limits on the number of keys or bytes that can be returned by a
single omap request.  These limits were introduced by kraken but
are effectively disabled by default (by setting a very large limit
of 1 GB) because users of the newly deprecated interface cannot
tell whether they should fetch more keys or not.  In the case of
the standalone calls in the C++ interface
(IoCtx::get_omap_{keys,vals}), librados has been updated to loop on
the client side to provide a correct result via multiple calls to
the OSD.  In the case of the methods used for building
multi-operation transactions, however, client-side looping is not
practical, and the methods have been deprecated.  Note that use of
either the IoCtx methods on older librados versions or the
deprecated methods on any version of librados will lead to
incomplete results if/when the new OSD limits are enabled.</li>
<li>In previous versions, if a client sent an op to the wrong OSD, the OSD
would reply with ENXIO.  The rationale here is that the client or OSD is
clearly buggy and we want to surface the error as clearly as possible.
We now only send the ENXIO reply if the osd_enxio_on_misdirected_op option
is enabled (it&#8217;s off by default).  This means that a VM using librbd that
previously would have gotten an EIO and gone read-only will now see a
blocked/hung IO instead.</li>
<li>When configuring ceph-fuse mounts in /etc/fstab, a new syntax is
available that uses &#8220;ceph.&lt;arg&gt;=&lt;val&gt;&#8221; in the options column, instead
of putting configuration in the device column.  The old style syntax
still works.  See the documentation page &#8220;Mount CephFS in your
file systems table&#8221; for details.</li>
</ul>
</div>
<div class="section" id="id18">
<h3>Notable Changes<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bluestore: avoid unnecessary copy with coll_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/12576">pr#12576</a>, Yunchuan Wen)</li>
<li>bluestore: fixed compilation error when enable spdk (<a class="reference external" href="http://github.com/ceph/ceph/pull/12672">pr#12672</a>, Pan Liu)</li>
<li>bluestore: os/bluestore: add a debug option to bypass block device writes for bl… (<a class="reference external" href="http://github.com/ceph/ceph/pull/12464">pr#12464</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: Add bluestore pextent vector to mempool (<a class="reference external" href="http://github.com/ceph/ceph/pull/12946">pr#12946</a>, Igor Fedotvo, Igor Fedotov)</li>
<li>bluestore: os/bluestore: add perf variable for throttle info in bluestore (<a class="reference external" href="http://github.com/ceph/ceph/pull/12583">pr#12583</a>, Pan Liu)</li>
<li>bluestore: os/bluestore: allow multiple SPDK BlueStore OSD instances (<a class="reference external" href="http://tracker.ceph.com/issues/16966">issue#16966</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12604">pr#12604</a>, Orlando Moreno)</li>
<li>bluestore: os/bluestore/BitmapFreelistManager: readability improvements (<a class="reference external" href="http://github.com/ceph/ceph/pull/12719">pr#12719</a>, xie xingguo)</li>
<li>bluestore: os/bluestore/BlueFS: fix reclaim_blocks (<a class="reference external" href="http://tracker.ceph.com/issues/18368">issue#18368</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12725">pr#12725</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: conditionally load crr option (<a class="reference external" href="http://github.com/ceph/ceph/pull/12877">pr#12877</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix Allocator::allocate() int truncation (<a class="reference external" href="http://tracker.ceph.com/issues/18595">issue#18595</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13010">pr#13010</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix min_alloc_size at mkfs time (<a class="reference external" href="http://github.com/ceph/ceph/pull/13192">pr#13192</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix NVMEDevice::open failure if serial number ends with a … (<a class="reference external" href="http://github.com/ceph/ceph/pull/12956">pr#12956</a>, Hongtong Liu)</li>
<li>bluestore: os/bluestore: fix OnodeSizeTracking testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/12684">pr#12684</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix potential assert in cache _trim method. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13234">pr#13234</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: fix reclaim_blocks and clean up Allocator interface (<a class="reference external" href="http://tracker.ceph.com/issues/18573">issue#18573</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12963">pr#12963</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: include logical object offset in crc error (<a class="reference external" href="http://github.com/ceph/ceph/pull/13074">pr#13074</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/KernelDevice: fix debug message (<a class="reference external" href="http://github.com/ceph/ceph/pull/13135">pr#13135</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/KernelDevice: kill zeros (<a class="reference external" href="http://github.com/ceph/ceph/pull/12856">pr#12856</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: kill BufferSpace.empty() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12871">pr#12871</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: kill orphan declaration of do_write_check_depth() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12853">pr#12853</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: miscellaneous fixes to BitAllocator (<a class="reference external" href="http://github.com/ceph/ceph/pull/12696">pr#12696</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: nullptr in OmapIteratorImpl::valid (<a class="reference external" href="http://github.com/ceph/ceph/pull/12900">pr#12900</a>, Xinze Chi)</li>
<li>bluestore: os/bluestore/NVMEDevice.cc: fix the random read issue. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13055">pr#13055</a>, optimistyzy)</li>
<li>bluestore: os/bluestore/NVMEdevice: fix the unrelease segs issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/12862">pr#12862</a>, optimistyzy)</li>
<li>bluestore: os/bluestore: preallocate object[extent_shard] key to avoid reallocate (<a class="reference external" href="http://github.com/ceph/ceph/pull/12644">pr#12644</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: put strings in mempool (<a class="reference external" href="http://github.com/ceph/ceph/pull/12651">pr#12651</a>, Allen Samuels, Sage Weil)</li>
<li>bluestore: os/bluestore: refactor ExtentMap::update to avoid preceeding db updat… (<a class="reference external" href="http://github.com/ceph/ceph/pull/12394">pr#12394</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: remove a never read value (<a class="reference external" href="http://github.com/ceph/ceph/pull/12618">pr#12618</a>, liuchang0812)</li>
<li>bluestore: os/bluestore: remove intermediate key var to avoid string copy (<a class="reference external" href="http://github.com/ceph/ceph/pull/12643">pr#12643</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: shrink buffer_map key into uint32_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/12850">pr#12850</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: _txc_release_alloc when do wal cleaning (<a class="reference external" href="http://github.com/ceph/ceph/pull/12692">pr#12692</a>, Xinze Chi)</li>
<li>bluestore: os: extend ObjectStore interface to dump store&#8217;s performance counters (<a class="reference external" href="http://github.com/ceph/ceph/pull/13203">pr#13203</a>, Igor Fedotov)</li>
<li>bluestore: rocksdb: add option: writable_file_max_buffer_size = 0 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12562">pr#12562</a>, Jianpeng Ma)</li>
<li>build/ops: add sanity checks to run-make-check.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/12683">pr#12683</a>, Nathan Cutler)</li>
<li>build/ops: build/cmake:  provide asan, tsan, ubsan builds (<a class="reference external" href="http://github.com/ceph/ceph/pull/12615">pr#12615</a>, Matt Benjamin)</li>
<li>build/ops: builds with dpdk v16.07 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12707">pr#12707</a>, Kefu Chai)</li>
<li>build/ops: ceph-detect-init: adding Arch Linux support (<a class="reference external" href="http://github.com/ceph/ceph/pull/12787">pr#12787</a>, Jamin W. Collins)</li>
<li>build/ops,cleanup: auth: Let&#8217;s not use the deprecated cephx option (<a class="reference external" href="http://github.com/ceph/ceph/pull/12721">pr#12721</a>, Dave Chen)</li>
<li>build/ops: CMakeLists.txt: boost_python.so requires libpython.*.so on FreeBSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/12763">pr#12763</a>, Willem Jan Withagen)</li>
<li>build/ops: common/module.c: do not use strerror_r the GNU way. (<a class="reference external" href="http://github.com/ceph/ceph/pull/12363">pr#12363</a>, Willem Jan Withagen)</li>
<li>build/ops,core: ceph-disk: use correct user in check_journal_req (<a class="reference external" href="http://tracker.ceph.com/issues/18538">issue#18538</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12947">pr#12947</a>, Samuel Matzek)</li>
<li>build/ops: mailmap: Update OVH contributors (<a class="reference external" href="http://github.com/ceph/ceph/pull/13063">pr#13063</a>, Bartłomiej Święcki)</li>
<li>build/ops: packaging: install libceph-common.so* not libceph-common.so.* (<a class="reference external" href="http://tracker.ceph.com/issues/18692">issue#18692</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13148">pr#13148</a>, Kefu Chai)</li>
<li>build/ops: Reviewd-by: Loic Dachary &lt;<a class="reference external" href="mailto:ldachary&#37;&#52;&#48;redhat&#46;com">ldachary<span>&#64;</span>redhat<span>&#46;</span>com</a>&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/18635">issue#18635</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13057">pr#13057</a>, Wido den Hollander)</li>
<li>build/ops,rgw: rgw_file: radosgw-admin can be built under FreeBSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/12191">pr#12191</a>, Willem Jan Withagen)</li>
<li>build/ops: rocksdb: build with ppc64 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12908">pr#12908</a>, Kefu Chai)</li>
<li>build/ops: script: adding contributor credits script (<a class="reference external" href="http://github.com/ceph/ceph/pull/13251">pr#13251</a>, Patrick McGarry)</li>
<li>build/ops: script/sepia_bt.sh: download packages from shaman not gitbuilder (<a class="reference external" href="http://github.com/ceph/ceph/pull/12799">pr#12799</a>, Kefu Chai)</li>
<li>build/ops: spdk: upgrade spdk to v16.12 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12734">pr#12734</a>, Pan Liu)</li>
<li>build/ops: src/CMakeLists.txt: disable -Werror on rocksdb (<a class="reference external" href="http://github.com/ceph/ceph/pull/12560">pr#12560</a>, Willem Jan Withagen)</li>
<li>build/ops: src/CMakeLists.txt: Move parse_secret_objs setting within definition block (<a class="reference external" href="http://github.com/ceph/ceph/pull/12785">pr#12785</a>, Willem Jan Withagen)</li>
<li>build/ops: test/fio_ceph_objectstore: fix fio plugin build failure caused by rec… (<a class="reference external" href="http://github.com/ceph/ceph/pull/12655">pr#12655</a>, Igor Fedotov)</li>
<li>build/ops: tool: add some ceph relate processes to ps-ceph.pl (<a class="reference external" href="http://github.com/ceph/ceph/pull/12406">pr#12406</a>, songbaisen)</li>
<li>build/ops: tracing: Fix error in including all files in osd_tp (<a class="reference external" href="http://github.com/ceph/ceph/pull/12501">pr#12501</a>, Ganesh Mahalingam)</li>
<li>cephfs: ceph_fuse: pid_file default to empty (<a class="reference external" href="http://tracker.ceph.com/issues/18309">issue#18309</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12628">pr#12628</a>, Nathan Cutler)</li>
<li>cephfs,cleanup: client: fix potential buffer overflow (<a class="reference external" href="http://github.com/ceph/ceph/pull/12515">pr#12515</a>, Yunchuan Wen)</li>
<li>cephfs,cleanup: client: simplify remove_cap interface (<a class="reference external" href="http://github.com/ceph/ceph/pull/12161">pr#12161</a>, John Spray)</li>
<li>cephfs,cleanup: libcephfs: cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/12830">pr#12830</a>, huanwen ren)</li>
<li>cephfs,cleanup: qa: unpin knfs from ubuntu (<a class="reference external" href="http://tracker.ceph.com/issues/16397">issue#16397</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13088">pr#13088</a>, John Spray)</li>
<li>cephfs,cleanup: Rewrite mount.fuse.ceph (to python) and move ceph-fuse options to fs_mntops (<a class="reference external" href="http://github.com/ceph/ceph/pull/11448">pr#11448</a>, Edgaras Lukosevicius)</li>
<li>cephfs: client/Client.cc: prevent segfaulting (<a class="reference external" href="http://tracker.ceph.com/issues/9935">issue#9935</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12550">pr#12550</a>, Michal Jarzabek)</li>
<li>cephfs: client: don&#8217;t request lookup parent if ino is root (<a class="reference external" href="http://github.com/ceph/ceph/pull/12478">pr#12478</a>, huanwen ren)</li>
<li>cephfs: client: fix clang warn of &#8220;argument is an uninitialized value&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/12580">pr#12580</a>, liuchang0812)</li>
<li>cephfs:       client: fix Client::handle_cap_flushsnap_ack() crash (<a class="reference external" href="http://tracker.ceph.com/issues/18460">issue#18460</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12859">pr#12859</a>, Yan, Zheng)</li>
<li>cephfs: client: fix the cross-quota rename boundary check conditions (<a class="reference external" href="http://github.com/ceph/ceph/pull/12489">pr#12489</a>, Greg Farnum)</li>
<li>cephfs: client: populate metadata during mount (<a class="reference external" href="http://tracker.ceph.com/issues/18361">issue#18361</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12915">pr#12915</a>, John Spray)</li>
<li>cephfs: client: remove request from session-&gt;requests when handling forward (<a class="reference external" href="http://tracker.ceph.com/issues/18675">issue#18675</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13124">pr#13124</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>cephfs,common: include/fs_types: fix unsigned integer overflow (<a class="reference external" href="http://github.com/ceph/ceph/pull/12440">pr#12440</a>, runsisi)</li>
<li>cephfs,common,rbd: osdc: cache should ignore error bhs during trim (<a class="reference external" href="http://tracker.ceph.com/issues/18436">issue#18436</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12966">pr#12966</a>, Jason Dillaman)</li>
<li>cephfs,core,cleanup,common: librados,osdc: kill ack vs commit distinction (<a class="reference external" href="http://github.com/ceph/ceph/pull/12607">pr#12607</a>, Sage Weil)</li>
<li>cephfs: libcephfs.cc: fix memory leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/12557">pr#12557</a>, Michal Jarzabek)</li>
<li>cephfs: libcephfs: fix cct refcount constructing from rados (<a class="reference external" href="http://github.com/ceph/ceph/pull/12831">pr#12831</a>, John Spray)</li>
<li>cephfs: mon/MDSMonitor.cc:refuse fs new on pools with obj (<a class="reference external" href="http://tracker.ceph.com/issues/11124">issue#11124</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12825">pr#12825</a>, Michal Jarzabek)</li>
<li>cephfs: mount: do not print &#8220;unknown&#8221; option to kclient (<a class="reference external" href="http://tracker.ceph.com/issues/18159">issue#18159</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12465">pr#12465</a>, John Spray)</li>
<li>cephfs: qa: update remaining ceph.com to download.ceph.com (<a class="reference external" href="http://tracker.ceph.com/issues/18574">issue#18574</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12964">pr#12964</a>, John Spray)</li>
<li>cephfs: tasks/cephfs: fix kernel force umount (<a class="reference external" href="http://tracker.ceph.com/issues/18396">issue#18396</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12833">pr#12833</a>, Yan, Zheng)</li>
<li>cleanup,bluestore: os/bluestore: avoid unnecessary memory copy, use variable reference in BlockDevice::Open (<a class="reference external" href="http://github.com/ceph/ceph/pull/12942">pr#12942</a>, liuchang0812)</li>
<li>cleanup,bluestore: os/bluestore: cleanup BitAllocator (<a class="reference external" href="http://github.com/ceph/ceph/pull/12661">pr#12661</a>, xie xingguo)</li>
<li>cleanup,bluestore: os/bluestore: remove no use parameter in bluestore_blob_t::map_bl (<a class="reference external" href="http://github.com/ceph/ceph/pull/13013">pr#13013</a>, wangzhengyong)</li>
<li>cleanup,common: auth: Enhancement for the supported auth methods (<a class="reference external" href="http://github.com/ceph/ceph/pull/12937">pr#12937</a>, Dave Chen)</li>
<li>cleanup,common: bufferlist: cleanup semantical wrong for bufferlist::append (<a class="reference external" href="http://github.com/ceph/ceph/pull/12247">pr#12247</a>, Yankun Li)</li>
<li>cleanup,common: common/BackTrace: add operator&lt;&lt; (<a class="reference external" href="http://github.com/ceph/ceph/pull/9028">pr#9028</a>, Kefu Chai)</li>
<li>cleanup: common/config: fix return type of string::find and use string::npos (<a class="reference external" href="http://github.com/ceph/ceph/pull/9924">pr#9924</a>, Yan Jun)</li>
<li>cleanup: common/config_opts.h: remove obsolete configuration option (<a class="reference external" href="http://github.com/ceph/ceph/pull/12659">pr#12659</a>, Li Wang)</li>
<li>cleanup,common: global: we need to handle the init_on_startup return value when global_init. (<a class="reference external" href="http://github.com/ceph/ceph/pull/13018">pr#13018</a>, song baisen)</li>
<li>cleanup,common: msg/async: assert if compiled code doesn&#8217;t support the configured <a href="#id2650"><span class="problematic" id="id2651">ms_</span></a>… (<a class="reference external" href="http://github.com/ceph/ceph/pull/12559">pr#12559</a>, Avner BenHanoch)</li>
<li>cleanup,common: msg/async/rdma: clean line endings (<a class="reference external" href="http://github.com/ceph/ceph/pull/12688">pr#12688</a>, Adir Lev)</li>
<li>cleanup,common: msg/async/rdma: Remove compilation warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/13142">pr#13142</a>, Sarit Zubakov)</li>
<li>cleanup,common: osd/OSDMap: get_previous_up_osd_before() may run into endless loop (<a class="reference external" href="http://github.com/ceph/ceph/pull/12976">pr#12976</a>, Mingxin Liu)</li>
<li>cleanup,common: osd/osd_types: clean up OSDOp printers (<a class="reference external" href="http://github.com/ceph/ceph/pull/12980">pr#12980</a>, Sage Weil)</li>
<li>cleanup:   include/mempool: fix typo in comments (<a class="reference external" href="http://github.com/ceph/ceph/pull/12772">pr#12772</a>, huangjun)</li>
<li>cleanup: mds,mon: Clean issues detected by cppcheck (<a class="reference external" href="http://github.com/ceph/ceph/pull/13199">pr#13199</a>, Ilya Shipitsin)</li>
<li>cleanup: misc: fix code typos in header files (<a class="reference external" href="http://github.com/ceph/ceph/pull/12716">pr#12716</a>, Xianxia Xiao)</li>
<li>cleanup: mon/PGMonitor: fix description for ceph pg ls (<a class="reference external" href="http://github.com/ceph/ceph/pull/12807">pr#12807</a>, runsisi)</li>
<li>cleanup: Move code from .h into .cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/12737">pr#12737</a>, Amir Vadai)</li>
<li>cleanup: msg/async: avoid atomic variable overhead (<a class="reference external" href="http://github.com/ceph/ceph/pull/12809">pr#12809</a>, Wei Jin)</li>
<li>cleanup: msg/async: cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/12832">pr#12832</a>, Wei Jin)</li>
<li>cleanup: msg/async/rdma: fix log line spacing (<a class="reference external" href="http://github.com/ceph/ceph/pull/13263">pr#13263</a>, Adir Lev)</li>
<li>cleanup: msg/async: rm nonused thread variable in posixworker (<a class="reference external" href="http://github.com/ceph/ceph/pull/12777">pr#12777</a>, Wei Jin)</li>
<li>cleanup: msg/Messenger.cc: add std::move (<a class="reference external" href="http://github.com/ceph/ceph/pull/9760">pr#9760</a>, Michal Jarzabek)</li>
<li>cleanup: msg: Revert the change from assert(0)-&gt; ceph_abort() where is not applicable (<a class="reference external" href="http://github.com/ceph/ceph/pull/12930">pr#12930</a>, Dave Chen)</li>
<li>cleanup: msg/simple: Remove dead code in pipe.cc (<a class="reference external" href="http://tracker.ceph.com/issues/12684">issue#12684</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12601">pr#12601</a>, Rishabh Kumar)</li>
<li>cleanup: os/bluestore/BlueStore.cc: remove unused variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/12703">pr#12703</a>, Li Wang)</li>
<li>cleanup:   osdc/ObjectCacher: use state instead of get_state() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12544">pr#12544</a>, huangjun)</li>
<li>cmake: add RGW and MDS to libcephd (<a class="reference external" href="http://github.com/ceph/ceph/pull/12345">pr#12345</a>, Bassam Tabbara)</li>
<li>cmake: cleanup the use of udev and blkid in target_link_lib() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12811">pr#12811</a>, Willem Jan Withagen)</li>
<li>cmake: disable mallinfo for jemalloc (<a class="reference external" href="http://github.com/ceph/ceph/pull/12469">pr#12469</a>, Bassam Tabbara)</li>
<li>cmake: explictly call find_package(PythonInterp) first to fix build err (<a class="reference external" href="http://github.com/ceph/ceph/pull/12385">pr#12385</a>, Yixun Lan)</li>
<li>cmake: Fix broken async/rdma compilation since move to libceph-common (<a class="reference external" href="http://github.com/ceph/ceph/pull/13122">pr#13122</a>, Oren Duer)</li>
<li>cmake: fix broken RDMA compilation after merge PR #12878 (<a class="reference external" href="http://github.com/ceph/ceph/pull/13186">pr#13186</a>, Oren Duer)</li>
<li>cmake: fix hard coded boost python lib (<a class="reference external" href="http://github.com/ceph/ceph/pull/12480">pr#12480</a>, John Coyle)</li>
<li>cmake: fix rpath on shared libraries and binaries targets (<a class="reference external" href="http://github.com/ceph/ceph/pull/12927">pr#12927</a>, Ricardo Dias)</li>
<li>cmake: link ceph-{mgr,mon,mds,osd} against libcommon statically (<a class="reference external" href="http://github.com/ceph/ceph/pull/12878">pr#12878</a>, Kefu Chai)</li>
<li>cmake: remove Findpciaccess.cmake (<a class="reference external" href="http://github.com/ceph/ceph/pull/12776">pr#12776</a>, optimistyzy)</li>
<li>cmake: search for Keyutils in default paths (<a class="reference external" href="http://github.com/ceph/ceph/pull/12769">pr#12769</a>, Pascal Bach)</li>
<li>cmake: search for nspr include files for both suffixes: nspr4 and nspr (<a class="reference external" href="http://tracker.ceph.com/issues/18535">issue#18535</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12939">pr#12939</a>, John Lin)</li>
<li>cmake: simplify find_package jemalloc (<a class="reference external" href="http://github.com/ceph/ceph/pull/12468">pr#12468</a>, Bassam Tabbara)</li>
<li>cmake: support for external rocksdb (<a class="reference external" href="http://github.com/ceph/ceph/pull/12467">pr#12467</a>, Bassam Tabbara)</li>
<li>cmake: turn libcommon into a shared library (<a class="reference external" href="http://github.com/ceph/ceph/pull/12840">pr#12840</a>, Kefu Chai)</li>
<li>common/admin-socket: fix potential buffer overflow (<a class="reference external" href="http://github.com/ceph/ceph/pull/12518">pr#12518</a>, Yunchuan Wen)</li>
<li>common: common/BackTrace: demangle on FreeBSD also (<a class="reference external" href="http://github.com/ceph/ceph/pull/12992">pr#12992</a>, Kefu Chai)</li>
<li>common: common/buffer: close pipe fd if set nonblocking fails. (<a class="reference external" href="http://github.com/ceph/ceph/pull/12828">pr#12828</a>, donglinpeng)</li>
<li>common: common/ceph_context: Show clear message if all features are enabled (<a class="reference external" href="http://github.com/ceph/ceph/pull/12676">pr#12676</a>, Dave Chen)</li>
<li>common: common/xmlformatter: turn on underscored and add unittest (<a class="reference external" href="http://github.com/ceph/ceph/pull/12916">pr#12916</a>, liuchang0812)</li>
<li>common: compressor/zstd: add zstd compression plugin (<a class="reference external" href="http://github.com/ceph/ceph/pull/13075">pr#13075</a>, Kefu Chai, Sage Weil)</li>
<li>common: config: Improve warning for unobserved value (<a class="reference external" href="http://tracker.ceph.com/issues/18424">issue#18424</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12855">pr#12855</a>, Brad Hubbard)</li>
<li>common/config_opts.h: FreeBSD timing changed due to no SO_REUSEADDR (<a class="reference external" href="http://github.com/ceph/ceph/pull/12594">pr#12594</a>, Willem Jan Withagen)</li>
<li>common: delete unused conf &#8220;filestore_debug_disable_sharded_check&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/13051">pr#13051</a>, Chuanhong Wang)</li>
<li>common: get rid of &#8220;warning: ignoring return value of ‘strerror_r’&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/12775">pr#12775</a>, xie xingguo)</li>
<li>common: include/denc: improvements (<a class="reference external" href="http://github.com/ceph/ceph/pull/12626">pr#12626</a>, Adam C. Emerson)</li>
<li>common: make attempts of auth rotating configurable  (<a class="reference external" href="http://github.com/ceph/ceph/pull/12563">pr#12563</a>, xie xingguo)</li>
<li>common: misc fixes detected by crypto shutdown assert (<a class="reference external" href="http://github.com/ceph/ceph/pull/12925">pr#12925</a>, Sage Weil)</li>
<li>common: msg/async/rdma: reduce number of rdma rx/tx buffers (<a class="reference external" href="http://github.com/ceph/ceph/pull/13190">pr#13190</a>, Adir Lev)</li>
<li>common: msg/async/rdma: Support for RoCE v2 and SL (<a class="reference external" href="http://github.com/ceph/ceph/pull/12556">pr#12556</a>, Oren Duer)</li>
<li>common: msg/simple: call clear_pipe in wait() shutdown path (<a class="reference external" href="http://tracker.ceph.com/issues/15784">issue#15784</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12633">pr#12633</a>, Sage Weil)</li>
<li>common: tracing: Fix handle leak in TracepointProvider (<a class="reference external" href="http://github.com/ceph/ceph/pull/12652">pr#12652</a>, Brad Hubbard)</li>
<li>core,bluestore: NVMEDevice: fix bug in data_buf_next_sge (<a class="reference external" href="http://github.com/ceph/ceph/pull/12812">pr#12812</a>, optimistyzy)</li>
<li>core,bluestore: os/bluestore: fix statfs to not include DB partition in free space (<a class="reference external" href="http://tracker.ceph.com/issues/18599">issue#18599</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13140">pr#13140</a>, Sage Weil)</li>
<li>core,cephfs,cleanup: cleanup: use std::make_shared to replace new (<a class="reference external" href="http://github.com/ceph/ceph/pull/12276">pr#12276</a>, Yunchuan Wen)</li>
<li>core,cleanup: msg/async/AsyncConnection: socket&#8217;s fd can be zero, avoid false assert (<a class="reference external" href="http://github.com/ceph/ceph/pull/13080">pr#13080</a>, Haomai Wang)</li>
<li>core,cleanup: osd/ECBackend: cleanup for unnecessary copy with pg_stat_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/12564">pr#12564</a>, Yunchuan Wen)</li>
<li>core,cleanup: osd/ECBackend: only need check missing_loc when doing recovery (<a class="reference external" href="http://github.com/ceph/ceph/pull/12526">pr#12526</a>, huangjun)</li>
<li>core,cleanup:   osd/ECBackend: remove unused variable &#8220;ReadCB&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/12543">pr#12543</a>, huangjun)</li>
<li>core,cleanup: osd,librados: remove clone_range and associated multi-object cruft (<a class="reference external" href="http://github.com/ceph/ceph/pull/13008">pr#13008</a>, Samuel Just)</li>
<li>core,cleanup: osd/OpRequest: dump both name and addr for the client op (<a class="reference external" href="http://github.com/ceph/ceph/pull/12691">pr#12691</a>, runsisi)</li>
<li>core,cleanup: osd/OSDMap: Uncomment code to enable private default constructors (<a class="reference external" href="http://github.com/ceph/ceph/pull/12597">pr#12597</a>, Brad Hubbard)</li>
<li>core,cleanup: osd/osd_type: Fix logging output (<a class="reference external" href="http://github.com/ceph/ceph/pull/12778">pr#12778</a>, Brad Hubbard)</li>
<li>core,cleanup: osd/osd_types: Move comment to more relevant position (<a class="reference external" href="http://github.com/ceph/ceph/pull/12779">pr#12779</a>, Brad Hubbard)</li>
<li>core,cleanup: osd/osd_types: print notify-ack op properly (<a class="reference external" href="http://github.com/ceph/ceph/pull/12585">pr#12585</a>, Sage Weil)</li>
<li>core,cleanup: osd/PG: add new have_unfound() function in MissingLoc (<a class="reference external" href="http://github.com/ceph/ceph/pull/12668">pr#12668</a>, huangjun)</li>
<li>core,cleanup: osd/PG: check the connection first in fulfill_log (<a class="reference external" href="http://github.com/ceph/ceph/pull/12579">pr#12579</a>, huangjun)</li>
<li>core,cleanup: osd/PG: simplify the logic of backfill_targets checking (<a class="reference external" href="http://github.com/ceph/ceph/pull/12519">pr#12519</a>, huangjun)</li>
<li>core,cleanup: osd/PrimaryLogPG: optimal pick_newest_available (<a class="reference external" href="http://github.com/ceph/ceph/pull/12695">pr#12695</a>, huangjun)</li>
<li>core,cleanup: osd/PrimaryLogPG: unify the access to primary pg (<a class="reference external" href="http://github.com/ceph/ceph/pull/12527">pr#12527</a>, huangjun)</li>
<li>core,cleanup: os/filestore/JournalingObjectStore cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/12528">pr#12528</a>, Li Wang)</li>
<li>core,common: common/pick_address.cc: Copy public_netw to cluster_netw if cluster empty (<a class="reference external" href="http://github.com/ceph/ceph/pull/12929">pr#12929</a>, Willem Jan Withagen)</li>
<li>core,common: mempool: put bloom_filter in mempool (<a class="reference external" href="http://github.com/ceph/ceph/pull/13009">pr#13009</a>, Sage Weil)</li>
<li>core: global: start removing g_ceph_context (<a class="reference external" href="http://github.com/ceph/ceph/pull/12149">pr#12149</a>, Adam C. Emerson)</li>
<li>core: messages/MOSDPGTrim: add the missed HEAD_VERSION AND COMPAT_VERSION (<a class="reference external" href="http://tracker.ceph.com/issues/18266">issue#18266</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12517">pr#12517</a>, huangjun)</li>
<li>core: messages/MOSDSubOp: Make encode_payload can be reentrant (<a class="reference external" href="http://github.com/ceph/ceph/pull/12654">pr#12654</a>, Haomai Wang)</li>
<li>core: mon/OSDMonitor: fixup sortbitwise flag warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/12682">pr#12682</a>, huanwen ren)</li>
<li>core: mon/OSDMonitor: make &#8216;osd crush move ...&#8217; work on osds (<a class="reference external" href="http://tracker.ceph.com/issues/18587">issue#18587</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12981">pr#12981</a>, Sage Weil)</li>
<li>core: mon/OSDMonitor: make snaps on tier pool should not be allowed (<a class="reference external" href="http://github.com/ceph/ceph/pull/9348">pr#9348</a>, Mingxin Liu)</li>
<li>core: mon/OSDMonitor: set last_force_op_resend on overlay pool too (<a class="reference external" href="http://tracker.ceph.com/issues/18366">issue#18366</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12712">pr#12712</a>, Sage Weil)</li>
<li>core: mon/OSDMonitor: should propose osdmap update when cluster addr changed (<a class="reference external" href="http://github.com/ceph/ceph/pull/11065">pr#11065</a>, Mingxin Liu)</li>
<li>core: msg: allow different ms type for cluster network and public network (<a class="reference external" href="http://github.com/ceph/ceph/pull/12023">pr#12023</a>, Haomai Wang)</li>
<li>core: msg/async/dpdk: fix compile errors (<a class="reference external" href="http://github.com/ceph/ceph/pull/12698">pr#12698</a>, Haomai Wang)</li>
<li>core: msg/async/rdma: fix ceph_clock_now calls (<a class="reference external" href="http://github.com/ceph/ceph/pull/12711">pr#12711</a>, Haomai Wang)</li>
<li>core: msg: client bind (<a class="reference external" href="http://github.com/ceph/ceph/pull/12901">pr#12901</a>, Zengran Zhang, Haomai Wang)</li>
<li>core: osdc/Objecter: resend pg commands on interval change (<a class="reference external" href="http://tracker.ceph.com/issues/18358">issue#18358</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12869">pr#12869</a>, Samuel Just)</li>
<li>core: osd/PG: publish PG stats when backfill-related states change (<a class="reference external" href="http://tracker.ceph.com/issues/18369">issue#18369</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12727">pr#12727</a>, Sage Weil)</li>
<li>core: osd/PrimaryLogPG::failed_push: update missing as well (<a class="reference external" href="http://tracker.ceph.com/issues/18165">issue#18165</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12888">pr#12888</a>, Samuel Just)</li>
<li>core: osd/PrimaryLogPG::try_lock_for_read: give up if missing (<a class="reference external" href="http://tracker.ceph.com/issues/18583">issue#18583</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13087">pr#13087</a>, Samuel Just)</li>
<li>core: osd/ReplicatedBackend: take read locks for clone sources during recovery (<a class="reference external" href="http://tracker.ceph.com/issues/17831">issue#17831</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12844">pr#12844</a>, Samuel Just)</li>
<li>core: os/filestore: fix clang static check warn &#8220;use-after-free“ (<a class="reference external" href="http://github.com/ceph/ceph/pull/12581">pr#12581</a>, liuchang0812)</li>
<li>core: os/filestore: version will be uninitialized varible if store_version doesn&#8217;t exist (<a class="reference external" href="http://github.com/ceph/ceph/pull/12582">pr#12582</a>, liuchang0812)</li>
<li>core,performance: common/TrackedOp: various cleanups and optimizations (<a class="reference external" href="http://github.com/ceph/ceph/pull/12537">pr#12537</a>, Sage Weil)</li>
<li>core,performance: osd/ECBackend: Send write message to peers first, then do local write (<a class="reference external" href="http://github.com/ceph/ceph/pull/12522">pr#12522</a>, huangjun)</li>
<li>core,performance: osd/pg: bound the portion of the log we request in GetLog::GetLog() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12233">pr#12233</a>, Jie Wang)</li>
<li>core: PrimaryLogPG: don&#8217;t update digests for objects with mismatched names (<a class="reference external" href="http://tracker.ceph.com/issues/18409">issue#18409</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12788">pr#12788</a>, Samuel Just)</li>
<li>core: Revert &#8220;PrimaryLogPG::failed_push: update missing as well&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/18624">issue#18624</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13090">pr#13090</a>, David Zafman)</li>
<li>core: test/pybind/test_rados.py: tolerate TimedOut in test_ping_monitor (<a class="reference external" href="http://tracker.ceph.com/issues/18529">issue#18529</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12934">pr#12934</a>, Samuel Just)</li>
<li>core,tests: ceph_test_rados_api_misc: Fix trivial memory leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/12680">pr#12680</a>, Brad Hubbard)</li>
<li>core,tests: c_write_operations.cc: Fix trivial memory leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/12663">pr#12663</a>, Brad Hubbard)</li>
<li>core,tests: qa/suites/rados/basic: set low omap limit for rgw workload (<a class="reference external" href="http://github.com/ceph/ceph/pull/13071">pr#13071</a>, Sage Weil)</li>
<li>core,tests: qa/workunits/rest: use unique pool names for cephfs test (<a class="reference external" href="http://github.com/ceph/ceph/pull/13188">pr#13188</a>, Sage Weil)</li>
<li>core,tests: test/librados/cmd.cc: Fix trivial memory leaks (<a class="reference external" href="http://github.com/ceph/ceph/pull/12671">pr#12671</a>, Brad Hubbard)</li>
<li>core,tests: test/librados/c_read_operations.cc: Fix trivial memory leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/12656">pr#12656</a>, Brad Hubbard)</li>
<li>core,tests: test/librados/c_read_operations.cc: Fix valgrind errors (<a class="reference external" href="http://tracker.ceph.com/issues/18354">issue#18354</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12657">pr#12657</a>, Brad Hubbard)</li>
<li>core,tests: test/librados: Silence Coverity memory leak warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/12442">pr#12442</a>, Brad Hubbard, Samuel Just)</li>
<li>core,tests: test/librados/snapshots.cc: Fix memory leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/12690">pr#12690</a>, Brad Hubbard)</li>
<li>core,tests: test/librados/tier.cc: Fix valgrind errors (<a class="reference external" href="http://tracker.ceph.com/issues/18360">issue#18360</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12705">pr#12705</a>, Brad Hubbard)</li>
<li>core,tests: test_rados_watch_notify: Fix trivial memory leaks (<a class="reference external" href="http://github.com/ceph/ceph/pull/12713">pr#12713</a>, Brad Hubbard)</li>
<li>crush: API documentation (<a class="reference external" href="http://github.com/ceph/ceph/pull/13205">pr#13205</a>, Loic Dachary)</li>
<li>crush: verify weights is influenced by the number of replicas (<a class="reference external" href="http://tracker.ceph.com/issues/15653">issue#15653</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13083">pr#13083</a>, Adam C. Emerson, Loic Dachary)</li>
<li>crush:  when osd_location_hook does not exist, we should exit error. (<a class="reference external" href="http://github.com/ceph/ceph/pull/12961">pr#12961</a>, song baisen)</li>
<li>doc: add 0.94.10 and hammer EOL to releases.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/13069">pr#13069</a>, Nathan Cutler)</li>
<li>doc: add verbiage to rbdmap manpage (<a class="reference external" href="http://tracker.ceph.com/issues/18262">issue#18262</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12509">pr#12509</a>, Nathan Cutler)</li>
<li>doc: build/install-deps.sh: Add sphinx package for building docs on FreeBSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/13223">pr#13223</a>, Willem Jan Withagen)</li>
<li>doc/cephfs/troubleshooting: fix broken bullet list (<a class="reference external" href="http://github.com/ceph/ceph/pull/12894">pr#12894</a>, Dan Mick)</li>
<li>doc: clarify &#8220;ceph quorum&#8221; syntax (<a class="reference external" href="http://tracker.ceph.com/issues/17802">issue#17802</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11787">pr#11787</a>, Nathan Cutler)</li>
<li>doc: clarify SubmittingPatches.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/12988">pr#12988</a>, Nathan Cutler)</li>
<li>doc: clarify the path restriction mds cap example (<a class="reference external" href="http://github.com/ceph/ceph/pull/12993">pr#12993</a>, John Spray)</li>
<li>doc: correct S3 lifecycle support explain (<a class="reference external" href="http://tracker.ceph.com/issues/18459">issue#18459</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12827">pr#12827</a>, liuchang0812)</li>
<li>doc: doc/dev: update log_based_pg.rst, fix some display problem (<a class="reference external" href="http://github.com/ceph/ceph/pull/12730">pr#12730</a>, liuchang0812)</li>
<li>doc: Doc:Fixes Python Swift client commands (<a class="reference external" href="http://tracker.ceph.com/issues/17746">issue#17746</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12887">pr#12887</a>, Ronak Jain)</li>
<li>doc: doc/release-notes: final kraken notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/12968">pr#12968</a>, Sage Weil)</li>
<li>doc: document repair/scrub features (<a class="reference external" href="http://tracker.ceph.com/issues/15786">issue#15786</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9032">pr#9032</a>, Kefu Chai, David Zafman)</li>
<li>doc: Document that osd_heartbeat_grace applies to MON and OSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/13098">pr#13098</a>, Wido den Hollander)</li>
<li>doc: explain about logging levels (<a class="reference external" href="http://github.com/ceph/ceph/pull/12920">pr#12920</a>, liuchang0812)</li>
<li>doc: fix document about rados mon (<a class="reference external" href="http://github.com/ceph/ceph/pull/12662">pr#12662</a>, liuchang0812)</li>
<li>doc: Fixes radosgw-admin ex: in swift auth section (<a class="reference external" href="http://tracker.ceph.com/issues/16687">issue#16687</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12646">pr#12646</a>, SirishaGuduru)</li>
<li>doc: fix the librados c api can not compile problem (<a class="reference external" href="http://github.com/ceph/ceph/pull/9396">pr#9396</a>, song baisen)</li>
<li>doc: mailmap: Michal Koutny affiliation (<a class="reference external" href="http://github.com/ceph/ceph/pull/13036">pr#13036</a>, Nathan Cutler)</li>
<li>doc: mailmap updates for v11.1.0 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12335">pr#12335</a>, Abhishek Lekshmanan)</li>
<li>doc: minor change to a cloud testing paragraph (<a class="reference external" href="http://github.com/ceph/ceph/pull/13277">pr#13277</a>, Jan Fajerski)</li>
<li>doc: min_size advice is not helpful (<a class="reference external" href="http://github.com/ceph/ceph/pull/12936">pr#12936</a>, Brad Hubbard)</li>
<li>doc: organizationmap: add Xianxia Xiao to Kylin Cloud team (<a class="reference external" href="http://github.com/ceph/ceph/pull/12718">pr#12718</a>, Yunchuan Wen)</li>
<li>doc: README.FreeBSD: update current status (<a class="reference external" href="http://github.com/ceph/ceph/pull/12096">pr#12096</a>, Willem Jan Withagen)</li>
<li>doc: release notes for v11.1.1 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12642">pr#12642</a>, Abhishek Lekshmanan)</li>
<li>doc: Remove &#8220;splitting&#8221; state (<a class="reference external" href="http://github.com/ceph/ceph/pull/12636">pr#12636</a>, Brad Hubbard)</li>
<li>doc: typo fix in s3_compliance (<a class="reference external" href="http://github.com/ceph/ceph/pull/12598">pr#12598</a>, LiuYang)</li>
<li>doc: Update disk thread section to reflect that scrubbing is no longe… (<a class="reference external" href="http://github.com/ceph/ceph/pull/12621">pr#12621</a>, Nick Fisk)</li>
<li>doc: Update keystone.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/12717">pr#12717</a>, Chu, Hua-Rong)</li>
<li>librados: asynchronous selfmanaged_snap_create/selfmanaged_snap_remove APIs (<a class="reference external" href="http://tracker.ceph.com/issues/16180">issue#16180</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12050">pr#12050</a>, Jason Dillaman)</li>
<li>librados: fix compile errors from simplified aio completions (<a class="reference external" href="http://github.com/ceph/ceph/pull/12849">pr#12849</a>, xie xingguo)</li>
<li>librbd: added rbd_flatten_with_progress to API (<a class="reference external" href="http://tracker.ceph.com/issues/15824">issue#15824</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12905">pr#12905</a>, Ricardo Dias)</li>
<li>librbd: allow to open an image without opening the parent image (<a class="reference external" href="http://tracker.ceph.com/issues/18325">issue#18325</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12885">pr#12885</a>, Ricardo Dias)</li>
<li>librbd: avoid possible recursive lock when racing acquire lock (<a class="reference external" href="http://tracker.ceph.com/issues/17447">issue#17447</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12991">pr#12991</a>, Jason Dillaman)</li>
<li>librbd: create fewer empty objects during copyup (<a class="reference external" href="http://tracker.ceph.com/issues/15028">issue#15028</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12326">pr#12326</a>, Douglas Fuller, Venky Shankar)</li>
<li>librbd: delay mirror registration when creating clones (<a class="reference external" href="http://tracker.ceph.com/issues/17993">issue#17993</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12839">pr#12839</a>, Jason Dillaman)</li>
<li>librbd: don&#8217;t continue to remove an image w/ incompatible features (<a class="reference external" href="http://tracker.ceph.com/issues/18315">issue#18315</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12638">pr#12638</a>, Dongsheng Yang)</li>
<li>librbd: fixed initializer list ordering (<a class="reference external" href="http://github.com/ceph/ceph/pull/13042">pr#13042</a>, Jason Dillaman)</li>
<li>librbd: initialize diff parent overlap to zero (<a class="reference external" href="http://github.com/ceph/ceph/pull/13077">pr#13077</a>, Gu Zhongyan)</li>
<li>librbd: introduce new constants for tracking max block name prefix (<a class="reference external" href="http://tracker.ceph.com/issues/18653">issue#18653</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13141">pr#13141</a>, Jason Dillaman)</li>
<li>librbd: managed lock refactoring (<a class="reference external" href="http://github.com/ceph/ceph/pull/12922">pr#12922</a>, Mykola Golub)</li>
<li>librbd: metadata_set API operation should not change global config setting (<a class="reference external" href="http://tracker.ceph.com/issues/18465">issue#18465</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12843">pr#12843</a>, Mykola Golub)</li>
<li>librbd: new API method to force break a peer&#8217;s exclusive lock (<a class="reference external" href="http://tracker.ceph.com/issues/18429">issue#18429</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16988">issue#16988</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18327">issue#18327</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12639">pr#12639</a>, Jason Dillaman)</li>
<li>librbd: permit removal of image being bootstrapped by rbd-mirror (<a class="reference external" href="http://tracker.ceph.com/issues/16555">issue#16555</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12549">pr#12549</a>, Mykola Golub)</li>
<li>librbd: possible deadlock with flush if refresh in-progress (<a class="reference external" href="http://tracker.ceph.com/issues/18419">issue#18419</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12838">pr#12838</a>, Jason Dillaman)</li>
<li>librbd: prevent self-blacklisting during break lock (<a class="reference external" href="http://tracker.ceph.com/issues/18666">issue#18666</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13110">pr#13110</a>, Jason Dillaman)</li>
<li>librbd: race initializing exclusive lock and configuring IO path (<a class="reference external" href="http://github.com/ceph/ceph/pull/13086">pr#13086</a>, Jason Dillaman)</li>
<li>librbd: refactor exclusive lock support into generic managed lock (<a class="reference external" href="http://tracker.ceph.com/issues/17016">issue#17016</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12846">pr#12846</a>, Ricardo Dias, Jason Dillaman)</li>
<li>librbd: remove unnecessary dependencies of ManagedLock (<a class="reference external" href="http://github.com/ceph/ceph/pull/12982">pr#12982</a>, Jason Dillaman)</li>
<li>librbd: resolve static analyser warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/12863">pr#12863</a>, Jason Dillaman)</li>
<li>librbd: support for shared locking in ManagedLock (<a class="reference external" href="http://github.com/ceph/ceph/pull/12886">pr#12886</a>, Ricardo Dias)</li>
<li>librbd: support to list snapshot timestamp (<a class="reference external" href="http://tracker.ceph.com/issues/808">issue#808</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12817">pr#12817</a>, Pan Liu)</li>
<li>librbd: warning message for mirroring pool option (<a class="reference external" href="http://tracker.ceph.com/issues/18125">issue#18125</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12319">pr#12319</a>, Gaurav Kumar Garg)</li>
<li>log: use one write system call per message (<a class="reference external" href="http://github.com/ceph/ceph/pull/11955">pr#11955</a>, Patrick Donnelly)</li>
<li>mds: add authority check for delay dirfrag split (<a class="reference external" href="http://tracker.ceph.com/issues/18487">issue#18487</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12994">pr#12994</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>mds: check for errors decoding backtraces (<a class="reference external" href="http://tracker.ceph.com/issues/18311">issue#18311</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12588">pr#12588</a>, John Spray)</li>
<li>mds: don&#8217;t modify inode that is not projected (<a class="reference external" href="http://tracker.ceph.com/issues/16768">issue#16768</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13052">pr#13052</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>mds: finish clientreplay requests before requesting active state (<a class="reference external" href="http://tracker.ceph.com/issues/18461">issue#18461</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12852">pr#12852</a>, Yan, Zheng)</li>
<li>mds: fix incorrect assertion in Server::_dir_is_nonempty() (<a class="reference external" href="http://tracker.ceph.com/issues/18578">issue#18578</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12973">pr#12973</a>, Yan, Zheng)</li>
<li>mds: fix null pointer dereference in Locker::handle_client_caps (<a class="reference external" href="http://tracker.ceph.com/issues/18306">issue#18306</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12808">pr#12808</a>, Yan, Zheng)</li>
<li>mds: miscellaneous fixes (<a class="reference external" href="http://tracker.ceph.com/issues/18646">issue#18646</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12974">pr#12974</a>, Yan, Zheng, &#8220;Yan, Zheng&#8221;)</li>
<li>mds: misc multimds fixes part2 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12794">pr#12794</a>, Yan, Zheng)</li>
<li>mds: misc multimds fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/12274">pr#12274</a>, Yan, Zheng)</li>
<li>mds: propagate error encountered during opening inode by number (<a class="reference external" href="http://tracker.ceph.com/issues/18179">issue#18179</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12749">pr#12749</a>, Yan, Zheng)</li>
<li>mds: skip fragment space check for replayed request (<a class="reference external" href="http://tracker.ceph.com/issues/18660">issue#18660</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13095">pr#13095</a>, &#8220;Yan, Zheng&#8221;)</li>
<li>mgr: Make stats period configurable (<a class="reference external" href="http://tracker.ceph.com/issues/17449">issue#17449</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12732">pr#12732</a>, liuchang0812)</li>
<li>mon: clean up some osdmon/pgmon interactions (<a class="reference external" href="http://github.com/ceph/ceph/pull/12403">pr#12403</a>, Sage Weil)</li>
<li>mon: don&#8217;t set last_osd_report when the pg stats msg is ignored (<a class="reference external" href="http://github.com/ceph/ceph/pull/12975">pr#12975</a>, Zhiqiang Wang)</li>
<li>mon: fix a few nits (<a class="reference external" href="http://github.com/ceph/ceph/pull/12670">pr#12670</a>, Sage Weil)</li>
<li>mon: fix wrongly delete routed pgstats op (<a class="reference external" href="http://tracker.ceph.com/issues/18458">issue#18458</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12784">pr#12784</a>, Mingxin Liu)</li>
<li>mon: no delay for single message MSG_ALIVE and MSG_PGTEMP (<a class="reference external" href="http://github.com/ceph/ceph/pull/12107">pr#12107</a>, yaoning)</li>
<li>mon: optracker&#8217;s initiated_at timestamp should not be NULL (<a class="reference external" href="http://github.com/ceph/ceph/pull/12826">pr#12826</a>, Mingxin Liu)</li>
<li>mon/OSDMonitor: fix process osd failure (<a class="reference external" href="http://github.com/ceph/ceph/pull/12938">pr#12938</a>, Mingxin Liu)</li>
<li>mon: post-jewel cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/13150">pr#13150</a>, Kefu Chai)</li>
<li>msg/async: Fixed compilation error when enable -DWITH_DPDK (<a class="reference external" href="http://github.com/ceph/ceph/pull/12660">pr#12660</a>, Pan Liu)</li>
<li>msg/async: fixed coredump when enable dpdk. (<a class="reference external" href="http://github.com/ceph/ceph/pull/12854">pr#12854</a>, Pan Liu)</li>
<li>msg/async: fixed the error &#8220;Cause: Cannot create lock on &#8216;/var/run/.rte_c… (<a class="reference external" href="http://github.com/ceph/ceph/pull/12860">pr#12860</a>, Pan Liu)</li>
<li>msg/async: fix file description leak in NetHandler (<a class="reference external" href="http://github.com/ceph/ceph/pull/13271">pr#13271</a>, liuchang0812)</li>
<li>msg/async: NVMEDevice.cc: cleanup the logic in data_buf_next_sge (<a class="reference external" href="http://github.com/ceph/ceph/pull/13056">pr#13056</a>, optimistyzy)</li>
<li>msg/async/rdma: Fix memory leak of OSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/13101">pr#13101</a>, Sarit Zubakov)</li>
<li>msg/async/rdma: fix RoCE v2 deafult value (<a class="reference external" href="http://github.com/ceph/ceph/pull/12648">pr#12648</a>, Adir Lev, Oren Duer)</li>
<li>msg/RDMA: Fix broken compilation due to new argument in net.connect() (<a class="reference external" href="http://github.com/ceph/ceph/pull/13096">pr#13096</a>, Amir Vadai)</li>
<li>os/bluestore: NVMEDevice: optimize sector_size usage (<a class="reference external" href="http://github.com/ceph/ceph/pull/12780">pr#12780</a>, optimistyzy)</li>
<li>osd: add asock command to dump the scrub queue (<a class="reference external" href="http://tracker.ceph.com/issues/17861">issue#17861</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12728">pr#12728</a>, liuchang0812)</li>
<li>osd: allow client throttler to be adjusted on-fly, without restart (<a class="reference external" href="http://tracker.ceph.com/issues/18791">issue#18791</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13213">pr#13213</a>, Piotr Dałek)</li>
<li>osd: Calculate degraded and misplaced more accurately (<a class="reference external" href="http://tracker.ceph.com/issues/18619">issue#18619</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13031">pr#13031</a>, David Zafman)</li>
<li>osd: cleanup: use string &amp; to avoid unnecessary copy (<a class="reference external" href="http://github.com/ceph/ceph/pull/12336">pr#12336</a>, Yunchuan Wen)</li>
<li>osd: condition object_info_t encoding on required (not up) features (<a class="reference external" href="http://tracker.ceph.com/issues/18644">issue#18644</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13114">pr#13114</a>, Sage Weil)</li>
<li>osd: correct comment of perfcounter cached_crc in code (<a class="reference external" href="http://github.com/ceph/ceph/pull/13256">pr#13256</a>, lvshuhua)</li>
<li>osd: do not send ENXIO on misdirected op by default (<a class="reference external" href="http://tracker.ceph.com/issues/18751">issue#18751</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13206">pr#13206</a>, Sage Weil)</li>
<li>osd: _exit() intead of exit() for failure injection (<a class="reference external" href="http://tracker.ceph.com/issues/18372">issue#18372</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12726">pr#12726</a>, Sage Weil)</li>
<li>osd: extend OMAP_GETKEYS and GETVALS to include a &#8216;more&#8217; output field (<a class="reference external" href="http://github.com/ceph/ceph/pull/12950">pr#12950</a>, Sage Weil)</li>
<li>osd: fix coverity warning for uninitialized members (<a class="reference external" href="http://github.com/ceph/ceph/pull/12724">pr#12724</a>, Li Wang)</li>
<li>osd: Fix useless MAX(0, unsigned) to prevent out of wack misplaced (<a class="reference external" href="http://tracker.ceph.com/issues/18718">issue#18718</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13164">pr#13164</a>, David Zafman)</li>
<li>osd: improve error message when FileStore op fails due to EPERM (<a class="reference external" href="http://tracker.ceph.com/issues/18037">issue#18037</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12181">pr#12181</a>, Nathan Cutler)</li>
<li>osd: never send rados ack (only commit) (<a class="reference external" href="http://github.com/ceph/ceph/pull/12451">pr#12451</a>, Sage Weil)</li>
<li>osd: osd/OSDMap: require OSD features only of OSDs (<a class="reference external" href="http://tracker.ceph.com/issues/18831">issue#18831</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13275">pr#13275</a>, Ilya Dryomov)</li>
<li>osd: Return correct osd_objectstore in OSD metadata (<a class="reference external" href="http://tracker.ceph.com/issues/18638">issue#18638</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13072">pr#13072</a>, Wido den Hollander)</li>
<li>osd: use separate waitlist for scrub (<a class="reference external" href="http://github.com/ceph/ceph/pull/13136">pr#13136</a>, Sage Weil)</li>
<li>performance,bluestore: os/bluestore/bluestore_types: drop std::bitset for blob unused (<a class="reference external" href="http://github.com/ceph/ceph/pull/12569">pr#12569</a>, Sage Weil)</li>
<li>performance,bluestore: os/bluestore: do not cache shard keys (<a class="reference external" href="http://github.com/ceph/ceph/pull/12634">pr#12634</a>, Sage Weil)</li>
<li>performance,bluestore: os/bluestore: generate same onode extent-shard keys in a more efficient way (<a class="reference external" href="http://github.com/ceph/ceph/pull/12681">pr#12681</a>, xie xingguo)</li>
<li>performance,bluestore: os/bluestore: kvdb histogram (<a class="reference external" href="http://github.com/ceph/ceph/pull/12620">pr#12620</a>, Varada Kari)</li>
<li>performance,bluestore: os/bluestore: prevent lock for almost &#8220;flush&#8221; calls (<a class="reference external" href="http://github.com/ceph/ceph/pull/12524">pr#12524</a>, Haomai Wang)</li>
<li>performance,bluestore: os/bluestore: replace Blob ref_map with reference counting (<a class="reference external" href="http://github.com/ceph/ceph/pull/12904">pr#12904</a>, Igor Fedotov)</li>
<li>performance,bluestore: os/bluestore: set cache meta ratio to .9 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12635">pr#12635</a>, Sage Weil)</li>
<li>performance,bluestore: os/bluestore: use aio for reads (<a class="reference external" href="http://github.com/ceph/ceph/pull/13066">pr#13066</a>, Sage Weil)</li>
<li>performance,bluestore: os/bluestore: use Best-Effort policy when evicting onode from cache (<a class="reference external" href="http://github.com/ceph/ceph/pull/12876">pr#12876</a>, xie xingguo)</li>
<li>performance,bluestore: os/bluestore: various onode changes to reduce its in-memory footprint. (<a class="reference external" href="http://github.com/ceph/ceph/pull/12700">pr#12700</a>, Igor Fedotov)</li>
<li>performance,bluestore: Tested-by: Chagam, Anjaneya &lt;<a class="reference external" href="mailto:anjaneya&#46;chagam&#37;&#52;&#48;intel&#46;com">anjaneya<span>&#46;</span>chagam<span>&#64;</span>intel<span>&#46;</span>com</a>&gt; (<a class="reference external" href="http://github.com/ceph/ceph/pull/13032">pr#13032</a>, Sage Weil)</li>
<li>performance,cephfs: mds/server: skip unwanted dn in handle_client_readdir (<a class="reference external" href="http://github.com/ceph/ceph/pull/12870">pr#12870</a>, Xiaoxi Chen)</li>
<li>performance,common,bluestore: common/Finisher: Using queue(list&lt;context*&gt;) instead queue(context*). (<a class="reference external" href="http://github.com/ceph/ceph/pull/8942">pr#8942</a>, Jianpeng Ma)</li>
<li>performance: osd, messenger, librados: lttng oid tracing (<a class="reference external" href="http://github.com/ceph/ceph/pull/12492">pr#12492</a>, Anjaneya Chagam)</li>
<li>performance: osd/ReplicatedBackend: do not set omap header if it is empty (<a class="reference external" href="http://github.com/ceph/ceph/pull/12612">pr#12612</a>, fang yuxiang)</li>
<li>pybind: conditional compile the linux specific constant (<a class="reference external" href="http://github.com/ceph/ceph/pull/12198">pr#12198</a>, Kefu Chai)</li>
<li>qa: Add openstack requirements to smoke suite (<a class="reference external" href="http://github.com/ceph/ceph/pull/12913">pr#12913</a>, Zack Cerza)</li>
<li>qa: src/test/test_denc.cc: Fix errors in buffer overflow (<a class="reference external" href="http://github.com/ceph/ceph/pull/12653">pr#12653</a>, Willem Jan Withagen)</li>
<li>rbd: add error prompt when input command &#8216;snap set limit&#8217; is incomplete (<a class="reference external" href="http://github.com/ceph/ceph/pull/12945">pr#12945</a>, Tang Jin)</li>
<li>rbd: additional validation for &#8216;bench&#8217; optional parameters (<a class="reference external" href="http://github.com/ceph/ceph/pull/12697">pr#12697</a>, Yunchuan Wen)</li>
<li>rbd: bench-write should return error if io-size &gt;= 4G (<a class="reference external" href="http://tracker.ceph.com/issues/18422">issue#18422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12864">pr#12864</a>, Gaurav Kumar Garg)</li>
<li>rbd: cleanup: fix the typo in namespace comment (<a class="reference external" href="http://github.com/ceph/ceph/pull/12858">pr#12858</a>, Dongsheng Yang)</li>
<li>rbd: correct coverity warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/12954">pr#12954</a>, Jason Dillaman)</li>
<li>rbd: destination pool should be source pool if it is not specified (<a class="reference external" href="http://tracker.ceph.com/issues/18326">issue#18326</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13189">pr#13189</a>, Gaurav Kumar Garg)</li>
<li>rbd: enable rbd on FreeBSD (without KRBD) (<a class="reference external" href="http://github.com/ceph/ceph/pull/12798">pr#12798</a>, Willem Jan Withagen)</li>
<li>rbd: journal: don&#8217;t hold future lock during assignment (<a class="reference external" href="http://tracker.ceph.com/issues/18618">issue#18618</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13033">pr#13033</a>, Jason Dillaman)</li>
<li>rbd: journal: stop processing removal after error (<a class="reference external" href="http://tracker.ceph.com/issues/18738">issue#18738</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13193">pr#13193</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: add support for active/passive daemon instances (<a class="reference external" href="http://tracker.ceph.com/issues/17018">issue#17018</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17019">issue#17019</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17020">issue#17020</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12948">pr#12948</a>, Mykola Golub)</li>
<li>rbd: rbd-mirror: avoid processing new events after stop requested (<a class="reference external" href="http://tracker.ceph.com/issues/18441">issue#18441</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12837">pr#12837</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: check remote image mirroring state when bootstrapping (<a class="reference external" href="http://tracker.ceph.com/issues/18447">issue#18447</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12820">pr#12820</a>, Mykola Golub)</li>
<li>rbd: rbd-mirror: delayed replication support (<a class="reference external" href="http://tracker.ceph.com/issues/15371">issue#15371</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11879">pr#11879</a>, Mykola Golub)</li>
<li>rbd: remove direct linking to static boost libraries (<a class="reference external" href="http://github.com/ceph/ceph/pull/12962">pr#12962</a>, Jason Dillaman)</li>
<li>rbd: remove unused condition within group action handler (<a class="reference external" href="http://github.com/ceph/ceph/pull/12723">pr#12723</a>, Gaurav Kumar Garg)</li>
<li>rgw: Added a globbing method for AWS Policies. (<a class="reference external" href="http://github.com/ceph/ceph/pull/12445">pr#12445</a>, Pritha Srivastava)</li>
<li>rgw: Added code for REST APIs for AWS Roles. (<a class="reference external" href="http://github.com/ceph/ceph/pull/12104">pr#12104</a>, Pritha Srivastava)</li>
<li>rgw: add lifecycle validation according to S3. (<a class="reference external" href="http://tracker.ceph.com/issues/18394">issue#18394</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12750">pr#12750</a>, Zhang Shaowen)</li>
<li>rgw: be aware abount tenants on cls_user_bucket -&gt; rgw_bucket conversion (<a class="reference external" href="http://tracker.ceph.com/issues/18364">issue#18364</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16355">issue#16355</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13220">pr#13220</a>, Radoslaw Zarzynski)</li>
<li>rgw: clear master_zonegroup when reseting RGWPeriodMap (<a class="reference external" href="http://tracker.ceph.com/issues/17239">issue#17239</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12658">pr#12658</a>, Orit Wasserman)</li>
<li>rgw: complete versioning enablement after sending it to meta master (<a class="reference external" href="http://tracker.ceph.com/issues/18003">issue#18003</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12444">pr#12444</a>, Orit Wasserman)</li>
<li>rgw: fix handling RGWUserInfo::system in RGWHandler_REST_SWIFT. (<a class="reference external" href="http://tracker.ceph.com/issues/18476">issue#18476</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12865">pr#12865</a>, Radoslaw Zarzynski)</li>
<li>rgw: fix off-by-one in RGWDataChangesLog::get_info (<a class="reference external" href="http://tracker.ceph.com/issues/18488">issue#18488</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12884">pr#12884</a>, Casey Bodley)</li>
<li>rgw: fix period update crash (<a class="reference external" href="http://tracker.ceph.com/issues/18631">issue#18631</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13054">pr#13054</a>, Orit Wasserman)</li>
<li>rgw: fix use of marker in List::list_objects() (<a class="reference external" href="http://tracker.ceph.com/issues/18331">issue#18331</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13147">pr#13147</a>, Yehuda Sadeh)</li>
<li>rgw: fix versioned bucket data sync fail when upload is busy (<a class="reference external" href="http://tracker.ceph.com/issues/18208">issue#18208</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12357">pr#12357</a>, lvshuhua)</li>
<li>rgw: ldap: simple_bind() should set ldap version option on tldap (<a class="reference external" href="http://github.com/ceph/ceph/pull/12616">pr#12616</a>, Weibing Zhang)</li>
<li>rgw: librgw shut (<a class="reference external" href="http://tracker.ceph.com/issues/18585">issue#18585</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12972">pr#12972</a>, Matt Benjamin)</li>
<li>rgw: orphan: fix error messages (<a class="reference external" href="http://github.com/ceph/ceph/pull/12782">pr#12782</a>, Weibing Zhang)</li>
<li>rgw: remove invalid read size4 (<a class="reference external" href="http://tracker.ceph.com/issues/18071">issue#18071</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12767">pr#12767</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: add timed namespace invalidation (<a class="reference external" href="http://tracker.ceph.com/issues/18651">issue#18651</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13038">pr#13038</a>, Matt Benjamin)</li>
<li>rgw: rgw_file:  fix RGWLibFS::setattr for directory objects (<a class="reference external" href="http://tracker.ceph.com/issues/18808">issue#18808</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13252">pr#13252</a>, Matt Benjamin)</li>
<li>rgw: rgw_file:  interned RGWFileHandle objects need parent refs (<a class="reference external" href="http://tracker.ceph.com/issues/18650">issue#18650</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13084">pr#13084</a>, Matt Benjamin)</li>
<li>rgw: rgw_file:  split last argv on ws, if provided (<a class="reference external" href="http://github.com/ceph/ceph/pull/12965">pr#12965</a>, Matt Benjamin)</li>
<li>rgw: RGWMetaSyncShardCR drops stack refs on destruction (<a class="reference external" href="http://tracker.ceph.com/issues/18412">issue#18412</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18300">issue#18300</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12605">pr#12605</a>, Casey Bodley)</li>
<li>rgw: rgw multisite: fix ref counting of completions (<a class="reference external" href="http://tracker.ceph.com/issues/18414">issue#18414</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18407">issue#18407</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12841">pr#12841</a>, Casey Bodley)</li>
<li>rgw: rgw realm set fixes (<a class="reference external" href="http://tracker.ceph.com/issues/18333">issue#18333</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12731">pr#12731</a>, Orit Wasserman)</li>
<li>rgw: swift: fix anonymous user&#8217;s error code of getting object (<a class="reference external" href="http://tracker.ceph.com/issues/18806">issue#18806</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13242">pr#13242</a>, Jing Wenjun)</li>
<li>rgw: swift: the http referer acl in swift API should be shown (<a class="reference external" href="http://tracker.ceph.com/issues/18665">issue#18665</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13003">pr#13003</a>, Jing Wenjun)</li>
<li>rgw: swift: The http referer should be parsed to compare in swift API (<a class="reference external" href="http://tracker.ceph.com/issues/18685">issue#18685</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13005">pr#13005</a>, Jing Wenjun)</li>
<li>rgw: sync status compares the current master period (<a class="reference external" href="http://tracker.ceph.com/issues/18064">issue#18064</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12907">pr#12907</a>, Abhishek Lekshmanan)</li>
<li>rgw: the swift container acl should support field .ref (<a class="reference external" href="http://tracker.ceph.com/issues/18484">issue#18484</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12874">pr#12874</a>, Jing Wenjun)</li>
<li>rgw: Use decoded URI when verifying TempURL (<a class="reference external" href="http://tracker.ceph.com/issues/18590">issue#18590</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13007">pr#13007</a>, Michal Koutný)</li>
<li>rgw: Wip rgw openssl 7 (<a class="reference external" href="http://tracker.ceph.com/issues/11239">issue#11239</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16535">issue#16535</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11776">pr#11776</a>, Yehuda Sadeh, Marcus Watts)</li>
<li>tests,bluestore: ceph_test_objectstore: match clone_range src and dst offset (<a class="reference external" href="http://github.com/ceph/ceph/pull/13211">pr#13211</a>, Sage Weil)</li>
<li>tests,cephfs: Improve vstart_runner to (optionally) create its own cluster (<a class="reference external" href="http://github.com/ceph/ceph/pull/12800">pr#12800</a>, John Spray)</li>
<li>tests: ceph-helpers.sh reduce get_timeout_delays() verbosity (<a class="reference external" href="http://github.com/ceph/ceph/pull/13257">pr#13257</a>, Kefu Chai)</li>
<li>tests: ceph_test_rados_api_watch_notify: move global variables into test class (<a class="reference external" href="http://tracker.ceph.com/issues/18395">issue#18395</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12751">pr#12751</a>, Kefu Chai)</li>
<li>tests,cleanup,rbd: test: correct language mode in file headers (<a class="reference external" href="http://github.com/ceph/ceph/pull/12924">pr#12924</a>, Jason Dillaman)</li>
<li>tests,cleanup: test: clean up unused variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/12873">pr#12873</a>, liuchang0812)</li>
<li>tests,cleanup: test: update test_rados_tool.sh, use POOL and OBJ var (<a class="reference external" href="http://github.com/ceph/ceph/pull/12706">pr#12706</a>, liuchang0812)</li>
<li>tests: drop rbd_cli_tests.pl and RbdLib.pm (<a class="reference external" href="http://tracker.ceph.com/issues/14825">issue#14825</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12821">pr#12821</a>, Nathan Cutler)</li>
<li>tests: drop unused rbd_functional_tests.pl script (<a class="reference external" href="http://tracker.ceph.com/issues/14825">issue#14825</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12818">pr#12818</a>, Nathan Cutler)</li>
<li>tests: fix NULL references to be acceptable by Clang (<a class="reference external" href="http://github.com/ceph/ceph/pull/12880">pr#12880</a>, Willem Jan Withagen)</li>
<li>tests: fix template specialization of PromoteRequest class (<a class="reference external" href="http://github.com/ceph/ceph/pull/12815">pr#12815</a>, Ricardo Dias)</li>
<li>tests: ignore bogus ceph-objectstore-tool error in ceph_manager (<a class="reference external" href="http://tracker.ceph.com/issues/16263">issue#16263</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13194">pr#13194</a>, Nathan Cutler)</li>
<li>tests: nosetests: use /usr/bin/env to find nosetests (<a class="reference external" href="http://github.com/ceph/ceph/pull/12091">pr#12091</a>, Willem Jan Withagen)</li>
<li>tests: qa: Cleaned up distros to use <cite>latest</cite> versions (<a class="reference external" href="http://github.com/ceph/ceph/pull/12804">pr#12804</a>, Yuri Weinstein)</li>
<li>tests: qa/distros: make centos_latest 7.3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12944">pr#12944</a>, Sage Weil)</li>
<li>tests: qa: do not mention ceph branch explicitly (<a class="reference external" href="http://github.com/ceph/ceph/pull/13225">pr#13225</a>, Tamil Muthamizhan)</li>
<li>tests: qa: fixed distros links (<a class="reference external" href="http://github.com/ceph/ceph/pull/12770">pr#12770</a>, Yuri Weinstein)</li>
<li>tests: qa: specify client for fs workunit (<a class="reference external" href="http://github.com/ceph/ceph/pull/12914">pr#12914</a>, Tamil Muthamizhan)</li>
<li>tests: qa/suite: Added a smoke suite for ceph-ansible (<a class="reference external" href="http://github.com/ceph/ceph/pull/12610">pr#12610</a>, Tamil Muthamizhan)</li>
<li>tests: qa/suites/ceph-ansible: removing fs workunit (<a class="reference external" href="http://github.com/ceph/ceph/pull/12928">pr#12928</a>, Tamil Muthamizhan)</li>
<li>tests: qa/tasks/ceph-deploy: create-keys explicitly (<a class="reference external" href="http://github.com/ceph/ceph/pull/12867">pr#12867</a>, Vasu Kulkarni)</li>
<li>tests: qa/tasks/ceph-deploy: use the new create option during instantiation (<a class="reference external" href="http://github.com/ceph/ceph/pull/12892">pr#12892</a>, Vasu Kulkarni)</li>
<li>tests: qa/test_rados_tool.sh: POSIX dd only accepts &#8216;k&#8217; as multiplier (<a class="reference external" href="http://github.com/ceph/ceph/pull/12699">pr#12699</a>, Willem Jan Withagen)</li>
<li>tests: qa: Using centos 7.2 for <cite>latest</cite> version (<a class="reference external" href="http://github.com/ceph/ceph/pull/12806">pr#12806</a>, Yuri Weinstein)</li>
<li>tests: qa/workunits/ceph-helpers: wait_for_clean() races with pg creation (<a class="reference external" href="http://github.com/ceph/ceph/pull/12866">pr#12866</a>, David Zafman)</li>
<li>tests,rbd: qa: integrate OpenStack &#8216;gate-tempest-dsvm-full-devstack-plugin-ceph&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/18594">issue#18594</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13158">pr#13158</a>, Jason Dillaman)</li>
<li>tests,rbd: qa/tasks/qemu: update default image url after ceph.com redesign (<a class="reference external" href="http://tracker.ceph.com/issues/18542">issue#18542</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12953">pr#12953</a>, Jason Dillaman)</li>
<li>tests,rbd: test/librbd: add break_lock test (<a class="reference external" href="http://github.com/ceph/ceph/pull/12842">pr#12842</a>, Mykola Golub)</li>
<li>tests: rbd/test_lock_fence.sh: fix rbdrw.py relative path (<a class="reference external" href="http://tracker.ceph.com/issues/18388">issue#18388</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12747">pr#12747</a>, Nathan Cutler)</li>
<li>tests,rbd: test: use librados API to retrieve config params (<a class="reference external" href="http://tracker.ceph.com/issues/18617">issue#18617</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13076">pr#13076</a>, Jason Dillaman)</li>
<li>tests: remove temporary file (<a class="reference external" href="http://github.com/ceph/ceph/pull/12919">pr#12919</a>, Kefu Chai)</li>
<li>tests,rgw: test/rgw: add test for versioned object sync (<a class="reference external" href="http://github.com/ceph/ceph/pull/12474">pr#12474</a>, Casey Bodley)</li>
<li>tests: subst repo and branch in git.ceph.com URL in qa/tasks/cram.py and qa/tasks/qemu.py (<a class="reference external" href="http://tracker.ceph.com/issues/18440">issue#18440</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12816">pr#12816</a>, Nathan Cutler)</li>
<li>tests: test: librados_test_stub: tmap_update: return -ENOENT when removing nonexisent key (<a class="reference external" href="http://github.com/ceph/ceph/pull/12667">pr#12667</a>, Mykola Golub)</li>
<li>tests: test: replace hard-code binary names with varibles (<a class="reference external" href="http://github.com/ceph/ceph/pull/12675">pr#12675</a>, liuchang0812)</li>
<li>tests: Thrasher: eliminate a race between kill_osd and __init__ (<a class="reference external" href="http://tracker.ceph.com/issues/18799">issue#18799</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13237">pr#13237</a>, Nathan Cutler)</li>
<li>tools: ceph-disk: convert none str to str before printing it (<a class="reference external" href="http://tracker.ceph.com/issues/18371">issue#18371</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12760">pr#12760</a>, Kefu Chai)</li>
<li>tools: ceph-objectstore-tool: Handle object names that are also valid json (<a class="reference external" href="http://github.com/ceph/ceph/pull/12848">pr#12848</a>, David Zafman)</li>
<li>tools: ceph-release-notes: ignore low-numbered PRs (<a class="reference external" href="http://tracker.ceph.com/issues/18695">issue#18695</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13151">pr#13151</a>, Nathan Cutler)</li>
<li>tools,common: osdmaptool: show all the pg map to osds info (<a class="reference external" href="http://github.com/ceph/ceph/pull/9419">pr#9419</a>, song baisen)</li>
<li>tools: script: ceph-release-notes check orig. issue only for backports (<a class="reference external" href="http://github.com/ceph/ceph/pull/12979">pr#12979</a>, Abhishek Lekshmanan)</li>
<li>tools: support hammer in rbd_recover_tool (<a class="reference external" href="http://github.com/ceph/ceph/pull/12413">pr#12413</a>, Bartłomiej Święcki)</li>
<li>tools: tools/rados: add a parameter &#8220;&#8211;offset&#8221; to rados put command (<a class="reference external" href="http://github.com/ceph/ceph/pull/12674">pr#12674</a>, liuchang0812)</li>
</ul>
</div>
</div>
<div class="section" id="v11-2-0-kraken">
<h2>v11.2.0 Kraken<a class="headerlink" href="#v11-2-0-kraken" title="Permalink to this headline">¶</a></h2>
<p>This is the first release of the Kraken series.  It is a stable
release that will be maintained with bugfixes and backports until the
next stable release, Luminous, is completed in the Spring of 2017.</p>
<div class="section" id="major-changes-from-jewel">
<h3>Major Changes from Jewel<a class="headerlink" href="#major-changes-from-jewel" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><em>RADOS</em>:<ul>
<li>The new <em>BlueStore</em> backend now has a stable disk format and is
passing our failure and stress testing. Although the backend is
still flagged as experimental, we encourage users to try it out
for non-production clusters and non-critical data sets.</li>
<li>RADOS now has experimental support for <em>overwrites on
erasure-coded</em> pools. Because the disk format and implementation
are not yet finalized, there is a special pool option that must be
enabled to test the new feature.&nbsp; Enabling this option on a cluster
will permanently bar that cluster from being upgraded to future
versions.</li>
<li>We now default to the AsyncMessenger (<tt class="docutils literal"><span class="pre">ms</span> <span class="pre">type</span> <span class="pre">=</span> <span class="pre">async</span></tt>) instead
of the legacy SimpleMessenger.&nbsp; The most noticeable difference is
that we now use a fixed sized thread pool for network connections
(instead of two threads per socket with SimpleMessenger).</li>
<li>Some OSD failures are now detected almost immediately, whereas
previously the heartbeat timeout (which defaults to 20 seconds)
had to expire.&nbsp; This prevents IO from blocking for an extended
period for failures where the host remains up but the ceph-osd
process is no longer running.</li>
<li>There is a new <tt class="docutils literal"><span class="pre">ceph-mgr</span></tt> daemon.&nbsp; It is currently collocated with
the monitors by default, and is not yet used for much, but the basic
infrastructure is now in place.</li>
<li>The size of encoded OSDMaps has been reduced.</li>
<li>The OSDs now quiesce scrubbing when recovery or rebalancing is in progress.</li>
</ul>
</li>
<li><em>RGW</em>:<ul>
<li>RGW now supports a new zone type that can be used for metadata indexing
via ElasticSearch.</li>
<li>RGW now supports the S3 multipart object copy-part API.</li>
<li>It is possible now to reshard an existing bucket. Note that bucket
resharding currently requires that all IO (especially writes) to
the specific bucket is quiesced.</li>
<li>RGW now supports data compression for objects.</li>
<li>Civetweb version has been upgraded to 1.8</li>
<li>The Swift static website API is now supported (S3 support has been added
previously).</li>
<li>S3 bucket lifecycle API has been added. Note that currently it only supports
object expiration.</li>
<li>Support for custom search filters has been added to the LDAP auth
implementation.</li>
<li>Support for NFS version 3 has been added to the RGW NFS gateway.</li>
<li>A Python binding has been created for librgw.</li>
</ul>
</li>
<li><em>RBD</em>:<ul>
<li>RBD now supports images stored in an <em>erasure-coded</em> RADOS pool
using the new (experimental) overwrite support. Images must be
created using the new rbd CLI &#8220;&#8211;data-pool &lt;ec pool&gt;&#8221; option to
specify the EC pool where the backing data objects are
stored. Attempting to create an image directly on an EC pool will
not be successful since the image&#8217;s backing metadata is only
supported on a replicated pool.</li>
<li>The rbd-mirror daemon now supports replicating dynamic image
feature updates and image metadata key/value pairs from the
primary image to the non-primary image.</li>
<li>The number of image snapshots can be optionally restricted to a
configurable maximum.</li>
<li>The rbd Python API now supports asynchronous IO operations.</li>
</ul>
</li>
<li><em>CephFS</em>:<ul>
<li>libcephfs function definitions have been changed to enable proper
uid/gid control.  The library version has been increased to reflect the
interface change.</li>
<li>Standby replay MDS daemons now consume less memory on workloads
doing deletions.</li>
<li>Scrub now repairs backtrace, and populates <cite>damage ls</cite> with
discovered errors.</li>
<li>A new <cite>pg_files</cite> subcommand to <cite>cephfs-data-scan</cite> can identify
files affected by a damaged or lost RADOS PG.</li>
<li>The false-positive &#8220;failing to respond to cache pressure&#8221; warnings have
been fixed.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="upgrading-from-kraken-release-candidate-11-1-0">
<h3>Upgrading from Kraken release candidate 11.1.0<a class="headerlink" href="#upgrading-from-kraken-release-candidate-11-1-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The new <em>BlueStore</em> backend had an on-disk format change after 11.1.0.
Any BlueStore OSDs created with 11.1.0 will need to be destroyed and
recreated.</li>
</ul>
</div>
<div class="section" id="upgrading-from-jewel">
<h3>Upgrading from Jewel<a class="headerlink" href="#upgrading-from-jewel" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>All clusters must first be upgraded to Jewel 10.2.z before upgrading
to Kraken 11.2.z (or, eventually, Luminous 12.2.z).</li>
<li>The <tt class="docutils literal"><span class="pre">sortbitwise</span></tt> flag must be set on the Jewel cluster before upgrading
to Kraken.  The latest Jewel (10.2.4+) releases issue a health warning if
the flag is not set, so this is probably already set.  If it is not, Kraken
OSDs will refuse to start and will print and error message in their log.</li>
<li>You may upgrade OSDs, Monitors, and MDSs in any order.  RGW daemons
should be upgraded last.</li>
<li>When upgrading, new ceph-mgr daemon instances will be created automatically
alongside any monitors.  This will be true for Jewel to Kraken and Jewel to
Luminous upgrades, but likely not be true for future upgrades beyond
Luminous.  You are, of course, free to create new ceph-mgr daemon instances
and destroy the auto-created ones if you do not with them to be colocated
with the ceph-mon daemons.</li>
</ul>
</div>
<div class="section" id="bluestore">
<h3>BlueStore<a class="headerlink" href="#bluestore" title="Permalink to this headline">¶</a></h3>
<p>BlueStore is a new backend for managing data stored by each OSD on the directly
hard disk or SSD.  Unlike the existing FileStore implementation, which makes
use of an XFS file system to store objects as files, BlueStore manages the
underlying block device directly.  Implements its own file system-like on-disk
structure the is designed specifically for Ceph OSD workloads.  Key features
of BlueStore include:</p>
<blockquote>
<div><ul class="simple">
<li>Checksums on all data written to disk, with checksum verifications on all
reads, enabled by default.</li>
<li>Inline compression support, which can be enabled on a per-pool or per-object
basis via pool properties or client hints, respectively.</li>
<li>Efficient journaling.  Unlike FileStore, which writes <em>all</em> data to
its journal device, BlueStore only journals metadata and (in some
cases) small writes, reducing the size and throughput requirements
for its journal.  As with FileStore, the journal can be colocated
on the same device as other data or allocated on a smaller,
high-performance device (e.g., an SSD or NVMe device).  BlueStore
journals are only 512 MB by default.</li>
</ul>
</div></blockquote>
<p>The BlueStore on-disk format is expected to continue to evolve.  However, we
will provide support in the OSD to migrate to the new format on upgrade.</p>
<p>In order to enable BlueStore, add the following to ceph.conf:</p>
<div class="highlight-python"><pre>enable experimental unrecoverable data corrupting features = bluestore</pre>
</div>
<p>To create a BlueStore OSD, pass the &#8211;bluestore option to ceph-disk or
ceph-deploy during OSD creation.</p>
</div>
<div class="section" id="upgrade-notes">
<h3>Upgrade notes<a class="headerlink" href="#upgrade-notes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The OSDs now avoid starting new scrubs while recovery is in progress.  To
revert to the old behavior (and do not let recovery activity affect the
scrub scheduling) you can set the following option:</p>
<div class="highlight-python"><pre>osd scrub during recovery = true</pre>
</div>
</li>
<li><p class="first">The list of monitor hosts/addresses for building the monmap can now be
obtained from DNS SRV records. The service name used in when querying the DNS
is defined in the &#8220;mon_dns_srv_name&#8221; config option, which defaults to
&#8220;ceph-mon&#8221;.</p>
</li>
<li><p class="first">The &#8216;osd class load list&#8217; config option is a list of object class names that
the OSD is permitted to load (or &#8216;*&#8217; for all classes). By default it
contains all existing in-tree classes for backwards compatibility.</p>
</li>
<li><p class="first">The &#8216;osd class default list&#8217; config option is a list of object class
names (or &#8216;*&#8217; for all classes) that clients may invoke having only
the &#8216;*&#8217;, &#8216;x&#8217;, &#8216;class-read&#8217;, or &#8216;class-write&#8217; capabilities. By
default it contains all existing in-tree classes for backwards
compatibility. Invoking classes not listed in &#8216;osd class default
list&#8217; requires a capability naming the class (e.g. &#8216;allow class
foo&#8217;).</p>
</li>
<li><p class="first">The &#8216;rgw rest getusage op compat&#8217; config option allows you to dump
(or not dump) the description of user stats in the S3 GetUsage
API. This option defaults to false.  If the value is true, the
reponse data for GetUsage looks like:</p>
<div class="highlight-python"><pre>"stats": {
            "TotalBytes": 516,
            "TotalBytesRounded": 1024,
            "TotalEntries": 1
         }</pre>
</div>
<p>If the value is false, the reponse for GetUsage looks as it did before:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="mi">516</span><span class="p">,</span>
     <span class="mi">1024</span><span class="p">,</span>
     <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">The &#8216;osd out ...&#8217; and &#8216;osd in ...&#8217; commands now preserve the OSD
weight.  That is, after marking an OSD out and then in, the weight
will be the same as before (instead of being reset to 1.0).
Previously the mons would only preserve the weight if the mon
automatically marked and OSD out and then in, but not when an admin
did so explicitly.</p>
</li>
<li><p class="first">The &#8216;ceph osd perf&#8217; command will display &#8216;commit_latency(ms)&#8217; and
&#8216;apply_latency(ms)&#8217;. Previously, the names of these two columns are
&#8216;fs_commit_latency(ms)&#8217; and &#8216;fs_apply_latency(ms)&#8217;. We remove the
prefix &#8216;<a href="#id2652"><span class="problematic" id="id2653">fs_</span></a>&#8216;, because they are not filestore specific.</p>
</li>
<li><p class="first">Monitors will no longer allow pools to be removed by default.  The
setting mon_allow_pool_delete has to be set to true (defaults to
false) before they allow pools to be removed.  This is a additional
safeguard against pools being removed by accident.</p>
</li>
<li><p class="first">If you have manually specified the monitor user rocksdb via the
<tt class="docutils literal"><span class="pre">mon</span> <span class="pre">keyvaluedb</span> <span class="pre">=</span> <span class="pre">rocksdb</span></tt> option, you will need to manually add a
file to the mon data directory to preserve this option:</p>
<div class="highlight-python"><pre>echo rocksdb &gt; /var/lib/ceph/mon/ceph-`hostname`/kv_backend</pre>
</div>
<p>New monitors will now use rocksdb by default, but if that file is
not present, existing monitors will use leveldb.  The <tt class="docutils literal"><span class="pre">mon</span>
<span class="pre">keyvaluedb</span></tt> option now only affects the backend chosen when a
monitor is created.</p>
</li>
<li><p class="first">The &#8216;osd crush initial weight&#8217; option allows you to specify a CRUSH
weight for a newly added OSD.  Previously a value of 0 (the default)
meant that we should use the size of the OSD&#8217;s store to weight the
new OSD.  Now, a value of 0 means it should have a weight of 0, and
a negative value (the new default) means we should automatically
weight the OSD based on its size.  If your configuration file
explicitly specifies a value of 0 for this option you will need to
change it to a negative value (e.g., -1) to preserve the current
behavior.</p>
</li>
<li><p class="first">The <cite>osd crush location</cite> config option is no longer supported.  Please
update your ceph.conf to use the <cite>crush location</cite> option instead.</p>
</li>
<li><p class="first">The static libraries are no longer included by the debian
development packages (lib*-dev) as it is not required per debian
packaging policy.  The shared (.so) versions are packaged as before.</p>
</li>
<li><p class="first">The libtool pseudo-libraries (.la files) are no longer included by
the debian development packages (lib*-dev) as they are not required
per <a class="reference external" href="https://wiki.debian.org/ReleaseGoals/LAFileRemoval">https://wiki.debian.org/ReleaseGoals/LAFileRemoval</a> and
<a class="reference external" href="https://www.debian.org/doc/manuals/maint-guide/advanced.en.html">https://www.debian.org/doc/manuals/maint-guide/advanced.en.html</a>.</p>
</li>
<li><p class="first">The jerasure and shec plugins can now detect SIMD instruction at
runtime and no longer need to be explicitly configured for different
processors.  The following plugins are now deprecated:
jerasure_generic, jerasure_sse3, jerasure_sse4, jerasure_neon,
shec_generic, shec_sse3, shec_sse4, and shec_neon. If you use any of
these plugins directly you will see a warning in the mon log file.
Please switch to using just &#8216;jerasure&#8217; or &#8216;shec&#8217;.</p>
</li>
<li><p class="first">The librados omap get_keys and get_vals operations include a start key and a
limit on the number of keys to return.  The OSD now imposes a configurable
limit on the number of keys and number of total bytes it will respond with,
which means that a librados user might get fewer keys than they asked for.
This is necessary to prevent careless users from requesting an unreasonable
amount of data from the cluster in a single operation.  The new limits are
configured with <cite>osd_max_omap_entries_per_request</cite>, defaulting to 131,072, and
&#8216;osd_max_omap_bytes_per_request&#8217;, defaulting to 4MB.</p>
</li>
<li><p class="first">Calculation of recovery priorities has been updated.
This could lead to unintuitive recovery prioritization
during cluster upgrade. In case of such recovery, OSDs
in old version would operate on different priority ranges
than new ones. Once upgraded, cluster will operate on
consistent values.</p>
</li>
</ul>
</div>
<div class="section" id="id23">
<h3>Notable Changes<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bluestore: add counter to trace blob splitting (<a class="reference external" href="http://github.com/ceph/ceph/pull/11718">pr#11718</a>, xie xingguo)</li>
<li>bluestore: a few more cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/11780">pr#11780</a>, xie xingguo)</li>
<li>bluestore: avoid polluting shard info if need resharding (<a class="reference external" href="http://github.com/ceph/ceph/pull/11439">pr#11439</a>, xie xingguo)</li>
<li>bluestore: avoid unnecessary call to init_csum() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12015">pr#12015</a>, xie xingguo)</li>
<li>bluestore: ceph-disk: adjust bluestore default device sizes (<a class="reference external" href="http://github.com/ceph/ceph/pull/12530">pr#12530</a>, Sage Weil)</li>
<li>bluestore: ceph_test_objectstore: smaller device (<a class="reference external" href="http://github.com/ceph/ceph/pull/11591">pr#11591</a>, Sage Weil)</li>
<li>bluestore: clean up Allocator::dump (<a class="reference external" href="http://tracker.ceph.com/issues/18054">issue#18054</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12282">pr#12282</a>, Sage Weil)</li>
<li>bluestore: clear extent map on object removal (<a class="reference external" href="http://github.com/ceph/ceph/pull/11603">pr#11603</a>, Sage Weil)</li>
<li>bluestore: compressor/ZLibCompressor: fix broken isal-l (<a class="reference external" href="http://github.com/ceph/ceph/pull/11445">pr#11445</a>, Igor Fedotov)</li>
<li>bluestore: dedup if space overlap truly exists (<a class="reference external" href="http://github.com/ceph/ceph/pull/11986">pr#11986</a>, xie xingguo)</li>
<li>bluestore: dedup omap_head, reuse nid instead (<a class="reference external" href="http://github.com/ceph/ceph/pull/12275">pr#12275</a>, xie xingguo)</li>
<li>bluestore: deep fsck (<a class="reference external" href="http://github.com/ceph/ceph/pull/11724">pr#11724</a>, Sage Weil)</li>
<li>bluestore: default bluestore_clone_cow=true (<a class="reference external" href="http://github.com/ceph/ceph/pull/11540">pr#11540</a>, Sage Weil)</li>
<li>bluestore: drop inline_dirty from struct ExtentMap (<a class="reference external" href="http://github.com/ceph/ceph/pull/11377">pr#11377</a>, xie xingguo)</li>
<li>bluestore: drop member &#8220;space&#8221; from Onode (<a class="reference external" href="http://github.com/ceph/ceph/pull/12185">pr#12185</a>, xie xingguo)</li>
<li>bluestore: fix alloc release timing on sync submits (<a class="reference external" href="http://github.com/ceph/ceph/pull/11983">pr#11983</a>, Sage Weil)</li>
<li>bluestore: fix bufferspace stats leak due to blob splitting (<a class="reference external" href="http://github.com/ceph/ceph/pull/12039">pr#12039</a>, xie xingguo)</li>
<li>bluestore: fix collection_list end bound off-by-one (<a class="reference external" href="http://github.com/ceph/ceph/pull/11771">pr#11771</a>, Sage Weil)</li>
<li>bluestore: fix compiler warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/11905">pr#11905</a>, xie xingguo)</li>
<li>bluestore: fixes and cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/11761">pr#11761</a>, xie xingguo)</li>
<li>bluestore: fix escaping of chars &gt; 0x80 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11502">pr#11502</a>, Sage Weil)</li>
<li>bluestore: fix extent shard span check (<a class="reference external" href="http://github.com/ceph/ceph/pull/11725">pr#11725</a>, Sage Weil)</li>
<li>bluestore: fix has_aios (<a class="reference external" href="http://github.com/ceph/ceph/pull/11317">pr#11317</a>, Sage Weil)</li>
<li>bluestore: Fix invalid compression statfs caused by clone op (<a class="reference external" href="http://github.com/ceph/ceph/pull/11351">pr#11351</a>, Igor Fedotov)</li>
<li>bluestore: fix lack of resharding (<a class="reference external" href="http://github.com/ceph/ceph/pull/11597">pr#11597</a>, Igor Fedotov)</li>
<li>bluestore: fix latency calculation (<a class="reference external" href="http://github.com/ceph/ceph/pull/12040">pr#12040</a>, Pan Liu)</li>
<li>bluestore: fix onode vs extent key suffix (<a class="reference external" href="http://github.com/ceph/ceph/pull/11452">pr#11452</a>, Sage Weil)</li>
<li>bluestore: fix potential memory leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/11893">pr#11893</a>, xie xingguo)</li>
<li>bluestore: fix race condtion during blob spliting (<a class="reference external" href="http://github.com/ceph/ceph/pull/11422">pr#11422</a>, xiexingguo, xie xingguo)</li>
<li>bluestore: fix remove_collection to properly detect collection e… (<a class="reference external" href="http://github.com/ceph/ceph/pull/11398">pr#11398</a>, Igor Fedotov)</li>
<li>bluestore: fix _split_collections race with osr_reap (<a class="reference external" href="http://github.com/ceph/ceph/pull/11748">pr#11748</a>, Sage Weil)</li>
<li>bluestore: fix up compression tests and debug output (<a class="reference external" href="http://github.com/ceph/ceph/pull/11350">pr#11350</a>, Sage Weil)</li>
<li>bluestore: fix writes that span existing shard boundaries (<a class="reference external" href="http://github.com/ceph/ceph/pull/11451">pr#11451</a>, Sage Weil)</li>
<li>bluestore: flush before enumerating omap values (<a class="reference external" href="http://tracker.ceph.com/issues/18140">issue#18140</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12328">pr#12328</a>, Sage Weil)</li>
<li>bluestore: formatting nits (<a class="reference external" href="http://github.com/ceph/ceph/pull/11514">pr#11514</a>, xie xingguo)</li>
<li>bluestore: fsck: fix omap_head check (<a class="reference external" href="http://github.com/ceph/ceph/pull/11726">pr#11726</a>, Sage Weil)</li>
<li>bluestore: GC infra refactor, more UTs and GC range calculation fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/11482">pr#11482</a>, Igor Fedotov)</li>
<li>bluestore: KernelDevice: fix race in aio_thread vs aio_wait (<a class="reference external" href="http://tracker.ceph.com/issues/17824">issue#17824</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12204">pr#12204</a>, Sage Weil)</li>
<li>bluestore: kv: dump rocksdb stats (<a class="reference external" href="http://github.com/ceph/ceph/pull/12287">pr#12287</a>, Varada Kari, Jianpeng Ma, Sage Weil)</li>
<li>bluestore: kv/rocksdb: enable rocksdb write path breakdown (<a class="reference external" href="http://github.com/ceph/ceph/pull/11696">pr#11696</a>, Haodong Tang)</li>
<li>bluestore: kv/RocksDBStore: rename option (<a class="reference external" href="http://github.com/ceph/ceph/pull/11769">pr#11769</a>, Sage Weil)</li>
<li>bluestore: less code redundancy (<a class="reference external" href="http://github.com/ceph/ceph/pull/11740">pr#11740</a>, xie xingguo)</li>
<li>bluestore: make 2q cache kin/kout size tunable (<a class="reference external" href="http://github.com/ceph/ceph/pull/11599">pr#11599</a>, Haodong Tang)</li>
<li>bluestore: mark ops that can&#8217;t tolerate ENOENT (<a class="reference external" href="http://github.com/ceph/ceph/pull/12114">pr#12114</a>, Sage Weil)</li>
<li>bluestore: mempool: changes for bitmap allocator (<a class="reference external" href="http://github.com/ceph/ceph/pull/11922">pr#11922</a>, Ramesh Chander)</li>
<li>bluestore: misc. fixes and cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/11964">pr#11964</a>, xie xingguo)</li>
<li>bluestore: move bluefs into its own mempool (<a class="reference external" href="http://github.com/ceph/ceph/pull/11834">pr#11834</a>, Sage Weil)</li>
<li>bluestore: no garbage collection for uncompressed blobs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11539">pr#11539</a>, Roushan Ali, Sage Weil)</li>
<li>bluestore: optional debug mode to identify aio stalls (<a class="reference external" href="http://github.com/ceph/ceph/pull/11818">pr#11818</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: a few cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/11483">pr#11483</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: avoid resharding if the last shard size fall below shar… (<a class="reference external" href="http://github.com/ceph/ceph/pull/12447">pr#12447</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: bitmap allocator dump functionality (<a class="reference external" href="http://github.com/ceph/ceph/pull/12298">pr#12298</a>, Ramesh Chander)</li>
<li>bluestore: os/bluestore: bluestore_sync_submit_transaction = false (<a class="reference external" href="http://github.com/ceph/ceph/pull/12367">pr#12367</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: cleanup around Blob::ref_map (<a class="reference external" href="http://github.com/ceph/ceph/pull/11896">pr#11896</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: clear omap flag if parent has none (<a class="reference external" href="http://github.com/ceph/ceph/pull/12351">pr#12351</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: don&#8217;t implicitly create the source object for clone (<a class="reference external" href="http://github.com/ceph/ceph/pull/12353">pr#12353</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: drop old bluestore preconditioning; replace with wal preextension of file size (<a class="reference external" href="http://github.com/ceph/ceph/pull/12265">pr#12265</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix global commit latency (<a class="reference external" href="http://github.com/ceph/ceph/pull/12356">pr#12356</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix ondisk encoding for blobs (<a class="reference external" href="http://github.com/ceph/ceph/pull/12488">pr#12488</a>, Varada Kari, Sage Weil)</li>
<li>bluestore: os/bluestore: fix potential csum_order overflow (<a class="reference external" href="http://github.com/ceph/ceph/pull/12333">pr#12333</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix target_buffer value overflow in Cache::trim() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12507">pr#12507</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: include modified objects in flush list even if onode unchanged (<a class="reference external" href="http://github.com/ceph/ceph/pull/12541">pr#12541</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: kill dead gc-related counters (<a class="reference external" href="http://github.com/ceph/ceph/pull/12065">pr#12065</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: kill overlay related options (<a class="reference external" href="http://github.com/ceph/ceph/pull/11557">pr#11557</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: misc coverity fixes/cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/12202">pr#12202</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: preserve source collection cache during split (<a class="reference external" href="http://github.com/ceph/ceph/pull/12574">pr#12574</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: remove &#8216;extents&#8217; from shard_info (<a class="reference external" href="http://github.com/ceph/ceph/pull/12629">pr#12629</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: simplified allocator interfaces to single apis (<a class="reference external" href="http://github.com/ceph/ceph/pull/12355">pr#12355</a>, Ramesh Chander)</li>
<li>bluestore: os/bluestore: simplify allocator release flow (<a class="reference external" href="http://github.com/ceph/ceph/pull/12343">pr#12343</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: simplify can_split_at()  (<a class="reference external" href="http://github.com/ceph/ceph/pull/11607">pr#11607</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: use iterator for erase() method directly (<a class="reference external" href="http://github.com/ceph/ceph/pull/11490">pr#11490</a>, xie xingguo)</li>
<li>bluestore: os/kstore: rmcoll fix to satisfy store_test (<a class="reference external" href="http://github.com/ceph/ceph/pull/11533">pr#11533</a>, Igor Fedotov)</li>
<li>bluestore: os: make filestore_blackhole -&gt; objectstore_blackhole (<a class="reference external" href="http://github.com/ceph/ceph/pull/11788">pr#11788</a>, Sage Weil)</li>
<li>bluestore: os: move_ranges_destroy_src (<a class="reference external" href="http://github.com/ceph/ceph/pull/11237">pr#11237</a>, Manali Kulkarni, Sage Weil)</li>
<li>bluestore: readability improvements and doxygen fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/11895">pr#11895</a>, xie xingguo)</li>
<li>bluestore: reap collection after all pending ios done (<a class="reference external" href="http://github.com/ceph/ceph/pull/11797">pr#11797</a>, Haomai Wang)</li>
<li>bluestore: reap ioc when stopping aio_thread. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11811">pr#11811</a>, Haodong Tang)</li>
<li>bluestore: refactor _do_write(); move initializaiton of csum out of loop (<a class="reference external" href="http://github.com/ceph/ceph/pull/11823">pr#11823</a>, xie xingguo)</li>
<li>bluestore: remove duplicated namespace of tx state (<a class="reference external" href="http://github.com/ceph/ceph/pull/11845">pr#11845</a>, xie xingguo)</li>
<li>bluestore: remove garbage collector staff (<a class="reference external" href="http://github.com/ceph/ceph/pull/12042">pr#12042</a>, Igor Fedotov)</li>
<li>bluestore: set next object as ghobject_t::get_max() when start.hobj.i… (<a class="reference external" href="http://github.com/ceph/ceph/pull/11495">pr#11495</a>, Xinze Chi, Haomai Wang)</li>
<li>bluestore: simplify blob status checking for small writes (<a class="reference external" href="http://github.com/ceph/ceph/pull/11366">pr#11366</a>, xie xingguo)</li>
<li>bluestore: some more cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/11910">pr#11910</a>, xie xingguo)</li>
<li>bluestore: spdk: a few fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/11882">pr#11882</a>, Yehuda Sadeh)</li>
<li>bluestore: speed up omap-key generation for same onode (<a class="reference external" href="http://github.com/ceph/ceph/pull/11807">pr#11807</a>, xie xingguo)</li>
<li>bluestore: traverse buffer_map in reverse order when spliting BufferSpace (<a class="reference external" href="http://github.com/ceph/ceph/pull/11468">pr#11468</a>, xie xingguo)</li>
<li>bluestore: update cache logger after &#8216;trim_cache&#8217; operation (<a class="reference external" href="http://github.com/ceph/ceph/pull/11695">pr#11695</a>, Haodong Tang)</li>
<li>bluestore: use bitmap allocator for bluefs (<a class="reference external" href="http://github.com/ceph/ceph/pull/12285">pr#12285</a>, Sage Weil)</li>
<li>bluestore: use std::unordered_map for SharedBlob lookup (<a class="reference external" href="http://github.com/ceph/ceph/pull/11394">pr#11394</a>, Sage Weil)</li>
<li>build/ops: AArch64: Detect crc32 extension support from assembler (<a class="reference external" href="http://tracker.ceph.com/issues/17516">issue#17516</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11391">pr#11391</a>, Alexander Graf)</li>
<li>build/ops: boost: embedded (<a class="reference external" href="http://github.com/ceph/ceph/pull/11817">pr#11817</a>, Sage Weil, Matt Benjamin)</li>
<li>build/ops: build: dump env during build (<a class="reference external" href="http://tracker.ceph.com/issues/18084">issue#18084</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12284">pr#12284</a>, Sage Weil)</li>
<li>build/ops: ceph-detect-init: FreeBSD introduction of bsdrc (<a class="reference external" href="http://github.com/ceph/ceph/pull/11906">pr#11906</a>, Willem Jan Withagen, Kefu Chai)</li>
<li>build/ops: ceph-disk: enable &#8211;runtime ceph-osd systemd units (<a class="reference external" href="http://tracker.ceph.com/issues/17889">issue#17889</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12241">pr#12241</a>, Loic Dachary)</li>
<li>build/ops: ceph.spec: add pybind rgwfile (<a class="reference external" href="http://github.com/ceph/ceph/pull/11847">pr#11847</a>, Haomai Wang)</li>
<li>build/ops,cleanup,bluestore: os/bluestore: remove build warning in a better way (<a class="reference external" href="http://github.com/ceph/ceph/pull/11920">pr#11920</a>, Igor Fedotov)</li>
<li>build/ops: CMakeLists: add vstart-base target (<a class="reference external" href="http://github.com/ceph/ceph/pull/12476">pr#12476</a>, Sage Weil)</li>
<li>build/ops: CMakeLists.txt: enable LTTNG by default (<a class="reference external" href="http://github.com/ceph/ceph/pull/11500">pr#11500</a>, Sage Weil)</li>
<li>build/ops: common/buffer.cc: raw_pipe depends on splice(2) (<a class="reference external" href="http://github.com/ceph/ceph/pull/11967">pr#11967</a>, Willem Jan Withagen)</li>
<li>build/ops,common: common/str_list.h: fix clang warning about std::move (<a class="reference external" href="http://github.com/ceph/ceph/pull/12570">pr#12570</a>, Willem Jan Withagen)</li>
<li>build/ops,core: xio: fix build (<a class="reference external" href="http://github.com/ceph/ceph/pull/11768">pr#11768</a>, Matt Benjamin)</li>
<li>build/ops: deb: add python dependencies where needed (<a class="reference external" href="http://tracker.ceph.com/issues/17579">issue#17579</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11507">pr#11507</a>, Nathan Cutler, Kefu Chai)</li>
<li>build/ops: deb: add python-rgw packages (<a class="reference external" href="http://github.com/ceph/ceph/pull/11832">pr#11832</a>, Sage Weil)</li>
<li>build/ops: debian: apply dh_python to python-rgw also (<a class="reference external" href="http://github.com/ceph/ceph/pull/12260">pr#12260</a>, Kefu Chai)</li>
<li>build/ops: deb: update python-rgw dependencies to librgw2 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11885">pr#11885</a>, Casey Bodley)</li>
<li>build/ops: do_freebsd.sh: Build with SYSTEM Boost on FreeBSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/11942">pr#11942</a>, Willem Jan Withagen)</li>
<li>build/ops: do_freebsd.sh: Do not use LTTNG on FreeBSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/11551">pr#11551</a>, Willem Jan Withagen)</li>
<li>build/ops: do_freebsd.sh: Set options for debug building. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11443">pr#11443</a>, Willem Jan Withagen)</li>
<li>build/ops: FreeBSD: do_freebsd.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/12090">pr#12090</a>, Willem Jan Withagen)</li>
<li>build/ops: FreeBSD:test/encoding/readable.sh&#8221;: fix nproc and ls -v calls (<a class="reference external" href="http://github.com/ceph/ceph/pull/11522">pr#11522</a>, Willem Jan Withagen)</li>
<li>build/ops: FreeBSD: update require packages (<a class="reference external" href="http://github.com/ceph/ceph/pull/11512">pr#11512</a>, Willem Jan Withagen)</li>
<li>build/ops: git-archive-all.sh: use an actually unique tmp dir (<a class="reference external" href="http://github.com/ceph/ceph/pull/12011">pr#12011</a>, Dan Mick)</li>
<li>build/ops: include/enc: make clang happy (<a class="reference external" href="http://github.com/ceph/ceph/pull/11638">pr#11638</a>, Kefu Chai, Sage Weil)</li>
<li>build/ops: install-deps.sh: allow building on SLES systems (<a class="reference external" href="http://github.com/ceph/ceph/pull/11708">pr#11708</a>, Nitin A Kamble)</li>
<li>build/ops: install-deps.sh: JQ is needed in one script (<a class="reference external" href="http://github.com/ceph/ceph/pull/12080">pr#12080</a>, Willem Jan Withagen)</li>
<li>build/ops: Log: Replace namespace log with logging (<a class="reference external" href="http://github.com/ceph/ceph/pull/11650">pr#11650</a>, Willem Jan Withagen)</li>
<li>build/ops: Merging before make check because it clearly breaks the build and the build part is done (<a class="reference external" href="http://github.com/ceph/ceph/pull/11924">pr#11924</a>, Sage Weil)</li>
<li>build/ops: ok, w/upstream acks, merging&#8211;jenkins build did succeed (this is a build-only change) (<a class="reference external" href="http://github.com/ceph/ceph/pull/12008">pr#12008</a>, Matt Benjamin)</li>
<li>build/ops: qa: Add ceph-ansible installer. (<a class="reference external" href="http://tracker.ceph.com/issues/16770">issue#16770</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10402">pr#10402</a>, Warren Usui)</li>
<li>build/ops: rocksdb: do not build with &#8211;march=native (<a class="reference external" href="http://github.com/ceph/ceph/pull/11677">pr#11677</a>, Kefu Chai)</li>
<li>build/ops: rocksdb: update to latest (<a class="reference external" href="http://github.com/ceph/ceph/pull/12100">pr#12100</a>, Kefu Chai)</li>
<li>build/ops: rpm: Remove trailing whitespace in usermod command (SUSE) (<a class="reference external" href="http://github.com/ceph/ceph/pull/10707">pr#10707</a>, Tim Serong)</li>
<li>build/ops: scripts/release-notes: allow title guesses from gh tags &amp; description update (<a class="reference external" href="http://github.com/ceph/ceph/pull/11399">pr#11399</a>, Abhishek Lekshmanan)</li>
<li>build/ops: systemd: Fix startup of ceph-mgr on Debian 8 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12555">pr#12555</a>, Mark Korenberg)</li>
<li>build/ops: tracing/objectstore.tp: add missing <a href="#id2654"><span class="problematic" id="id2655">move_ranges_</span></a>... tp (<a class="reference external" href="http://github.com/ceph/ceph/pull/11484">pr#11484</a>, Sage Weil)</li>
<li>build/ops: upstart: fix ceph-crush-location default (<a class="reference external" href="http://tracker.ceph.com/issues/6698">issue#6698</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/803">pr#803</a>, Jason Dillaman)</li>
<li>build/ops: upstart: start ceph-all after static-network-up (<a class="reference external" href="http://tracker.ceph.com/issues/17689">issue#17689</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11631">pr#11631</a>, Billy Olsen)</li>
<li>cephfs: add gid to asok status (<a class="reference external" href="http://github.com/ceph/ceph/pull/11487">pr#11487</a>, Patrick Donnelly)</li>
<li>cephfs: API cleanup for libcephfs interfaces (<a class="reference external" href="http://tracker.ceph.com/issues/17911">issue#17911</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12106">pr#12106</a>, Jeff Layton)</li>
<li>cephfs: ceph-fuse: start up log on parent process before shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/18157">issue#18157</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12347">pr#12347</a>, Greg Farnum)</li>
<li>cephfs: ceph_fuse: use sizeof get the buf length (<a class="reference external" href="http://github.com/ceph/ceph/pull/11176">pr#11176</a>, LeoZhang)</li>
<li>cephfs,cleanup: ceph-fuse: start up log on parent process before shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/18157">issue#18157</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12358">pr#12358</a>, Kefu Chai)</li>
<li>cephfs: client: add pid to metadata (<a class="reference external" href="http://tracker.ceph.com/issues/17276">issue#17276</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11359">pr#11359</a>, Patrick Donnelly)</li>
<li>cephfs: client: Client.cc: remove duplicated op type checking against CEPH_MD… (<a class="reference external" href="http://github.com/ceph/ceph/pull/11608">pr#11608</a>, Weibing Zhang)</li>
<li>cephfs: client: don&#8217;t take extra target inode reference in ll_link (<a class="reference external" href="http://github.com/ceph/ceph/pull/11440">pr#11440</a>, Jeff Layton)</li>
<li>cephfs: client: fix mutex name typos (<a class="reference external" href="http://github.com/ceph/ceph/pull/12401">pr#12401</a>, Yunchuan Wen)</li>
<li>cephfs: client: get caller&#8217;s uid/gid on every libcephfs operation (<a class="reference external" href="http://tracker.ceph.com/issues/17591">issue#17591</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11526">pr#11526</a>, Yan, Zheng)</li>
<li>cephfs: client: get gid from MonClient (<a class="reference external" href="http://github.com/ceph/ceph/pull/11486">pr#11486</a>, Patrick Donnelly)</li>
<li>cephfs: client: improve failure messages/debugging (<a class="reference external" href="http://github.com/ceph/ceph/pull/12110">pr#12110</a>, Patrick Donnelly)</li>
<li>cephfs: client/mds: Clear setuid bits when writing or truncating (<a class="reference external" href="http://tracker.ceph.com/issues/18131">issue#18131</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12412">pr#12412</a>, Jeff Layton)</li>
<li>cephfs: client: put CapSnap not ptr in cap_snaps map (<a class="reference external" href="http://github.com/ceph/ceph/pull/12111">pr#12111</a>, Patrick Donnelly)</li>
<li>cephfs: client: remove redundant initialization (<a class="reference external" href="http://github.com/ceph/ceph/pull/12028">pr#12028</a>, Patrick Donnelly)</li>
<li>cephfs:  client: remove unnecessary bufferptr[] for writev (<a class="reference external" href="http://github.com/ceph/ceph/pull/11836">pr#11836</a>, Patrick Donnelly)</li>
<li>cephfs: client: remove unneeded layout on MClientCaps (<a class="reference external" href="http://github.com/ceph/ceph/pull/11790">pr#11790</a>, John Spray)</li>
<li>cephfs: client: set metadata[&#8220;root&#8221;] from mount method when it&#8217;s called with … (<a class="reference external" href="http://github.com/ceph/ceph/pull/12505">pr#12505</a>, Jeff Layton)</li>
<li>cephfs: client: trim_caps() do not dereference cap if it&#8217;s removed (<a class="reference external" href="http://github.com/ceph/ceph/pull/12145">pr#12145</a>, Kefu Chai)</li>
<li>cephfs: client: use unique_ptr (<a class="reference external" href="http://github.com/ceph/ceph/pull/11837">pr#11837</a>, Patrick Donnelly)</li>
<li>cephfs: common/ceph_string: add ceph string constants for CEPH_SESSION_FORCE_RO (<a class="reference external" href="http://github.com/ceph/ceph/pull/11516">pr#11516</a>, Zhi Zhang)</li>
<li>cephfs: Fix #17562 (backtrace check fails when scrubbing directory created by fsstress) (<a class="reference external" href="http://tracker.ceph.com/issues/17562">issue#17562</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11517">pr#11517</a>, Yan, Zheng)</li>
<li>cephfs: fix missing ll_get for ll_walk (<a class="reference external" href="http://tracker.ceph.com/issues/18086">issue#18086</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12061">pr#12061</a>, Gui Hecheng)</li>
<li>cephfs: get new fsmap after marking clusters down (<a class="reference external" href="http://tracker.ceph.com/issues/7271">issue#7271</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17894">issue#17894</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/1262">pr#1262</a>, Patrick Donnelly)</li>
<li>cephfs: Have ceph clear setuid/setgid bits on chown (<a class="reference external" href="http://tracker.ceph.com/issues/18131">issue#18131</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12331">pr#12331</a>, Jeff Layton)</li>
<li>cephfs: libcephfs: add ceph_fsetattr&amp;&amp;ceph_lchmod&amp;&amp;ceph_lutime (<a class="reference external" href="http://github.com/ceph/ceph/pull/11191">pr#11191</a>, huanwen ren)</li>
<li>cephfs: libcephfs: add readlink function in cephfs.pyx (<a class="reference external" href="http://github.com/ceph/ceph/pull/12384">pr#12384</a>, huanwen ren)</li>
<li>cephfs: libcephfs and test suite fixes (<a class="reference external" href="http://tracker.ceph.com/issues/18013">issue#18013</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17982">issue#17982</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12228">pr#12228</a>, Jeff Layton)</li>
<li>cephfs: libcephfs client API overhaul and update (<a class="reference external" href="http://github.com/ceph/ceph/pull/11647">pr#11647</a>, Jeff Layton)</li>
<li>cephfs: lua: use simpler lua_next traversal structure (<a class="reference external" href="http://github.com/ceph/ceph/pull/11958">pr#11958</a>, Patrick Donnelly)</li>
<li>cephfs: mds/Beacon: move C_MDS_BeaconSender class to .cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/10940">pr#10940</a>, Michal Jarzabek)</li>
<li>cephfs: mds/CDir.cc: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11613">pr#11613</a>, Michal Jarzabek)</li>
<li>cephfs: mds/CInode.h: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11371">pr#11371</a>, Michal Jarzabek)</li>
<li>cephfs: mds/DamageTable.cc: move shared ptrs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11435">pr#11435</a>, Michal Jarzabek)</li>
<li>cephfs: mds/DamageTable.cc: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11625">pr#11625</a>, Michal Jarzabek)</li>
<li>cephfs: mds/DamageTable: move classes to .cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/11450">pr#11450</a>, Michal Jarzabek)</li>
<li>cephfs: mds/flock: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/11692">pr#11692</a>, Michal Jarzabek)</li>
<li>cephfs: mds/FSMap.cc: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11402">pr#11402</a>, Michal Jarzabek)</li>
<li>cephfs: mds/FSMapUser.h: remove copy ctr and assign op (<a class="reference external" href="http://github.com/ceph/ceph/pull/11509">pr#11509</a>, Michal Jarzabek)</li>
<li>cephfs: mds/InfoTable.h: add override to virtual functs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11496">pr#11496</a>, Michal Jarzabek)</li>
<li>cephfs: mds/InoTable.h: add override to virtual functs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11604">pr#11604</a>, Michal Jarzabek)</li>
<li>cephfs: mds/Mantle.h: include correct header files (<a class="reference external" href="http://github.com/ceph/ceph/pull/11886">pr#11886</a>, Michal Jarzabek)</li>
<li>cephfs: mds/Mantle: pass parameters by const ref (<a class="reference external" href="http://github.com/ceph/ceph/pull/11713">pr#11713</a>, Michal Jarzabek)</li>
<li>cephfs: mds/MDCache.h: remove unneeded call to clear func (<a class="reference external" href="http://github.com/ceph/ceph/pull/11954">pr#11954</a>, Michal Jarzabek)</li>
<li>cephfs: mds/MDCache.h: remove unused functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/11908">pr#11908</a>, Michal Jarzabek)</li>
<li>cephfs: mds/MDLog: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/11663">pr#11663</a>, Michal Jarzabek)</li>
<li>cephfs: mds/MDSMap.h: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/11511">pr#11511</a>, Michal Jarzabek)</li>
<li>cephfs: mds/MDSRank: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/11752">pr#11752</a>, Michal Jarzabek)</li>
<li>cephfs: mds/MDSRank.h: add override to virtual function (<a class="reference external" href="http://github.com/ceph/ceph/pull/11727">pr#11727</a>, Michal Jarzabek)</li>
<li>cephfs: mds/MDSRank.h: make destructor protected (<a class="reference external" href="http://github.com/ceph/ceph/pull/11651">pr#11651</a>, Michal Jarzabek)</li>
<li>cephfs: mds/MDSTableClient.h: add const to member funct (<a class="reference external" href="http://github.com/ceph/ceph/pull/11681">pr#11681</a>, Michal Jarzabek)</li>
<li>cephfs: mds/Migrator.cc: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11523">pr#11523</a>, Michal Jarzabek)</li>
<li>cephfs: mds/Migrator.h: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/11819">pr#11819</a>, Michal Jarzabek)</li>
<li>cephfs: mds/Migrator.h: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11833">pr#11833</a>, Michal Jarzabek)</li>
<li>cephfs: mds/Mutation.h: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/11670">pr#11670</a>, Michal Jarzabek)</li>
<li>cephfs: mds/Mutation.h: simplify constructors (<a class="reference external" href="http://github.com/ceph/ceph/pull/11455">pr#11455</a>, Michal Jarzabek)</li>
<li>cephfs: MDS: reduce usage of context wrapper (<a class="reference external" href="http://github.com/ceph/ceph/pull/11560">pr#11560</a>, Yan, Zheng)</li>
<li>cephfs: mds/ScrubHeader.h: pass string by const reference (<a class="reference external" href="http://github.com/ceph/ceph/pull/11904">pr#11904</a>, Michal Jarzabek)</li>
<li>cephfs: mds/server: merge the snapshot request judgment (<a class="reference external" href="http://github.com/ceph/ceph/pull/11150">pr#11150</a>, huanwen ren)</li>
<li>cephfs: mds/SessionMap: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/11541">pr#11541</a>, Michal Jarzabek)</li>
<li>cephfs: mds/SessionMap.cc: avoid copying and add const (<a class="reference external" href="http://github.com/ceph/ceph/pull/11297">pr#11297</a>, Michal Jarzabek)</li>
<li>cephfs: mds/SessionMap.cc:put classes in unnamed namespace (<a class="reference external" href="http://github.com/ceph/ceph/pull/11316">pr#11316</a>, Michal Jarzabek)</li>
<li>cephfs: mds/SessionMap.cc: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11338">pr#11338</a>, Michal Jarzabek)</li>
<li>cephfs: mds/SessionMap.h: remove unneeded function (<a class="reference external" href="http://github.com/ceph/ceph/pull/11565">pr#11565</a>, Michal Jarzabek)</li>
<li>cephfs: mds/SessionMap.h: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11358">pr#11358</a>, Michal Jarzabek)</li>
<li>cephfs: mds/SnapRealm: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11609">pr#11609</a>, Michal Jarzabek)</li>
<li>cephfs: mds/SnapServer.h: add override to virtual functs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11380">pr#11380</a>, Michal Jarzabek)</li>
<li>cephfs: mds/SnapServer.h: add override to virtual functs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11583">pr#11583</a>, Michal Jarzabek)</li>
<li>cephfs: mon/MDSMonitor: fix iterating over mutated map (<a class="reference external" href="http://tracker.ceph.com/issues/18166">issue#18166</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12395">pr#12395</a>, John Spray)</li>
<li>cephfs: multimds: fix state check in Migrator::find_stale_export_freeze() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12098">pr#12098</a>, Yan, Zheng)</li>
<li>cephfs: osdc: After write try merge bh. (<a class="reference external" href="http://tracker.ceph.com/issues/17270">issue#17270</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11545">pr#11545</a>, Jianpeng Ma)</li>
<li>cephfs: Partial organization of mds/ header sections (<a class="reference external" href="http://github.com/ceph/ceph/pull/11959">pr#11959</a>, Patrick Donnelly)</li>
<li>cephfs: Port/bootstrap (<a class="reference external" href="http://github.com/ceph/ceph/pull/827">pr#827</a>, Yan, Zheng)</li>
<li>cephfs: Revert &#8220;osdc: After write try merge bh.&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/17270">issue#17270</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11262">pr#11262</a>, John Spray)</li>
<li>cephfs: Small pile of random cephfs fixes and cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/11421">pr#11421</a>, Jeff Layton)</li>
<li>cephfs: src/mds: fix MDSMap upgrade decoding (<a class="reference external" href="http://tracker.ceph.com/issues/17837">issue#17837</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12097">pr#12097</a>, John Spray)</li>
<li>cephfs: systemd: add ceph-fuse service file (<a class="reference external" href="http://github.com/ceph/ceph/pull/11542">pr#11542</a>, Patrick Donnelly)</li>
<li>cephfs: test fragment size limit (<a class="reference external" href="http://tracker.ceph.com/issues/16164">issue#16164</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/1069">pr#1069</a>, Patrick Donnelly)</li>
<li>cephfs: test readahead is working (<a class="reference external" href="http://tracker.ceph.com/issues/16024">issue#16024</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/1046">pr#1046</a>, Patrick Donnelly)</li>
<li>cephfs: test: temporarily remove fork()ing flock tests (<a class="reference external" href="http://tracker.ceph.com/issues/16556">issue#16556</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11211">pr#11211</a>, John Spray)</li>
<li>cephfs: tool/cephfs: displaying &#8220;list&#8221; in journal event mode (<a class="reference external" href="http://github.com/ceph/ceph/pull/11236">pr#11236</a>, huanwen ren)</li>
<li>cephfs: tools/cephfs: add pg_files command (<a class="reference external" href="http://tracker.ceph.com/issues/17249">issue#17249</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11026">pr#11026</a>, John Spray)</li>
<li>cephfs: tools/cephfs: add scan_links command which fixes linkages errors (<a class="reference external" href="http://github.com/ceph/ceph/pull/11446">pr#11446</a>, Yan, Zheng)</li>
<li>cephfs: update tests to enable multimds when needed (<a class="reference external" href="http://github.com/ceph/ceph/pull/933">pr#933</a>, Greg Farnum)</li>
<li>cleanup: build: The Light Clangtastic (<a class="reference external" href="http://github.com/ceph/ceph/pull/11921">pr#11921</a>, Adam C. Emerson)</li>
<li>cleanup,common: common/blkdev: use realpath instead of readlink to resolve the recurs… (<a class="reference external" href="http://github.com/ceph/ceph/pull/12462">pr#12462</a>, Xinze Chi)</li>
<li>cleanup,common: common/throttle: simplify Throttle::_wait() (<a class="reference external" href="http://github.com/ceph/ceph/pull/11165">pr#11165</a>, xie xingguo)</li>
<li>cleanup,common: src/common: remove nonused config option (<a class="reference external" href="http://github.com/ceph/ceph/pull/12311">pr#12311</a>, Wei Jin)</li>
<li>cleanup: coverity fix: fixing few coverity issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/9624">pr#9624</a>, Gaurav Kumar Garg)</li>
<li>cleanup: deprecate readdir_r() with readdir() (<a class="reference external" href="http://github.com/ceph/ceph/pull/11805">pr#11805</a>, Kefu Chai)</li>
<li>cleanup: erasure-code: fix gf-complete warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/12150">pr#12150</a>, Kefu Chai)</li>
<li>cleanup: fix typos (<a class="reference external" href="http://github.com/ceph/ceph/pull/12502">pr#12502</a>, xianxiaxiao)</li>
<li>cleanup: mds/FSMap.cc: prevent unneeded copy of map entry (<a class="reference external" href="http://github.com/ceph/ceph/pull/11798">pr#11798</a>, Michal Jarzabek)</li>
<li>cleanup: mds/FSMap.h: add const and reference (<a class="reference external" href="http://github.com/ceph/ceph/pull/11802">pr#11802</a>, Michal Jarzabek)</li>
<li>cleanup: mds/FSMap: pass shared_ptr by const ref (<a class="reference external" href="http://github.com/ceph/ceph/pull/11383">pr#11383</a>, Michal Jarzabek)</li>
<li>cleanup: mds/SnapServer: add const to member function (<a class="reference external" href="http://github.com/ceph/ceph/pull/11688">pr#11688</a>, Michal Jarzabek)</li>
<li>cleanup: mon/MonCap.h: add std::move for std::string (<a class="reference external" href="http://github.com/ceph/ceph/pull/10722">pr#10722</a>, Michal Jarzabek)</li>
<li>cleanup: mon/OSDMonitor: only show interesting flags in health warning (<a class="reference external" href="http://tracker.ceph.com/issues/18175">issue#18175</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12365">pr#12365</a>, Sage Weil)</li>
<li>cleanup: msg/async: assert(0) -&gt; ceph_abort() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12339">pr#12339</a>, Li Wang)</li>
<li>cleanup: msg/AsyncMessenger: remove unneeded include (<a class="reference external" href="http://github.com/ceph/ceph/pull/9846">pr#9846</a>, Michal Jarzabek)</li>
<li>cleanup: msg/async/rdma: fix disconnect log line (<a class="reference external" href="http://github.com/ceph/ceph/pull/12254">pr#12254</a>, Adir Lev)</li>
<li>cleanup: msg/async: remove unused member variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/12387">pr#12387</a>, Kefu Chai)</li>
<li>cleanup: msg: fix format specifier for unsigned value id (<a class="reference external" href="http://github.com/ceph/ceph/pull/11145">pr#11145</a>, Weibing Zhang)</li>
<li>cleanup: msg/Pipe: move DelayedDelivery class to cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10447">pr#10447</a>, Michal Jarzabek)</li>
<li>cleanup: msg/test: fix the guided compile-command to ceph_test_msgr (<a class="reference external" href="http://github.com/ceph/ceph/pull/10490">pr#10490</a>, Yan Jun)</li>
<li>cleanup: osd/PGBackend: build_push_op segment fault (<a class="reference external" href="http://github.com/ceph/ceph/pull/9357">pr#9357</a>, Zengran Zhang)</li>
<li>cleanup: osd/PG.h: change PGRecoveryStats struct to class (<a class="reference external" href="http://github.com/ceph/ceph/pull/11178">pr#11178</a>, Michal Jarzabek)</li>
<li>cleanup: osd/PG.h: remove unneeded forward declaration (<a class="reference external" href="http://github.com/ceph/ceph/pull/12135">pr#12135</a>, Li Wang)</li>
<li>cleanup: osd/ReplicatedPG: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11251">pr#11251</a>, Michal Jarzabek)</li>
<li>cleanup: os/filestore: clean filestore perfcounters (<a class="reference external" href="http://github.com/ceph/ceph/pull/11524">pr#11524</a>, Wei Jin)</li>
<li>cleanup: os/fs/FS.cc: condition on WITH_AIO for FreeBSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/11913">pr#11913</a>, Willem Jan Withagen)</li>
<li>cleanup,rbd: cls_rbd: silence compiler warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/11363">pr#11363</a>, xiexingguo)</li>
<li>cleanup,rbd: journal: avoid logging an error when a watch is blacklisted (<a class="reference external" href="http://tracker.ceph.com/issues/18243">issue#18243</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12473">pr#12473</a>, Jason Dillaman)</li>
<li>cleanup,rbd: journal: prevent repetitive error messages after being blacklisted (<a class="reference external" href="http://tracker.ceph.com/issues/18243">issue#18243</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12497">pr#12497</a>, Jason Dillaman)</li>
<li>cleanup,rbd: librbd/ImageCtx: no need for virtual dtor (<a class="reference external" href="http://github.com/ceph/ceph/pull/12220">pr#12220</a>, Sage Weil)</li>
<li>cleanup,rbd: rbd-mirror: configuration overrides for hard coded timers (<a class="reference external" href="http://github.com/ceph/ceph/pull/11840">pr#11840</a>, Dongsheng Yang)</li>
<li>cleanup,rbd: rbd-mirror: set SEQUENTIAL and NOCACHE advise flags on image sync (<a class="reference external" href="http://tracker.ceph.com/issues/17127">issue#17127</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12280">pr#12280</a>, Mykola Golub)</li>
<li>cleanup: remove unneeded forward declaration (<a class="reference external" href="http://github.com/ceph/ceph/pull/12257">pr#12257</a>, Li Wang, Yunchuan Wen)</li>
<li>cleanup: remove unused declaration (<a class="reference external" href="http://github.com/ceph/ceph/pull/12466">pr#12466</a>, Li Wang, Yunchuan Wen)</li>
<li>cleanup,rgw: rgw multisite: move lease up to RunBucketSync instead of child crs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11598">pr#11598</a>, Casey Bodley)</li>
<li>cleanup,rgw: rgw/rest: don&#8217;t print empty x-amz-request-id (<a class="reference external" href="http://github.com/ceph/ceph/pull/10674">pr#10674</a>, Marcus Watts)</li>
<li>cleanup,rgw: verified: f23 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12103">pr#12103</a>, Radoslaw Zarzynski)</li>
<li>cleanup: src/common/perf_counters.h: fix wrong word (<a class="reference external" href="http://github.com/ceph/ceph/pull/11690">pr#11690</a>, zhang.zezhu)</li>
<li>cleanup: Wip ctypos (<a class="reference external" href="http://github.com/ceph/ceph/pull/12495">pr#12495</a>, xianxiaxiao)</li>
<li>cleanup: xio: provide dout_prefix for XioConnection (<a class="reference external" href="http://github.com/ceph/ceph/pull/9444">pr#9444</a>, Avner BenHanoch)</li>
<li>cleanup: yasm-wrapper: translate &#8220;-isystem $1&#8221; to &#8220;-i $1&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/12093">pr#12093</a>, Kefu Chai)</li>
<li>cmake: add -Wno-unknown-pragmas to CMAKE_CXX_FLAGS (<a class="reference external" href="http://github.com/ceph/ceph/pull/12128">pr#12128</a>, Kefu Chai)</li>
<li>cmake: check WITH_RADOSGW for fcgi and expat dependencies (<a class="reference external" href="http://github.com/ceph/ceph/pull/11481">pr#11481</a>, David Disseldorp)</li>
<li>cmake: compile C code with c99 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12369">pr#12369</a>, Kefu Chai)</li>
<li>cmake: detect keyutils if WITH_LIBCEPHFS OR WITH_RBD (<a class="reference external" href="http://github.com/ceph/ceph/pull/12359">pr#12359</a>, Kefu Chai)</li>
<li>cmake: do not link erasure tests again libosd (<a class="reference external" href="http://github.com/ceph/ceph/pull/11738">pr#11738</a>, Kefu Chai)</li>
<li>cmake: find gperftools package for tcmalloc_minimal too (<a class="reference external" href="http://github.com/ceph/ceph/pull/11403">pr#11403</a>, Bassam Tabbara)</li>
<li>cmake: fix boost build on ubuntu 16.10 yakkety (<a class="reference external" href="http://github.com/ceph/ceph/pull/12143">pr#12143</a>, Bassam Tabbara)</li>
<li>cmake: Fix for cross compiling (<a class="reference external" href="http://github.com/ceph/ceph/pull/11404">pr#11404</a>, Bassam Tabbara)</li>
<li>cmake: fix git version string, cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/11661">pr#11661</a>, Sage Weil)</li>
<li>cmake: librbd cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/11842">pr#11842</a>, Kefu Chai)</li>
<li>cmake: link tests against static librados (<a class="reference external" href="http://tracker.ceph.com/issues/17260">issue#17260</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11575">pr#11575</a>, Kefu Chai)</li>
<li>cmake: pass CMAKE_BUILD_TYPE down to rocksdb (<a class="reference external" href="http://github.com/ceph/ceph/pull/11767">pr#11767</a>, Kefu Chai)</li>
<li>cmake: remove include/Makefile.am (<a class="reference external" href="http://github.com/ceph/ceph/pull/11666">pr#11666</a>, Kefu Chai)</li>
<li>cmake: replace civetweb symlink w/file copy (<a class="reference external" href="http://github.com/ceph/ceph/pull/11900">pr#11900</a>, Matt Benjamin)</li>
<li>cmake: should link against ${ALLOC_LIBS} (<a class="reference external" href="http://github.com/ceph/ceph/pull/11978">pr#11978</a>, Kefu Chai)</li>
<li>cmake: src/test/CMakeLists.txt: Exclude test on HAVE_BLKID (<a class="reference external" href="http://github.com/ceph/ceph/pull/12301">pr#12301</a>, Willem Jan Withagen)</li>
<li>cmake: Support for embedding Ceph Daemons (<a class="reference external" href="http://github.com/ceph/ceph/pull/11764">pr#11764</a>, Bassam Tabbara)</li>
<li>cmake: use external project for rocksdb (<a class="reference external" href="http://github.com/ceph/ceph/pull/11385">pr#11385</a>, Bassam Tabbara)</li>
<li>common: Add throttle_get_started perf counter (<a class="reference external" href="http://github.com/ceph/ceph/pull/12163">pr#12163</a>, Bartłomiej Święcki)</li>
<li>common: assert(0) -&gt; ceph_abort() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12031">pr#12031</a>, Sage Weil)</li>
<li>common: auth: fix NULL pointer access when trying to delete CryptoAESKeyHandler instance (<a class="reference external" href="http://github.com/ceph/ceph/pull/11614">pr#11614</a>, runsisi)</li>
<li>common,bluestore: compressor: fixes and tests; disable zlib isal (it&#8217;s broken) (<a class="reference external" href="http://github.com/ceph/ceph/pull/11349">pr#11349</a>, Sage Weil)</li>
<li>common,bluestore: mempool: mempool infrastructure, bluestore changes to use it (<a class="reference external" href="http://github.com/ceph/ceph/pull/11331">pr#11331</a>, Allen Samuels, Sage Weil)</li>
<li>common: buffer: add advance(unsigned) back (<a class="reference external" href="http://tracker.ceph.com/issues/17809">issue#17809</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11993">pr#11993</a>, Kefu Chai)</li>
<li>common: buffer: add copy(unsigned, ptr) back (<a class="reference external" href="http://tracker.ceph.com/issues/17809">issue#17809</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12246">pr#12246</a>, Kefu Chai)</li>
<li>common: client/Client.cc: fix/silence &#8220;logically dead code&#8221; CID-Error (<a class="reference external" href="http://github.com/ceph/ceph/pull/291">pr#291</a>, Yehuda Sadeh)</li>
<li>common: common/strtol.cc: Get error testing also to work on FreeBSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/12034">pr#12034</a>, Willem Jan Withagen)</li>
<li>common: fix clang compilation error (<a class="reference external" href="http://github.com/ceph/ceph/pull/12565">pr#12565</a>, Mykola Golub)</li>
<li>common: FreeBSD/EventKqueue.{h,cc} Added code to restore events on (thread)fork (<a class="reference external" href="http://github.com/ceph/ceph/pull/11430">pr#11430</a>, Willem Jan Withagen)</li>
<li>common: log/LogClient: fill seq &amp; who for syslog and graylog (<a class="reference external" href="http://tracker.ceph.com/issues/16609">issue#16609</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10196">pr#10196</a>, Xiaoxi Chen)</li>
<li>common: make l_finisher_complete_lat more accurate (<a class="reference external" href="http://github.com/ceph/ceph/pull/11637">pr#11637</a>, Pan Liu)</li>
<li>common: msg/simple/Accepter.cc: replace shutdown() with selfpipe event in poll() (FreeBSD) (<a class="reference external" href="http://github.com/ceph/ceph/pull/10720">pr#10720</a>, Willem Jan Withagen)</li>
<li>common: osdc/Objecter: fix relock race (<a class="reference external" href="http://tracker.ceph.com/issues/17942">issue#17942</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12234">pr#12234</a>, Sage Weil)</li>
<li>common: osdc/Objecter: handle race between calc_target and handle_osd_map (<a class="reference external" href="http://tracker.ceph.com/issues/17942">issue#17942</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12055">pr#12055</a>, Sage Weil)</li>
<li>common: osd/osdmap: fix divide by zero error (<a class="reference external" href="http://github.com/ceph/ceph/pull/12521">pr#12521</a>, Yunchuan Wen)</li>
<li>common: release g_ceph_context before returns (<a class="reference external" href="http://tracker.ceph.com/issues/17762">issue#17762</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11733">pr#11733</a>, Kefu Chai)</li>
<li>common: Remove the runtime dependency on lsb_release (<a class="reference external" href="http://tracker.ceph.com/issues/17425">issue#17425</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11365">pr#11365</a>, Brad Hubbard)</li>
<li>common: test/fio: fix global CephContext life cycle (<a class="reference external" href="http://github.com/ceph/ceph/pull/12245">pr#12245</a>, Igor Fedotov)</li>
<li>core: auth: tolerate missing MGR keys during upgrade (<a class="reference external" href="http://github.com/ceph/ceph/pull/11401">pr#11401</a>, Sage Weil)</li>
<li>core,bluestore: os/bluestore: fix warning and uninit variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/12032">pr#12032</a>, Sage Weil)</li>
<li>core,bluestore: os: fix offsets for move_ranges operation (<a class="reference external" href="http://github.com/ceph/ceph/pull/11595">pr#11595</a>, Sage Weil)</li>
<li>core,bluestore: os: remove move_ranges_destroy_src (<a class="reference external" href="http://github.com/ceph/ceph/pull/11791">pr#11791</a>, Sage Weil)</li>
<li>core: ceph-disk: allow using a regular file as a journal (<a class="reference external" href="http://tracker.ceph.com/issues/17662">issue#17662</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11619">pr#11619</a>, Jayashree Candadai, Loic Dachary)</li>
<li>core: ceph-disk: resolve race conditions (<a class="reference external" href="http://tracker.ceph.com/issues/17889">issue#17889</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17813">issue#17813</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12136">pr#12136</a>, Loic Dachary)</li>
<li>core,cephfs: osdc/ObjectCacher: wake up dirty stat waiters after removing buffers (<a class="reference external" href="http://tracker.ceph.com/issues/17275">issue#17275</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11593">pr#11593</a>, Yan, Zheng)</li>
<li>core: ceph.in: allow &#8216;flags&#8217; to not be present in cmddescs (<a class="reference external" href="http://tracker.ceph.com/issues/18297">issue#18297</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12540">pr#12540</a>, Dan Mick)</li>
<li>core,cleanup: ceph-disk: do not create bluestore wal/db partitions by default (<a class="reference external" href="http://tracker.ceph.com/issues/18291">issue#18291</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12531">pr#12531</a>, Loic Dachary)</li>
<li>core,cleanup,common: common/TrackedOp: remove unused &#8216;now&#8217; in _dump() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12007">pr#12007</a>, John Spray)</li>
<li>core,cleanup: FileStore: Only verify split when it has been really done and done correctly (<a class="reference external" href="http://github.com/ceph/ceph/pull/11731">pr#11731</a>, Li Wang)</li>
<li>core,cleanup: kv: remove snapshot iterator (<a class="reference external" href="http://github.com/ceph/ceph/pull/12049">pr#12049</a>, Sage Weil)</li>
<li>core,cleanup: mon/MonClient.h: remove repeated searching of map (<a class="reference external" href="http://github.com/ceph/ceph/pull/10601">pr#10601</a>, Michal Jarzabek)</li>
<li>core,cleanup: msg: Fix typos in socket creation error message (<a class="reference external" href="http://github.com/ceph/ceph/pull/11907">pr#11907</a>, Brad Hubbard)</li>
<li>core,cleanup: osd/command tell: check pgid at the right time (<a class="reference external" href="http://github.com/ceph/ceph/pull/11547">pr#11547</a>, Javeme)</li>
<li>core,cleanup: osd/OSDMap.cc: fix duplicated assignment for new_blacklist_entries (<a class="reference external" href="http://github.com/ceph/ceph/pull/11799">pr#11799</a>, Ker Liu)</li>
<li>core,cleanup: osd/PG.cc: prevent repeated searching of map/set (<a class="reference external" href="http://github.com/ceph/ceph/pull/11203">pr#11203</a>, Michal Jarzabek)</li>
<li>core,cleanup: osd/ReplicatedPG: remove redundant check for balance/localize read (<a class="reference external" href="http://github.com/ceph/ceph/pull/10209">pr#10209</a>, runsisi)</li>
<li>core,cleanup: osd/ReplicatedPG: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11242">pr#11242</a>, Michal Jarzabek)</li>
<li>core,cleanup: os/filestore: handle EINTR returned by io_getevents() (<a class="reference external" href="http://github.com/ceph/ceph/pull/11890">pr#11890</a>, Pan Liu)</li>
<li>core,cleanup: os/ObjectStore: remove legacy tbl support (<a class="reference external" href="http://github.com/ceph/ceph/pull/11770">pr#11770</a>, Jianpeng Ma)</li>
<li>core,cleanup: scan build fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/12148">pr#12148</a>, Kefu Chai)</li>
<li>core,cleanup: src: rename ReplicatedPG to PrimaryLogPG (<a class="reference external" href="http://github.com/ceph/ceph/pull/12487">pr#12487</a>, Samuel Just)</li>
<li>core,cleanup: Wip scrub misc (<a class="reference external" href="http://github.com/ceph/ceph/pull/11397">pr#11397</a>, David Zafman)</li>
<li>core,common: buffer: put buffers in buffer_{data,meta} mempools (<a class="reference external" href="http://github.com/ceph/ceph/pull/11839">pr#11839</a>, Sage Weil)</li>
<li>core,common: msg: add entity_addr_t types; add new entity_addrvec_t type (<a class="reference external" href="http://github.com/ceph/ceph/pull/9825">pr#9825</a>, Zhao Junwang, Sage Weil)</li>
<li>core,common: msg/simple/Pipe: handle addr decode error (<a class="reference external" href="http://tracker.ceph.com/issues/18072">issue#18072</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12221">pr#12221</a>, Sage Weil)</li>
<li>core: compress: Fix compilation failure from missing header (<a class="reference external" href="http://github.com/ceph/ceph/pull/12108">pr#12108</a>, Adam C. Emerson)</li>
<li>core: denc: don&#8217;t pass null instances into encoder fns (<a class="reference external" href="http://tracker.ceph.com/issues/17636">issue#17636</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11577">pr#11577</a>, John Spray)</li>
<li>core: erasure-code: synchronize with upstream gf-complete (<a class="reference external" href="http://tracker.ceph.com/issues/18092">issue#18092</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12382">pr#12382</a>, Loic Dachary)</li>
<li>core: FreeBSD/OSD.cc: add client_messenger to the avoid_ports set. (<a class="reference external" href="http://github.com/ceph/ceph/pull/12463">pr#12463</a>, Willem Jan Withagen)</li>
<li>core: include/object: pass &#8220;snapid_t&amp;&#8221; to bound_encode() (<a class="reference external" href="http://github.com/ceph/ceph/pull/11552">pr#11552</a>, Kefu Chai)</li>
<li>core: kv/RocksDBStore: Don&#8217;t update rocksdb perf_context if rocksdb_perf di… (<a class="reference external" href="http://github.com/ceph/ceph/pull/12064">pr#12064</a>, Jianpeng Ma)</li>
<li>core: librados-dev: install inline_memory.h (<a class="reference external" href="http://tracker.ceph.com/issues/17654">issue#17654</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11730">pr#11730</a>, Josh Durgin)</li>
<li>core: messages/MForward: reencode forwarded message if target has differing features (<a class="reference external" href="http://github.com/ceph/ceph/pull/11610">pr#11610</a>, Sage Weil)</li>
<li>core,mgr: messages: fix out of range assertion (<a class="reference external" href="http://github.com/ceph/ceph/pull/11345">pr#11345</a>, John Spray)</li>
<li>core: mon,ceph-disk: add lockbox permissions to bootstrap-osd (<a class="reference external" href="http://tracker.ceph.com/issues/17849">issue#17849</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11996">pr#11996</a>, Loic Dachary)</li>
<li>core:  mon: make it more clearly to debug for paxos state (<a class="reference external" href="http://github.com/ceph/ceph/pull/12438">pr#12438</a>, song baisen)</li>
<li>core: mon/OSDMonitor: encode full osdmaps with features all OSDs can understand (<a class="reference external" href="http://github.com/ceph/ceph/pull/11284">pr#11284</a>, Sage Weil)</li>
<li>core: mon/OSDMonitor: encode OSDMap::Incremental with same features as OSDMap (<a class="reference external" href="http://github.com/ceph/ceph/pull/11596">pr#11596</a>, Sage Weil)</li>
<li>core: mon/OSDMonitor: newly created osd should not be wrongly marked in (<a class="reference external" href="http://github.com/ceph/ceph/pull/11795">pr#11795</a>, runsisi)</li>
<li>core: mon/OSDMonitor: remove duplicate jewel/kraken flag warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/11775">pr#11775</a>, Josh Durgin)</li>
<li>core: mon/PGMap: PGs can be stuck more than one thing (<a class="reference external" href="http://tracker.ceph.com/issues/17515">issue#17515</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11339">pr#11339</a>, Sage Weil)</li>
<li>core: mon: print the num_pools and num_objects in &#8216;ceph -s -f json/json-p… (<a class="reference external" href="http://tracker.ceph.com/issues/17703">issue#17703</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11654">pr#11654</a>, huangjun)</li>
<li>core: msg/async/AsyncConnection: dispatch write handler on keepalive2 (<a class="reference external" href="http://tracker.ceph.com/issues/17664">issue#17664</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11601">pr#11601</a>, Ilya Dryomov)</li>
<li>core: msg/async: DPDKStack as AsyncMessenger backend (<a class="reference external" href="http://github.com/ceph/ceph/pull/10748">pr#10748</a>, Haomai Wang)</li>
<li>core: msg/async/rdma: change log level: 0 -&gt; 1 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12334">pr#12334</a>, Avner BenHanoch)</li>
<li>core: msg/async/rdma: don&#8217;t use more buffers than what device capabilities … (<a class="reference external" href="http://github.com/ceph/ceph/pull/12263">pr#12263</a>, Avner BenHanoch)</li>
<li>core: msg/async/rdma: ensure CephContext existed (<a class="reference external" href="http://github.com/ceph/ceph/pull/12068">pr#12068</a>, Haomai Wang)</li>
<li>core: msg/async/rdma: event polling thread can block on event (<a class="reference external" href="http://github.com/ceph/ceph/pull/12270">pr#12270</a>, Haomai Wang)</li>
<li>core: msg/async/rdma: fixup memory free (<a class="reference external" href="http://github.com/ceph/ceph/pull/12236">pr#12236</a>, gongchuang)</li>
<li>core: msg/async/rdma: set correct value to memory manager (<a class="reference external" href="http://github.com/ceph/ceph/pull/12299">pr#12299</a>, Adir Lev)</li>
<li>core: msg/async: set nonce before starting the workers (<a class="reference external" href="http://github.com/ceph/ceph/pull/12390">pr#12390</a>, Kefu Chai)</li>
<li>core: msg: make loopback Connection feature accurate all the time (<a class="reference external" href="http://github.com/ceph/ceph/pull/11183">pr#11183</a>, Sage Weil)</li>
<li>core: msg: seed random engine used for ms_type=&#8221;random&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/11880">pr#11880</a>, Casey Bodley)</li>
<li>core: msg/simple/Pipe: avoid returning 0 on poll timeout (<a class="reference external" href="http://tracker.ceph.com/issues/18184">issue#18184</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12375">pr#12375</a>, Sage Weil)</li>
<li>core: msg/simple/Pipe::stop_and_wait: unlock pipe_lock for stop_fast_dispatching() (<a class="reference external" href="http://tracker.ceph.com/issues/18042">issue#18042</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12307">pr#12307</a>, Samuel Just)</li>
<li>core: msg/simple: save the errno in case being changed by subsequent codes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10297">pr#10297</a>, Yan Jun)</li>
<li>core: osd/ECTransaction: only write out the hinfo if not delete (<a class="reference external" href="http://tracker.ceph.com/issues/17983">issue#17983</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12141">pr#12141</a>, Samuel Just)</li>
<li>core: OSDMonitor: only reject MOSDBoot based on up_from if inst matches (<a class="reference external" href="http://tracker.ceph.com/issues/17899">issue#17899</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12003">pr#12003</a>, Samuel Just)</li>
<li>core: osd,mon: require sortbitwise flag to upgrade beyond jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/11772">pr#11772</a>, Sage Weil)</li>
<li>core: osd/osd_types: fix the osd_stat_t::decode() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12235">pr#12235</a>, Kefu Chai)</li>
<li>core: osd/PG: add &#8220;down&#8221; pg state (distinct from down+peering) (<a class="reference external" href="http://github.com/ceph/ceph/pull/12289">pr#12289</a>, Sage Weil)</li>
<li>core: osd/PGLog::proc_replica_log,merge_log: fix bound for last_update (<a class="reference external" href="http://tracker.ceph.com/issues/18127">issue#18127</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12340">pr#12340</a>, Samuel Just)</li>
<li>core: osd/ReplicatedPG: do_update_log_missing: take the pg lock in the callback (<a class="reference external" href="http://tracker.ceph.com/issues/17789">issue#17789</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11754">pr#11754</a>, Samuel Just)</li>
<li>core: osd/ReplicatedPG::record_write_error: don&#8217;t leak orig_reply on cancel (<a class="reference external" href="http://tracker.ceph.com/issues/18180">issue#18180</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12450">pr#12450</a>, Samuel Just)</li>
<li>core: os/filestore: avoid to get the wrong hardlink number. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11841">pr#11841</a>, huangjun)</li>
<li>core: os/filestore/chain_xattr.h:uses ENODATA, so include compat.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/12279">pr#12279</a>, Willem Jan Withagen)</li>
<li>core: os/filestore: Fix erroneous WARNING: max attr too small (<a class="reference external" href="http://tracker.ceph.com/issues/17420">issue#17420</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11246">pr#11246</a>, Brad Hubbard)</li>
<li>core: os/FileStore: fix fiemap issue in xfs when #extents &gt; 1364  (<a class="reference external" href="http://github.com/ceph/ceph/pull/11554">pr#11554</a>, Ning Yao)</li>
<li>core: os/filestore: fix journal logger (<a class="reference external" href="http://github.com/ceph/ceph/pull/12099">pr#12099</a>, Wei Jin)</li>
<li>core: os/filestore: fix potential result code overwriting (<a class="reference external" href="http://github.com/ceph/ceph/pull/11491">pr#11491</a>, xie xingguo)</li>
<li>core: os/filestore/HashIndex: fix list_by_hash_* termination on reaching end (<a class="reference external" href="http://tracker.ceph.com/issues/17859">issue#17859</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11898">pr#11898</a>, Sage Weil)</li>
<li>core: os/ObjectStore: properly clear object map when replaying OP_REMOVE (<a class="reference external" href="http://tracker.ceph.com/issues/17177">issue#17177</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11388">pr#11388</a>, Yan, Zheng)</li>
<li>core,performance: msg/async: ibverbs/rdma support (<a class="reference external" href="http://github.com/ceph/ceph/pull/11531">pr#11531</a>, Haomai Wang, Zhi Wang)</li>
<li>core,performance: osd/OSDMap.cc: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11221">pr#11221</a>, Michal Jarzabek)</li>
<li>core,performance: osd/PrimaryLogPG: don&#8217;t truncate if we don&#8217;t have to for WRITEFULL (<a class="reference external" href="http://github.com/ceph/ceph/pull/12534">pr#12534</a>, Samuel Just)</li>
<li>core,performance: os/fs/FS: optimize aio::pwritev which make caller provide length. (<a class="reference external" href="http://github.com/ceph/ceph/pull/9062">pr#9062</a>, Jianpeng Ma)</li>
<li>core,pybind,common: python-rados: implement new aio_execute (<a class="reference external" href="http://github.com/ceph/ceph/pull/12140">pr#12140</a>, Iain Buclaw)</li>
<li>core,rbd,bluestore,rgw,performance,cephfs: fast denc encoding (<a class="reference external" href="http://github.com/ceph/ceph/pull/11027">pr#11027</a>, Sage Weil)</li>
<li>core: remove spurious executable permissions on source code files (<a class="reference external" href="http://github.com/ceph/ceph/pull/1061">pr#1061</a>, Samuel Just)</li>
<li>core: ReplicatedPG::failed_push: release read lock on failure (<a class="reference external" href="http://tracker.ceph.com/issues/17857">issue#17857</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11914">pr#11914</a>, Kefu Chai)</li>
<li>core: rocksdb: update to latest, and make it the default for the mons (<a class="reference external" href="http://github.com/ceph/ceph/pull/11354">pr#11354</a>, Sage Weil)</li>
<li>core: set dumpable flag after setuid (<a class="reference external" href="http://tracker.ceph.com/issues/17650">issue#17650</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11582">pr#11582</a>, Patrick Donnelly)</li>
<li>core: systemd/ceph-disk: reduce ceph-disk flock contention (<a class="reference external" href="http://tracker.ceph.com/issues/18049">issue#18049</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13160">issue#13160</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12200">pr#12200</a>, David Disseldorp)</li>
<li>core: tchaikov (<a class="reference external" href="http://tracker.ceph.com/issues/17713">issue#17713</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11382">pr#11382</a>, Haomai Wang)</li>
<li>core,tests: ceph_test_rados_api_tier: dump hitset that we fail to decode (<a class="reference external" href="http://tracker.ceph.com/issues/17945">issue#17945</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12057">pr#12057</a>, Sage Weil)</li>
<li>core,tests: common osd: Improve scrub analysis, list-inconsistent-obj output and osd-scrub-repair test (<a class="reference external" href="http://tracker.ceph.com/issues/18114">issue#18114</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9613">pr#9613</a>, Kefu Chai, David Zafman)</li>
<li>core,tests: test,cmake: turn unit.h into unit.cc to speed up compilation (<a class="reference external" href="http://github.com/ceph/ceph/pull/12194">pr#12194</a>, Kefu Chai)</li>
<li>core,tests: test/rados/list.cc: Memory leak in ceph_test_rados_api_list (<a class="reference external" href="http://tracker.ceph.com/issues/18250">issue#18250</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12479">pr#12479</a>, Brad Hubbard)</li>
<li>core,tests: workunits/ceph-helpers.sh: Fixes for FreeBSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/12085">pr#12085</a>, Willem Jan Withagen)</li>
<li>core,tools: Added append functionality to rados tool. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11036">pr#11036</a>, Tomy Cheru)</li>
<li>core,tools: Tested-by: Huawen Ren &lt;<a class="reference external" href="mailto:ren&#46;huanwen&#37;&#52;&#48;zte&#46;com&#46;cn">ren<span>&#46;</span>huanwen<span>&#64;</span>zte<span>&#46;</span>com<span>&#46;</span>cn</a>&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/17400">issue#17400</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11276">pr#11276</a>, Kefu Chai)</li>
<li>core,tools: vstart: decrease pool size if &lt;3 OSDs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11528">pr#11528</a>, John Spray)</li>
<li>crush: make counting of choose_tries consistent (<a class="reference external" href="http://tracker.ceph.com/issues/17229">issue#17229</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10993">pr#10993</a>, Vicente Cheng)</li>
<li>crush: remove the crush_lock (<a class="reference external" href="http://github.com/ceph/ceph/pull/11830">pr#11830</a>, Adam C. Emerson)</li>
<li>crush: Silence coverity warnings for test/crush/crush.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/12436">pr#12436</a>, Brad Hubbard)</li>
<li>doc: Add doc about osd scrub {during recovery|chunk {min|max}| sleep} (<a class="reference external" href="http://github.com/ceph/ceph/pull/12176">pr#12176</a>, Paweł Sadowski)</li>
<li>doc: Add docs about looking up Monitors through DNS (<a class="reference external" href="http://tracker.ceph.com/issues/14527">issue#14527</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10852">pr#10852</a>, Wido den Hollander)</li>
<li>doc: add docs for raw compression (<a class="reference external" href="http://github.com/ceph/ceph/pull/12244">pr#12244</a>, Casey Bodley)</li>
<li>doc: Add documentation about mon_allow_pool_delete before pool remove (<a class="reference external" href="http://github.com/ceph/ceph/pull/11943">pr#11943</a>, Wido den Hollander)</li>
<li>doc: add infernalis EOL date (<a class="reference external" href="http://github.com/ceph/ceph/pull/11925">pr#11925</a>, Ken Dreyer)</li>
<li>doc: adding changelog for v10.2.4 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12346">pr#12346</a>, Abhishek Lekshmanan)</li>
<li>doc: Add MON docs about pool flags and pool removal config settings (<a class="reference external" href="http://github.com/ceph/ceph/pull/10853">pr#10853</a>, Wido den Hollander)</li>
<li>doc: add python-rgw doc (<a class="reference external" href="http://github.com/ceph/ceph/pull/11859">pr#11859</a>, Kefu Chai)</li>
<li>doc: change the osd_max_backfills default to 1 (<a class="reference external" href="http://tracker.ceph.com/issues/17701">issue#17701</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11658">pr#11658</a>, huangjun)</li>
<li>doc: clarify file deletion from OSD restricted pool behaviour (<a class="reference external" href="http://tracker.ceph.com/issues/17937">issue#17937</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12054">pr#12054</a>, David Disseldorp)</li>
<li>doc: clarify mds deactivate purpose (<a class="reference external" href="http://github.com/ceph/ceph/pull/11957">pr#11957</a>, Patrick Donnelly)</li>
<li>doc: common/Throttle: fix typo for BackoffThrottle (<a class="reference external" href="http://github.com/ceph/ceph/pull/12129">pr#12129</a>, Wei Jin)</li>
<li>doc: correcting the object name (<a class="reference external" href="http://github.com/ceph/ceph/pull/12354">pr#12354</a>, Uday Mullangi)</li>
<li>doc: Correcting the sample python tempurl generation script. (<a class="reference external" href="http://tracker.ceph.com/issues/15258">issue#15258</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8712">pr#8712</a>, Diwakar Goel)</li>
<li>doc: Coverity and SCA fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7784">pr#7784</a>, Danny Al-Gaaf)</li>
<li>doc: doc/dev/osd_internals: add pgpool.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/12500">pr#12500</a>, Brad Hubbard)</li>
<li>doc: doc/dev/perf: a few notes on perf (<a class="reference external" href="http://github.com/ceph/ceph/pull/12168">pr#12168</a>, Sage Weil)</li>
<li>doc: doc/dev/perf: fix dittography (<a class="reference external" href="http://github.com/ceph/ceph/pull/12317">pr#12317</a>, xie xingguo)</li>
<li>doc: doc/man: avoid file builtin to solve build error (<a class="reference external" href="http://github.com/ceph/ceph/pull/11984">pr#11984</a>, Patrick Donnelly)</li>
<li>doc: doc/rados/configuration/ms-ref.rst: document a few async msgr options (<a class="reference external" href="http://github.com/ceph/ceph/pull/12126">pr#12126</a>, Piotr Dałek)</li>
<li>doc: doc/rados/configuration/osd-config-ref.rst: document the fast mark down (<a class="reference external" href="http://github.com/ceph/ceph/pull/12124">pr#12124</a>, Piotr Dałek)</li>
<li>doc: doc/release-notes: kraken release notes (draft) (<a class="reference external" href="http://github.com/ceph/ceph/pull/12338">pr#12338</a>, Sage Weil)</li>
<li>doc: doc/releases: add links to kraken and v10.2.4 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12409">pr#12409</a>, Kefu Chai)</li>
<li>doc: doc/start/hardware-recommentdations: cosmetic (<a class="reference external" href="http://github.com/ceph/ceph/pull/10585">pr#10585</a>, Zhao Junwang)</li>
<li>doc: Documentation syntax cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/11784">pr#11784</a>, John Spray)</li>
<li>doc: document osd tell bench (<a class="reference external" href="http://tracker.ceph.com/issues/5431">issue#5431</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/16">pr#16</a>, Sage Weil)</li>
<li>doc: drop &#8211;journal-check from ceph-mds man page (<a class="reference external" href="http://tracker.ceph.com/issues/17747">issue#17747</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11912">pr#11912</a>, Nathan Cutler)</li>
<li>doc: explain rgw_fcgi_socket_backlog in rgw/config-ref.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/12548">pr#12548</a>, liuchang0812)</li>
<li>doc: final additions to 11.1.0-rc release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/12448">pr#12448</a>, Abhishek Lekshmanan)</li>
<li>doc: Fix broken link for caps (<a class="reference external" href="http://tracker.ceph.com/issues/17587">issue#17587</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11546">pr#11546</a>, Uday Mullangi)</li>
<li>doc: fix broken links (<a class="reference external" href="http://tracker.ceph.com/issues/17587">issue#17587</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11518">pr#11518</a>, Uday Mullangi)</li>
<li>doc: fix dead link &#8220;Hardware Recommendations&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/11379">pr#11379</a>, Leo Zhang)</li>
<li>doc: fix dead link of &#8220;os-recommendations&#8221; in troubleshooting-osd (<a class="reference external" href="http://github.com/ceph/ceph/pull/11454">pr#11454</a>, Leo Zhang)</li>
<li>doc: Fixed mapping error in legacy mds command (<a class="reference external" href="http://github.com/ceph/ceph/pull/11668">pr#11668</a>, Malte Fiala)</li>
<li>doc: Fix for worker arguments to cephfs-data-scan tool (<a class="reference external" href="http://github.com/ceph/ceph/pull/12360">pr#12360</a>, Wido den Hollander)</li>
<li>doc: fix grammar/spelling in RGW sections (<a class="reference external" href="http://github.com/ceph/ceph/pull/12329">pr#12329</a>, Ken Dreyer)</li>
<li>doc: Fixing the broken hyperlinks by pointing to correct documentation. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11617">pr#11617</a>, Uday Mullangi)</li>
<li>doc: fix librados example programs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11302">pr#11302</a>, Alexey Sheplyakov)</li>
<li>doc: fix mgr literal block rST syntax (<a class="reference external" href="http://github.com/ceph/ceph/pull/11652">pr#11652</a>, Ken Dreyer)</li>
<li>doc: fix start development cluster operation in index.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/11233">pr#11233</a>, Leo Zhang)</li>
<li>doc: fix the script for rebuild monitor db (<a class="reference external" href="http://github.com/ceph/ceph/pull/11962">pr#11962</a>, Kefu Chai)</li>
<li>doc: fix typos (<a class="reference external" href="http://github.com/ceph/ceph/pull/8751">pr#8751</a>, Li Peng)</li>
<li>doc: Flag deprecated mds commands and omit deprecated mon commands in help output (<a class="reference external" href="http://github.com/ceph/ceph/pull/11434">pr#11434</a>, Patrick Donnelly)</li>
<li>doc: mailmap: change personal info (<a class="reference external" href="http://github.com/ceph/ceph/pull/12310">pr#12310</a>, Wei Jin)</li>
<li>doc: mailmap updates sept (<a class="reference external" href="http://github.com/ceph/ceph/pull/10955">pr#10955</a>, Yann Dupont)</li>
<li>doc: mds: fixup &#8220;mds bal mode&#8221; Description (<a class="reference external" href="http://github.com/ceph/ceph/pull/12127">pr#12127</a>, huanwen ren)</li>
<li>doc: mention corresponding libvirt section in nova.conf (<a class="reference external" href="http://github.com/ceph/ceph/pull/12584">pr#12584</a>, Marc Koderer)</li>
<li>doc: Modify documentation for mon_osd_down_out_interval (<a class="reference external" href="http://github.com/ceph/ceph/pull/12408">pr#12408</a>, Brad Hubbard)</li>
<li>doc: network-protocol typos (<a class="reference external" href="http://github.com/ceph/ceph/pull/9837">pr#9837</a>, Zhao Junwang)</li>
<li>doc: openstack glance mitaka uses show_multiple_locations (<a class="reference external" href="http://github.com/ceph/ceph/pull/12020">pr#12020</a>, Sébastien Han)</li>
<li>doc: README.FreeBSD: update to match the bimonthly FreeBSD status report (<a class="reference external" href="http://github.com/ceph/ceph/pull/11442">pr#11442</a>, Willem Jan Withagen)</li>
<li>doc: README: hint at where to look to diagnose test failures (<a class="reference external" href="http://github.com/ceph/ceph/pull/11903">pr#11903</a>, Dan Mick)</li>
<li>doc: reformat SubmittingPatches with more rst syntax (<a class="reference external" href="http://github.com/ceph/ceph/pull/11570">pr#11570</a>, Kefu Chai)</li>
<li>doc: release notes for 10.2.4 (<a class="reference external" href="http://github.com/ceph/ceph/pull/12053">pr#12053</a>, Abhishek Lekshmanan)</li>
<li>doc: release notes for 10.2.5 (<a class="reference external" href="http://tracker.ceph.com/issues/18207">issue#18207</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12410">pr#12410</a>, Loic Dachary)</li>
<li>doc: release notes for 11.0.2 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11369">pr#11369</a>, Abhishek Lekshmanan)</li>
<li>doc: Remove duplicate command for Ubuntu (<a class="reference external" href="http://github.com/ceph/ceph/pull/12186">pr#12186</a>, chrone)</li>
<li>doc: reviewed-by: John Wilkins &lt;<a class="reference external" href="mailto:jowilkin&#37;&#52;&#48;redhat&#46;com">jowilkin<span>&#64;</span>redhat<span>&#46;</span>com</a>&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/17526">issue#17526</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11352">pr#11352</a>, Loic Dachary)</li>
<li>doc: reviewed-by: John Wilkins &lt;<a class="reference external" href="mailto:jowilkin&#37;&#52;&#48;redhat&#46;com">jowilkin<span>&#64;</span>redhat<span>&#46;</span>com</a>&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/17665">issue#17665</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11602">pr#11602</a>, Jason Dillaman)</li>
<li>doc: rgw: fix a typo in S3 java api example (<a class="reference external" href="http://github.com/ceph/ceph/pull/11762">pr#11762</a>, Weibing Zhang)</li>
<li>doc: rm &#8220;type=rpm-md&#8221; from yum repositories (<a class="reference external" href="http://github.com/ceph/ceph/pull/10248">pr#10248</a>, Ken Dreyer)</li>
<li>doc: Small styling fix to mirror documentation (<a class="reference external" href="http://github.com/ceph/ceph/pull/9714">pr#9714</a>, Wido den Hollander)</li>
<li>doc: src/doc: fix class names in exports.txt (<a class="reference external" href="http://github.com/ceph/ceph/pull/12000">pr#12000</a>, John Spray)</li>
<li>doc: standardize EPEL instructions (<a class="reference external" href="http://github.com/ceph/ceph/pull/11653">pr#11653</a>, Ken Dreyer)</li>
<li>doc: update cinder key permissions for mitaka (<a class="reference external" href="http://github.com/ceph/ceph/pull/12211">pr#12211</a>, Sébastien Han)</li>
<li>doc: Update crush-map.rst, fix a typo mistake (<a class="reference external" href="http://github.com/ceph/ceph/pull/11785">pr#11785</a>, whu_liuchang)</li>
<li>doc: Update filestore xattr config documentation. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11826">pr#11826</a>, Bartłomiej Święcki)</li>
<li>doc: Update install-ceph-gateway.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/11432">pr#11432</a>, Hans van den Bogert)</li>
<li>doc: Update keystone doc about v3 options (<a class="reference external" href="http://github.com/ceph/ceph/pull/11392">pr#11392</a>, Proskurin Kirill)</li>
<li>doc: Update layout.rst, move commands to CODE block (<a class="reference external" href="http://github.com/ceph/ceph/pull/11987">pr#11987</a>, liuchang0812)</li>
<li>doc: we can now run multiple MDS, so qualify warning (<a class="reference external" href="http://tracker.ceph.com/issues/18040">issue#18040</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12184">pr#12184</a>, Nathan Cutler)</li>
<li>fs: add snapshot tests to mds thrashing (<a class="reference external" href="http://github.com/ceph/ceph/pull/1073">pr#1073</a>, Yan, Zheng)</li>
<li>fs: enable ceph-fuse permission checking for all pjd suites (<a class="reference external" href="http://github.com/ceph/ceph/pull/1187">pr#1187</a>, Greg Farnum)</li>
<li>fs: fix two frag_enable fragments (<a class="reference external" href="http://tracker.ceph.com/issues/6143">issue#6143</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/656">pr#656</a>, Sage Weil)</li>
<li>fs: fix up dd testing again (<a class="reference external" href="http://tracker.ceph.com/issues/10861">issue#10861</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/373">pr#373</a>, Greg Farnum)</li>
<li>fs: fuse_default_permissions = 0 for kernel build test (<a class="reference external" href="http://github.com/ceph/ceph/pull/1109">pr#1109</a>, Patrick Donnelly)</li>
<li>fs: Mantle: A Programmable Metadata Load Balancer (<a class="reference external" href="http://github.com/ceph/ceph/pull/10887">pr#10887</a>, Michael Sevilla)</li>
<li>fs: unify common parts of sub-suites (<a class="reference external" href="http://tracker.ceph.com/issues/1737">issue#1737</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/1282">pr#1282</a>, Patrick Donnelly)</li>
<li>librados: Add rados_aio_exec to the C API (<a class="reference external" href="http://github.com/ceph/ceph/pull/11709">pr#11709</a>, Iain Buclaw)</li>
<li>librados: add timeout to watch/notify (<a class="reference external" href="http://github.com/ceph/ceph/pull/11378">pr#11378</a>, Ryne Li)</li>
<li>librados: do not request osd ack if no completed completion is set (<a class="reference external" href="http://github.com/ceph/ceph/pull/11204">pr#11204</a>, Sage Weil)</li>
<li>librados:  For C-API, expose LIBRADOS_OPERATION_FULL_FORCE flag (<a class="reference external" href="http://github.com/ceph/ceph/pull/9172">pr#9172</a>, Jianpeng Ma)</li>
<li>librados: improvements async IO in librados and libradosstriper (<a class="reference external" href="http://github.com/ceph/ceph/pull/10049">pr#10049</a>, Sebastien Ponce)</li>
<li>librados: Memory leaks in object_list_begin and object_list_end (<a class="reference external" href="http://tracker.ceph.com/issues/18252">issue#18252</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12482">pr#12482</a>, Brad Hubbard)</li>
<li>librados: postpone cct deletion (<a class="reference external" href="http://github.com/ceph/ceph/pull/11659">pr#11659</a>, Kefu Chai)</li>
<li>librados: remove new setxattr overload to avoid breaking the C++ ABI (<a class="reference external" href="http://tracker.ceph.com/issues/18058">issue#18058</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12206">pr#12206</a>, Josh Durgin)</li>
<li>librados: remove unused bufferlist from rados_write_op_rmxattr (<a class="reference external" href="http://github.com/ceph/ceph/pull/12030">pr#12030</a>, Piotr Dałek)</li>
<li>librbd: add support for snapshot namespaces (<a class="reference external" href="http://github.com/ceph/ceph/pull/11160">pr#11160</a>, Victor Denisov)</li>
<li>librbd: API changes to support separate data pool (<a class="reference external" href="http://github.com/ceph/ceph/pull/11353">pr#11353</a>, Jason Dillaman)</li>
<li>librbd: batch object map updates during trim (<a class="reference external" href="http://tracker.ceph.com/issues/17356">issue#17356</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11510">pr#11510</a>, Venky Shankar)</li>
<li>librbd: bug fixes for optional data pool support (<a class="reference external" href="http://github.com/ceph/ceph/pull/11960">pr#11960</a>, Venky Shankar)</li>
<li>librbd: cannot access non-primary image when mirroring force disabled  (<a class="reference external" href="http://tracker.ceph.com/issues/16740">issue#16740</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17588">issue#17588</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11568">pr#11568</a>, Jason Dillaman)</li>
<li>librbd: cls_rbd updates for separate data pool (<a class="reference external" href="http://tracker.ceph.com/issues/17422">issue#17422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11327">pr#11327</a>, Jason Dillaman)</li>
<li>librbd: default features should be negotiated with the OSD (<a class="reference external" href="http://tracker.ceph.com/issues/17010">issue#17010</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11808">pr#11808</a>, Mykola Golub)</li>
<li>librbd: diffs to clone&#8217;s first snapshot should include parent diffs (<a class="reference external" href="http://tracker.ceph.com/issues/18068">issue#18068</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12218">pr#12218</a>, Jason Dillaman)</li>
<li>librbd: do not create empty object map object on image creation (<a class="reference external" href="http://tracker.ceph.com/issues/17752">issue#17752</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11704">pr#11704</a>, Jason Dillaman)</li>
<li>librbd: enabling/disabling rbd feature should report missing dependency (<a class="reference external" href="http://tracker.ceph.com/issues/16985">issue#16985</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12238">pr#12238</a>, Gaurav Kumar Garg)</li>
<li>librbd: ensure consistency groups will gracefully fail on older OSDs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11623">pr#11623</a>, Jason Dillaman)</li>
<li>librbd: exclusive lock incorrectly initialized when switching to head revision (<a class="reference external" href="http://tracker.ceph.com/issues/17618">issue#17618</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11559">pr#11559</a>, Jason Dillaman)</li>
<li>librbd: fix rollback if failed to disable mirroring for image (<a class="reference external" href="http://github.com/ceph/ceph/pull/11260">pr#11260</a>, runsisi)</li>
<li>librbd: ignore error when object map is already locked by current client (<a class="reference external" href="http://tracker.ceph.com/issues/16179">issue#16179</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12484">pr#12484</a>, runsisi)</li>
<li>librbd: ignore notify errors on missing image header (<a class="reference external" href="http://tracker.ceph.com/issues/17549">issue#17549</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11395">pr#11395</a>, Jason Dillaman)</li>
<li>librbd: keep rbd_default_features setting as bitmask (<a class="reference external" href="http://tracker.ceph.com/issues/18247">issue#18247</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12486">pr#12486</a>, Jason Dillaman)</li>
<li>librbd: mark request as finished after failed refresh (<a class="reference external" href="http://tracker.ceph.com/issues/17973">issue#17973</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12160">pr#12160</a>, Venky Shankar)</li>
<li>librbd: minor cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/12078">pr#12078</a>, Dongsheng Yang)</li>
<li>librbd: new API method to force break a peer&#8217;s exclusive lock (<a class="reference external" href="http://tracker.ceph.com/issues/18429">issue#18429</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16988">issue#16988</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18327">issue#18327</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12889">pr#12889</a>, Jason Dillaman)</li>
<li>librbd: parse rbd_default_features config option as a string (<a class="reference external" href="http://github.com/ceph/ceph/pull/11175">pr#11175</a>, Alyona Kiseleva, Alexey Sheplyakov)</li>
<li>librbd: possible assert failure creating image when using data pool (<a class="reference external" href="http://github.com/ceph/ceph/pull/11641">pr#11641</a>, Venky Shankar)</li>
<li>librbd: proper check for get_data_pool compatibility (<a class="reference external" href="http://tracker.ceph.com/issues/17791">issue#17791</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11755">pr#11755</a>, Mykola Golub)</li>
<li>librbd: properly order concurrent updates to the object map (<a class="reference external" href="http://tracker.ceph.com/issues/16176">issue#16176</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12420">pr#12420</a>, Jason Dillaman)</li>
<li>librbd: release lock after demote (<a class="reference external" href="http://tracker.ceph.com/issues/17880">issue#17880</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11940">pr#11940</a>, Mykola Golub)</li>
<li>librbd: remove consistency group rbd cli and API support (<a class="reference external" href="http://tracker.ceph.com/issues/18231">issue#18231</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12475">pr#12475</a>, Jason Dillaman)</li>
<li>librbd: remove image header lock assertions (<a class="reference external" href="http://tracker.ceph.com/issues/18244">issue#18244</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12472">pr#12472</a>, Jason Dillaman)</li>
<li>librbd: remove unused local variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/12388">pr#12388</a>, Yunchuan Wen)</li>
<li>librbd: silence the unused variable warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/11678">pr#11678</a>, Kefu Chai)</li>
<li>librbd: snap_get_limit compatibility check (<a class="reference external" href="http://github.com/ceph/ceph/pull/11766">pr#11766</a>, Mykola Golub)</li>
<li>librbd: update internals to use optional separate data pool (<a class="reference external" href="http://github.com/ceph/ceph/pull/11356">pr#11356</a>, Jason Dillaman)</li>
<li>librbd: use proper snapshot when computing diff parent overlap (<a class="reference external" href="http://tracker.ceph.com/issues/18200">issue#18200</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12396">pr#12396</a>, Xiaoxi Chen)</li>
<li>log: optimize header file dependency (<a class="reference external" href="http://github.com/ceph/ceph/pull/9768">pr#9768</a>, Xiaowei Chen)</li>
<li>mds: add debug assertion for issue #17636 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11576">pr#11576</a>, Yan, Zheng)</li>
<li>mds: add tests for mantle (programmable balancer) (<a class="reference external" href="http://github.com/ceph/ceph/pull/1145">pr#1145</a>, Michael Sevilla)</li>
<li>mds: check if down mds is known (<a class="reference external" href="http://tracker.ceph.com/issues/17670">issue#17670</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11611">pr#11611</a>, Patrick Donnelly)</li>
<li>mds: don&#8217;t access mdsmap from log submit thread (<a class="reference external" href="http://tracker.ceph.com/issues/18047">issue#18047</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12208">pr#12208</a>, Yan, Zheng)</li>
<li>mds: don&#8217;t maintain bloom filters in standby replay (<a class="reference external" href="http://tracker.ceph.com/issues/16924">issue#16924</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12133">pr#12133</a>, John Spray)</li>
<li>mds: enable rmxattr on pool_namespace attrs  (<a class="reference external" href="http://tracker.ceph.com/issues/17797">issue#17797</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11783">pr#11783</a>, John Spray)</li>
<li>mds: fix dropping events in standby replay (<a class="reference external" href="http://tracker.ceph.com/issues/17954">issue#17954</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12077">pr#12077</a>, John Spray)</li>
<li>mds: fix EMetaBlob::fullbit xattr dump (<a class="reference external" href="http://github.com/ceph/ceph/pull/11536">pr#11536</a>, Sage Weil)</li>
<li>mds: fix false &#8220;failing to respond to cache pressure&#8221; warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/11373">pr#11373</a>, Yan, Zheng)</li>
<li>mds: force client flush snap data before truncating objects (<a class="reference external" href="http://tracker.ceph.com/issues/17193">issue#17193</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11994">pr#11994</a>, Yan, Zheng)</li>
<li>mds: handle bad standby_for_fscids in fsmap (<a class="reference external" href="http://tracker.ceph.com/issues/17466">issue#17466</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11281">pr#11281</a>, John Spray)</li>
<li>mds: ignore &#8216;session evict&#8217; when mds is replaying log (<a class="reference external" href="http://tracker.ceph.com/issues/17801">issue#17801</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11813">pr#11813</a>, Yan, Zheng)</li>
<li>mds: include legacy client fsid in FSMap print (<a class="reference external" href="http://github.com/ceph/ceph/pull/11283">pr#11283</a>, John Spray)</li>
<li>mds: more deterministic timing on frag split/join (<a class="reference external" href="http://tracker.ceph.com/issues/17853">issue#17853</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12022">pr#12022</a>, John Spray)</li>
<li>mds: more unique_pointer changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/11635">pr#11635</a>, Patrick Donnelly)</li>
<li>mds: properly commit new dirfrag before splitting it (<a class="reference external" href="http://tracker.ceph.com/issues/17990">issue#17990</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12125">pr#12125</a>, Yan, Zheng)</li>
<li>mds: release pool allocator memory after exceeding size limit (<a class="reference external" href="http://tracker.ceph.com/issues/18225">issue#18225</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12443">pr#12443</a>, John Spray)</li>
<li>mds: remove duplicated log in handle_client_readdir (<a class="reference external" href="http://github.com/ceph/ceph/pull/11806">pr#11806</a>, Zhi Zhang)</li>
<li>mds: remove &#8220;&#8211;journal-check&#8221; help text (<a class="reference external" href="http://tracker.ceph.com/issues/17747">issue#17747</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11739">pr#11739</a>, Nathan Cutler)</li>
<li>mds: remove unused EFragment::OP_ONESHOT (<a class="reference external" href="http://github.com/ceph/ceph/pull/11887">pr#11887</a>, John Spray)</li>
<li>mds: repair backtraces during scrub (<a class="reference external" href="http://tracker.ceph.com/issues/17639">issue#17639</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11578">pr#11578</a>, John Spray)</li>
<li>mds: require MAY_SET_POOL to set pool_ns (<a class="reference external" href="http://tracker.ceph.com/issues/17798">issue#17798</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11789">pr#11789</a>, John Spray)</li>
<li>mds: respawn using /proc/self/exe (<a class="reference external" href="http://tracker.ceph.com/issues/17531">issue#17531</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11362">pr#11362</a>, Patrick Donnelly)</li>
<li>mds: revert &#8220;mds/Mutation: remove redundant _dump method&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/17906">issue#17906</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11985">pr#11985</a>, Patrick Donnelly)</li>
<li>mds: use parse_filesystem in parse_role to handle exceptions and reuse parsing code (<a class="reference external" href="http://tracker.ceph.com/issues/17518">issue#17518</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11357">pr#11357</a>, Patrick Donnelly)</li>
<li>mds: use projected path construction for access (<a class="reference external" href="http://tracker.ceph.com/issues/17858">issue#17858</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12063">pr#12063</a>, Patrick Donnelly)</li>
<li>mds: use unique_ptr to simplify resource mgmt (<a class="reference external" href="http://github.com/ceph/ceph/pull/11543">pr#11543</a>, Patrick Donnelly)</li>
<li>mgr: doc/mgr: fix mgr how long to wait to failover (<a class="reference external" href="http://github.com/ceph/ceph/pull/11550">pr#11550</a>, huanwen ren)</li>
<li>mgr: init() return when connection daemons failed &amp;&amp; add some err info (<a class="reference external" href="http://github.com/ceph/ceph/pull/11424">pr#11424</a>, huanwen ren)</li>
<li>mgr: misc minor changes (<a class="reference external" href="http://tracker.ceph.com/issues/17455">issue#17455</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11386">pr#11386</a>, xie xingguo)</li>
<li>mgr: PyModules.cc: remove duplicated if condition for fs_map (<a class="reference external" href="http://github.com/ceph/ceph/pull/11639">pr#11639</a>, Weibing Zhang)</li>
<li>mgr: remove unnecessary C_StdFunction (<a class="reference external" href="http://github.com/ceph/ceph/pull/11883">pr#11883</a>, John Spray)</li>
<li>mon: add missing space in warning message (<a class="reference external" href="http://github.com/ceph/ceph/pull/11361">pr#11361</a>, Patrick Donnelly)</li>
<li>mon: clean legacy code (<a class="reference external" href="http://github.com/ceph/ceph/pull/9643">pr#9643</a>, Wei Jin)</li>
<li>mon: clear duplicated logic in MDSMonitor (<a class="reference external" href="http://github.com/ceph/ceph/pull/11209">pr#11209</a>, Zhi Zhang)</li>
<li>mon: Do not allow pools to be deleted by default (<a class="reference external" href="http://github.com/ceph/ceph/pull/11665">pr#11665</a>, Wido den Hollander)</li>
<li>mon: fix &#8220;OSDs marked OUT wrongly after monitor failover&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/17719">issue#17719</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11664">pr#11664</a>, Dong Wu)</li>
<li>mon: Forbidden copy and assignment function in monoprequest (<a class="reference external" href="http://github.com/ceph/ceph/pull/9513">pr#9513</a>, song baisen)</li>
<li>mon: have mon-specific features &amp; rework internal monmap structures (<a class="reference external" href="http://github.com/ceph/ceph/pull/10907">pr#10907</a>, Joao Eduardo Luis)</li>
<li>mon: if crushtool config is empty use internal crush test (<a class="reference external" href="http://github.com/ceph/ceph/pull/11765">pr#11765</a>, Bassam Tabbara)</li>
<li>mon: make MDSMonitor tolerant of slow mon elections (<a class="reference external" href="http://tracker.ceph.com/issues/17308">issue#17308</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11167">pr#11167</a>, John Spray)</li>
<li>mon: MonmapMonitor: return success when monitor will be removed (<a class="reference external" href="http://tracker.ceph.com/issues/17725">issue#17725</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11747">pr#11747</a>, Joao Eduardo Luis)</li>
<li>mon: move case CEPH_MSG_POOLOP to OSDs group (<a class="reference external" href="http://github.com/ceph/ceph/pull/11848">pr#11848</a>, Javeme)</li>
<li>mon: osdmap&#8217;s epoch should be more than 0 (<a class="reference external" href="http://github.com/ceph/ceph/pull/9859">pr#9859</a>, Na Xie)</li>
<li>mon: OSDMonitor: fix the check error of pg creating (<a class="reference external" href="http://tracker.ceph.com/issues/17169">issue#17169</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10916">pr#10916</a>, DesmondS)</li>
<li>mon:  paxos add the timeout function when peon recovery (<a class="reference external" href="http://github.com/ceph/ceph/pull/10359">pr#10359</a>, song baisen)</li>
<li>mon: preserve osd weight when marking osd out, then in (<a class="reference external" href="http://github.com/ceph/ceph/pull/11293">pr#11293</a>, Sage Weil)</li>
<li>mon: prevent post-jewel OSDs from booting if require_jewel_osds is not set (<a class="reference external" href="http://github.com/ceph/ceph/pull/11498">pr#11498</a>, Sage Weil)</li>
<li>mon: remove ceph-create-keys from mon startup (<a class="reference external" href="http://tracker.ceph.com/issues/16036">issue#16036</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9345">pr#9345</a>, Owen Synge)</li>
<li>mon:  remove the redudant jugement in LogMonitor tick function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10474">pr#10474</a>, song baisen)</li>
<li>mon: remove utime_t param in _dump (<a class="reference external" href="http://github.com/ceph/ceph/pull/12029">pr#12029</a>, Patrick Donnelly)</li>
<li>mon: send updated monmap to its subscribers (<a class="reference external" href="http://tracker.ceph.com/issues/17558">issue#17558</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11456">pr#11456</a>, Kefu Chai)</li>
<li>mon: small change on the HealthMonitor start_epoch  function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10296">pr#10296</a>, songbaisen)</li>
<li>mon: support for building without leveldb + mon mkfs bug fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/11800">pr#11800</a>, Bassam Tabbara)</li>
<li>osd: add a pg _fastinfo attribute to reduce per-io metadata updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/11213">pr#11213</a>, Sage Weil)</li>
<li>osd: Add config option to disable new scrubs during recovery (<a class="reference external" href="http://tracker.ceph.com/issues/17866">issue#17866</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11874">pr#11874</a>, Wido den Hollander)</li>
<li>osd: a few fast dispatch optimizations (<a class="reference external" href="http://github.com/ceph/ceph/pull/12052">pr#12052</a>, Sage Weil)</li>
<li>osd: cleanup C_CompleteSplits::finish() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12094">pr#12094</a>, Jie Wang)</li>
<li>osd: clean up PeeringWQ::_dequeue(), remove unnecessary variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/12117">pr#12117</a>, Jie Wang)</li>
<li>osd: clean up process_peering_events (<a class="reference external" href="http://github.com/ceph/ceph/pull/12009">pr#12009</a>, Jie Wang)</li>
<li>osdc/Objecter: resend pg commands on interval change (<a class="reference external" href="http://tracker.ceph.com/issues/18358">issue#18358</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12910">pr#12910</a>, Samuel Just)</li>
<li>osd: condition OSDMap encoding on features (<a class="reference external" href="http://github.com/ceph/ceph/pull/12166">pr#12166</a>, Sage Weil)</li>
<li>osd: default osd_scrub_during_recovery=false (<a class="reference external" href="http://github.com/ceph/ceph/pull/12402">pr#12402</a>, Sage Weil)</li>
<li>osd: do not open pgs when the pg is not in pg_map (<a class="reference external" href="http://tracker.ceph.com/issues/17806">issue#17806</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11803">pr#11803</a>, Xinze Chi)</li>
<li>osd: drop stray debug message (<a class="reference external" href="http://github.com/ceph/ceph/pull/11296">pr#11296</a>, Sage Weil)</li>
<li>osd: EC Overwrites (<a class="reference external" href="http://tracker.ceph.com/issues/17668">issue#17668</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11701">pr#11701</a>, Tomy Cheru, Samuel Just)</li>
<li>osd: enhance logging for osd network error (<a class="reference external" href="http://github.com/ceph/ceph/pull/12458">pr#12458</a>, liuchang0812)</li>
<li>osd: fix CEPH_OSD_FLAG_RWORDERED (<a class="reference external" href="http://github.com/ceph/ceph/pull/12603">pr#12603</a>, Sage Weil)</li>
<li>osd: fix duplicated id of incompat feature &#8220;fastinfo&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/11588">pr#11588</a>, xie xingguo)</li>
<li>osd: fix ec scrub errors (<a class="reference external" href="http://tracker.ceph.com/issues/17999">issue#17999</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12306">pr#12306</a>, Samuel Just)</li>
<li>osd: fixes to make rbd on ec work (<a class="reference external" href="http://github.com/ceph/ceph/pull/12305">pr#12305</a>, Samuel Just)</li>
<li>osd: Fix map gaps again (bug 15943) (<a class="reference external" href="http://tracker.ceph.com/issues/15943">issue#15943</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12571">pr#12571</a>, Samuel Just)</li>
<li>osd: fix memory leak from EC write workload (<a class="reference external" href="http://tracker.ceph.com/issues/18093">issue#18093</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12256">pr#12256</a>, Sage Weil)</li>
<li>osd: fix rados write op hang (<a class="reference external" href="http://github.com/ceph/ceph/pull/11143">pr#11143</a>, Yunchuan Wen)</li>
<li>osd: Fix read error propogation in ECBackend (<a class="reference external" href="http://tracker.ceph.com/issues/17966">issue#17966</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12142">pr#12142</a>, Samuel Just)</li>
<li>osd: fix scrub boundary to not include a SnapSet (<a class="reference external" href="http://github.com/ceph/ceph/pull/11255">pr#11255</a>, Samuel Just)</li>
<li>osd: fix signed/unsigned comparison warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/12400">pr#12400</a>, Greg Farnum)</li>
<li>osd: fix typo in PG::clear_primary_state (<a class="reference external" href="http://github.com/ceph/ceph/pull/11513">pr#11513</a>, Brad Hubbard)</li>
<li>osd: Fix typos in PG::find_best_info (<a class="reference external" href="http://github.com/ceph/ceph/pull/11515">pr#11515</a>, Brad Hubbard)</li>
<li>osd: fix typos in &#8220;struct OSDOp&#8221; comments (<a class="reference external" href="http://github.com/ceph/ceph/pull/12350">pr#12350</a>, Chanyoung Park)</li>
<li>osd: Flush Journal on shutdown (<a class="reference external" href="http://github.com/ceph/ceph/pull/11249">pr#11249</a>, Wido den Hollander)</li>
<li>osd: force watch PING to be write ordered (<a class="reference external" href="http://tracker.ceph.com/issues/18310">issue#18310</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12590">pr#12590</a>, Samuel Just)</li>
<li>osd: handle EC recovery read errors (<a class="reference external" href="http://tracker.ceph.com/issues/13937">issue#13937</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9304">pr#9304</a>, David Zafman)</li>
<li>osd: heartbeat peers need to be updated when a new OSD added into an existed cluster (<a class="reference external" href="http://tracker.ceph.com/issues/18004">issue#18004</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12069">pr#12069</a>, Pan Liu)</li>
<li>osd: Increase priority for inactive PGs backfill (<a class="reference external" href="http://github.com/ceph/ceph/pull/12389">pr#12389</a>, Bartłomiej Święcki)</li>
<li>osd: kill PG_STATE_SPLITTING (<a class="reference external" href="http://github.com/ceph/ceph/pull/11824">pr#11824</a>, xie xingguo)</li>
<li>osd: mark queued flag for op (<a class="reference external" href="http://github.com/ceph/ceph/pull/12352">pr#12352</a>, Yunchuan Wen)</li>
<li>osd: osdc: pass a string reference type to &#8220;osdmap-&gt;lookup_pg_pool_name&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/12219">pr#12219</a>, Leo Zhang)</li>
<li>osd: osd/OSDMonitor: accept &#8216;osd pool set ...&#8217; value as string (<a class="reference external" href="http://github.com/ceph/ceph/pull/911">pr#911</a>, David Zafman)</li>
<li>osd: PGLog: initialize writeout_from in PGLog constructor (<a class="reference external" href="http://tracker.ceph.com/issues/12973">issue#12973</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/558">pr#558</a>, Sage Weil)</li>
<li>osd/PrimaryLogPG: don&#8217;t update digests for objects with mismatched names (<a class="reference external" href="http://tracker.ceph.com/issues/18409">issue#18409</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12803">pr#12803</a>, Samuel Just)</li>
<li>osd/PrimaryLogPG::failed_push: update missing as well (<a class="reference external" href="http://tracker.ceph.com/issues/18165">issue#18165</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12911">pr#12911</a>, Samuel Just)</li>
<li>osd: print log when osd want to kill self (<a class="reference external" href="http://github.com/ceph/ceph/pull/9288">pr#9288</a>, Haomai Wang)</li>
<li>osd: Remove extra call to reg_next_scrub() during splits (<a class="reference external" href="http://tracker.ceph.com/issues/16474">issue#16474</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11206">pr#11206</a>, David Zafman)</li>
<li>osd: remove redudant call of heartbeat_check (<a class="reference external" href="http://github.com/ceph/ceph/pull/12130">pr#12130</a>, Pan Liu)</li>
<li>osd: remove the lock heartbeat_update_lock, and change <a href="#id2656"><span class="problematic" id="id2657">heatbeat_need_</span></a>… (<a class="reference external" href="http://github.com/ceph/ceph/pull/12461">pr#12461</a>, Pan Liu)</li>
<li>osd:  remove the redundant clear method in consume_map function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10553">pr#10553</a>, song baisen)</li>
<li>osd: Remove unused &#8216;_lsb_release_&#8217; declarations (<a class="reference external" href="http://github.com/ceph/ceph/pull/11364">pr#11364</a>, Brad Hubbard)</li>
<li>osd: replace hb_out and hb_in with a single hb_peers (<a class="reference external" href="http://tracker.ceph.com/issues/18057">issue#18057</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12178">pr#12178</a>, Pan Liu)</li>
<li>osd: ReplicatedPG: don&#8217;t bless C_OSD_SendMessageOnConn (<a class="reference external" href="http://tracker.ceph.com/issues/13304">issue#13304</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/669">pr#669</a>, Jason Dillaman)</li>
<li>osd: set server-side limits on omap get operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/12059">pr#12059</a>, Sage Weil)</li>
<li>osd: When deep-scrub errors present upgrade regular scrubs (<a class="reference external" href="http://github.com/ceph/ceph/pull/12268">pr#12268</a>, David Zafman)</li>
<li>performance,bluestore: kv/MemDB: making memdb code adapt to generic maps (<a class="reference external" href="http://github.com/ceph/ceph/pull/11436">pr#11436</a>, Ramesh Chander)</li>
<li>performance,bluestore: os/bluestore: allow default to buffered write (<a class="reference external" href="http://github.com/ceph/ceph/pull/11301">pr#11301</a>, Sage Weil)</li>
<li>performance,bluestore: os/bluestore: bluestore_cache_meta_ratio = .5 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11919">pr#11919</a>, Sage Weil)</li>
<li>performance,bluestore: os/bluestore: reduce Onode in-memory footprint (<a class="reference external" href="http://github.com/ceph/ceph/pull/12568">pr#12568</a>, Igor Fedotov)</li>
<li>performance,bluestore: os/bluestore: refactor bluestore_sync_submit_transaction (<a class="reference external" href="http://github.com/ceph/ceph/pull/11537">pr#11537</a>, Sage Weil)</li>
<li>performance,bluestore: os/bluestore: speed up omap-key generation for same onode(the read paths) (<a class="reference external" href="http://github.com/ceph/ceph/pull/11894">pr#11894</a>, xie xingguo)</li>
<li>performance,bluestore: os/bluestore: speedup the performance of multi-replication flow by switc… (<a class="reference external" href="http://github.com/ceph/ceph/pull/11844">pr#11844</a>, Pan Liu)</li>
<li>performance,cephfs: Fix long stalls when calling ceph_fsync() (<a class="reference external" href="http://tracker.ceph.com/issues/17563">issue#17563</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11710">pr#11710</a>, Jeff Layton)</li>
<li>performance,cleanup: Context: std::move the callback param in FunctionContext&#8217;s ctor (<a class="reference external" href="http://github.com/ceph/ceph/pull/11892">pr#11892</a>, Kefu Chai)</li>
<li>performance,cleanup: osd/PG.h: move shared ptr instead of copying it (<a class="reference external" href="http://github.com/ceph/ceph/pull/11154">pr#11154</a>, Michal Jarzabek)</li>
<li>performance,common: common/config_opts.h: Optimized RocksDB WAL settings. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11530">pr#11530</a>, Mark Nelson)</li>
<li>performance,common: osd/OSDMap: improve the performance of pg_to_acting_osds (<a class="reference external" href="http://github.com/ceph/ceph/pull/12190">pr#12190</a>, Pan Liu)</li>
<li>performance: msg/async: set ms_async_send_inline to false to improve small randread iops (<a class="reference external" href="http://github.com/ceph/ceph/pull/11521">pr#11521</a>, Mark Nelson)</li>
<li>performance,tools: rados: add hints to rados bench (<a class="reference external" href="http://github.com/ceph/ceph/pull/12169">pr#12169</a>, Sage Weil)</li>
<li>pybind: avoid &#8220;exception &#8216;int&#8217; object is not iterable&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/11532">pr#11532</a>, Javeme)</li>
<li>pybind,cephfs: ceph_volume_client: fix recovery from partial auth update (<a class="reference external" href="http://tracker.ceph.com/issues/17216">issue#17216</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11304">pr#11304</a>, Ramana Raja)</li>
<li>pybind,cephfs: ceph_volume_client: set an existing auth ID&#8217;s default mon caps  (<a class="reference external" href="http://tracker.ceph.com/issues/17800">issue#17800</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11917">pr#11917</a>, Ramana Raja)</li>
<li>pybind: ceph-rest-api: understand the new style entity_addr_t representation (<a class="reference external" href="http://tracker.ceph.com/issues/17742">issue#17742</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11686">pr#11686</a>, Kefu Chai)</li>
<li>pybind: clean up mgr stuff for flake8 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11314">pr#11314</a>, John Spray)</li>
<li>pybind: fix build failure of rgwfile binding (<a class="reference external" href="http://github.com/ceph/ceph/pull/11825">pr#11825</a>, Kefu Chai)</li>
<li>pybind: pybind/rados: add missing &#8220;length&#8221; requires for aio_execute() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12439">pr#12439</a>, Kefu Chai)</li>
<li>pybind: pybind/rados: Add &#64;requires for all aio methods (<a class="reference external" href="http://github.com/ceph/ceph/pull/12327">pr#12327</a>, Iain Buclaw)</li>
<li>qa: fixed distros links (<a class="reference external" href="http://github.com/ceph/ceph/pull/12773">pr#12773</a>, Yuri Weinstein)</li>
<li>qa: Fixed link to centos distro (<a class="reference external" href="http://github.com/ceph/ceph/pull/12768">pr#12768</a>, Yuri Weinstein)</li>
<li>qa/suites: switch from centos 7.2 to 7.x (<a class="reference external" href="http://github.com/ceph/ceph/pull/12632">pr#12632</a>, Sage Weil)</li>
<li>qa/tasks/peer: update task based on current peering behavior (<a class="reference external" href="http://tracker.ceph.com/issues/18330">issue#18330</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12614">pr#12614</a>, Sage Weil)</li>
<li>qa/tasks/workunit: clear clone dir before retrying checkout (<a class="reference external" href="http://tracker.ceph.com/issues/18336">issue#18336</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12630">pr#12630</a>, Sage Weil)</li>
<li>qa: update Ubuntu image url after ceph.com refactor (<a class="reference external" href="http://tracker.ceph.com/issues/18542">issue#18542</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12960">pr#12960</a>, Jason Dillaman)</li>
<li>qa/workunits/rbd/test_lock_fence.sh fails (<a class="reference external" href="http://tracker.ceph.com/issues/18388">issue#18388</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12752">pr#12752</a>, Nathan Cutler)</li>
<li>rbd: added rbd-nbd fsx test case (<a class="reference external" href="http://github.com/ceph/ceph/pull/1049">pr#1049</a>, Jason Dillaman)</li>
<li>rbd: add fsx journal replay test case (<a class="reference external" href="http://github.com/ceph/ceph/pull/821">pr#821</a>, Jason Dillaman)</li>
<li>rbd: add singleton to assert no rbdmap regression (<a class="reference external" href="http://tracker.ceph.com/issues/14984">issue#14984</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/902">pr#902</a>, Nathan Cutler)</li>
<li>rbd: add some missing workunits (<a class="reference external" href="http://github.com/ceph/ceph/pull/870">pr#870</a>, Josh Durgin)</li>
<li>rbd: add support for separate image data pool (<a class="reference external" href="http://tracker.ceph.com/issues/17424">issue#17424</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11355">pr#11355</a>, Jason Dillaman)</li>
<li>rbd: expose rbd unmap options (<a class="reference external" href="http://tracker.ceph.com/issues/17554">issue#17554</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11370">pr#11370</a>, Ilya Dryomov)</li>
<li>rbd: fix json formatting for image and journal status output (<a class="reference external" href="http://tracker.ceph.com/issues/18261">issue#18261</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12525">pr#12525</a>, Mykola Golub)</li>
<li>rbd: fix parsing of group and image specific pools (<a class="reference external" href="http://github.com/ceph/ceph/pull/11632">pr#11632</a>, Victor Denisov)</li>
<li>rbd: journal: do not prematurely flag object recorder as closed (<a class="reference external" href="http://tracker.ceph.com/issues/17590">issue#17590</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11520">pr#11520</a>, Jason Dillaman)</li>
<li>rbd: krbd: kernel client expects ip[:port], not an entity_addr_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/11902">pr#11902</a>, Ilya Dryomov)</li>
<li>rbd: &#8211;max_part and &#8211;nbds_max options for nbd map (<a class="reference external" href="http://tracker.ceph.com/issues/18186">issue#18186</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12379">pr#12379</a>, Pan Liu)</li>
<li>rbd: move nbd test workload to separate client host from OSDs (<a class="reference external" href="http://github.com/ceph/ceph/pull/1170">pr#1170</a>, Jason Dillaman)</li>
<li>rbd: provision volumes to format as XFS (<a class="reference external" href="http://tracker.ceph.com/issues/6693">issue#6693</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/1028">pr#1028</a>, Loic Dachary)</li>
<li>rbd: rbd-mirror: fix sparse read optimization in image sync (<a class="reference external" href="http://tracker.ceph.com/issues/18146">issue#18146</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12368">pr#12368</a>, Mykola Golub)</li>
<li>rbd: rbd-mirror HA: move librbd::image_watcher::Notifier to librbd::object_watcher (<a class="reference external" href="http://tracker.ceph.com/issues/17017">issue#17017</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11290">pr#11290</a>, Mykola Golub)</li>
<li>rbd: rbd-mirror: recovering after split-brain (<a class="reference external" href="http://tracker.ceph.com/issues/16991">issue#16991</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18051">issue#18051</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12212">pr#12212</a>, Mykola Golub)</li>
<li>rbd: rbd-mirror: snap protect of non-layered image results in split-brain (<a class="reference external" href="http://tracker.ceph.com/issues/16962">issue#16962</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11744">pr#11744</a>, Mykola Golub)</li>
<li>rbd: rbd-nbd: disallow mapping images &gt;2TB in size (<a class="reference external" href="http://tracker.ceph.com/issues/17219">issue#17219</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11741">pr#11741</a>, Mykola Golub)</li>
<li>rbd: rbd-nbd: invalid error code for &#8220;failed to read nbd request&#8221; messages (<a class="reference external" href="http://tracker.ceph.com/issues/18242">issue#18242</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12483">pr#12483</a>, Mykola Golub)</li>
<li>rbd: rbd-nbd: restart parent process logger after forking (<a class="reference external" href="http://tracker.ceph.com/issues/18070">issue#18070</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12222">pr#12222</a>, Jason Dillaman)</li>
<li>rbd: rbd-nbd: support disabling auto-exclusive lock transition logic (<a class="reference external" href="http://tracker.ceph.com/issues/17488">issue#17488</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11438">pr#11438</a>, Mykola Golub)</li>
<li>rbd: rbd-nbd: support partition for rbd-nbd mapped raw block device (<a class="reference external" href="http://tracker.ceph.com/issues/18115">issue#18115</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12259">pr#12259</a>, Pan Liu)</li>
<li>rbd: tests with rbd_skip_partial_discard option enabled (<a class="reference external" href="http://github.com/ceph/ceph/pull/1077">pr#1077</a>, Mykola Golub)</li>
<li>rbd,tools: rbd : make option &#8211;stripe-unit w/ B/K/M work (<a class="reference external" href="http://github.com/ceph/ceph/pull/12407">pr#12407</a>, Jianpeng Ma)</li>
<li>rbd: updated tests to use new rbd default feature set (<a class="reference external" href="http://github.com/ceph/ceph/pull/842">pr#842</a>, Jason Dillaman)</li>
<li>rbd: use snap_remove implementation from internal (<a class="reference external" href="http://github.com/ceph/ceph/pull/12035">pr#12035</a>, Victor Denisov)</li>
<li>rgw: add default zone name (<a class="reference external" href="http://tracker.ceph.com/issues/7009">issue#7009</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/954">pr#954</a>, Orit Wasserman)</li>
<li>rgw: add documentation for upgrading with rgw_region_root_pool (<a class="reference external" href="http://github.com/ceph/ceph/pull/12138">pr#12138</a>, Orit Wasserman)</li>
<li>rgw: add option to log custom HTTP headers (rgw_log_http_headers) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7639">pr#7639</a>, Matt Benjamin)</li>
<li>rgw: add recovery procedure for upgrade to older version of jewel (<a class="reference external" href="http://tracker.ceph.com/issues/17820">issue#17820</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11827">pr#11827</a>, Orit Wasserman)</li>
<li>rgw: add rgw_compression_type=random for teuthology testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/11901">pr#11901</a>, Casey Bodley)</li>
<li>rgw: add sleep to let the sync agent init (<a class="reference external" href="http://github.com/ceph/ceph/pull/1136">pr#1136</a>, Orit Wasserman)</li>
<li>rgw: add suport for creating S3 type subuser of admin rest api (<a class="reference external" href="http://tracker.ceph.com/issues/16682">issue#16682</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10325">pr#10325</a>, snakeAngel2015)</li>
<li>rgw: add support for the prefix parameter in account listing of Swift API (<a class="reference external" href="http://tracker.ceph.com/issues/17931">issue#17931</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12047">pr#12047</a>, Radoslaw Zarzynski)</li>
<li>rgw: allow fastcgi idle timeout to be adjusted (<a class="reference external" href="http://github.com/ceph/ceph/pull/230">pr#230</a>, Sage Weil)</li>
<li>rgw: also approve, passed teuthology (many false positives in several classes) (<a class="reference external" href="http://tracker.ceph.com/issues/17985">issue#17985</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12224">pr#12224</a>, Yehuda Sadeh, Sage Weil)</li>
<li>rgw: Anonymous users shouldn&#8217;t be able to access requester pays buckets. (<a class="reference external" href="http://tracker.ceph.com/issues/17175">issue#17175</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11719">pr#11719</a>, Zhang Shaowen)</li>
<li>rgw: aws4: add presigned url bugfix in runtime (<a class="reference external" href="http://tracker.ceph.com/issues/16463">issue#16463</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10160">pr#10160</a>, Javier M. Mellid)</li>
<li>rgw: bucket resharding (<a class="reference external" href="http://tracker.ceph.com/issues/17550">issue#17550</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11230">pr#11230</a>, Yehuda Sadeh)</li>
<li>rgw:bugfix for deleting objects name beginning and ending with underscores of one bucket using POST method of AWS&#8217;s js sdk. (<a class="reference external" href="http://tracker.ceph.com/issues/17888">issue#17888</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11982">pr#11982</a>, root)</li>
<li>rgw: Class member cookie is not initialized correctly in some coroutine&#8217;s constructor. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11673">pr#11673</a>, Zhang Shaowen)</li>
<li>rgw: clean up RGWShardedOmapCRManager on early return (<a class="reference external" href="http://tracker.ceph.com/issues/17571">issue#17571</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11505">pr#11505</a>, Casey Bodley)</li>
<li>rgw: clear data_sync_cr if RGWDataSyncControlCR fails (<a class="reference external" href="http://tracker.ceph.com/issues/17569">issue#17569</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11506">pr#11506</a>, Casey Bodley)</li>
<li>rgw: compilation of the ASIO front-end is enabled by default. (<a class="reference external" href="http://github.com/ceph/ceph/pull/12073">pr#12073</a>, Radoslaw Zarzynski)</li>
<li>rgw: compression uses optional::emplace instead of in-place factories (<a class="reference external" href="http://github.com/ceph/ceph/pull/12021">pr#12021</a>, Radoslaw Zarzynski)</li>
<li>rgw: conform to the standard usage of string::find (<a class="reference external" href="http://github.com/ceph/ceph/pull/10086">pr#10086</a>, Yan Jun)</li>
<li>rgw: data_extra_pool is unique per zone (<a class="reference external" href="http://tracker.ceph.com/issues/17025">issue#17025</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/1119">pr#1119</a>, Orit Wasserman)</li>
<li>rgw: delete entries_index in RGWFetchAllMetaCR (<a class="reference external" href="http://tracker.ceph.com/issues/17812">issue#17812</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11816">pr#11816</a>, Casey Bodley)</li>
<li>rgw: do not abort when accept a CORS request with short origin (<a class="reference external" href="http://github.com/ceph/ceph/pull/12381">pr#12381</a>, LiuYang)</li>
<li>rgw: do not enable both tcp and uds for fastcgi (<a class="reference external" href="http://tracker.ceph.com/issues/5797">issue#5797</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/479">pr#479</a>, Andrew Schoen)</li>
<li>rgw: don&#8217;t error out on empty owner when setting acls (<a class="reference external" href="http://tracker.ceph.com/issues/6892">issue#6892</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/877">pr#877</a>, Loic Dachary, Nathan Cutler)</li>
<li>rgw: Don&#8217;t loop forever when reading data from 0 sized segment. (<a class="reference external" href="http://tracker.ceph.com/issues/17692">issue#17692</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11567">pr#11567</a>, Marcus Watts)</li>
<li>rgw: dont set CURLOPT_UPLOAD for GET requests (<a class="reference external" href="http://tracker.ceph.com/issues/17822">issue#17822</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12105">pr#12105</a>, Casey Bodley)</li>
<li>rgw: don&#8217;t store empty chains in gc (<a class="reference external" href="http://tracker.ceph.com/issues/17897">issue#17897</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11969">pr#11969</a>, Yehuda Sadeh)</li>
<li>rgw: do quota tests on ubuntu (<a class="reference external" href="http://tracker.ceph.com/issues/6382">issue#6382</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/635">pr#635</a>, Sage Weil)</li>
<li>rgw: dump objects in RGWBucket::check_object_index() (<a class="reference external" href="http://tracker.ceph.com/issues/14589">issue#14589</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11324">pr#11324</a>, Yehuda Sadeh)</li>
<li>rgw: dump remaining coroutines when cr deadlock is detected (<a class="reference external" href="http://github.com/ceph/ceph/pull/11580">pr#11580</a>, Casey Bodley)</li>
<li>rgw: extract host name from host:port string (<a class="reference external" href="http://tracker.ceph.com/issues/17788">issue#17788</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11751">pr#11751</a>, Yehuda Sadeh)</li>
<li>rgw: Fixed problem with PUT with x-amz-copy-source when source object is compressed. (<a class="reference external" href="http://github.com/ceph/ceph/pull/12253">pr#12253</a>, Adam Kupczyk)</li>
<li>rgw: fixes for virtual hosting of buckets (<a class="reference external" href="http://tracker.ceph.com/issues/17440">issue#17440</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15975">issue#15975</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17136">issue#17136</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11280">pr#11280</a>, Casey Bodley, Robin H. Johnson)</li>
<li>rgw: fix etag in multipart complete (<a class="reference external" href="http://tracker.ceph.com/issues/17794">issue#17794</a>, <a class="reference external" href="http://tracker.ceph.com/issues/6830">issue#6830</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16129">issue#16129</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17872">issue#17872</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/1269">pr#1269</a>, Casey Bodley, Orit Wasserman)</li>
<li>rgw: fix for bucket delete racing with mdlog sync (<a class="reference external" href="http://tracker.ceph.com/issues/17698">issue#17698</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11648">pr#11648</a>, Casey Bodley)</li>
<li>rgw: fix for passing temporary in InitBucketSyncStatus (<a class="reference external" href="http://tracker.ceph.com/issues/17661">issue#17661</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11594">pr#11594</a>, Casey Bodley)</li>
<li>rgw: fix for unsafe change of rgw_zonegroup (<a class="reference external" href="http://tracker.ceph.com/issues/17962">issue#17962</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12075">pr#12075</a>, Casey Bodley)</li>
<li>rgw: fix indentation for cache_pools (<a class="reference external" href="http://tracker.ceph.com/issues/8295">issue#8295</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/251">pr#251</a>, Sage Weil)</li>
<li>rgw: fix missing master zone for a single zone zonegroup (<a class="reference external" href="http://tracker.ceph.com/issues/17364">issue#17364</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11965">pr#11965</a>, Orit Wasserman)</li>
<li>rgw: fix osd crashes when execute &#8220;radosgw-admin bi list &#8211;max-entries=1&#8221; command (<a class="reference external" href="http://tracker.ceph.com/issues/17745">issue#17745</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11697">pr#11697</a>, weiqiaomiao)</li>
<li>rgw: fix put_acls for objects starting and ending with underscore (<a class="reference external" href="http://tracker.ceph.com/issues/17625">issue#17625</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11566">pr#11566</a>, Orit Wasserman)</li>
<li>rgw: fix RGWSimpleRadosLockCR set_description() (<a class="reference external" href="http://github.com/ceph/ceph/pull/11961">pr#11961</a>, Tianshan Qu)</li>
<li>rgw: fix the field &#8216;total_time&#8217;  of log entry in log show opt (<a class="reference external" href="http://tracker.ceph.com/issues/17598">issue#17598</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11425">pr#11425</a>, weiqiaomiao)</li>
<li>rgw: fix uncompressed object size deduction in RGWRados::copy_obj_data. (<a class="reference external" href="http://tracker.ceph.com/issues/17803">issue#17803</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11794">pr#11794</a>, Radoslaw Zarzynski)</li>
<li>rgw: frontend subsystem rework (<a class="reference external" href="http://github.com/ceph/ceph/pull/10767">pr#10767</a>, Radoslaw Zarzynski, Casey Bodley, Matt Benjamin)</li>
<li>rgw: ftw (<a class="reference external" href="http://tracker.ceph.com/issues/17888">issue#17888</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12262">pr#12262</a>, Casey Bodley)</li>
<li>rgw: get_system_obj does not use result of get_system_obj_state (<a class="reference external" href="http://tracker.ceph.com/issues/17580">issue#17580</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11444">pr#11444</a>, Casey Bodley)</li>
<li>rgw: get_zonegroup() uses &#8220;default&#8221; zonegroup if empty (<a class="reference external" href="http://tracker.ceph.com/issues/17372">issue#17372</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11207">pr#11207</a>, Yehuda Sadeh)</li>
<li>rgw: handle empty POST condition (<a class="reference external" href="http://tracker.ceph.com/issues/17635">issue#17635</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11581">pr#11581</a>, Yehuda Sadeh)</li>
<li>rgw: handle Swift auth errors in a way compatible with new Tempests. (<a class="reference external" href="http://tracker.ceph.com/issues/16590">issue#16590</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10021">pr#10021</a>, Radoslaw Zarzynski)</li>
<li>rgw: json encode/decode index_type, allow modification (<a class="reference external" href="http://tracker.ceph.com/issues/17755">issue#17755</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11707">pr#11707</a>, Yehuda Sadeh)</li>
<li>rgw: loses realm/period/zonegroup/zone data: period overwritten if somewhere in the cluster is still running Hammer (<a class="reference external" href="http://tracker.ceph.com/issues/17371">issue#17371</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11426">pr#11426</a>, Orit Wasserman)</li>
<li>rgw: make RGWLocalAuthApplier::is_admin_of() aware about system users. (<a class="reference external" href="http://tracker.ceph.com/issues/18106">issue#18106</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12283">pr#12283</a>, Radoslaw Zarzynski)</li>
<li>rgw: metadata sync info should be shown at master zone of slave zoneg… (<a class="reference external" href="http://tracker.ceph.com/issues/18091">issue#18091</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12187">pr#12187</a>, Jing Wenjun)</li>
<li>rgw: minor cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/10057">pr#10057</a>, Yan Jun)</li>
<li>rgw: move compression config into zone placement (<a class="reference external" href="http://github.com/ceph/ceph/pull/12113">pr#12113</a>, Casey Bodley)</li>
<li>rgw: move xfs to a seperate directory (<a class="reference external" href="http://github.com/ceph/ceph/pull/969">pr#969</a>, Orit Wasserman)</li>
<li>rgw: multipart upload copy (<a class="reference external" href="http://tracker.ceph.com/issues/12790">issue#12790</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11269">pr#11269</a>, Yehuda Sadeh, Javier M. Mellid)</li>
<li>rgw: need to close_section in lc list op (<a class="reference external" href="http://github.com/ceph/ceph/pull/12232">pr#12232</a>, weiqiaomiao)</li>
<li>rgw: policy acl format should be xml (<a class="reference external" href="http://github.com/ceph/ceph/pull/946">pr#946</a>, Orit Wasserman)</li>
<li>rgw: radosgw-admin: more on placement configuration (<a class="reference external" href="http://tracker.ceph.com/issues/18078">issue#18078</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12242">pr#12242</a>, Casey Bodley)</li>
<li>rgw: region conversion respects pre-existing rgw_region_root_pool (<a class="reference external" href="http://tracker.ceph.com/issues/17963">issue#17963</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12076">pr#12076</a>, Casey Bodley)</li>
<li>rgw: remove a redundant judgement when listng objects. (<a class="reference external" href="http://github.com/ceph/ceph/pull/10849">pr#10849</a>, zhangshaowen)</li>
<li>rgw: remove circular reference in RGWAsyncRadosRequest (<a class="reference external" href="http://tracker.ceph.com/issues/17793">issue#17793</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17792">issue#17792</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11815">pr#11815</a>, Casey Bodley)</li>
<li>rgw: remove suggestion to upgrade libcurl (<a class="reference external" href="http://github.com/ceph/ceph/pull/11630">pr#11630</a>, Casey Bodley)</li>
<li>rgw: remove unused variable &#8220;ostr&#8221; in rgw_b64.h and fix the comment (<a class="reference external" href="http://github.com/ceph/ceph/pull/11329">pr#11329</a>, Weibing Zhang)</li>
<li>rgw: Replacing &#8216;+&#8217; with &#8220;%20&#8221; in canonical uri for s3 v4 auth. (<a class="reference external" href="http://tracker.ceph.com/issues/17076">issue#17076</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10919">pr#10919</a>, Pritha Srivastava)</li>
<li>rgw: revert unintentional change to civetweb (<a class="reference external" href="http://github.com/ceph/ceph/pull/12004">pr#12004</a>, Bassam Tabbara)</li>
<li>rgw: rgw-admin: new commands to control placement (<a class="reference external" href="http://tracker.ceph.com/issues/18078">issue#18078</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12230">pr#12230</a>, Yehuda Sadeh)</li>
<li>rgw: RGWBucketSyncStatusManager uses existing async_rados (<a class="reference external" href="http://tracker.ceph.com/issues/18083">issue#18083</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12229">pr#12229</a>, Casey Bodley)</li>
<li>rgw: rgw_file:  apply missed base64 try-catch (<a class="reference external" href="http://tracker.ceph.com/issues/17663">issue#17663</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11671">pr#11671</a>, Matt Benjamin)</li>
<li>rgw: RGWHTTPArgs::get_str() - return argument string that was set. (<a class="reference external" href="http://github.com/ceph/ceph/pull/10672">pr#10672</a>, Marcus Watts)</li>
<li>rgw: rgw multisite: fix the increamtal bucket sync init (<a class="reference external" href="http://tracker.ceph.com/issues/17624">issue#17624</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11553">pr#11553</a>, Zengran Zhang)</li>
<li>rgw: rgw multisite: use a rados lock to coordinate data log trimming (<a class="reference external" href="http://github.com/ceph/ceph/pull/10546">pr#10546</a>, Casey Bodley)</li>
<li>rgw: RGW Python bindings - use explicit array (<a class="reference external" href="http://github.com/ceph/ceph/pull/11831">pr#11831</a>, Daniel Gryniewicz)</li>
<li>rgw: rgw_rados.cc fix shard_num format for snprintf (<a class="reference external" href="http://github.com/ceph/ceph/pull/11493">pr#11493</a>, Weibing Zhang)</li>
<li>rgw: rgw/rgw_file.cc: Add compat.h to allow CLOCK_MONOTONE (<a class="reference external" href="http://github.com/ceph/ceph/pull/12309">pr#12309</a>, Willem Jan Withagen)</li>
<li>rgw: RGWSimpleRadosReadCR tolerates empty reads (<a class="reference external" href="http://tracker.ceph.com/issues/17568">issue#17568</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11504">pr#11504</a>, Casey Bodley)</li>
<li>rgw: [RGW] Wip rgw compression (<a class="reference external" href="http://github.com/ceph/ceph/pull/11494">pr#11494</a>, Alyona Kiseleva, Adam Kupczyk, Casey Bodley)</li>
<li>rgw: set duration for lifecycle lease (<a class="reference external" href="http://tracker.ceph.com/issues/17965">issue#17965</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12231">pr#12231</a>, Yehuda Sadeh)</li>
<li>rgw: should assign &#8216;olh_bl&#8221; to state.attrset[RGW_ATTR_OLH_ID_TAG] instead of &#8216;bl&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/10239">pr#10239</a>, weiqiaomiao)</li>
<li>rgw: skip empty http args in method parse() to avoid extra effort (<a class="reference external" href="http://github.com/ceph/ceph/pull/11989">pr#11989</a>, Guo Zhandong)</li>
<li>rgw: split osd&#8217;s in 2 nodes (<a class="reference external" href="http://tracker.ceph.com/issues/15612">issue#15612</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/1019">pr#1019</a>, Vasu Kulkarni)</li>
<li>rgw: support for x-robots-tag header (<a class="reference external" href="http://tracker.ceph.com/issues/17790">issue#17790</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11753">pr#11753</a>, Yehuda Sadeh)</li>
<li>rgw: sync modules, metadata search (<a class="reference external" href="http://github.com/ceph/ceph/pull/10731">pr#10731</a>, Yehuda Sadeh)</li>
<li>rgw: Update version of civetweb to 1.8 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11343">pr#11343</a>, Marcus Watts)</li>
<li>rgw: use civetweb if no frontend was configured (<a class="reference external" href="http://github.com/ceph/ceph/pull/958">pr#958</a>, Orit Wasserman)</li>
<li>rgw: use explicit flag to cancel RGWCoroutinesManager::run() (<a class="reference external" href="http://tracker.ceph.com/issues/17465">issue#17465</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12452">pr#12452</a>, Casey Bodley)</li>
<li>rgw: valgrind fixes for kraken (<a class="reference external" href="http://tracker.ceph.com/issues/18414">issue#18414</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18407">issue#18407</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18412">issue#18412</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18300">issue#18300</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12949">pr#12949</a>, Casey Bodley)</li>
<li>rgw: verified that failed check is in osd-scrub-repair.sh (<a class="reference external" href="http://tracker.ceph.com/issues/17850">issue#17850</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11881">pr#11881</a>, Matt Benjamin)</li>
<li>rgw: we don&#8217;t support btrfs any more (<a class="reference external" href="http://github.com/ceph/ceph/pull/1132">pr#1132</a>, Orit Wasserman)</li>
<li>rgw: Wip rgwfile pybind (<a class="reference external" href="http://github.com/ceph/ceph/pull/11624">pr#11624</a>, Haomai Wang)</li>
<li>tests,bluestore: os/bluestore: add UT for an estimation of Onode in-memory size (<a class="reference external" href="http://github.com/ceph/ceph/pull/12532">pr#12532</a>, Igor Fedotov)</li>
<li>tests,bluestore: os/test/store_test: fix legacy bluestore cache settings application (<a class="reference external" href="http://github.com/ceph/ceph/pull/11915">pr#11915</a>, Igor Fedotov)</li>
<li>tests: ceph-disk: force debug monc = 0 (<a class="reference external" href="http://tracker.ceph.com/issues/17607">issue#17607</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11534">pr#11534</a>, Loic Dachary)</li>
<li>tests: ceph_objectstore_tool.py: Don&#8217;t use btrfs on FreeBSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/10507">pr#10507</a>, Willem Jan Withagen)</li>
<li>tests: ceph_test_objectstore: fix Rename test (<a class="reference external" href="http://github.com/ceph/ceph/pull/12261">pr#12261</a>, Sage Weil)</li>
<li>tests: check hostname &#8211;fqdn sanity before running make check (<a class="reference external" href="http://tracker.ceph.com/issues/18134">issue#18134</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12297">pr#12297</a>, Nathan Cutler)</li>
<li>tests,cleanup,rbd: test/librbd: in test_notify set object-map and fast-diff features by default (<a class="reference external" href="http://github.com/ceph/ceph/pull/11821">pr#11821</a>, Mykola Golub)</li>
<li>tests,cleanup: test_bloom_filter.cc: Fix a mismatch for the random_seed parameter (<a class="reference external" href="http://github.com/ceph/ceph/pull/11774">pr#11774</a>, Willem Jan Withagen)</li>
<li>tests,cleanup: test/osd/osd-fast-mark-down.sh: remove unnecessary teardown() calls (<a class="reference external" href="http://github.com/ceph/ceph/pull/12101">pr#12101</a>, Kefu Chai)</li>
<li>tests,cleanup: test/osd-scrub-repair.sh: use repair() instead of &#8220;ceph pg repair&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/12036">pr#12036</a>, Kefu Chai)</li>
<li>tests,cleanup: test/rados: remove unused bufferlist variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/10221">pr#10221</a>, Yan Jun)</li>
<li>tests,common: test: add perf-reset test in test/perf_counters.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/8948">pr#8948</a>, wangsongbo)</li>
<li>tests: disable failing tests (<a class="reference external" href="http://tracker.ceph.com/issues/17561">issue#17561</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17757">issue#17757</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11714">pr#11714</a>, Loic Dachary)</li>
<li>tests: disable the echo when running get_timeout_delays() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12180">pr#12180</a>, Kefu Chai)</li>
<li>tests: do not use memstore.test_temp_dir in two tests (<a class="reference external" href="http://tracker.ceph.com/issues/17743">issue#17743</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12281">pr#12281</a>, Loic Dachary)</li>
<li>tests: erasure-code: add k=2, m=2 for isa &amp; jerasure (<a class="reference external" href="http://tracker.ceph.com/issues/18188">issue#18188</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12383">pr#12383</a>, Loic Dachary)</li>
<li>tests: facilitate background process debug in ceph-helpers.sh (<a class="reference external" href="http://tracker.ceph.com/issues/17830">issue#17830</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12183">pr#12183</a>, Loic Dachary)</li>
<li>tests: fix ceph-helpers.sh wait_for_clean delays (<a class="reference external" href="http://tracker.ceph.com/issues/17830">issue#17830</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12095">pr#12095</a>, Loic Dachary)</li>
<li>tests: fix osd-scrub-repair.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/12072">pr#12072</a>, David Zafman)</li>
<li>tests: Fix racey test by setting noout flag (tracker 17757) (<a class="reference external" href="http://tracker.ceph.com/issues/17757">issue#17757</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11715">pr#11715</a>, David Zafman)</li>
<li>tests: merge ceph-qa-suite</li>
<li>tests: Minor clean-ups (<a class="reference external" href="http://github.com/ceph/ceph/pull/12048">pr#12048</a>, David Zafman)</li>
<li>tests: minor make check cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/12146">pr#12146</a>, David Zafman)</li>
<li>tests: no python3 tests for ceph-disk (<a class="reference external" href="http://tracker.ceph.com/issues/17923">issue#17923</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12025">pr#12025</a>, Loic Dachary)</li>
<li>tests: osd-crush.sh must retry crush dump (<a class="reference external" href="http://tracker.ceph.com/issues/17919">issue#17919</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12016">pr#12016</a>, Loic Dachary)</li>
<li>tests: osd-scrub-repair.sh abort if add_something fails (<a class="reference external" href="http://github.com/ceph/ceph/pull/12172">pr#12172</a>, Loic Dachary)</li>
<li>tests: os/memstore: fix a mem leak in MemStore::Collection::create_object() (<a class="reference external" href="http://github.com/ceph/ceph/pull/12201">pr#12201</a>, Kefu Chai)</li>
<li>tests: os/memstore, os/filestore: fix store_test&#8217;s to satisfy rm_coll behavi… (<a class="reference external" href="http://github.com/ceph/ceph/pull/11558">pr#11558</a>, Igor Fedotov)</li>
<li>tests: paxos fixes (<a class="reference external" href="http://tracker.ceph.com/issues/11913">issue#11913</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/457">pr#457</a>, John Spray)</li>
<li>tests: pin flake8 to avoid behavior changes (<a class="reference external" href="http://tracker.ceph.com/issues/17898">issue#17898</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11971">pr#11971</a>, Loic Dachary)</li>
<li>tests: qa: fixed script to schedule rados and other suites with &#8211;subset option (<a class="reference external" href="http://github.com/ceph/ceph/pull/12587">pr#12587</a>, Yuri Weinstein)</li>
<li>tests: qa/tasks/admin_socket: subst in repo name (<a class="reference external" href="http://github.com/ceph/ceph/pull/12508">pr#12508</a>, Sage Weil)</li>
<li>tests: qa/tasks/ceph_deploy: use dev option instead of dev-commit (<a class="reference external" href="http://github.com/ceph/ceph/pull/12514">pr#12514</a>, Vasu Kulkarni)</li>
<li>tests: qa/tasks/osd_backfill.py: wait for osd.[12] to start (<a class="reference external" href="http://tracker.ceph.com/issues/18303">issue#18303</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12577">pr#12577</a>, Sage Weil)</li>
<li>tests: qa/workunits/cephtool/test.sh: FreeBSD has no distro. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11702">pr#11702</a>, Willem Jan Withagen)</li>
<li>tests: qa/workunits: include extension for nose tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/12572">pr#12572</a>, Sage Weil)</li>
<li>tests: qa/workunits/rados/test_envlibrados_for_rocksdb: force librados-dev install (<a class="reference external" href="http://github.com/ceph/ceph/pull/11941">pr#11941</a>, Sage Weil)</li>
<li>tests,rbd: qa/workunits/rbd: fix (<a class="reference external" href="http://tracker.ceph.com/issues/18271">issue#18271</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12511">pr#12511</a>, Sage Weil)</li>
<li>tests,rbd: qa/workunits/rbd: removed qemu-iotest case 077 (<a class="reference external" href="http://tracker.ceph.com/issues/10773">issue#10773</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12366">pr#12366</a>, Jason Dillaman)</li>
<li>tests,rbd: qa/workunits/rbd: simplify running nbd test under build env (<a class="reference external" href="http://github.com/ceph/ceph/pull/11781">pr#11781</a>, Mykola Golub)</li>
<li>tests,rbd: qa/workunits/rbd: use image id when probing for image presence (<a class="reference external" href="http://tracker.ceph.com/issues/18048">issue#18048</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12195">pr#12195</a>, Mykola Golub)</li>
<li>tests,rbd: qa/workunits/rbd: use more recent qemu-iotests that support Xenial (<a class="reference external" href="http://tracker.ceph.com/issues/18149">issue#18149</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12371">pr#12371</a>, Jason Dillaman)</li>
<li>tests,rbd: rbd-mirror: fix gmock warnings in bootstrap request unit tests (<a class="reference external" href="http://tracker.ceph.com/issues/18156">issue#18156</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12344">pr#12344</a>, Mykola Golub)</li>
<li>tests,rbd: rbd-mirror: improve resiliency of stress test case (<a class="reference external" href="http://tracker.ceph.com/issues/17416">issue#17416</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11326">pr#11326</a>, Jason Dillaman)</li>
<li>tests,rbd: test: new librbd discard after write test case (<a class="reference external" href="http://github.com/ceph/ceph/pull/11645">pr#11645</a>, Jason Dillaman)</li>
<li>tests,rbd: test: skip TestLibRBD.DiscardAfterWrite if skip partial discard enabled (<a class="reference external" href="http://tracker.ceph.com/issues/17750">issue#17750</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11703">pr#11703</a>, Jason Dillaman)</li>
<li>tests,rbd: test: TestJournalReplay test cases need to wait for event commit (<a class="reference external" href="http://tracker.ceph.com/issues/17566">issue#17566</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11480">pr#11480</a>, Jason Dillaman)</li>
<li>tests: remove TestPGLog EXPECT_DEATH tests (<a class="reference external" href="http://tracker.ceph.com/issues/18030">issue#18030</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12361">pr#12361</a>, Loic Dachary)</li>
<li>tests: save 9 characters for asok paths (<a class="reference external" href="http://tracker.ceph.com/issues/16014">issue#16014</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12066">pr#12066</a>, Loic Dachary)</li>
<li>tests: sync ceph-erasure-code-corpus for using &#8216;arch&#8217; not &#8216;uname -p&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/12024">pr#12024</a>, Kefu Chai)</li>
<li>tests: test/ceph_crypto: do not read ceph.conf in global_init() (<a class="reference external" href="http://tracker.ceph.com/issues/18128">issue#18128</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12318">pr#12318</a>, Kefu Chai)</li>
<li>tests: test: ceph-objectstore-tool: should import platform before using it (<a class="reference external" href="http://github.com/ceph/ceph/pull/12038">pr#12038</a>, Kefu Chai)</li>
<li>tests: test/ceph_test_msgr: do not use Message::middle for holding transient… (<a class="reference external" href="http://tracker.ceph.com/issues/17728">issue#17728</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11680">pr#11680</a>, Kefu Chai)</li>
<li>tests: test: disable osd-scrub-repair and test-erasure-eio (<a class="reference external" href="http://tracker.ceph.com/issues/17830">issue#17830</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12058">pr#12058</a>, Loic Dachary, Dan Mick)</li>
<li>tests: test: disable osd-scrub-repair and test-erasure-eio (<a class="reference external" href="http://github.com/ceph/ceph/pull/11979">pr#11979</a>, Dan Mick)</li>
<li>tests: test: Don&#8217;t write to a poolid that this test might not have created (<a class="reference external" href="http://github.com/ceph/ceph/pull/12378">pr#12378</a>, David Zafman)</li>
<li>tests: test: enable unittest_dns_resolve (<a class="reference external" href="http://github.com/ceph/ceph/pull/12209">pr#12209</a>, Kefu Chai)</li>
<li>tests: test/encoding/readable.sh: fix shell script warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/11527">pr#11527</a>, Willem Jan Withagen)</li>
<li>tests: TestErasureCodePluginJerasure must stop the log thread (<a class="reference external" href="http://tracker.ceph.com/issues/17561">issue#17561</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11721">pr#11721</a>, Loic Dachary)</li>
<li>tests: test: fix test-erasure-eio and osd-scrub-repair races (17830) (<a class="reference external" href="http://github.com/ceph/ceph/pull/11926">pr#11926</a>, David Zafman)</li>
<li>tests: test/osd-fast-mark-down.sh: wrong assumption on first subtest (<a class="reference external" href="http://github.com/ceph/ceph/pull/12123">pr#12123</a>, Piotr Dałek)</li>
<li>tests: test/osd/osd-fast-mark-down.sh: introduce large timeout (<a class="reference external" href="http://tracker.ceph.com/issues/17918">issue#17918</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12019">pr#12019</a>, Piotr Dałek)</li>
<li>tests: test/osd-scrub-repair.sh: Use test case specific object names to help… (<a class="reference external" href="http://github.com/ceph/ceph/pull/11449">pr#11449</a>, David Zafman)</li>
<li>tests: test/store_test: fix errors on the whole test suite run caused by the… (<a class="reference external" href="http://github.com/ceph/ceph/pull/11427">pr#11427</a>, Igor Fedotov)</li>
<li>tests: test_subman.sh: Don&#8217;t use &#8211;tmpdir (<a class="reference external" href="http://github.com/ceph/ceph/pull/11384">pr#11384</a>, Willem Jan Withagen)</li>
<li>tests: test: test-erasure-eio.sh fix recovery testing and enable it (<a class="reference external" href="http://github.com/ceph/ceph/pull/12170">pr#12170</a>, David Zafman)</li>
<li>tests: The default changed to disallow pool delete as of #11665; the tests assume it&#8217;s allowed. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11897">pr#11897</a>, Sage Weil)</li>
<li>tests: Turn off tests again due to Jenkins failures (<a class="reference external" href="http://github.com/ceph/ceph/pull/12217">pr#12217</a>, David Zafman)</li>
<li>tests: unittest_throttle avoid ASSERT_DEATH (<a class="reference external" href="http://tracker.ceph.com/issues/18036">issue#18036</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12393">pr#12393</a>, Loic Dachary)</li>
<li>tests: update rbd/singleton/all/formatted-output.yaml to support ceph-ci (<a class="reference external" href="http://tracker.ceph.com/issues/18440">issue#18440</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12823">pr#12823</a>, Nathan Cutler)</li>
<li>tests: use shorter directories for tests (<a class="reference external" href="http://tracker.ceph.com/issues/16014">issue#16014</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12046">pr#12046</a>, Loic Dachary)</li>
<li>tests: vstart.sh: fix bashism in the script (<a class="reference external" href="http://github.com/ceph/ceph/pull/11889">pr#11889</a>, Mykola Golub)</li>
<li>tests: workunits/ceph-helpers.sh: FreeBSD returns a different errorstring. (<a class="reference external" href="http://github.com/ceph/ceph/pull/12005">pr#12005</a>, Willem Jan Withagen)</li>
<li>tools: Adding ceph-lazy tool (<a class="reference external" href="http://github.com/ceph/ceph/pull/11055">pr#11055</a>, gcharot)</li>
<li>tools: ceph-create-keys should not try forever to do things (<a class="reference external" href="http://tracker.ceph.com/issues/17753">issue#17753</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12649">issue#12649</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16255">issue#16255</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11749">pr#11749</a>, Alfredo Deza)</li>
<li>tools: ceph_detect_init: add support for Alpine (<a class="reference external" href="http://github.com/ceph/ceph/pull/8316">pr#8316</a>, John Coyle)</li>
<li>tools: ceph-disk: fix flake8 errors (<a class="reference external" href="http://tracker.ceph.com/issues/17898">issue#17898</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11973">pr#11973</a>, Ken Dreyer)</li>
<li>tools: ceph-disk: prevent unnecessary tracebacks from subprocess.check_call (<a class="reference external" href="http://tracker.ceph.com/issues/16125">issue#16125</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12414">pr#12414</a>, Alfredo Deza)</li>
<li>tools: ceph-post-file: single command to upload a file to cephdrop (<a class="reference external" href="http://github.com/ceph/ceph/pull/505">pr#505</a>, Dan Mick, Travis Rhoden)</li>
<li>tools: cleanup phase of cephfs-data-scan (<a class="reference external" href="http://github.com/ceph/ceph/pull/12337">pr#12337</a>, Vishal Kanaujia)</li>
<li>tools: osdmaptool: additional tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/1196">pr#1196</a>, Sage Weil)</li>
<li>tools: osdmaptool: fix divide by zero error (<a class="reference external" href="http://github.com/ceph/ceph/pull/12561">pr#12561</a>, Yunchuan Wen)</li>
<li>tools: rados: fix segfaults when run without &#8211;pool (<a class="reference external" href="http://tracker.ceph.com/issues/17684">issue#17684</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11633">pr#11633</a>, David Disseldorp)</li>
<li>tools: rados: optionally support reading omap key from file (<a class="reference external" href="http://tracker.ceph.com/issues/18123">issue#18123</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12286">pr#12286</a>, Jason Dillaman)</li>
<li>tools: script/run-coverity: update (<a class="reference external" href="http://github.com/ceph/ceph/pull/12162">pr#12162</a>, Sage Weil)</li>
<li>tools: script/sepia_bt.sh: a script to prepare for debugging on <a class="reference external" href="mailto:teuthology&#37;&#52;&#48;sepia">teuthology<span>&#64;</span>sepia</a> (<a class="reference external" href="http://github.com/ceph/ceph/pull/12012">pr#12012</a>, Kefu Chai)</li>
<li>tools: src/vstart.sh: Only execute btrfs if it is available (<a class="reference external" href="http://github.com/ceph/ceph/pull/11683">pr#11683</a>, Willem Jan Withagen)</li>
<li>tools: tools/ceph-monstore-update-crush.sh: FreeBSD getopt is not compatible… (<a class="reference external" href="http://github.com/ceph/ceph/pull/11525">pr#11525</a>, Willem Jan Withagen)</li>
</ul>
</div>
</div>
<div class="section" id="v11-0-2-kraken">
<h2>v11.0.2 Kraken<a class="headerlink" href="#v11-0-2-kraken" title="Permalink to this headline">¶</a></h2>
<p>This development checkpoint release includes a lot of changes and improvements
to Kraken. This is the first release introducing ceph-mgr, a new daemon which
provides additional monitoring &amp; interfaces to external monitoring/management
systems. There are also many improvements to bluestore, RGW introduces sync
modules, copy part for multipart uploads and metadata search via elastic search
as a tech preview.</p>
<div class="section" id="id55">
<h3>Notable Changes<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bluestore: os/bluestore: misc fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10953">pr#10953</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/BlueFS: do not op_file_update deleted files (<a class="reference external" href="http://github.com/ceph/ceph/pull/10686">pr#10686</a>, Sage Weil)</li>
<li>bluestore: bluestore/BitAllocator: Fix deadlock with musl libc (<a class="reference external" href="http://github.com/ceph/ceph/pull/10634">pr#10634</a>, John Coyle)</li>
<li>bluestore: bluestore/BlueFS: revert direct IO for WRITER_WAL (<a class="reference external" href="http://github.com/ceph/ceph/pull/11059">pr#11059</a>, Mark Nelson)</li>
<li>bluestore: ceph-disk: support creating block.db and block.wal with customized size for bluestore (<a class="reference external" href="http://github.com/ceph/ceph/pull/10135">pr#10135</a>, Zhi Zhang)</li>
<li>bluestore: compressor/zlib: switch to raw deflate (<a class="reference external" href="http://github.com/ceph/ceph/pull/11122">pr#11122</a>, Piotr Dałek)</li>
<li>bluestore: do not use freelist to track bluefs_extents (<a class="reference external" href="http://github.com/ceph/ceph/pull/10698">pr#10698</a>, Sage Weil)</li>
<li>bluestore: initialize csum_order properly (<a class="reference external" href="http://github.com/ceph/ceph/pull/10728">pr#10728</a>, xie xingguo)</li>
<li>bluestore: kv/rocksdb: dump transactions on error (<a class="reference external" href="http://github.com/ceph/ceph/pull/11042">pr#11042</a>, Somnath Roy)</li>
<li>bluestore: kv: In memory keyvalue db implementation (<a class="reference external" href="http://github.com/ceph/ceph/pull/9933">pr#9933</a>, Ramesh Chander)</li>
<li>bluestore: os/bluestore/BitAllocator: batch is_allocated bit checks (<a class="reference external" href="http://github.com/ceph/ceph/pull/10704">pr#10704</a>, Ramesh Chander)</li>
<li>bluestore: os/bluestore/BlueFS: For logs of rocksdb &amp; bluefs only use directio. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11012">pr#11012</a>, Jianpeng Ma)</li>
<li>bluestore: os/bluestore/BlueFS: async compaction (<a class="reference external" href="http://github.com/ceph/ceph/pull/10717">pr#10717</a>, Varada Kari, Sage Weil)</li>
<li>bluestore: os/bluestore/BlueFS: do not hold internal lock while waiting for IO (<a class="reference external" href="http://github.com/ceph/ceph/pull/9898">pr#9898</a>, Varada Kari, Sage Weil)</li>
<li>bluestore: os/bluestore/BlueFS: do not start racing async compaction (<a class="reference external" href="http://github.com/ceph/ceph/pull/11010">pr#11010</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/BlueFS: don&#8217;t inc l_bluefs_files_written_wal if overwrite. (<a class="reference external" href="http://github.com/ceph/ceph/pull/10143">pr#10143</a>, Jianpeng Ma)</li>
<li>bluestore: os/bluestore/BlueFS: factor unflushed log into runway calculation (<a class="reference external" href="http://github.com/ceph/ceph/pull/10966">pr#10966</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/BlueFS: fix async compaction logging bug (<a class="reference external" href="http://github.com/ceph/ceph/pull/10964">pr#10964</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/BlueFS: log dirty files at sync time (<a class="reference external" href="http://github.com/ceph/ceph/pull/11108">pr#11108</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/BlueFS: only extend extent on same bdev (<a class="reference external" href="http://github.com/ceph/ceph/pull/11023">pr#11023</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/BlueFS: prevent concurrent async compaction (<a class="reference external" href="http://github.com/ceph/ceph/pull/11095">pr#11095</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/BlueFS: release completed aios (<a class="reference external" href="http://github.com/ceph/ceph/pull/11268">pr#11268</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/BlueFS: use StupidAllocator; fix async compaction bug (<a class="reference external" href="http://github.com/ceph/ceph/pull/11087">pr#11087</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/bluefs: add file refs check (<a class="reference external" href="http://github.com/ceph/ceph/pull/10863">pr#10863</a>, xie xingguo)</li>
<li>bluestore: os/bluestore/bluefs: use map to track dirty files (<a class="reference external" href="http://github.com/ceph/ceph/pull/10923">pr#10923</a>, xie xingguo)</li>
<li>bluestore: os/bluestore/bluefs_types: fix extent operator&lt;&lt; (<a class="reference external" href="http://github.com/ceph/ceph/pull/10685">pr#10685</a>, Sage Weil)</li>
<li>bluestore: os/bluestore/bluestore_types: uint64_t for ref_map (<a class="reference external" href="http://github.com/ceph/ceph/pull/11267">pr#11267</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: Hint based allocation in bitmap Allocator (<a class="reference external" href="http://github.com/ceph/ceph/pull/10978">pr#10978</a>, Ramesh Chander)</li>
<li>bluestore: os/bluestore: Remove bit alloc Woverloaded-virtual warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/10082">pr#10082</a>, Ramesh Chander)</li>
<li>bluestore: os/bluestore: a few cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/11192">pr#11192</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: a few fixes about  the global csum setting (<a class="reference external" href="http://github.com/ceph/ceph/pull/11195">pr#11195</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: add assert to compress_extent_map (<a class="reference external" href="http://github.com/ceph/ceph/pull/11240">pr#11240</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: add cache-related stats (<a class="reference external" href="http://github.com/ceph/ceph/pull/10961">pr#10961</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: add checks and kill unreachable code (<a class="reference external" href="http://github.com/ceph/ceph/pull/11077">pr#11077</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: add error injection (<a class="reference external" href="http://github.com/ceph/ceph/pull/11151">pr#11151</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: add max blob size; fix compressed min blob size logic (<a class="reference external" href="http://github.com/ceph/ceph/pull/11239">pr#11239</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: add multiple finishers to bluestore (<a class="reference external" href="http://github.com/ceph/ceph/pull/10780">pr#10780</a>, Ilsoo Byun)</li>
<li>bluestore: os/bluestore: add perf counters for compression effectiveness and space utilization measurements (<a class="reference external" href="http://github.com/ceph/ceph/pull/10449">pr#10449</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: apply &#8220;small encoding&#8221; for onode_t::extents map (<a class="reference external" href="http://github.com/ceph/ceph/pull/10018">pr#10018</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: avoid blob_t reencode when unchanged (<a class="reference external" href="http://github.com/ceph/ceph/pull/10768">pr#10768</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: binary search specified shard (<a class="reference external" href="http://github.com/ceph/ceph/pull/11245">pr#11245</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: change algorithm of compression header from string to int (<a class="reference external" href="http://github.com/ceph/ceph/pull/10137">pr#10137</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: compaction fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/11279">pr#11279</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: drop redundant call of get_blob (<a class="reference external" href="http://github.com/ceph/ceph/pull/11275">pr#11275</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: drop unreferenced spanning blobs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11212">pr#11212</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix a few leaks (<a class="reference external" href="http://github.com/ceph/ceph/pull/11068">pr#11068</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix a few memory utilization leaks and wasters (<a class="reference external" href="http://github.com/ceph/ceph/pull/11011">pr#11011</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix crash in decode_some() (<a class="reference external" href="http://github.com/ceph/ceph/pull/11312">pr#11312</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix decoding hash of bnode (<a class="reference external" href="http://github.com/ceph/ceph/pull/10773">pr#10773</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix fsck() won&#8217;t catch stray shard sometimes (<a class="reference external" href="http://github.com/ceph/ceph/pull/11219">pr#11219</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix gc when blob extends past eof (<a class="reference external" href="http://github.com/ceph/ceph/pull/11282">pr#11282</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix improper local var variable in collection_list meth… (<a class="reference external" href="http://github.com/ceph/ceph/pull/10680">pr#10680</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: fix incorrect pool decoding of bnode (<a class="reference external" href="http://github.com/ceph/ceph/pull/10117">pr#10117</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix leak of result-checking of _fsck_check_extents (<a class="reference external" href="http://github.com/ceph/ceph/pull/11040">pr#11040</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix leaks in our use of rocksdb (<a class="reference external" href="http://github.com/ceph/ceph/pull/11250">pr#11250</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix memory leak during bit_alloc testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/9935">pr#9935</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix offset bug in _do_write_small. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11030">pr#11030</a>, amoxic)</li>
<li>bluestore: os/bluestore: fix onode cache addition race (<a class="reference external" href="http://github.com/ceph/ceph/pull/11300">pr#11300</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix potential access violation (<a class="reference external" href="http://github.com/ceph/ceph/pull/10362">pr#10362</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix potential access violation during rename (<a class="reference external" href="http://github.com/ceph/ceph/pull/11033">pr#11033</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix shard_info::dump() (<a class="reference external" href="http://github.com/ceph/ceph/pull/11061">pr#11061</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix spanning blob leak from ~ExtentMap (<a class="reference external" href="http://github.com/ceph/ceph/pull/11223">pr#11223</a>, Somnath Roy)</li>
<li>bluestore: os/bluestore: fix statfs tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/10910">pr#10910</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix when block device is not a multiple of the block size (<a class="reference external" href="http://github.com/ceph/ceph/pull/10844">pr#10844</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: fix write_big counter and some more cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/11344">pr#11344</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix/improve csum error message (<a class="reference external" href="http://github.com/ceph/ceph/pull/10938">pr#10938</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: garbage collect partially overlapped blobs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11232">pr#11232</a>, Roushan Ali)</li>
<li>bluestore: os/bluestore: get rid off &#8220;isa-l&#8221; type in ZLibCompressor ctor (<a class="reference external" href="http://github.com/ceph/ceph/pull/10931">pr#10931</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: gifting bluefs more carefully (<a class="reference external" href="http://github.com/ceph/ceph/pull/10950">pr#10950</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: honour allow-eio flag; use global compressor if possible (<a class="reference external" href="http://github.com/ceph/ceph/pull/10970">pr#10970</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: improve required compression threshold (<a class="reference external" href="http://github.com/ceph/ceph/pull/10080">pr#10080</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: include bluefs space in statfs result (<a class="reference external" href="http://github.com/ceph/ceph/pull/10795">pr#10795</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: introduce power 2 macros for block alignment and rounding (<a class="reference external" href="http://github.com/ceph/ceph/pull/10128">pr#10128</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: make assert conditional with macro for allocator (<a class="reference external" href="http://github.com/ceph/ceph/pull/11014">pr#11014</a>, Ramesh Chander)</li>
<li>bluestore: os/bluestore: make cache settings process-wide (<a class="reference external" href="http://github.com/ceph/ceph/pull/11295">pr#11295</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: make clone_range copy-on-write (<a class="reference external" href="http://github.com/ceph/ceph/pull/11106">pr#11106</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: make onode keys more efficient (and sort correctly) (<a class="reference external" href="http://github.com/ceph/ceph/pull/11009">pr#11009</a>, xie xingguo, Sage Weil)</li>
<li>bluestore: os/bluestore: make trim() of 2Q cache more fine-grained (<a class="reference external" href="http://github.com/ceph/ceph/pull/9946">pr#9946</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: make zone/span size of bitmap-allocator configurable (<a class="reference external" href="http://github.com/ceph/ceph/pull/10040">pr#10040</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: misc cleanup and test fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/11346">pr#11346</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: misc cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/10201">pr#10201</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: misc cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/11197">pr#11197</a>, Haomai Wang)</li>
<li>bluestore: os/bluestore: misc fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/9999">pr#9999</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: misc fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10771">pr#10771</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: misc. fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/11129">pr#11129</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: more cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/11235">pr#11235</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: more cleanups and fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/11210">pr#11210</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: narrow condition of sanity check when get_object_key() (<a class="reference external" href="http://github.com/ceph/ceph/pull/11149">pr#11149</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: narrow lock scope for cache trim() (<a class="reference external" href="http://github.com/ceph/ceph/pull/10410">pr#10410</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: optimize intrusive sets for size. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11319">pr#11319</a>, Mark Nelson)</li>
<li>bluestore: os/bluestore: pack a few more in-memory types (<a class="reference external" href="http://github.com/ceph/ceph/pull/11328">pr#11328</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: precondition rocksdb/bluefs during mkfs (<a class="reference external" href="http://github.com/ceph/ceph/pull/10814">pr#10814</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: prevent extent merging across shard boundaries (<a class="reference external" href="http://github.com/ceph/ceph/pull/11216">pr#11216</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: print bluefs_extents in hex (<a class="reference external" href="http://github.com/ceph/ceph/pull/10689">pr#10689</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: proper handling for csum enable/disable settings (<a class="reference external" href="http://github.com/ceph/ceph/pull/10431">pr#10431</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: refactor dirty blob tracking along with some related fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10215">pr#10215</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: remove cmake warning from extent alloc functions (<a class="reference external" href="http://tracker.ceph.com/issues/16766">issue#16766</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10492">pr#10492</a>, Ramesh Chander)</li>
<li>bluestore: os/bluestore: remove deferred_csum machinery (<a class="reference external" href="http://github.com/ceph/ceph/pull/11243">pr#11243</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: remove some copy-pastes (<a class="reference external" href="http://github.com/ceph/ceph/pull/11017">pr#11017</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore: replace store with logger in Cache (<a class="reference external" href="http://github.com/ceph/ceph/pull/10969">pr#10969</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: shard extent map (<a class="reference external" href="http://github.com/ceph/ceph/pull/10963">pr#10963</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: simplify LRUCache::trim() (<a class="reference external" href="http://github.com/ceph/ceph/pull/10109">pr#10109</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: simplify calculation of collection key range (<a class="reference external" href="http://github.com/ceph/ceph/pull/11166">pr#11166</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: sloppy reshard boundaries to avoid spanning blobs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11263">pr#11263</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: still more cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/11274">pr#11274</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: switch spanning_blob_map to std::map (<a class="reference external" href="http://github.com/ceph/ceph/pull/11336">pr#11336</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: trim cache on reads (<a class="reference external" href="http://github.com/ceph/ceph/pull/10095">pr#10095</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: try to split blobs instead of spanning them (<a class="reference external" href="http://github.com/ceph/ceph/pull/11264">pr#11264</a>, Sage Weil)</li>
<li>bluestore: os/bluestore: upgrade compression settings to atomics (<a class="reference external" href="http://github.com/ceph/ceph/pull/11244">pr#11244</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: use small encoding for bluefs extent and fnode (<a class="reference external" href="http://github.com/ceph/ceph/pull/10375">pr#10375</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: yet another statfs test fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/10926">pr#10926</a>, Igor Fedotov)</li>
<li>bluestore: os/bluestore:Fix size calculation in bitallocator (<a class="reference external" href="http://github.com/ceph/ceph/pull/10377">pr#10377</a>, Ramesh Chander)</li>
<li>bluestore: os/bluestore: fix error handling of posix_fallocate() (<a class="reference external" href="http://github.com/ceph/ceph/pull/10277">pr#10277</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: use BE for gifting and reclaiming from bluefs (<a class="reference external" href="http://github.com/ceph/ceph/pull/10294">pr#10294</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: get rid off blob&#8217;s ref_map for non-shared objects (<a class="reference external" href="http://github.com/ceph/ceph/pull/9988">pr#9988</a>, Igor Fedotov)</li>
<li>bluestore: kv/MemDB: fix wrong output target and add sanity checks (<a class="reference external" href="http://github.com/ceph/ceph/pull/10358">pr#10358</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: add a boundary check of cache read (<a class="reference external" href="http://github.com/ceph/ceph/pull/10349">pr#10349</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: fix bitmap allocating failure if max_alloc_size is 0 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10379">pr#10379</a>, xie xingguo)</li>
<li>bluestore: os/bluestore: misc fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10327">pr#10327</a>, xie xingguo)</li>
<li>bluestore: kv/MemDB: misc fixes and cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/10295">pr#10295</a>, xie xingguo)</li>
<li>bluestore: rocksdb: pull up to master (4.12 + a few patches) (<a class="reference external" href="http://github.com/ceph/ceph/pull/11069">pr#11069</a>, Sage Weil)</li>
<li>bluestore: test/store_test: extend Bluestore compression test to verify compress… (<a class="reference external" href="http://github.com/ceph/ceph/pull/11080">pr#11080</a>, Igor Fedotov)</li>
<li>bluestore: test/store_test: fix statfs results check to consider SSD min_alloc_size (<a class="reference external" href="http://github.com/ceph/ceph/pull/11096">pr#11096</a>, Igor Fedotov)</li>
<li>bluestore: unittest_bluestore_types: a few more types for sizeof (<a class="reference external" href="http://github.com/ceph/ceph/pull/11323">pr#11323</a>, Sage Weil)</li>
<li>bluestore: ceph_test_objectstore: test clone_range and fix a few bugs (<a class="reference external" href="http://github.com/ceph/ceph/pull/11103">pr#11103</a>, Sage Weil)</li>
<li>bluestore: kv: fix some bugs in memdb (<a class="reference external" href="http://github.com/ceph/ceph/pull/10550">pr#10550</a>, Haodong Tang)</li>
<li>bluestore: os/bluestore/BlueFS: disable buffered io (<a class="reference external" href="http://github.com/ceph/ceph/pull/10766">pr#10766</a>, Sage Weil)</li>
<li>build/ops,bluestore: test/objectstore/CMakeLists.txt: fix libaio conditional (<a class="reference external" href="http://github.com/ceph/ceph/pull/11008">pr#11008</a>, Sage Weil)</li>
<li>build/ops,cephfs: client: added def for ACCESSPERMS when undefined (<a class="reference external" href="http://github.com/ceph/ceph/pull/9835">pr#9835</a>, John Coyle)</li>
<li>build/ops,cephfs: deb: merge ceph-fs-common into ceph-common (<a class="reference external" href="http://tracker.ceph.com/issues/16808">issue#16808</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10433">pr#10433</a>, Nathan Cutler)</li>
<li>build/ops,cephfs: man/Makefile-client.am: drop legacy cephfs tool (<a class="reference external" href="http://github.com/ceph/ceph/pull/10444">pr#10444</a>, Nathan Cutler)</li>
<li>build/ops,cephfs: test: break out librados-using cephfs test (<a class="reference external" href="http://tracker.ceph.com/issues/16556">issue#16556</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10452">pr#10452</a>, John Spray)</li>
<li>build/ops,common: common/dns_resolve: use ns_name_uncompress instead of ns_name_ntop (<a class="reference external" href="http://github.com/ceph/ceph/pull/9755">pr#9755</a>, John Coyle)</li>
<li>build/ops,common: msg/async/net_handler.cc: make it more compatible with BSDs (<a class="reference external" href="http://github.com/ceph/ceph/pull/10029">pr#10029</a>, Willem Jan Withagen)</li>
<li>build/ops,pybind: Include Python 3 bindings into the cmake build and make packages for them (<a class="reference external" href="http://github.com/ceph/ceph/pull/10208">pr#10208</a>, Oleh Prypin)</li>
<li>build/ops,rbd: systemd: add install section to rbdmap.service file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10942">pr#10942</a>, Jelle vd Kooij)</li>
<li>build/ops,rbd: test: fix rbd-mirror workunit test cases for cmake (<a class="reference external" href="http://github.com/ceph/ceph/pull/10076">pr#10076</a>, Jason Dillaman)</li>
<li>build/ops,rgw: rgw-ldap: add ldap lib to rgw lib deps based on build config (<a class="reference external" href="http://github.com/ceph/ceph/pull/9852">pr#9852</a>, John Coyle)</li>
<li>build/ops: .gitignore: Add .pyc files globally (<a class="reference external" href="http://github.com/ceph/ceph/pull/11076">pr#11076</a>, Brad Hubbard)</li>
<li>build/ops: Allow compressor build without YASM (<a class="reference external" href="http://github.com/ceph/ceph/pull/10937">pr#10937</a>, Daniel Gryniewicz)</li>
<li>build/ops: CMake - stop pip checking for updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/10161">pr#10161</a>, Daniel Gryniewicz)</li>
<li>build/ops: CMakeList.txt: link ceph_objectstore_tool against fuse only if WITH_FUSE (<a class="reference external" href="http://github.com/ceph/ceph/pull/10149">pr#10149</a>, Willem Jan Withagen)</li>
<li>build/ops: Cmake: fix using CMAKE_DL_LIBS instead of dl (<a class="reference external" href="http://github.com/ceph/ceph/pull/10317">pr#10317</a>, Willem Jan Withagen)</li>
<li>build/ops: CmakeLists.txt: use LIB_RESOLV instead of resolv. (<a class="reference external" href="http://github.com/ceph/ceph/pull/10972">pr#10972</a>, Willem Jan Withagen)</li>
<li>build/ops: Enable builds without ceph-test subpackage (<a class="reference external" href="http://tracker.ceph.com/issues/16776">issue#16776</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10872">pr#10872</a>, Ricardo Dias)</li>
<li>build/ops: Fix libatomic_ops-devel in SUSE and specfile cleanup (<a class="reference external" href="http://tracker.ceph.com/issues/16645">issue#16645</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10363">pr#10363</a>, Nathan Cutler)</li>
<li>build/ops: FreeBSD: Define CLOCK_REALTIME_COARSE in compat.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/10506">pr#10506</a>, Willem Jan Withagen)</li>
<li>build/ops: Gentoo support for ceph-disk / ceph-detect-init; pip speedup (<a class="reference external" href="http://github.com/ceph/ceph/pull/8317">pr#8317</a>, Robin H. Johnson)</li>
<li>build/ops: LTTng-UST disabled for openSUSE (<a class="reference external" href="http://tracker.ceph.com/issues/16937">issue#16937</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10592">pr#10592</a>, Michel Normand)</li>
<li>build/ops: Port ceph-brag to Python 3 (+ small fixes) (<a class="reference external" href="http://github.com/ceph/ceph/pull/10064">pr#10064</a>, Oleh Prypin)</li>
<li>build/ops: Removes remaining reference to WITH_MDS (<a class="reference external" href="http://github.com/ceph/ceph/pull/10286">pr#10286</a>, J. Eric Ivancich)</li>
<li>build/ops: Stop hiding errors from run-tox.sh (<a class="reference external" href="http://tracker.ceph.com/issues/17267">issue#17267</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11071">pr#11071</a>, Dan Mick)</li>
<li>build/ops: Wip kill warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/10881">pr#10881</a>, Kefu Chai)</li>
<li>build/ops: autogen: Fix rocksdb error when make dist (<a class="reference external" href="http://github.com/ceph/ceph/pull/10988">pr#10988</a>, tianqing)</li>
<li>build/ops: autotools: remove a few other remaining traces (<a class="reference external" href="http://github.com/ceph/ceph/pull/11019">pr#11019</a>, Sage Weil)</li>
<li>build/ops: build scripts: Enable dnf for Fedora &gt;= 22 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11105">pr#11105</a>, Brad Hubbard)</li>
<li>build/ops: build: drop dryrun of autogen.sh from run-cmake-check.sh script (<a class="reference external" href="http://github.com/ceph/ceph/pull/11013">pr#11013</a>, xie xingguo)</li>
<li>build/ops: ceph-disk tests: Let missing python interpreters be non-fatal (<a class="reference external" href="http://github.com/ceph/ceph/pull/11072">pr#11072</a>, Dan Mick)</li>
<li>build/ops: ceph-disk: Compatibility fixes for Python 3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/9936">pr#9936</a>, Anirudha Bose)</li>
<li>build/ops: ceph-disk: do not activate device that is not ready (<a class="reference external" href="http://tracker.ceph.com/issues/15990">issue#15990</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9943">pr#9943</a>, Boris Ranto)</li>
<li>build/ops: ceph-osd-prestart.sh: check existence of OSD data directory (<a class="reference external" href="http://tracker.ceph.com/issues/17091">issue#17091</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10809">pr#10809</a>, Nathan Cutler)</li>
<li>build/ops: ceph-osd-prestart.sh: drop Upstart-specific code (<a class="reference external" href="http://tracker.ceph.com/issues/15984">issue#15984</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9667">pr#9667</a>, Nathan Cutler)</li>
<li>build/ops: ceph-post-file replace DSA with RSA ssh key (<a class="reference external" href="http://tracker.ceph.com/issues/14267">issue#14267</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10800">pr#10800</a>, David Galloway)</li>
<li>build/ops: ceph.spec.in: don&#8217;t try to package __pycache__ for SUSE (<a class="reference external" href="http://tracker.ceph.com/issues/17106">issue#17106</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10805">pr#10805</a>, Tim Serong)</li>
<li>build/ops: ceph.spec.in: fix rpm package building error (<a class="reference external" href="http://github.com/ceph/ceph/pull/10115">pr#10115</a>, runsisi)</li>
<li>build/ops: changes for Clang and yasm (<a class="reference external" href="http://github.com/ceph/ceph/pull/10417">pr#10417</a>, Willem Jan Withagen)</li>
<li>build/ops: cmake changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10351">pr#10351</a>, Kefu Chai)</li>
<li>build/ops: cmake changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10059">pr#10059</a>, Kefu Chai)</li>
<li>build/ops: cmake changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10279">pr#10279</a>, Kefu Chai)</li>
<li>build/ops: cmake changes (<a class="reference external" href="http://tracker.ceph.com/issues/16804">issue#16804</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10391">pr#10391</a>, Kefu Chai)</li>
<li>build/ops: cmake changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10361">pr#10361</a>, Kefu Chai)</li>
<li>build/ops: cmake changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10112">pr#10112</a>, Kefu Chai)</li>
<li>build/ops: cmake changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10489">pr#10489</a>, Kefu Chai)</li>
<li>build/ops: cmake changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10283">pr#10283</a>, Kefu Chai)</li>
<li>build/ops: cmake changes (<a class="reference external" href="http://tracker.ceph.com/issues/16504">issue#16504</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9995">pr#9995</a>, Kefu Chai, Sage Weil, Dan Mick)</li>
<li>build/ops: cmake changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/9975">pr#9975</a>, Kefu Chai)</li>
<li>build/ops: cmake changes related to LTTng-UST (<a class="reference external" href="http://github.com/ceph/ceph/pull/10917">pr#10917</a>, Kefu Chai)</li>
<li>build/ops: common/compressor: add libcommon as a dependency for zlib and snappy p… (<a class="reference external" href="http://github.com/ceph/ceph/pull/11083">pr#11083</a>, Igor Fedotov)</li>
<li>build/ops: compat: add abstractions for non portable pthread name funcs (<a class="reference external" href="http://github.com/ceph/ceph/pull/9763">pr#9763</a>, John Coyle)</li>
<li>build/ops: configure.ac: Use uname instead of arch. (<a class="reference external" href="http://github.com/ceph/ceph/pull/9766">pr#9766</a>, John Coyle)</li>
<li>build/ops: configure.ac: add _LIBS variables for boost_system and boost_iostreams (<a class="reference external" href="http://github.com/ceph/ceph/pull/9848">pr#9848</a>, John Coyle)</li>
<li>build/ops: configure.ac: fix res_query detection (<a class="reference external" href="http://github.com/ceph/ceph/pull/9820">pr#9820</a>, John Coyle)</li>
<li>build/ops: debian and cmake cleanups  (<a class="reference external" href="http://github.com/ceph/ceph/pull/10788">pr#10788</a>, Kefu Chai)</li>
<li>build/ops: debian: bump compat to 9 (<a class="reference external" href="http://tracker.ceph.com/issues/16744">issue#16744</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10366">pr#10366</a>, Kefu Chai)</li>
<li>build/ops: debian: python related changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10322">pr#10322</a>, Kefu Chai)</li>
<li>build/ops: debian: replace SysV rbdmap with systemd service (<a class="reference external" href="http://github.com/ceph/ceph/pull/10435">pr#10435</a>, Ken Dreyer)</li>
<li>build/ops: debian: set libexec dir to correct value as autotools did (<a class="reference external" href="http://github.com/ceph/ceph/pull/10096">pr#10096</a>, Daniel Gryniewicz)</li>
<li>build/ops: do_cmake.sh: set up initial plugin dir (<a class="reference external" href="http://github.com/ceph/ceph/pull/10067">pr#10067</a>, Sage Weil)</li>
<li>build/ops: fix /etc/os-release parsing in install-deps.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/10981">pr#10981</a>, Nathan Cutler)</li>
<li>build/ops: fix the rpm build for centos (<a class="reference external" href="http://github.com/ceph/ceph/pull/10289">pr#10289</a>, Oleh Prypin, Josh Durgin)</li>
<li>build/ops: force Python 3 packages to build in SUSE (<a class="reference external" href="http://tracker.ceph.com/issues/17106">issue#17106</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10894">pr#10894</a>, Dominique Leuenberger, Nathan Cutler)</li>
<li>build/ops: install-deps.sh based on /etc/os-release (<a class="reference external" href="http://tracker.ceph.com/issues/16522">issue#16522</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10017">pr#10017</a>, Jan Fajerski)</li>
<li>build/ops: install-deps: exit non-zero when we cannot match distro  (<a class="reference external" href="http://github.com/ceph/ceph/pull/10941">pr#10941</a>, Gregory Meno)</li>
<li>build/ops: isa-l: add isa-l library as a submodule (<a class="reference external" href="http://github.com/ceph/ceph/pull/10066">pr#10066</a>, Alyona Kiseleva)</li>
<li>build/ops: jerasure: include generic objects in neon jerasure lib (like sse3/4) (<a class="reference external" href="http://github.com/ceph/ceph/pull/10879">pr#10879</a>, Dan Mick)</li>
<li>build/ops: logrotate: Run as root/ceph (<a class="reference external" href="http://github.com/ceph/ceph/pull/10587">pr#10587</a>, Boris Ranto)</li>
<li>build/ops: lttng: build the tracepoint provider lib from .c files in repo (<a class="reference external" href="http://github.com/ceph/ceph/pull/11196">pr#11196</a>, Kefu Chai)</li>
<li>build/ops: make-dist: generate ceph.spec (<a class="reference external" href="http://tracker.ceph.com/issues/16501">issue#16501</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9986">pr#9986</a>, Sage Weil)</li>
<li>build/ops: make-dist: set rpm_release correctly for release builds (<a class="reference external" href="http://github.com/ceph/ceph/pull/11334">pr#11334</a>, Dan Mick)</li>
<li>build/ops: make-srpm.sh: A simple script to make the srpm for ceph. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11064">pr#11064</a>, Ira Cooper)</li>
<li>build/ops: makefile: change librgw_file_* as check_PROGRAMS (<a class="reference external" href="http://tracker.ceph.com/issues/16646">issue#16646</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10229">pr#10229</a>, Brad Hubbard)</li>
<li>build/ops: remove autotools (<a class="reference external" href="http://github.com/ceph/ceph/pull/11007">pr#11007</a>, Sage Weil)</li>
<li>build/ops: rpm: Do not start targets on update (<a class="reference external" href="http://github.com/ceph/ceph/pull/9968">pr#9968</a>, Nathan Cutler, Boris Ranto)</li>
<li>build/ops: rpm: ExclusiveArch for suse_version (<a class="reference external" href="http://tracker.ceph.com/issues/16936">issue#16936</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10594">pr#10594</a>, Michel Normand)</li>
<li>build/ops: rpm: Fix creation of mount.ceph symbolic link for SUSE distros (<a class="reference external" href="http://github.com/ceph/ceph/pull/10353">pr#10353</a>, Ricardo Dias)</li>
<li>build/ops: rpm: add udev BuildRequires to provide /usr/lib/udev directory (<a class="reference external" href="http://tracker.ceph.com/issues/16949">issue#16949</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10608">pr#10608</a>, Nathan Cutler)</li>
<li>build/ops: rpm: build rpm with cmake (<a class="reference external" href="http://github.com/ceph/ceph/pull/10016">pr#10016</a>, Kefu Chai)</li>
<li>build/ops: rpm: drop obsolete libs-compat and python-ceph-compat metapackages (<a class="reference external" href="http://tracker.ceph.com/issues/16353">issue#16353</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9757">pr#9757</a>, Nathan Cutler)</li>
<li>build/ops: rpm: fix permissions for /etc/ceph/rbdmap (<a class="reference external" href="http://tracker.ceph.com/issues/17395">issue#17395</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11217">pr#11217</a>, Ken Dreyer)</li>
<li>build/ops: rpm: fix shared library devel package names and dependencies (<a class="reference external" href="http://tracker.ceph.com/issues/16345">issue#16345</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16346">issue#16346</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9744">pr#9744</a>, Nathan Cutler, Ken Dreyer)</li>
<li>build/ops: rpm: move mount.ceph from ceph-base to ceph-common and add symlink in /sbin for SUSE (<a class="reference external" href="http://tracker.ceph.com/issues/16598">issue#16598</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10147">pr#10147</a>, Nathan Cutler)</li>
<li>build/ops: run-cmake-check.sh: Remove redundant calls (<a class="reference external" href="http://github.com/ceph/ceph/pull/11116">pr#11116</a>, Brad Hubbard)</li>
<li>build/ops: script: improve ceph-release-notes regex (<a class="reference external" href="http://github.com/ceph/ceph/pull/10729">pr#10729</a>, Nathan Cutler)</li>
<li>build/ops: src/CMakeLists.txt: remove double flag -Wno-invalid-offsetof (<a class="reference external" href="http://github.com/ceph/ceph/pull/10443">pr#10443</a>, Willem Jan Withagen)</li>
<li>build/ops: src/CMakeLists.txt: remove unneeded libraries from ceph-dencoder target (<a class="reference external" href="http://github.com/ceph/ceph/pull/10478">pr#10478</a>, Willem Jan Withagen)</li>
<li>build/ops: src/global/pidfile.cc: Assign elements in structures individually (<a class="reference external" href="http://github.com/ceph/ceph/pull/10516">pr#10516</a>, Willem Jan Withagen)</li>
<li>build/ops: src/kv/CMakeLists.txt: force rocksdb/include to first include directory (<a class="reference external" href="http://github.com/ceph/ceph/pull/11194">pr#11194</a>, Willem Jan Withagen)</li>
<li>build/ops: test/common/test_util.cc: FreeBSD does not have distro information (<a class="reference external" href="http://github.com/ceph/ceph/pull/10547">pr#10547</a>, Willem Jan Withagen)</li>
<li>build/ops: test: make check using cmake (<a class="reference external" href="http://github.com/ceph/ceph/pull/10116">pr#10116</a>, Kefu Chai, Sage Weil)</li>
<li>build/ops: verfied f23 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10222">pr#10222</a>, Kefu Chai)</li>
<li>build/ops: yasm-wrapper: dont echo the yasm command line (<a class="reference external" href="http://github.com/ceph/ceph/pull/10819">pr#10819</a>, Casey Bodley)</li>
<li>build/ops: .gitignore: exclude coredumps, logfiles and temporary testresults (<a class="reference external" href="http://github.com/ceph/ceph/pull/8150">pr#8150</a>, Willem Jan Withagen)</li>
<li>build/ops: this fixes the broken build (<a class="reference external" href="http://github.com/ceph/ceph/pull/9992">pr#9992</a>, Haomai Wang)</li>
<li>build/ops: mrgw: search for cmake build dir. (<a class="reference external" href="http://github.com/ceph/ceph/pull/10180">pr#10180</a>, Abhishek Lekshmanan)</li>
<li>build/ops: mrun, mstart.sh, mstop.sh: search for cmake build directory (<a class="reference external" href="http://github.com/ceph/ceph/pull/10097">pr#10097</a>, Yehuda Sadeh)</li>
<li>build/ops: arm64 fixes(<a class="reference external" href="http://github.com/ceph/ceph/pull/10438">pr#10438</a>, Dan Mick)</li>
<li>build/ops: Wip kill warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/10934">pr#10934</a>, Kefu Chai)</li>
<li>build/ops: systemd: add osd id to service description (<a class="reference external" href="http://github.com/ceph/ceph/pull/10091">pr#10091</a>, Ruben Kerkhof)</li>
<li>build/ops: fix wrong indent caused compile warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/10014">pr#10014</a>, Wanlong Gao)</li>
<li>build/ops: ceph-detect-init: fix the py3 test (<a class="reference external" href="http://github.com/ceph/ceph/pull/10266">pr#10266</a>, Kefu Chai)</li>
<li>build/ops: ceph.spec: fix ceph-mgr version requirement (<a class="reference external" href="http://github.com/ceph/ceph/pull/11285">pr#11285</a>, Sage Weil)</li>
<li>build/ops: make-dist/ceph.spec.in: Fix srpm build breakage. (<a class="reference external" href="http://github.com/ceph/ceph/pull/10404">pr#10404</a>, Ira Cooper)</li>
<li>build/ops: master: remove SYSTEMD_RUN from initscript (<a class="reference external" href="http://tracker.ceph.com/issues/16440">issue#16440</a>, <a class="reference external" href="http://tracker.ceph.com/issues/7627">issue#7627</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9871">pr#9871</a>, Vladislav Odintsov)</li>
<li>build/ops: rocksdb: revert the change introduced by dc41731 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10595">pr#10595</a>, Kefu Chai)</li>
<li>build/ops: do_freebsd*.sh: rename do_freebsd-cmake.sh to do_freebsd.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/11088">pr#11088</a>, Kefu Chai)</li>
<li>build/ops: gcc 6.1.1 complains about missing include: &lt;random&gt;. 4.8.3 does not c… (<a class="reference external" href="http://github.com/ceph/ceph/pull/10747">pr#10747</a>, Daniel Oliveira)</li>
<li>build/ops: selinux: Allow ceph to manage tmp files (<a class="reference external" href="http://tracker.ceph.com/issues/17436">issue#17436</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11259">pr#11259</a>, Boris Ranto)</li>
<li>build/ops: selinux: allow read /proc/&lt;pid&gt;/cmdline (<a class="reference external" href="http://tracker.ceph.com/issues/16675">issue#16675</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10339">pr#10339</a>, Kefu Chai)</li>
<li>cephfs,common: osdc/Journaler: move C_DelayFlush class to .cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/10744">pr#10744</a>, Michal Jarzabek)</li>
<li>cephfs,core,rbd: ObjectCacher: fix bh_read_finish offset logic (<a class="reference external" href="http://tracker.ceph.com/issues/16002">issue#16002</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9606">pr#9606</a>, Greg Farnum)</li>
<li>cephfs,core,rbd: osdc/ObjectCacher: move C_ReadFinish, C_RetryRead (<a class="reference external" href="http://github.com/ceph/ceph/pull/10781">pr#10781</a>, Michal Jarzabek)</li>
<li>cephfs: Add ceph_ll_setlk and ceph_ll_getlk (<a class="reference external" href="http://github.com/ceph/ceph/pull/9566">pr#9566</a>, Frank S. Filz)</li>
<li>cephfs: CephFS: misc. cleanups and remove legacy cephfs tool (<a class="reference external" href="http://tracker.ceph.com/issues/16195">issue#16195</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16035">issue#16035</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15923">issue#15923</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10243">pr#10243</a>, John Spray)</li>
<li>cephfs: Clean up handling of &#8220;/..&#8221; in ceph client (<a class="reference external" href="http://github.com/ceph/ceph/pull/10691">pr#10691</a>, Jeff Layton)</li>
<li>cephfs: Client: fixup param type and return value (<a class="reference external" href="http://github.com/ceph/ceph/pull/10463">pr#10463</a>, gongchuang)</li>
<li>cephfs: Client: pass &#8220;UserPerm&#8221; struct everywhere for security checks (<a class="reference external" href="http://tracker.ceph.com/issues/16367">issue#16367</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17368">issue#17368</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11218">pr#11218</a>, Greg Farnum)</li>
<li>cephfs: First pile of statx patches (<a class="reference external" href="http://github.com/ceph/ceph/pull/10922">pr#10922</a>, Sage Weil, Jeff Layton)</li>
<li>cephfs: Fix attribute handling at lookup time (<a class="reference external" href="http://tracker.ceph.com/issues/16668">issue#16668</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10386">pr#10386</a>, Jeff Layton)</li>
<li>cephfs: Inotable repair during forward scrub (<a class="reference external" href="http://github.com/ceph/ceph/pull/10281">pr#10281</a>, Vishal Kanaujia)</li>
<li>cephfs: Server: drop locks and auth pins if wait for pending truncate (<a class="reference external" href="http://github.com/ceph/ceph/pull/9716">pr#9716</a>, xie xingguo)</li>
<li>cephfs: Small interface cleanups for struct ceph_statx  (<a class="reference external" href="http://github.com/ceph/ceph/pull/11093">pr#11093</a>, Jeff Layton)</li>
<li>cephfs: build ceph-fuse on OSX (<a class="reference external" href="http://github.com/ceph/ceph/pull/9371">pr#9371</a>, Yan, Zheng)</li>
<li>cephfs: ceph-fuse: link to libtcmalloc or jemalloc (<a class="reference external" href="http://tracker.ceph.com/issues/16655">issue#16655</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10258">pr#10258</a>, Yan, Zheng)</li>
<li>cephfs: ceph_volume_client: store authentication metadata (<a class="reference external" href="http://tracker.ceph.com/issues/15406">issue#15406</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15615">issue#15615</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9864">pr#9864</a>, John Spray, Ramana Raja)</li>
<li>cephfs: client/barrier: move C_Block_Sync class to .cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/11001">pr#11001</a>, Michal Jarzabek)</li>
<li>cephfs: client/filer: cleanup the redundant judgments of _write&amp;&amp;_fallocate (<a class="reference external" href="http://github.com/ceph/ceph/pull/10062">pr#10062</a>, huanwen ren)</li>
<li>cephfs: client: add missing client_lock for get_root (<a class="reference external" href="http://github.com/ceph/ceph/pull/10027">pr#10027</a>, Patrick Donnelly)</li>
<li>cephfs: client: discard mds map if it is identical to ours (<a class="reference external" href="http://github.com/ceph/ceph/pull/9774">pr#9774</a>, xie xingguo)</li>
<li>cephfs: client: fast abort if underlying statsf() call failed; end scope of std::hex properly (<a class="reference external" href="http://github.com/ceph/ceph/pull/9803">pr#9803</a>, xie xingguo)</li>
<li>cephfs: client: fix access violation (<a class="reference external" href="http://github.com/ceph/ceph/pull/9793">pr#9793</a>, xie xingguo)</li>
<li>cephfs: client: fix readdir vs fragmentation race (<a class="reference external" href="http://tracker.ceph.com/issues/17286">issue#17286</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11147">pr#11147</a>, Yan, Zheng)</li>
<li>cephfs: client: fix segment fault in Client::_invalidate_kernel_dcache(). (<a class="reference external" href="http://tracker.ceph.com/issues/17253">issue#17253</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11170">pr#11170</a>, Yan, Zheng)</li>
<li>cephfs: client: fix shutdown with open inodes (<a class="reference external" href="http://tracker.ceph.com/issues/16764">issue#16764</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10419">pr#10419</a>, John Spray)</li>
<li>cephfs: client: include COMPLETE and ORDERED states in cache dump (<a class="reference external" href="http://github.com/ceph/ceph/pull/10485">pr#10485</a>, Greg Farnum)</li>
<li>cephfs: client: kill compiling warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/9994">pr#9994</a>, xie xingguo)</li>
<li>cephfs: client: misc fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/9838">pr#9838</a>, xie xingguo)</li>
<li>cephfs: client: move Inode specific cleanup to destructor (<a class="reference external" href="http://github.com/ceph/ceph/pull/10168">pr#10168</a>, Patrick Donnelly)</li>
<li>cephfs: client: note order of member init in cons (<a class="reference external" href="http://github.com/ceph/ceph/pull/10169">pr#10169</a>, Patrick Donnelly)</li>
<li>cephfs: client: properly set inode number of created inode in replay request (<a class="reference external" href="http://tracker.ceph.com/issues/17172">issue#17172</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10957">pr#10957</a>, Yan, Zheng)</li>
<li>cephfs: client: protect InodeRef with client_lock (<a class="reference external" href="http://tracker.ceph.com/issues/17392">issue#17392</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11225">pr#11225</a>, Yan, Zheng)</li>
<li>cephfs: doc/mds: fixup mds doc (<a class="reference external" href="http://github.com/ceph/ceph/pull/10573">pr#10573</a>, huanwen ren)</li>
<li>cephfs: fuse_ll: fix incorrect error settings of fuse_ll_mkdir() (<a class="reference external" href="http://github.com/ceph/ceph/pull/9809">pr#9809</a>, xie xingguo)</li>
<li>cephfs: include/ceph_fs.h: guard <cite>#define CEPH_SETATTR_*</cite> with #ifndef (<a class="reference external" href="http://github.com/ceph/ceph/pull/10265">pr#10265</a>, Kefu Chai)</li>
<li>cephfs: libcephfs: Fix the incorrect integer conversion in libcephfs_jni.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/10640">pr#10640</a>, wenjunhuang)</li>
<li>cephfs: libcephfs: add unmount function in cephfs.pyx (<a class="reference external" href="http://github.com/ceph/ceph/pull/10774">pr#10774</a>, huanwen ren)</li>
<li>cephfs: libcephfs: fix portability-related error settings (<a class="reference external" href="http://github.com/ceph/ceph/pull/9794">pr#9794</a>, xie xingguo)</li>
<li>cephfs: libcephfs: kill compiling warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/10622">pr#10622</a>, xie xingguo)</li>
<li>cephfs: mds/CDir: remove the part of judgment for _next_dentry_on_set (<a class="reference external" href="http://github.com/ceph/ceph/pull/10476">pr#10476</a>, zhang.zezhu)</li>
<li>cephfs: mds/CInode: fix potential fin hanging (<a class="reference external" href="http://github.com/ceph/ceph/pull/9773">pr#9773</a>, xie xingguo)</li>
<li>cephfs: mds/MDBalancer: cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/10512">pr#10512</a>, huanwen ren)</li>
<li>cephfs: mds/MDCache: kill a comipler warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/11254">pr#11254</a>, xie xingguo)</li>
<li>cephfs: mds/MDSMap default metadata pool to -1 (was: output None instead of 0 when no fs present.) (<a class="reference external" href="http://tracker.ceph.com/issues/16588">issue#16588</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10202">pr#10202</a>, Xiaoxi Chen)</li>
<li>cephfs: mds/MDSTable: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/10846">pr#10846</a>, Michal Jarzabek)</li>
<li>cephfs: mds/SessionMap.h: change statement to assertion (<a class="reference external" href="http://github.com/ceph/ceph/pull/11289">pr#11289</a>, Michal Jarzabek)</li>
<li>cephfs: mds/SnapRealm.h: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/10878">pr#10878</a>, Michal Jarzabek)</li>
<li>cephfs: mds/server: clean up handle_client_open() (<a class="reference external" href="http://github.com/ceph/ceph/pull/11120">pr#11120</a>, huanwen ren)</li>
<li>cephfs: mon/MDSMonitor: move C_Updated class to .cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10668">pr#10668</a>, Michal Jarzabek)</li>
<li>cephfs: osdc/mds: fixup pos parameter in the journaler (<a class="reference external" href="http://github.com/ceph/ceph/pull/10200">pr#10200</a>, huanwen ren)</li>
<li>cephfs: reduce unnecessary mds log flush (<a class="reference external" href="http://github.com/ceph/ceph/pull/10393">pr#10393</a>, Yan, Zheng)</li>
<li>cephfs: tools/cephfs: Remove cephfs-data-scan tmap_upgrade (<a class="reference external" href="http://tracker.ceph.com/issues/16144">issue#16144</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10100">pr#10100</a>, Douglas Fuller)</li>
<li>cephfs: ceph_fuse: use sizeof get the buf length (<a class="reference external" href="http://github.com/ceph/ceph/pull/11176">pr#11176</a>, LeoZhang)</li>
<li>cli: retry when the mon is not configured (<a class="reference external" href="http://tracker.ceph.com/issues/16477">issue#16477</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11089">pr#11089</a>, Loic Dachary)</li>
<li>cmake: Add -pie to CMAKE_EXE_LINKER_FLAGS (<a class="reference external" href="http://github.com/ceph/ceph/pull/10755">pr#10755</a>, Tim Serong)</li>
<li>cmake: Fix FCGI include directory (<a class="reference external" href="http://github.com/ceph/ceph/pull/9983">pr#9983</a>, Tim Serong)</li>
<li>cmake: Fix mismatched librgw VERSION / SOVERSION (<a class="reference external" href="http://github.com/ceph/ceph/pull/10754">pr#10754</a>, Tim Serong)</li>
<li>cmake: FreeBSD specific excludes in CMakeLists.txt (<a class="reference external" href="http://github.com/ceph/ceph/pull/10973">pr#10973</a>, Willem Jan Withagen)</li>
<li>cmake: FreeBSD specific excludes in CMakeLists.txt files (<a class="reference external" href="http://github.com/ceph/ceph/pull/10517">pr#10517</a>, Willem Jan Withagen)</li>
<li>cmake: Really add FCGI_INCLUDE_DIR to include_directories for rgw (<a class="reference external" href="http://github.com/ceph/ceph/pull/10139">pr#10139</a>, Tim Serong)</li>
<li>cmake: Removed README.cmake.md, edited README.md (<a class="reference external" href="http://github.com/ceph/ceph/pull/10028">pr#10028</a>, Ali Maredia)</li>
<li>cmake: Support tcmalloc_minimal allocator (<a class="reference external" href="http://github.com/ceph/ceph/pull/11111">pr#11111</a>, Bassam Tabbara)</li>
<li>cmake: add dependency from ceph_smalliobenchrbd to cls libraries (<a class="reference external" href="http://github.com/ceph/ceph/pull/10870">pr#10870</a>, J. Eric Ivancich)</li>
<li>cmake: add_subdirectory(include) (<a class="reference external" href="http://github.com/ceph/ceph/pull/10360">pr#10360</a>, Kefu Chai)</li>
<li>cmake: ceph_test_rbd_mirror does not require librados_test_stub (<a class="reference external" href="http://github.com/ceph/ceph/pull/10164">pr#10164</a>, Jason Dillaman)</li>
<li>cmake: cleanup Findgperftools.cmake (<a class="reference external" href="http://github.com/ceph/ceph/pull/10670">pr#10670</a>, Kefu Chai)</li>
<li>cmake: correct ceph_test_librbd/ceph_test_rbd_mirror linkage (<a class="reference external" href="http://tracker.ceph.com/issues/16882">issue#16882</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10598">pr#10598</a>, Jason Dillaman)</li>
<li>cmake: disable -fvar-tracking-assignments for ceph_dencoder.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/10275">pr#10275</a>, Kefu Chai)</li>
<li>cmake: disable unittest_async_compressor (<a class="reference external" href="http://github.com/ceph/ceph/pull/10394">pr#10394</a>, Kefu Chai)</li>
<li>cmake: do not link against unused objects or libraries (<a class="reference external" href="http://github.com/ceph/ceph/pull/10837">pr#10837</a>, Kefu Chai)</li>
<li>cmake: enable ccache for rocksdb too (<a class="reference external" href="http://github.com/ceph/ceph/pull/11100">pr#11100</a>, Bassam Tabbara)</li>
<li>cmake: exclude non-public symbols in shared libraries (<a class="reference external" href="http://tracker.ceph.com/issues/16556">issue#16556</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10472">pr#10472</a>, Kefu Chai)</li>
<li>cmake: fix incorrect dependencies to librados (<a class="reference external" href="http://github.com/ceph/ceph/pull/10145">pr#10145</a>, Jason Dillaman)</li>
<li>cmake: fix the FTBFS introduced by dc8b3ba (<a class="reference external" href="http://github.com/ceph/ceph/pull/10282">pr#10282</a>, Kefu Chai)</li>
<li>cmake: fix the build of unittest_async_compressor (<a class="reference external" href="http://github.com/ceph/ceph/pull/10400">pr#10400</a>, Kefu Chai)</li>
<li>cmake: fix the tracing header dependencies (<a class="reference external" href="http://github.com/ceph/ceph/pull/10906">pr#10906</a>, Kefu Chai)</li>
<li>cmake: fix unittest_rbd_mirror failures under non-optimized builds (<a class="reference external" href="http://github.com/ceph/ceph/pull/9990">pr#9990</a>, Jason Dillaman)</li>
<li>cmake: fix wrong path introduced by bb163e9 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10643">pr#10643</a>, Kefu Chai)</li>
<li>cmake: fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10092">pr#10092</a>, Daniel Gryniewicz)</li>
<li>cmake: fixes for pypi changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10204">pr#10204</a>, Kefu Chai)</li>
<li>cmake: include(SIMDExt) in src/CMakeLists.txt (<a class="reference external" href="http://github.com/ceph/ceph/pull/11003">pr#11003</a>, Kefu Chai)</li>
<li>cmake: install ceph_test_cls_rgw (<a class="reference external" href="http://github.com/ceph/ceph/pull/10025">pr#10025</a>, Kefu Chai)</li>
<li>cmake: install ceph_test_rados_striper_api_* (<a class="reference external" href="http://github.com/ceph/ceph/pull/10541">pr#10541</a>, Kefu Chai)</li>
<li>cmake: install platlib into a subdir of build-base dir (<a class="reference external" href="http://github.com/ceph/ceph/pull/10666">pr#10666</a>, Kefu Chai)</li>
<li>cmake: make py3 a nice-to-have (<a class="reference external" href="http://tracker.ceph.com/issues/17103">issue#17103</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11015">pr#11015</a>, Kefu Chai)</li>
<li>cmake: pass -DINTEL* to gf-complete cflags (<a class="reference external" href="http://github.com/ceph/ceph/pull/10956">pr#10956</a>, tone.zhang, Kefu Chai)</li>
<li>cmake: pass cmake&#8217;s compiler and flags to compile RocksDB into build (<a class="reference external" href="http://github.com/ceph/ceph/pull/10418">pr#10418</a>, Willem Jan Withagen)</li>
<li>cmake: recompile erasure src for different variants (<a class="reference external" href="http://github.com/ceph/ceph/pull/10772">pr#10772</a>, Kefu Chai)</li>
<li>cmake: remove WITH_MDS option (<a class="reference external" href="http://github.com/ceph/ceph/pull/10186">pr#10186</a>, Ali Maredia)</li>
<li>cmake: remove more autotools hacks (<a class="reference external" href="http://github.com/ceph/ceph/pull/11229">pr#11229</a>, Sage Weil)</li>
<li>cmake: remove unnecessary linked libs from libcephfs (<a class="reference external" href="http://tracker.ceph.com/issues/16556">issue#16556</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10081">pr#10081</a>, Kefu Chai)</li>
<li>cmake: rework NSS and SSL (<a class="reference external" href="http://github.com/ceph/ceph/pull/9831">pr#9831</a>, Matt Benjamin)</li>
<li>cmake: set ARM_CRC_FLAGS from the CRC test rather than ARM_NEON_FLAGS (<a class="reference external" href="http://tracker.ceph.com/issues/17250">issue#17250</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11028">pr#11028</a>, Dan Mick)</li>
<li>cmake: specify distutils build path explicitly (<a class="reference external" href="http://github.com/ceph/ceph/pull/10568">pr#10568</a>, Kefu Chai)</li>
<li>cmake: supress more warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/10469">pr#10469</a>, Willem Jan Withagen)</li>
<li>cmake: use PERF_LOCAL_FLAGS only if defined (<a class="reference external" href="http://tracker.ceph.com/issues/17104">issue#17104</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10828">pr#10828</a>, Michel Normand)</li>
<li>cmake: use stock Find* modules. (<a class="reference external" href="http://github.com/ceph/ceph/pull/10178">pr#10178</a>, Kefu Chai)</li>
<li>cmake: work to get inital FreeBSD stuff (<a class="reference external" href="http://github.com/ceph/ceph/pull/10352">pr#10352</a>, Willem Jan Withagen)</li>
<li>cmake: find GIT_VER variables if there is no .git dir (<a class="reference external" href="http://github.com/ceph/ceph/pull/11499">pr#11499</a>, Ali Maredia)</li>
<li>common,bluestore: Isa-l extention for zlib compression plugin (<a class="reference external" href="http://github.com/ceph/ceph/pull/10158">pr#10158</a>, Alyona Kiseleva, Dan Mick)</li>
<li>common,bluestore: compressor/zlib: zlib wrapper fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/11079">pr#11079</a>, Igor Fedotov)</li>
<li>common: auth/cephx: misc fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/9679">pr#9679</a>, xie xingguo)</li>
<li>common: common/PluginRegistry: improve error output for shared library load fa… (<a class="reference external" href="http://github.com/ceph/ceph/pull/11081">pr#11081</a>, Igor Fedotov)</li>
<li>common: common/Throttle.h: remove unneeded class (<a class="reference external" href="http://github.com/ceph/ceph/pull/10902">pr#10902</a>, Michal Jarzabek)</li>
<li>common: common/Timer.h: delete copy constr and assign op (<a class="reference external" href="http://github.com/ceph/ceph/pull/11046">pr#11046</a>, Michal Jarzabek)</li>
<li>common: common/WorkQueue: add std move (<a class="reference external" href="http://github.com/ceph/ceph/pull/9729">pr#9729</a>, Michal Jarzabek)</li>
<li>common: compressor: zlib compressor plugin  cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/9782">pr#9782</a>, Alyona Kiseleva)</li>
<li>common: erasure-code: Runtime detection of SIMD for jerasure and shec (<a class="reference external" href="http://github.com/ceph/ceph/pull/11086">pr#11086</a>, Bassam Tabbara)</li>
<li>common: global: log which process/command sent a signal (<a class="reference external" href="http://github.com/ceph/ceph/pull/8964">pr#8964</a>, song baisen)</li>
<li>common: include/assert: clean up ceph assertion macros (<a class="reference external" href="http://github.com/ceph/ceph/pull/9969">pr#9969</a>, Sage Weil)</li>
<li>common: instantiate strict_si_cast&lt;long&gt; not strict_si_cast&lt;int64_t&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/16398">issue#16398</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9934">pr#9934</a>, Kefu Chai)</li>
<li>common: lockdep: verbose even if no logging is set (<a class="reference external" href="http://github.com/ceph/ceph/pull/10576">pr#10576</a>, Willem Jan Withagen)</li>
<li>common: messages/MOSDMap: mark as enlighten OSDMap encoder (<a class="reference external" href="http://github.com/ceph/ceph/pull/10843">pr#10843</a>, Sage Weil)</li>
<li>common: mon/Monitor.cc:replce lock/unlock with Mutex:Lockr (<a class="reference external" href="http://github.com/ceph/ceph/pull/9792">pr#9792</a>, Michal Jarzabek)</li>
<li>common: msg/AsyncMessenger.cc: remove code duplication (<a class="reference external" href="http://github.com/ceph/ceph/pull/10030">pr#10030</a>, Michal Jarzabek)</li>
<li>common: msg/async: less verbose debug messages at debug_ms=1 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11205">pr#11205</a>, Sage Weil)</li>
<li>common: msg/async: remove static member variable (<a class="reference external" href="http://tracker.ceph.com/issues/16686">issue#16686</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10440">pr#10440</a>, Kefu Chai)</li>
<li>common: only call crypto::init once per CephContext (<a class="reference external" href="http://tracker.ceph.com/issues/17205">issue#17205</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10965">pr#10965</a>, Casey Bodley)</li>
<li>common: osdc/ObjectCacher: change iterator to const_iterator and add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/9644">pr#9644</a>, Michal Jarzabek)</li>
<li>common: preforker: prevent call to &#8216;write&#8217; on an fd that was already closed (<a class="reference external" href="http://github.com/ceph/ceph/pull/10949">pr#10949</a>, Avner BenHanoch)</li>
<li>common: remove basename() dependency (<a class="reference external" href="http://github.com/ceph/ceph/pull/9845">pr#9845</a>, John Coyle)</li>
<li>common: src/common/buffer.cc fix judgment for lseek (<a class="reference external" href="http://github.com/ceph/ceph/pull/10130">pr#10130</a>, zhang.zezhu)</li>
<li>common: unknown hash type of judgment modification (<a class="reference external" href="http://github.com/ceph/ceph/pull/9510">pr#9510</a>, huanwen ren)</li>
<li>common: Timer.cc: replace long types with auto (<a class="reference external" href="http://github.com/ceph/ceph/pull/11067">pr#11067</a>, Michal Jarzabek)</li>
<li>common: TrackedOp: move ShardedTrackingData to .cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/10639">pr#10639</a>, Michal Jarzabek)</li>
<li>common: config_opts: fix comment(radio -&gt; ratio) (<a class="reference external" href="http://github.com/ceph/ceph/pull/10783">pr#10783</a>, xie xingguo)</li>
<li>common: src/common/dns_resolve.cc: reorder the includes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10505">pr#10505</a>, Willem Jan Withagen)</li>
<li>common: global/signal_handler: use sig_str instead of sys_siglist (<a class="reference external" href="http://github.com/ceph/ceph/pull/10633">pr#10633</a>, John Coyle)</li>
<li>core,cephfs: Revert &#8220;osd/ReplicatedPG: for sync-read it don&#8217;t cacl l_osd_op_r_prep… (<a class="reference external" href="http://tracker.ceph.com/issues/16908">issue#16908</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10875">pr#10875</a>, Samuel Just)</li>
<li>core,cephfs: mon/mds: add err info when load_metadata is abnormal (<a class="reference external" href="http://github.com/ceph/ceph/pull/10176">pr#10176</a>, huanwen ren)</li>
<li>core,common: osd/OSD.cc: remove unneeded returns (<a class="reference external" href="http://github.com/ceph/ceph/pull/11043">pr#11043</a>, Michal Jarzabek)</li>
<li>core,pybind: python-rados: extends ReadOp/WriteOp API (<a class="reference external" href="http://github.com/ceph/ceph/pull/9944">pr#9944</a>, Mehdi Abaakouk)</li>
<li>core,pybind: python-rados: implement new aio_stat. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11006">pr#11006</a>, Iain Buclaw)</li>
<li>core,pybind: qa/workunits/rados/test_python.sh: Allow specifying Python executable (<a class="reference external" href="http://github.com/ceph/ceph/pull/10782">pr#10782</a>, Oleh Prypin)</li>
<li>core:   os/filestore/LFNIndex: remove unused variable &#8216;subdir_path&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/8959">pr#8959</a>, huangjun)</li>
<li>core: Create ceph-mgr (<a class="reference external" href="http://github.com/ceph/ceph/pull/10328">pr#10328</a>, John Spray, Tim Serong)</li>
<li>core: FileJournal: Remove obsolete _check_disk_write_cache function (<a class="reference external" href="http://github.com/ceph/ceph/pull/11073">pr#11073</a>, Brad Hubbard)</li>
<li>core: Lua object class support (<a class="reference external" href="http://github.com/ceph/ceph/pull/7338">pr#7338</a>, Noah Watkins)</li>
<li>core: OSD crash with Hammer to Jewel Upgrade: void FileStore::init_temp_collections() (<a class="reference external" href="http://tracker.ceph.com/issues/16672">issue#16672</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10565">pr#10565</a>, David Zafman)</li>
<li>core: OSD.cc: remove unneeded return (<a class="reference external" href="http://github.com/ceph/ceph/pull/9701">pr#9701</a>, Michal Jarzabek)</li>
<li>core: OSD: avoid FileStore finisher deadlock in osd_lock when shutdown OSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/11052">pr#11052</a>, Haomai Wang)</li>
<li>core: ObjectCacher: fix last_write check in bh_write_adjacencies() (<a class="reference external" href="http://tracker.ceph.com/issues/16610">issue#16610</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10304">pr#10304</a>, Yan, Zheng)</li>
<li>core: ReplicatedPG: call op_applied for submit_log_entries based repops (<a class="reference external" href="http://github.com/ceph/ceph/pull/9489">pr#9489</a>, Samuel Just)</li>
<li>core: Wip 16998 (<a class="reference external" href="http://tracker.ceph.com/issues/16998">issue#16998</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10688">pr#10688</a>, Samuel Just)</li>
<li>core: ceph-create-keys: add missing argument comma (<a class="reference external" href="http://github.com/ceph/ceph/pull/11123">pr#11123</a>, Patrick Donnelly)</li>
<li>core: ceph-create-keys: fix existing-but-different case (<a class="reference external" href="http://tracker.ceph.com/issues/16255">issue#16255</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10415">pr#10415</a>, John Spray)</li>
<li>core: ceph-disk: partprobe should block udev induced BLKRRPART (<a class="reference external" href="http://tracker.ceph.com/issues/15176">issue#15176</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9330">pr#9330</a>, Marius Vollmer, Loic Dachary)</li>
<li>core: ceph-disk: timeout ceph-disk to avoid blocking forever (<a class="reference external" href="http://tracker.ceph.com/issues/16580">issue#16580</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10262">pr#10262</a>, Loic Dachary)</li>
<li>core: ceph-objectstore-tool: add a way to split filestore directories offline (<a class="reference external" href="http://tracker.ceph.com/issues/17220">issue#17220</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10776">pr#10776</a>, Josh Durgin)</li>
<li>core: ceph.in: python 3 compatibility of the ceph CLI (<a class="reference external" href="http://github.com/ceph/ceph/pull/9702">pr#9702</a>, Oleh Prypin)</li>
<li>core: ceph_mon: use readdir() as readdir_r() is deprecated (<a class="reference external" href="http://github.com/ceph/ceph/pull/11047">pr#11047</a>, Kefu Chai)</li>
<li>core: cephx: Fix multiple segfaults due to attempts to encrypt or decrypt (<a class="reference external" href="http://tracker.ceph.com/issues/16266">issue#16266</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9703">pr#9703</a>, Brad Hubbard)</li>
<li>core: <a class="reference external" href="https://github.com/ceph/ceph/pull/11052">https://github.com/ceph/ceph/pull/11052</a> (<a class="reference external" href="http://github.com/ceph/ceph/pull/10371">pr#10371</a>, Yan Jun)</li>
<li>core: include write error codes in the pg log (<a class="reference external" href="http://tracker.ceph.com/issues/14468">issue#14468</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10170">pr#10170</a>, Josh Durgin)</li>
<li>core: kv/MemDB: fix assert triggerred by m_total_bytes underflow (<a class="reference external" href="http://github.com/ceph/ceph/pull/10471">pr#10471</a>, xie xingguo)</li>
<li>core: kv/RocksDB: add perfcounter for submit_transaction_sync operation (<a class="reference external" href="http://github.com/ceph/ceph/pull/9770">pr#9770</a>, Haodong Tang)</li>
<li>core: logmon: check is_leader() before doing any work on get_trim_to() (<a class="reference external" href="http://github.com/ceph/ceph/pull/10342">pr#10342</a>, song baisen)</li>
<li>core: memstore: clone zero-fills holes from source range (<a class="reference external" href="http://github.com/ceph/ceph/pull/11157">pr#11157</a>, Casey Bodley)</li>
<li>core: message: optimization for message priority strategy (<a class="reference external" href="http://github.com/ceph/ceph/pull/8687">pr#8687</a>, yaoning)</li>
<li>core: messages/MForward: fix encoding features (<a class="reference external" href="http://tracker.ceph.com/issues/17365">issue#17365</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11180">pr#11180</a>, Sage Weil)</li>
<li>core: mgr/MgrClient: fix ms_handle_reset (<a class="reference external" href="http://github.com/ceph/ceph/pull/11298">pr#11298</a>, Sage Weil)</li>
<li>core: mgr/MgrMap: initialize all fields (<a class="reference external" href="http://tracker.ceph.com/issues/17492">issue#17492</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11308">pr#11308</a>, Sage Weil)</li>
<li>core: mon/ConfigKeyService: pass strings by const ref (<a class="reference external" href="http://github.com/ceph/ceph/pull/10618">pr#10618</a>, Michal Jarzabek)</li>
<li>core: mon/LogMonitor: move C_Log struct to cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10721">pr#10721</a>, Michal Jarzabek)</li>
<li>core: mon/MonClient.h: pass strings by const reference (<a class="reference external" href="http://github.com/ceph/ceph/pull/10605">pr#10605</a>, Michal Jarzabek)</li>
<li>core: mon/MonDBStore: fix assert which never fires (<a class="reference external" href="http://github.com/ceph/ceph/pull/10706">pr#10706</a>, xie xingguo)</li>
<li>core: mon/MonitorDBStore: do not use snapshot iterator; close on close (<a class="reference external" href="http://github.com/ceph/ceph/pull/10102">pr#10102</a>, Sage Weil)</li>
<li>core: mon/OSDMonitor.cc: remove use of boost assign (<a class="reference external" href="http://github.com/ceph/ceph/pull/11060">pr#11060</a>, Michal Jarzabek)</li>
<li>core: mon/PGMonitor: batch filter pg states; add sanity check (<a class="reference external" href="http://github.com/ceph/ceph/pull/9394">pr#9394</a>, xie xingguo)</li>
<li>core: mon/PGMonitor: calc the %USED of pool using used/(used+avail) (<a class="reference external" href="http://tracker.ceph.com/issues/16933">issue#16933</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10584">pr#10584</a>, Kefu Chai)</li>
<li>core: mon/PGMonitor: move C_Stats struct to cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10719">pr#10719</a>, Michal Jarzabek)</li>
<li>core: mon/PaxosService: make the return value type inconsistent (<a class="reference external" href="http://github.com/ceph/ceph/pull/10231">pr#10231</a>, zhang.zezhu)</li>
<li>core: mon/osdmonitor: fix incorrect output of &#8220;osd df&#8221; due to osd out (<a class="reference external" href="http://tracker.ceph.com/issues/16706">issue#16706</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10308">pr#10308</a>, xie xingguo)</li>
<li>core: msg/AsyncMessenger: change return type to void (<a class="reference external" href="http://github.com/ceph/ceph/pull/10230">pr#10230</a>, Michal Jarzabek)</li>
<li>core: msg/Messenger: add const and override to function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10183">pr#10183</a>, Michal Jarzabek)</li>
<li>core: msg/async/AsyncConnection: replace Mutex with std::mutex for peformance (<a class="reference external" href="http://tracker.ceph.com/issues/16714">issue#16714</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16715">issue#16715</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10340">pr#10340</a>, Haomai Wang)</li>
<li>core: msg/async/Event: ensure not refer to member variable which may destroyed (<a class="reference external" href="http://tracker.ceph.com/issues/16714">issue#16714</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10369">pr#10369</a>, Haomai Wang)</li>
<li>core: msg/async/kqueue: avoid remove nonexist kqueue event (<a class="reference external" href="http://github.com/ceph/ceph/pull/9869">pr#9869</a>, Haomai Wang)</li>
<li>core: msg/async: Support close idle connection feature  (<a class="reference external" href="http://tracker.ceph.com/issues/16366">issue#16366</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9783">pr#9783</a>, Haomai Wang)</li>
<li>core: msg/async: allow other async backend implementations (<a class="reference external" href="http://github.com/ceph/ceph/pull/10264">pr#10264</a>, Haomai Wang)</li>
<li>core: msg/async: avoid set out of range ms_async_op_threads option (<a class="reference external" href="http://github.com/ceph/ceph/pull/11200">pr#11200</a>, Haomai Wang)</li>
<li>core: msg/async: connect authorizer fix + recv_buf size (<a class="reference external" href="http://github.com/ceph/ceph/pull/9784">pr#9784</a>, Ilya Dryomov)</li>
<li>core: msg/async: harden error logic handle (<a class="reference external" href="http://github.com/ceph/ceph/pull/9781">pr#9781</a>, Haomai Wang)</li>
<li>core: msg/async: remove fd output in log prefix (<a class="reference external" href="http://github.com/ceph/ceph/pull/11199">pr#11199</a>, Haomai Wang)</li>
<li>core: msg/async: remove file event lock (<a class="reference external" href="http://tracker.ceph.com/issues/16554">issue#16554</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16552">issue#16552</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10090">pr#10090</a>, Haomai Wang)</li>
<li>core: msg/simple/Pipe: eliminating casts for the comparing of len and recv_max_prefetch (<a class="reference external" href="http://github.com/ceph/ceph/pull/10273">pr#10273</a>, zhang.zezhu)</li>
<li>core: msg/simple: fix wrong condition checking of writing TAG_CLOSE on closing (<a class="reference external" href="http://github.com/ceph/ceph/pull/10343">pr#10343</a>, xie xingguo)</li>
<li>core: msg/simple: wait dispatch_queue until all pipes closed (<a class="reference external" href="http://tracker.ceph.com/issues/16472">issue#16472</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9930">pr#9930</a>, Haomai Wang)</li>
<li>core: msg: make async backend default (<a class="reference external" href="http://github.com/ceph/ceph/pull/10746">pr#10746</a>, Haomai Wang)</li>
<li>core: msg: mark daemons down on RST + ECONNREFUSED (<a class="reference external" href="http://github.com/ceph/ceph/pull/8558">pr#8558</a>, Piotr Dałek)</li>
<li>core: os/FuseStore: fix several FuseStore issues (<a class="reference external" href="http://github.com/ceph/ceph/pull/10723">pr#10723</a>, Sage Weil)</li>
<li>core: os/MemStore: move BufferlistObject to .cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10833">pr#10833</a>, Michal Jarzabek)</li>
<li>core: os/ObjectStore: fix return code of collection_empty() method (<a class="reference external" href="http://github.com/ceph/ceph/pull/11050">pr#11050</a>, xie xingguo)</li>
<li>core: os/RocksDBStore: use effective Get API instead of iterator api (<a class="reference external" href="http://github.com/ceph/ceph/pull/9411">pr#9411</a>, Jianjian Huo, Haomai Wang, Mark Nelson)</li>
<li>core: os/filestore/FDCache: fix bug when filestore_fd_cache_shards = 0 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11048">pr#11048</a>, jimifm)</li>
<li>core: os/filestore/FileJournal: error out if FileJournal is not a file (<a class="reference external" href="http://tracker.ceph.com/issues/17307">issue#17307</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11146">pr#11146</a>, Kefu Chai)</li>
<li>core: os/filestore: add sanity checks and cleanups for mount() process (<a class="reference external" href="http://github.com/ceph/ceph/pull/9734">pr#9734</a>, xie xingguo)</li>
<li>core: os/filestore: disable use of splice by default (<a class="reference external" href="http://github.com/ceph/ceph/pull/11113">pr#11113</a>, Haomai Wang)</li>
<li>core: osd/OSD.cc: remove repeated searching of map (<a class="reference external" href="http://github.com/ceph/ceph/pull/10986">pr#10986</a>, Michal Jarzabek)</li>
<li>core: osd/OSD.cc: remove unneeded searching of maps (<a class="reference external" href="http://github.com/ceph/ceph/pull/11039">pr#11039</a>, Michal Jarzabek)</li>
<li>core: osd/OSD.h: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/11114">pr#11114</a>, Michal Jarzabek)</li>
<li>core: osd/OSD.h: move some members under private (<a class="reference external" href="http://github.com/ceph/ceph/pull/11121">pr#11121</a>, Michal Jarzabek)</li>
<li>core: osd/OSD.h: remove unneeded line (<a class="reference external" href="http://github.com/ceph/ceph/pull/8980">pr#8980</a>, Michal Jarzabek)</li>
<li>core: osd/OSDMonitor: misc. cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/10739">pr#10739</a>, xie xingguo)</li>
<li>core: osd/OSDMonitor: misc. fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10491">pr#10491</a>, xie xingguo)</li>
<li>core: osd/ReplicatedBackend: add sanity check during build_push_op() (<a class="reference external" href="http://github.com/ceph/ceph/pull/9491">pr#9491</a>, Yan Jun)</li>
<li>core: osd/ReplicatedPG: for sync-read it don&#8217;t cacl l_osd_op_r_prepare_lat. (<a class="reference external" href="http://github.com/ceph/ceph/pull/10365">pr#10365</a>, Jianpeng Ma)</li>
<li>core: osd/ReplicatedPG: remove class redeclaration (<a class="reference external" href="http://github.com/ceph/ceph/pull/11041">pr#11041</a>, Michal Jarzabek)</li>
<li>core: osd/ReplicatedPG: remove unused param &#8220;op&#8221; from generate_subop() (<a class="reference external" href="http://github.com/ceph/ceph/pull/10811">pr#10811</a>, jimifm)</li>
<li>core: osd/Watch: add consts to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/10251">pr#10251</a>, Michal Jarzabek)</li>
<li>core: osd/osd_type: check if pool is gone during check_new_interval()  (<a class="reference external" href="http://github.com/ceph/ceph/pull/10859">pr#10859</a>, xie xingguo)</li>
<li>core: osd/osdmonitor: pool of objects and bytes beyond quota should all be warn (<a class="reference external" href="http://github.com/ceph/ceph/pull/9085">pr#9085</a>, huanwen ren)</li>
<li>core: osdc/objecter: misc fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10826">pr#10826</a>, xie xingguo)</li>
<li>core: pass string by const ref and add override to virtual function (<a class="reference external" href="http://github.com/ceph/ceph/pull/9082">pr#9082</a>, Michal Jarzabek)</li>
<li>core: qa/workunits/objectstore/test_fuse.sh: make test_fuse.sh work with filestore (<a class="reference external" href="http://github.com/ceph/ceph/pull/11057">pr#11057</a>, Sage Weil)</li>
<li>core: rados: add option to include clones when doing flush or evict (<a class="reference external" href="http://github.com/ceph/ceph/pull/9698">pr#9698</a>, Mingxin Liu)</li>
<li>core: subman: use replace instead of format (<a class="reference external" href="http://tracker.ceph.com/issues/16961">issue#16961</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10620">pr#10620</a>, Loic Dachary)</li>
<li>core: test/common/Throttle.cc: fix race in shutdown (<a class="reference external" href="http://github.com/ceph/ceph/pull/10094">pr#10094</a>, Samuel Just)</li>
<li>core: test: add the necessary judgment (<a class="reference external" href="http://github.com/ceph/ceph/pull/9694">pr#9694</a>, huanwen ren)</li>
<li>core: tox.ini: remove extraneous coverage &#8211;omit option (<a class="reference external" href="http://github.com/ceph/ceph/pull/10943">pr#10943</a>, Josh Durgin)</li>
<li>core: udev: always populate /dev/disk/by-parttypeuuid (<a class="reference external" href="http://tracker.ceph.com/issues/16351">issue#16351</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9885">pr#9885</a>, Loic Dachary)</li>
<li>core: os/FuseStore: remove unneeded header file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10799">pr#10799</a>, Michal Jarzabek)</li>
<li>core: os/MemStore: move OmapIteratorImpl to cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10803">pr#10803</a>, Michal Jarzabek)</li>
<li>core: os/Memstore.h: add override to virtual functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/10801">pr#10801</a>, Michal Jarzabek)</li>
<li>core: os/Memstore: move PageSetObject class to .cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10817">pr#10817</a>, Michal Jarzabek)</li>
<li>core: os/bluestore: remove unused head file. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11186">pr#11186</a>, Jianpeng Ma)</li>
<li>core: safe_io: Improve portability by replacing loff_t type usage with off_t. (<a class="reference external" href="http://github.com/ceph/ceph/pull/9767">pr#9767</a>, John Coyle)</li>
<li>core: src/kv/MemDB.cc: the type of the parameter of push_back() does not match the ops&#8217;s value_type (<a class="reference external" href="http://github.com/ceph/ceph/pull/10455">pr#10455</a>, Willem Jan Withagen)</li>
<li>core: msg/simple: apply prefetch policy more precisely (<a class="reference external" href="http://github.com/ceph/ceph/pull/10344">pr#10344</a>, xie xingguo)</li>
<li>core: CompatSet.h: remove unneeded inline (<a class="reference external" href="http://github.com/ceph/ceph/pull/10071">pr#10071</a>, Michal Jarzabek)</li>
<li>core: Objclass perm feedback (<a class="reference external" href="http://github.com/ceph/ceph/pull/10313">pr#10313</a>, Noah Watkins)</li>
<li>core: arch/arm.c: remove unnecessary variable read for simplicity (<a class="reference external" href="http://github.com/ceph/ceph/pull/10821">pr#10821</a>, Weibing Zhang)</li>
<li>crush: don&#8217;t normalize input of crush_ln iteratively (<a class="reference external" href="http://github.com/ceph/ceph/pull/10935">pr#10935</a>, Piotr Dałek)</li>
<li>crush: reset bucket-&gt;h.items[i] when removing tree item (<a class="reference external" href="http://tracker.ceph.com/issues/16525">issue#16525</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10093">pr#10093</a>, Kefu Chai)</li>
<li>crush: CrushCompiler.cc:884 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10952">pr#10952</a>, xu biao)</li>
<li>crush: CrushCompiler: error out as long as parse fails (<a class="reference external" href="http://tracker.ceph.com/issues/17306">issue#17306</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11144">pr#11144</a>, Kefu Chai)</li>
<li>doc: Add documentation about snapshots (<a class="reference external" href="http://github.com/ceph/ceph/pull/10436">pr#10436</a>, Greg Farnum)</li>
<li>doc: Add two options to radosgw-admin.rst manpage (<a class="reference external" href="http://tracker.ceph.com/issues/17281">issue#17281</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11134">pr#11134</a>, Thomas Serlin)</li>
<li>doc: Changed config parameter &#8220;rgw keystone make new tenants&#8221; in radosgw multitenancy (<a class="reference external" href="http://tracker.ceph.com/issues/17293">issue#17293</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11127">pr#11127</a>, SirishaGuduru)</li>
<li>doc: Modification for &#8220;TEST S3 ACCESS&#8221; section  in &#8220;INSTALL CEPH OBJECT GATEWAY&#8221; page (<a class="reference external" href="http://github.com/ceph/ceph/pull/9089">pr#9089</a>, la-sguduru)</li>
<li>doc: Update developer docs for cmake paths (<a class="reference external" href="http://github.com/ceph/ceph/pull/11163">pr#11163</a>, John Spray)</li>
<li>doc: add &#8220;&#8211;orphan-stale-secs&#8221; to radosgw-admin(8) (<a class="reference external" href="http://tracker.ceph.com/issues/17280">issue#17280</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11097">pr#11097</a>, Ken Dreyer)</li>
<li>doc: add $pid metavar conf doc (<a class="reference external" href="http://github.com/ceph/ceph/pull/11172">pr#11172</a>, Patrick Donnelly)</li>
<li>doc: add Backporting section to Essentials chapter (<a class="reference external" href="http://tracker.ceph.com/issues/15497">issue#15497</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10457">pr#10457</a>, Nathan Cutler)</li>
<li>doc: add Prepare tenant section to Testing in the cloud chapter (<a class="reference external" href="http://github.com/ceph/ceph/pull/10413">pr#10413</a>, Nathan Cutler)</li>
<li>doc: add Upload logs to archive server section... (<a class="reference external" href="http://github.com/ceph/ceph/pull/10414">pr#10414</a>, Nathan Cutler)</li>
<li>doc: add client config ref (<a class="reference external" href="http://tracker.ceph.com/issues/16743">issue#16743</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10434">pr#10434</a>, Patrick Donnelly)</li>
<li>doc: add graphic for cap bit field (<a class="reference external" href="http://github.com/ceph/ceph/pull/10897">pr#10897</a>, Patrick Donnelly)</li>
<li>doc: add missing PR to hammer 0.94.8 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10900">pr#10900</a>, Nathan Cutler)</li>
<li>doc: add openSUSE instructions to quick-start-preflight (<a class="reference external" href="http://github.com/ceph/ceph/pull/10454">pr#10454</a>, Nathan Cutler)</li>
<li>doc: add rgw_enable_usage_log option in Rados Gateway admin guide (<a class="reference external" href="http://tracker.ceph.com/issues/16604">issue#16604</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10159">pr#10159</a>, Mike Hackett)</li>
<li>doc: add troubleshooting steps for ceph-fuse (<a class="reference external" href="http://github.com/ceph/ceph/pull/10374">pr#10374</a>, Ken Dreyer)</li>
<li>doc: admin/build-doc: bypass sanity check if building doc (<a class="reference external" href="http://tracker.ceph.com/issues/16940">issue#16940</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10623">pr#10623</a>, Kefu Chai)</li>
<li>doc: ceph-authtool man page option is &#8211;print-key not &#8211;print (<a class="reference external" href="http://github.com/ceph/ceph/pull/9731">pr#9731</a>, Brad Hubbard)</li>
<li>doc: ceph-deploy mon add doesn&#8217;t take multiple nodes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10085">pr#10085</a>, Chengwei Yang)</li>
<li>doc: clarify rbd size units (<a class="reference external" href="http://github.com/ceph/ceph/pull/11303">pr#11303</a>, Ilya Dryomov)</li>
<li>doc: cleanup outdated radosgw description (<a class="reference external" href="http://github.com/ceph/ceph/pull/11248">pr#11248</a>, Jiaying Ren)</li>
<li>doc: describe libvirt client logging (<a class="reference external" href="http://github.com/ceph/ceph/pull/10542">pr#10542</a>, Ken Dreyer)</li>
<li>doc: do not list all major versions in get-packages.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/10899">pr#10899</a>, Nathan Cutler)</li>
<li>doc: doc/cephfs: explain the various health messages (<a class="reference external" href="http://github.com/ceph/ceph/pull/10244">pr#10244</a>, John Spray)</li>
<li>doc: doc/dev: Fix missing code section due to no lexer for &#8220;none&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/9083">pr#9083</a>, Brad Hubbard)</li>
<li>doc: doc/radosgw: fix description of response elements &#8216;Part&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/10641">pr#10641</a>, weiqiaomiao)</li>
<li>doc: doc/radosgw: rename config.rst to config-fcgi.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/10381">pr#10381</a>, Nathan Cutler)</li>
<li>doc: extend the CephFS troubleshooting guide (<a class="reference external" href="http://github.com/ceph/ceph/pull/10458">pr#10458</a>, Greg Farnum)</li>
<li>doc: fix broken link in SHEC erasure code plugin (<a class="reference external" href="http://tracker.ceph.com/issues/16996">issue#16996</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10675">pr#10675</a>, Albert Tu)</li>
<li>doc: fix description for rsize and rasize (<a class="reference external" href="http://github.com/ceph/ceph/pull/11101">pr#11101</a>, Andreas Gerstmayr)</li>
<li>doc: fix rados/configuration/osd-config-ref.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/10619">pr#10619</a>, Chengwei Yang)</li>
<li>doc: fix singleton example in Developer Guide (<a class="reference external" href="http://github.com/ceph/ceph/pull/10830">pr#10830</a>, Nathan Cutler)</li>
<li>doc: fix some nits in release notes and releases table (<a class="reference external" href="http://github.com/ceph/ceph/pull/10903">pr#10903</a>, Nathan Cutler)</li>
<li>doc: fix standby replay config (<a class="reference external" href="http://tracker.ceph.com/issues/16664">issue#16664</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10268">pr#10268</a>, Patrick Donnelly)</li>
<li>doc: fix wrong osdkeepalive name in mount.ceph manpage (<a class="reference external" href="http://github.com/ceph/ceph/pull/10840">pr#10840</a>, Zhi Zhang)</li>
<li>doc: fix/add changelog for 10.2.2, 0.94.7, 0.94.8 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10895">pr#10895</a>, Sage Weil)</li>
<li>doc: format 2 now is the default image format (<a class="reference external" href="http://github.com/ceph/ceph/pull/10705">pr#10705</a>, Chengwei Yang)</li>
<li>doc: lgtm (build verified f23) (<a class="reference external" href="http://github.com/ceph/ceph/pull/9745">pr#9745</a>, weiqiaomiao)</li>
<li>doc: mailmap updates for upcoming 11.0.0 (<a class="reference external" href="http://github.com/ceph/ceph/pull/9301">pr#9301</a>, Yann Dupont)</li>
<li>doc: manual instructions to set up mds daemon (<a class="reference external" href="http://github.com/ceph/ceph/pull/11115">pr#11115</a>, Peter Maloney)</li>
<li>doc: missing &#8220;make vstart&#8221; in quick_guide.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/11226">pr#11226</a>, Leo Zhang)</li>
<li>doc: more details for pool deletion (<a class="reference external" href="http://github.com/ceph/ceph/pull/10190">pr#10190</a>, Ken Dreyer)</li>
<li>doc: peering.rst, fix typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/10131">pr#10131</a>, Brad Hubbard)</li>
<li>doc: perf_counters.rst fix trivial typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/10292">pr#10292</a>, Brad Hubbard)</li>
<li>doc: rbdmap: specify bash shell interpreter (<a class="reference external" href="http://tracker.ceph.com/issues/16608">issue#16608</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10733">pr#10733</a>, Jason Dillaman)</li>
<li>doc: release-notes.rst: draft 0.94.8 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10730">pr#10730</a>, Nathan Cutler)</li>
<li>doc: remove btrfs contradiction (<a class="reference external" href="http://github.com/ceph/ceph/pull/9758">pr#9758</a>, Nathan Cutler)</li>
<li>doc: remove i386 from minimal hardware recommendations (<a class="reference external" href="http://github.com/ceph/ceph/pull/10276">pr#10276</a>, Kefu Chai)</li>
<li>doc: remove old references to inktank premium support (<a class="reference external" href="http://github.com/ceph/ceph/pull/11182">pr#11182</a>, Alfredo Deza)</li>
<li>doc: remove the description of deleted options (<a class="reference external" href="http://tracker.ceph.com/issues/17041">issue#17041</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10741">pr#10741</a>, MinSheng Lin)</li>
<li>doc: rgw, doc: fix formatting around Keystone-related options. (<a class="reference external" href="http://github.com/ceph/ceph/pull/10331">pr#10331</a>, Radoslaw Zarzynski)</li>
<li>doc: rgw/doc: fix indent (<a class="reference external" href="http://github.com/ceph/ceph/pull/10676">pr#10676</a>, Yan Jun)</li>
<li>doc: rm SysV instructions, add systemd (<a class="reference external" href="http://github.com/ceph/ceph/pull/10184">pr#10184</a>, Ken Dreyer)</li>
<li>doc: silence sphinx warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/10621">pr#10621</a>, Kefu Chai)</li>
<li>doc: small standby doc edits (<a class="reference external" href="http://github.com/ceph/ceph/pull/10479">pr#10479</a>, Patrick Donnelly)</li>
<li>doc: update CephFS &#8220;early adopters&#8221; info (<a class="reference external" href="http://github.com/ceph/ceph/pull/10068">pr#10068</a>, John Spray)</li>
<li>doc: update canonical tarballs URL (<a class="reference external" href="http://github.com/ceph/ceph/pull/9695">pr#9695</a>, Ken Dreyer)</li>
<li>doc: update rbd glance configuration notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10629">pr#10629</a>, Jason Dillaman)</li>
<li>doc: update s3 static webiste feature support status (<a class="reference external" href="http://github.com/ceph/ceph/pull/10223">pr#10223</a>, Jiaying Ren)</li>
<li>doc: changelog: add v10.2.3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11238">pr#11238</a>, Abhishek Lekshmanan)</li>
<li>doc: install: Use <a class="reference external" href="https://">https://</a> for download.ceph.com (<a class="reference external" href="http://github.com/ceph/ceph/pull/10709">pr#10709</a>, Colin Walters)</li>
<li>doc: release-notes: v0.94.9 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10927">pr#10927</a>, Sage Weil)</li>
<li>doc: release-notes: v10.2.3 jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/11234">pr#11234</a>, Abhishek Lekshmanan)</li>
<li>doc: Add UK mirror and update copyright (<a class="reference external" href="http://github.com/ceph/ceph/pull/10531">pr#10531</a>, Patrick McGarry)</li>
<li>doc: README.md: replace package build instructions with tarball instructions (<a class="reference external" href="http://github.com/ceph/ceph/pull/10829">pr#10829</a>, Sage Weil)</li>
<li>doc: Removed reference about pool ownership based on BZ#1368528 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11063">pr#11063</a>, Bara Ancincova)</li>
<li>librados: use bufferlist instead of buffer::list in public header (<a class="reference external" href="http://github.com/ceph/ceph/pull/10632">pr#10632</a>, Ryne Li)</li>
<li>librados: Rados-stripper: Flexible string matching for not found attributes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10577">pr#10577</a>, Willem Jan Withagen)</li>
<li>librados: librados examples: link and include from current source tree by default. (<a class="reference external" href="http://tracker.ceph.com/issues/15100">issue#15100</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8189">pr#8189</a>, Jesse Williamson)</li>
<li>librbd: API methods to directly acquire and release the exclusive lock (<a class="reference external" href="http://tracker.ceph.com/issues/15632">issue#15632</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9592">pr#9592</a>, Mykola Golub)</li>
<li>librbd: add consistency groups operations with images (<a class="reference external" href="http://github.com/ceph/ceph/pull/10034">pr#10034</a>, Victor Denisov)</li>
<li>librbd: add explicit shrink check while resizing images (<a class="reference external" href="http://github.com/ceph/ceph/pull/9878">pr#9878</a>, Vaibhav Bhembre)</li>
<li>librbd: asynchronous v2 image creation (<a class="reference external" href="http://tracker.ceph.com/issues/15321">issue#15321</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9585">pr#9585</a>, Venky Shankar)</li>
<li>librbd: backward/forward compatibility for update_features (<a class="reference external" href="http://tracker.ceph.com/issues/17330">issue#17330</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11155">pr#11155</a>, Jason Dillaman)</li>
<li>librbd: block name prefix might overflow fixed size C-string (<a class="reference external" href="http://tracker.ceph.com/issues/17310">issue#17310</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11148">pr#11148</a>, Jason Dillaman)</li>
<li>librbd: cache was not switching to writeback after first flush (<a class="reference external" href="http://tracker.ceph.com/issues/16654">issue#16654</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10762">pr#10762</a>, Jason Dillaman)</li>
<li>librbd: corrected use-after-free in ImageWatcher (<a class="reference external" href="http://tracker.ceph.com/issues/17289">issue#17289</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11112">pr#11112</a>, Jason Dillaman)</li>
<li>librbd: deadlock when replaying journal during image open (<a class="reference external" href="http://tracker.ceph.com/issues/17188">issue#17188</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10945">pr#10945</a>, Jason Dillaman)</li>
<li>librbd: delay acquiring lock if image watch has failed (<a class="reference external" href="http://tracker.ceph.com/issues/16923">issue#16923</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10574">pr#10574</a>, Jason Dillaman)</li>
<li>librbd: discard hangs when &#8216;rbd_skip_partial_discard&#8217; is enabled (<a class="reference external" href="http://tracker.ceph.com/issues/16386">issue#16386</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10060">pr#10060</a>, Mykola Golub)</li>
<li>librbd: extract group module from librbd/internal (<a class="reference external" href="http://github.com/ceph/ceph/pull/11070">pr#11070</a>, Victor Denisov)</li>
<li>librbd: failed assertion after shrinking a clone image twice (<a class="reference external" href="http://tracker.ceph.com/issues/16561">issue#16561</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10072">pr#10072</a>, Jason Dillaman)</li>
<li>librbd: fix missing return statement if failed to get mirror image state (<a class="reference external" href="http://github.com/ceph/ceph/pull/10136">pr#10136</a>, runsisi)</li>
<li>librbd: fix possible inconsistent state when disabling mirroring fails (<a class="reference external" href="http://tracker.ceph.com/issues/16984">issue#16984</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10711">pr#10711</a>, Jason Dillaman)</li>
<li>librbd: ignore partial refresh error when acquiring exclusive lock (<a class="reference external" href="http://tracker.ceph.com/issues/17227">issue#17227</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11044">pr#11044</a>, Jason Dillaman)</li>
<li>librbd: initial hooks for client-side, image-extent cache in IO path (<a class="reference external" href="http://github.com/ceph/ceph/pull/9121">pr#9121</a>, Jason Dillaman)</li>
<li>librbd: interlock image refresh and exclusive lock operations (<a class="reference external" href="http://tracker.ceph.com/issues/16773">issue#16773</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17015">issue#17015</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10770">pr#10770</a>, Jason Dillaman)</li>
<li>librbd: memory leak in MirroringWatcher::notify_image_updated (<a class="reference external" href="http://github.com/ceph/ceph/pull/11306">pr#11306</a>, Mykola Golub)</li>
<li>librbd: optimize away unnecessary object map updates  (<a class="reference external" href="http://tracker.ceph.com/issues/16707">issue#16707</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16689">issue#16689</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10332">pr#10332</a>, Jason Dillaman)</li>
<li>librbd: optionally unregister &#8220;laggy&#8221; journal clients (<a class="reference external" href="http://tracker.ceph.com/issues/14738">issue#14738</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10378">pr#10378</a>, Mykola Golub)</li>
<li>librbd: permit disabling journaling if in corrupt state (<a class="reference external" href="http://tracker.ceph.com/issues/16740">issue#16740</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10712">pr#10712</a>, Jason Dillaman)</li>
<li>librbd: possible deadlock if cluster connection closed after image (<a class="reference external" href="http://tracker.ceph.com/issues/17254">issue#17254</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11037">pr#11037</a>, Jason Dillaman)</li>
<li>librbd: potential deadlock closing image with in-flight readahead (<a class="reference external" href="http://tracker.ceph.com/issues/17198">issue#17198</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11152">pr#11152</a>, Jason Dillaman)</li>
<li>librbd: potential double-unwatch of watch handle upon error (<a class="reference external" href="http://tracker.ceph.com/issues/17210">issue#17210</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10974">pr#10974</a>, Jason Dillaman)</li>
<li>librbd: potential seg fault when blacklisting an image client (<a class="reference external" href="http://tracker.ceph.com/issues/17251">issue#17251</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11034">pr#11034</a>, Jason Dillaman)</li>
<li>librbd: prevent creation of clone from non-primary mirrored image (<a class="reference external" href="http://tracker.ceph.com/issues/16449">issue#16449</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10123">pr#10123</a>, Mykola Golub)</li>
<li>librbd: prevent creation of v2 image ids that are too large (<a class="reference external" href="http://tracker.ceph.com/issues/16887">issue#16887</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10581">pr#10581</a>, Jason Dillaman)</li>
<li>mds: Add path filtering for dump cache (<a class="reference external" href="http://tracker.ceph.com/issues/11171">issue#11171</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9925">pr#9925</a>, Douglas Fuller)</li>
<li>mds: Kill C_SaferCond in evict_sessions() (<a class="reference external" href="http://tracker.ceph.com/issues/16288">issue#16288</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9971">pr#9971</a>, Douglas Fuller)</li>
<li>mds: Return &#8220;committing&#8221; rather than &#8220;committed&#8221; member in get_committing (<a class="reference external" href="http://github.com/ceph/ceph/pull/10250">pr#10250</a>, Greg Farnum)</li>
<li>mds: Set mds_snap_max_uid to 4294967294 (<a class="reference external" href="http://github.com/ceph/ceph/pull/11016">pr#11016</a>, Wido den Hollander)</li>
<li>mds: add assertion in handle_slave_rename_prep (<a class="reference external" href="http://tracker.ceph.com/issues/16807">issue#16807</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10429">pr#10429</a>, John Spray)</li>
<li>mds: add assertions for standby_daemons invariant (<a class="reference external" href="http://tracker.ceph.com/issues/16592">issue#16592</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10316">pr#10316</a>, Patrick Donnelly)</li>
<li>mds: add health warning for oversized cache (<a class="reference external" href="http://tracker.ceph.com/issues/16570">issue#16570</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10245">pr#10245</a>, John Spray)</li>
<li>mds: add maximum fragment size constraint (<a class="reference external" href="http://tracker.ceph.com/issues/16164">issue#16164</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9789">pr#9789</a>, Patrick Donnelly)</li>
<li>mds: add perf counters for MDLog replay and SessionMap (<a class="reference external" href="http://github.com/ceph/ceph/pull/10539">pr#10539</a>, John Spray)</li>
<li>mds: catch duplicates in DamageTable (<a class="reference external" href="http://tracker.ceph.com/issues/17173">issue#17173</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11137">pr#11137</a>, John Spray)</li>
<li>mds: fix Session::check_access() (<a class="reference external" href="http://tracker.ceph.com/issues/16358">issue#16358</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9769">pr#9769</a>, Yan, Zheng)</li>
<li>mds: fix daemon selection when starting ranks (<a class="reference external" href="http://github.com/ceph/ceph/pull/10540">pr#10540</a>, John Spray)</li>
<li>mds: fix shutting down mds timed-out due to deadlock (<a class="reference external" href="http://tracker.ceph.com/issues/16396">issue#16396</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9884">pr#9884</a>, Zhi Zhang)</li>
<li>mds: fix up _dispatch ref-counting semantics (<a class="reference external" href="http://github.com/ceph/ceph/pull/10533">pr#10533</a>, Greg Farnum)</li>
<li>mds: fixup dump Formatter&#8217; type error; add path_ino and is_primary in the CDentry::dump() (<a class="reference external" href="http://github.com/ceph/ceph/pull/10119">pr#10119</a>, huanwen ren)</li>
<li>mds: handle blacklisting during journal recovery (<a class="reference external" href="http://tracker.ceph.com/issues/17236">issue#17236</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11138">pr#11138</a>, John Spray)</li>
<li>mds: log path with CDir damage messages (<a class="reference external" href="http://tracker.ceph.com/issues/16973">issue#16973</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10996">pr#10996</a>, John Spray)</li>
<li>mds: move Finisher to unlocked shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/16042">issue#16042</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10142">pr#10142</a>, Patrick Donnelly)</li>
<li>mds: populate DamageTable from scrub and log more quietly (<a class="reference external" href="http://tracker.ceph.com/issues/16016">issue#16016</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11136">pr#11136</a>, John Spray)</li>
<li>mds: remove fail-safe queueing replay request (<a class="reference external" href="http://tracker.ceph.com/issues/17271">issue#17271</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11078">pr#11078</a>, Yan, Zheng)</li>
<li>mds: remove max_mds config option (<a class="reference external" href="http://tracker.ceph.com/issues/17105">issue#17105</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10914">pr#10914</a>, Patrick Donnelly)</li>
<li>mds: remove unused MDSDaemon::objecter (<a class="reference external" href="http://github.com/ceph/ceph/pull/10566">pr#10566</a>, Patrick Donnelly)</li>
<li>mds: snap failover fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/9955">pr#9955</a>, Yan, Zheng)</li>
<li>mds: trim null dentries proactively (<a class="reference external" href="http://tracker.ceph.com/issues/16919">issue#16919</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10606">pr#10606</a>, John Spray)</li>
<li>mds: unuse Class and cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/10399">pr#10399</a>, huanwen ren)</li>
<li>mds: use reference to avoid copy (<a class="reference external" href="http://github.com/ceph/ceph/pull/10191">pr#10191</a>, Patrick Donnelly)</li>
<li>mds: MDCache.h: remove unneeded access specifier (<a class="reference external" href="http://github.com/ceph/ceph/pull/10901">pr#10901</a>, Michal Jarzabek)</li>
<li>mds: MDSDaemon: move C_MDS_Tick class to .cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/11220">pr#11220</a>, Michal Jarzabek)</li>
<li>mgr: implement con reset handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/11299">pr#11299</a>, Sage Weil)</li>
<li>mgr: squash compiler warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/11307">pr#11307</a>, John Spray)</li>
<li>mon: MonClient may hang on pinging an unresponsive monitor (<a class="reference external" href="http://github.com/ceph/ceph/pull/9259">pr#9259</a>, xie xingguo)</li>
<li>mon: Monitor: validate prefix on handle_command() (<a class="reference external" href="http://tracker.ceph.com/issues/16297">issue#16297</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9700">pr#9700</a>, You Ji)</li>
<li>mon: OSDMonitor: Missing nearfull flag set (<a class="reference external" href="http://github.com/ceph/ceph/pull/11082">pr#11082</a>, Igor Podoski)</li>
<li>mon: change osdmap flags set and unset messages (<a class="reference external" href="http://tracker.ceph.com/issues/15983">issue#15983</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9252">pr#9252</a>, Vikhyat Umrao)</li>
<li>mon: clear list in better way (<a class="reference external" href="http://github.com/ceph/ceph/pull/9718">pr#9718</a>, song baisen)</li>
<li>mon: do not recalculate &#8216;to_remove&#8217; when it&#8217;s known (<a class="reference external" href="http://github.com/ceph/ceph/pull/9717">pr#9717</a>, song baisen)</li>
<li>mon: misc cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/10591">pr#10591</a>, xie xingguo)</li>
<li>mon: remove the redundant cancel_probe_timeout function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10261">pr#10261</a>, song baisen)</li>
<li>mon: remove the redundant is_active judge in PaxosService (<a class="reference external" href="http://github.com/ceph/ceph/pull/9749">pr#9749</a>, song baisen)</li>
<li>mon: tear down standby replays on MDS rank stop (<a class="reference external" href="http://tracker.ceph.com/issues/16909">issue#16909</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10628">pr#10628</a>, John Spray)</li>
<li>mon: use clearer code structure (<a class="reference external" href="http://github.com/ceph/ceph/pull/10192">pr#10192</a>, Patrick Donnelly)</li>
<li>mon: validate states transmitted in beacons (<a class="reference external" href="http://tracker.ceph.com/issues/16592">issue#16592</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10428">pr#10428</a>, John Spray)</li>
<li>mon: wait 10m (not 5m) before marking down OSDs out (<a class="reference external" href="http://github.com/ceph/ceph/pull/11184">pr#11184</a>, Sage Weil)</li>
<li>mon: write fsid use the right return value (<a class="reference external" href="http://github.com/ceph/ceph/pull/10197">pr#10197</a>, song baisen)</li>
<li>mon: Elector:move C_ElectionExpire class to cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10416">pr#10416</a>, Michal Jarzabek)</li>
<li>mon: HealthMonitor: add override to virtual functs (<a class="reference external" href="http://github.com/ceph/ceph/pull/10549">pr#10549</a>, Michal Jarzabek)</li>
<li>mon: HealthMonitor: remove unneeded include (<a class="reference external" href="http://github.com/ceph/ceph/pull/10563">pr#10563</a>, Michal Jarzabek)</li>
<li>mon: MonClient.h: delete copy constr and assing op (<a class="reference external" href="http://github.com/ceph/ceph/pull/10599">pr#10599</a>, Michal Jarzabek)</li>
<li>mon: MonClient: move C_CancelMonCommand to cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10392">pr#10392</a>, Michal Jarzabek)</li>
<li>mon: MonClient: move C_Tick struct to cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10383">pr#10383</a>, Michal Jarzabek)</li>
<li>mon: Monitor.h: add override to virtual functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/10515">pr#10515</a>, Michal Jarzabek)</li>
<li>mon: Monitor: move C_Scrub, C_ScrubTimeout to .cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/10513">pr#10513</a>, Michal Jarzabek)</li>
<li>mon: OSDMonitor.cc: remove unneeded casts (<a class="reference external" href="http://github.com/ceph/ceph/pull/10575">pr#10575</a>, Michal Jarzabek)</li>
<li>mon: Paxos: move classes to .cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/11215">pr#11215</a>, Michal Jarzabek)</li>
<li>mon: PaxosService: move classes to cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10529">pr#10529</a>, Michal Jarzabek)</li>
<li>mon: remove the redundant list swap in paxos commit_proposal (<a class="reference external" href="http://github.com/ceph/ceph/pull/10011">pr#10011</a>, song baisen)</li>
<li>msgr: set close on exec flag (<a class="reference external" href="http://tracker.ceph.com/issues/16390">issue#16390</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9772">pr#9772</a>, Kefu Chai)</li>
<li>msgr: Accepter.h: add override to virtual function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10422">pr#10422</a>, Michal Jarzabek)</li>
<li>msgr: Accepter: move include to cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10441">pr#10441</a>, Michal Jarzabek)</li>
<li>msgr: AsyncConnection: add const to mem functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/10302">pr#10302</a>, Michal Jarzabek)</li>
<li>msgr: AsyncMessenger.cc: remove unneeded cast (<a class="reference external" href="http://github.com/ceph/ceph/pull/10141">pr#10141</a>, Michal Jarzabek)</li>
<li>msgr: AsyncMessenger: add const to function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10114">pr#10114</a>, Michal Jarzabek)</li>
<li>msgr: AsyncMessenger: move C_handle_reap class to cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/10113">pr#10113</a>, Michal Jarzabek)</li>
<li>msgr: AsyncMessenger: move C_processor_accept class (<a class="reference external" href="http://github.com/ceph/ceph/pull/9991">pr#9991</a>, Michal Jarzabek)</li>
<li>msgr: AsyncMessenger: remove unneeded include file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10195">pr#10195</a>, Michal Jarzabek)</li>
<li>msgr: AsyncMessenger: remove unused function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10163">pr#10163</a>, Michal Jarzabek)</li>
<li>msgr: EventKqueue.h: add override to virtual func (<a class="reference external" href="http://github.com/ceph/ceph/pull/10318">pr#10318</a>, Michal Jarzabek)</li>
<li>msgr: EventPoll.h: add override to virtual functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/10314">pr#10314</a>, Michal Jarzabek)</li>
<li>msgr: EventSelect.h: add override to virtual funct (<a class="reference external" href="http://github.com/ceph/ceph/pull/10321">pr#10321</a>, Michal Jarzabek)</li>
<li>msgr: EventSelect: move includes to cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10333">pr#10333</a>, Michal Jarzabek)</li>
<li>msgr: FastStrategy.h: add override to virtual funct (<a class="reference external" href="http://github.com/ceph/ceph/pull/10482">pr#10482</a>, Michal Jarzabek)</li>
<li>msgr: Message.h: add const to member function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10354">pr#10354</a>, Michal Jarzabek)</li>
<li>msgr: Message.h: remove code duplication (<a class="reference external" href="http://github.com/ceph/ceph/pull/10356">pr#10356</a>, Michal Jarzabek)</li>
<li>msgr: QueueStrategy: add override to virtual functs (<a class="reference external" href="http://github.com/ceph/ceph/pull/10503">pr#10503</a>, Michal Jarzabek)</li>
<li>msgr: Stack.h: delete copy constr and assign op (<a class="reference external" href="http://github.com/ceph/ceph/pull/11107">pr#11107</a>, Michal Jarzabek)</li>
<li>msgr: async/Event.h: add const to member function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10224">pr#10224</a>, Michal Jarzabek)</li>
<li>msgr: async: remove unused code. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11247">pr#11247</a>, Jianpeng Ma)</li>
<li>osd: bail out if transaction size overflows (<a class="reference external" href="http://tracker.ceph.com/issues/16982">issue#16982</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10753">pr#10753</a>, Kefu Chai)</li>
<li>osd: cleanup options and other redundancies (<a class="reference external" href="http://github.com/ceph/ceph/pull/10450">pr#10450</a>, xie xingguo)</li>
<li>osd: drop unused variables/methods (<a class="reference external" href="http://github.com/ceph/ceph/pull/10559">pr#10559</a>, xie xingguo)</li>
<li>osd: fix the mem leak of RepGather (<a class="reference external" href="http://tracker.ceph.com/issues/16801">issue#16801</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10423">pr#10423</a>, Kefu Chai)</li>
<li>osd: fixups to explicitly persistenting missing sets (<a class="reference external" href="http://github.com/ceph/ceph/pull/10405">pr#10405</a>, Samuel Just)</li>
<li>osd: increment stats on recovery pull also (<a class="reference external" href="http://tracker.ceph.com/issues/16277">issue#16277</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10152">pr#10152</a>, Kefu Chai)</li>
<li>osd: limit omap data in push op (<a class="reference external" href="http://tracker.ceph.com/issues/16128">issue#16128</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9894">pr#9894</a>, Wanlong Gao)</li>
<li>osd: minor performance improvements (<a class="reference external" href="http://github.com/ceph/ceph/pull/10470">pr#10470</a>, xie xingguo)</li>
<li>osd: minor performance improvements and fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10526">pr#10526</a>, xie xingguo)</li>
<li>osd: misc fixes and cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/10610">pr#10610</a>, xie xingguo)</li>
<li>osd: miscellaneous fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10572">pr#10572</a>, xie xingguo)</li>
<li>osd: more cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/10548">pr#10548</a>, xie xingguo)</li>
<li>osd: object class loading and execution permissions (<a class="reference external" href="http://github.com/ceph/ceph/pull/9972">pr#9972</a>, Noah Watkins)</li>
<li>osd: pass shared_ptr by const reference (<a class="reference external" href="http://github.com/ceph/ceph/pull/11266">pr#11266</a>, Michal Jarzabek)</li>
<li>osd: persist the missing set explicitly (<a class="reference external" href="http://github.com/ceph/ceph/pull/10334">pr#10334</a>, Samuel Just)</li>
<li>osd: remove dispatch queue check since we don&#8217;t queue hb message to this (<a class="reference external" href="http://github.com/ceph/ceph/pull/9947">pr#9947</a>, Haomai Wang)</li>
<li>osd: remove duplicated function (<a class="reference external" href="http://github.com/ceph/ceph/pull/9117">pr#9117</a>, Wei Jin)</li>
<li>osd: replace ceph:atomic_t with std::atomic in osd module. (<a class="reference external" href="http://github.com/ceph/ceph/pull/9138">pr#9138</a>, Xiaowei Chen)</li>
<li>osd: should not look up an empty pg (<a class="reference external" href="http://tracker.ceph.com/issues/17380">issue#17380</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11208">pr#11208</a>, Kefu Chai, Loic Dachary)</li>
<li>osd: small cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/9980">pr#9980</a>, Wanlong Gao)</li>
<li>osd: subscribe for old osdmaps when pause flag is set (<a class="reference external" href="http://tracker.ceph.com/issues/17023">issue#17023</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10725">pr#10725</a>, Kefu Chai)</li>
<li>osd:preserve allocation hint attribute during recovery (<a class="reference external" href="http://github.com/ceph/ceph/pull/9452">pr#9452</a>, yaoning)</li>
<li>osd: osd-fast-mark-down.sh: fix typo in variable assignments (<a class="reference external" href="http://github.com/ceph/ceph/pull/11224">pr#11224</a>, Willem Jan Withagen)</li>
<li>osd: OSD.cc: initialise variable at definition (<a class="reference external" href="http://github.com/ceph/ceph/pull/11099">pr#11099</a>, Michal Jarzabek)</li>
<li>osd: OSD.cc: remove unneeded searching of map (<a class="reference external" href="http://github.com/ceph/ceph/pull/11000">pr#11000</a>, Michal Jarzabek)</li>
<li>osd: OSD.h: make some members private (<a class="reference external" href="http://github.com/ceph/ceph/pull/11085">pr#11085</a>, Michal Jarzabek)</li>
<li>osd: PG.cc: remove unneeded use of count (<a class="reference external" href="http://github.com/ceph/ceph/pull/11228">pr#11228</a>, Michal Jarzabek)</li>
<li>osd: PGBackend.h: move structs to .cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10975">pr#10975</a>, Michal Jarzabek)</li>
<li>osd: ReplicatedBackend: move classes to cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10967">pr#10967</a>, Michal Jarzabek)</li>
<li>osd: ReplicatedPG.h: add override to virtual funct (<a class="reference external" href="http://github.com/ceph/ceph/pull/11271">pr#11271</a>, Michal Jarzabek)</li>
<li>osd: ReplicatedPG: move classes to .cc file (<a class="reference external" href="http://github.com/ceph/ceph/pull/10971">pr#10971</a>, Michal Jarzabek)</li>
<li>osd: ReplicatedPG:move C_OSD_OnApplied class to cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/11288">pr#11288</a>, Michal Jarzabek)</li>
<li>osd: Watch.h: remove unneeded forward declaration (<a class="reference external" href="http://github.com/ceph/ceph/pull/10269">pr#10269</a>, Michal Jarzabek)</li>
<li>osd: osdc/ObjectCacher.h: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/9569">pr#9569</a>, Michal Jarzabek)</li>
<li>osd: osdc/ObjectCacher.h: add const to member functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/9652">pr#9652</a>, Michal Jarzabek)</li>
<li>osd: osdc/Objecter: move RequestStateHook class to .cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/10734">pr#10734</a>, Michal Jarzabek)</li>
<li>pybind: Port Python-based tests and remaining Python bindings to Python 3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10177">pr#10177</a>, Oleh Prypin)</li>
<li>pybind: Rework cephfs/setup.py for PyPI (<a class="reference external" href="http://github.com/ceph/ceph/pull/10315">pr#10315</a>, Anirudha Bose)</li>
<li>pybind: Rework rbd/setup.py for PyPI (<a class="reference external" href="http://tracker.ceph.com/issues/16940">issue#16940</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10376">pr#10376</a>, Anirudha Bose)</li>
<li>pybind: global/signal_handler: dump cmdline instead of arg[0] (<a class="reference external" href="http://github.com/ceph/ceph/pull/10345">pr#10345</a>, Kefu Chai)</li>
<li>pybind: make rados ready for PyPI (<a class="reference external" href="http://github.com/ceph/ceph/pull/9833">pr#9833</a>, Anirudha Bose)</li>
<li>pybind: pybind/ceph_argparse: handle non ascii unicode args (<a class="reference external" href="http://tracker.ceph.com/issues/12287">issue#12287</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8943">pr#8943</a>, Kefu Chai)</li>
<li>pybind: Python 3 compatibility for workunits (<a class="reference external" href="http://github.com/ceph/ceph/pull/10815">pr#10815</a>, Anirudha Bose)</li>
<li>rbd: Allow user to remove snapshot with &#8211;force to auto flatten children (<a class="reference external" href="http://github.com/ceph/ceph/pull/10087">pr#10087</a>, Dongsheng Yang)</li>
<li>rbd: Reviewed-off-by: Ilya Dryomov &lt;<a class="reference external" href="mailto:idryomov&#37;&#52;&#48;gmail&#46;com">idryomov<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/16171">issue#16171</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10481">pr#10481</a>, Jason Dillaman)</li>
<li>rbd: Reviewed-off-by: Ilya Dryomov &lt;<a class="reference external" href="mailto:idryomov&#37;&#52;&#48;gmail&#46;com">idryomov<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/17030">issue#17030</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10735">pr#10735</a>, Jason Dillaman)</li>
<li>rbd: bench io-size should not be larger than image size (<a class="reference external" href="http://tracker.ceph.com/issues/16967">issue#16967</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10708">pr#10708</a>, Jason Dillaman)</li>
<li>rbd: cleanup - Proxied operations shouldn&#8217;t result in error messages if replayed (<a class="reference external" href="http://tracker.ceph.com/issues/16130">issue#16130</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9724">pr#9724</a>, Vikhyat Umrao)</li>
<li>rbd: cls_rbd: clean up status from rbd-mirror if image removed (<a class="reference external" href="http://github.com/ceph/ceph/pull/11142">pr#11142</a>, Huan Zhang)</li>
<li>rbd: cls_rbd: set omap values in batch during image creation (<a class="reference external" href="http://github.com/ceph/ceph/pull/9981">pr#9981</a>, Dongsheng Yang)</li>
<li>rbd: inherit the parent image features when cloning an image (<a class="reference external" href="http://tracker.ceph.com/issues/15388">issue#15388</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9334">pr#9334</a>, Dongsheng Yang)</li>
<li>rbd: journal: ensure in-flight ops are complete destroying journaler (<a class="reference external" href="http://tracker.ceph.com/issues/17446">issue#17446</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11257">pr#11257</a>, Mykola Golub, Jason Dillaman)</li>
<li>rbd: journal: increase concurrency/parallelism of journal recorder (<a class="reference external" href="http://tracker.ceph.com/issues/15259">issue#15259</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10445">pr#10445</a>, Ricardo Dias)</li>
<li>rbd: journal: move JournalTrimmer::C_RemoveSet struct (<a class="reference external" href="http://github.com/ceph/ceph/pull/10912">pr#10912</a>, Michal Jarzabek)</li>
<li>rbd: qa/workunits/rbd: before removing image make sure it is not bootstrapped (<a class="reference external" href="http://tracker.ceph.com/issues/16555">issue#16555</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10155">pr#10155</a>, Mykola Golub)</li>
<li>rbd: qa/workunits/rbd: check status also in pool dir after asok commands (<a class="reference external" href="http://github.com/ceph/ceph/pull/11291">pr#11291</a>, Mykola Golub)</li>
<li>rbd: qa/workunits/rbd: set image-meta on primary image and wait it is replicated (<a class="reference external" href="http://github.com/ceph/ceph/pull/11294">pr#11294</a>, Mykola Golub)</li>
<li>rbd: qa/workunits/rbd: small fixup and improvements for rbd-mirror tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/10483">pr#10483</a>, Mykola Golub)</li>
<li>rbd: qa/workunits/rbd: wait for image deleted before checking health (<a class="reference external" href="http://github.com/ceph/ceph/pull/10545">pr#10545</a>, Mykola Golub)</li>
<li>rbd: qa/workunits: support filtering cls_rbd unit test cases (<a class="reference external" href="http://tracker.ceph.com/issues/16529">issue#16529</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10714">pr#10714</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: &#8216;wait_for_scheduled_deletion&#8217; callback might deadlock (<a class="reference external" href="http://tracker.ceph.com/issues/16491">issue#16491</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9964">pr#9964</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: Add sparse read for sync image (<a class="reference external" href="http://tracker.ceph.com/issues/16780">issue#16780</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11005">pr#11005</a>, tianqing)</li>
<li>rbd: rbd-mirror: add additional test scenarios (<a class="reference external" href="http://github.com/ceph/ceph/pull/10488">pr#10488</a>, lande1234)</li>
<li>rbd: rbd-mirror: concurrent access of event might result in heap corruption (<a class="reference external" href="http://tracker.ceph.com/issues/17283">issue#17283</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11104">pr#11104</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: force-promoted image will remain R/O until rbd-mirror daemon restarted (<a class="reference external" href="http://tracker.ceph.com/issues/16974">issue#16974</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11090">pr#11090</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: gracefully fail if object map is unavailable (<a class="reference external" href="http://tracker.ceph.com/issues/16558">issue#16558</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10065">pr#10065</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: gracefully handle being blacklisted (<a class="reference external" href="http://tracker.ceph.com/issues/16349">issue#16349</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9970">pr#9970</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: image deleter should use pool id + global image uuid for key (<a class="reference external" href="http://tracker.ceph.com/issues/16538">issue#16538</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16227">issue#16227</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10484">pr#10484</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: improve split-brain detection logic (<a class="reference external" href="http://tracker.ceph.com/issues/16855">issue#16855</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10703">pr#10703</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: include local pool id in resync throttle unique key (<a class="reference external" href="http://tracker.ceph.com/issues/16536">issue#16536</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10254">pr#10254</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: non-primary image is recording journal events during image sync (<a class="reference external" href="http://github.com/ceph/ceph/pull/10462">pr#10462</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: potential IO stall when using asok flush request (<a class="reference external" href="http://tracker.ceph.com/issues/16708">issue#16708</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10432">pr#10432</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: potential assertion failure during error-induced shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/16956">issue#16956</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10613">pr#10613</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: potential race condition during failure shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/16980">issue#16980</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10667">pr#10667</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: quiesce in-flight event commits before shut down (<a class="reference external" href="http://tracker.ceph.com/issues/17355">issue#17355</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11185">pr#11185</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: reduce memory footprint during journal replay (<a class="reference external" href="http://tracker.ceph.com/issues/16223">issue#16223</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10341">pr#10341</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: remove ceph_test_rbd_mirror_image_replay test case (<a class="reference external" href="http://tracker.ceph.com/issues/16539">issue#16539</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10083">pr#10083</a>, Mykola Golub)</li>
<li>rbd: rbd-mirror: replaying state should include flush action (<a class="reference external" href="http://tracker.ceph.com/issues/16970">issue#16970</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10627">pr#10627</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: replicate dynamic feature updates (<a class="reference external" href="http://tracker.ceph.com/issues/16213">issue#16213</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10980">pr#10980</a>, Mykola Golub)</li>
<li>rbd: rbd-mirror: replicate image metadata settings (<a class="reference external" href="http://tracker.ceph.com/issues/16212">issue#16212</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11168">pr#11168</a>, Mykola Golub)</li>
<li>rbd: rbd-mirror: snap rename does not properly replicate to peers (<a class="reference external" href="http://tracker.ceph.com/issues/16622">issue#16622</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10249">pr#10249</a>, Jason Dillaman)</li>
<li>rbd: rbd-nbd does not properly handle resize notifications (<a class="reference external" href="http://tracker.ceph.com/issues/15715">issue#15715</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9291">pr#9291</a>, Mykola Golub)</li>
<li>rbd: rbd-nbd: fix kernel deadlock during teuthology testing (<a class="reference external" href="http://tracker.ceph.com/issues/16921">issue#16921</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10985">pr#10985</a>, Jason Dillaman)</li>
<li>rbd: recognize lock_on_read option (<a class="reference external" href="http://github.com/ceph/ceph/pull/11313">pr#11313</a>, Ilya Dryomov)</li>
<li>rbd: return error if we specified a wrong image name for rbd du (<a class="reference external" href="http://tracker.ceph.com/issues/16987">issue#16987</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11031">pr#11031</a>, Dongsheng Yang)</li>
<li>rbd: test/librbd/fsx: enable exclusive-lock feature in krbd mode (<a class="reference external" href="http://github.com/ceph/ceph/pull/10984">pr#10984</a>, Ilya Dryomov)</li>
<li>rbd: test/rbd: fix possible mock journal race conditions (<a class="reference external" href="http://tracker.ceph.com/issues/17317">issue#17317</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11153">pr#11153</a>, Jason Dillaman)</li>
<li>rbd: test: cmake related fixups for rbd tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/10124">pr#10124</a>, Mykola Golub)</li>
<li>rbd: test: run-rbd-tests test cmake fixup (<a class="reference external" href="http://github.com/ceph/ceph/pull/10134">pr#10134</a>, Mykola Golub)</li>
<li>rbd: test: use wrapper that respects RBD_FEATURES when creating rbd image (<a class="reference external" href="http://tracker.ceph.com/issues/16717">issue#16717</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10348">pr#10348</a>, Mykola Golub)</li>
<li>rbd: udev: add krbd readahead placeholder (<a class="reference external" href="http://github.com/ceph/ceph/pull/10841">pr#10841</a>, Nick Fisk)</li>
<li>rbd: rbd_mirror/ImageSynceThrottler: move struct to .cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/10928">pr#10928</a>, Michal Jarzabek)</li>
<li>rgw: (build verified, provably unused/not aliased) (<a class="reference external" href="http://github.com/ceph/ceph/pull/9993">pr#9993</a>, weiqiaomiao)</li>
<li>rgw: Add documentation for the Multi-tenancy feature (<a class="reference external" href="http://github.com/ceph/ceph/pull/9570">pr#9570</a>, Pete Zaitcev)</li>
<li>rgw: Clean up lifecycle thread (<a class="reference external" href="http://github.com/ceph/ceph/pull/10480">pr#10480</a>, Daniel Gryniewicz)</li>
<li>rgw: Do not archive metadata by default (<a class="reference external" href="http://tracker.ceph.com/issues/17256">issue#17256</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11051">pr#11051</a>, Pavan Rallabhandi)</li>
<li>rgw: Fix Host-&gt;bucket fallback logic inversion (<a class="reference external" href="http://tracker.ceph.com/issues/15975">issue#15975</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17136">issue#17136</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10873">pr#10873</a>, Robin H. Johnson)</li>
<li>rgw: Fix for using port 443 with pre-signed urls. (<a class="reference external" href="http://tracker.ceph.com/issues/16548">issue#16548</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10088">pr#10088</a>, Pritha Srivastava)</li>
<li>rgw: Fix incorrect content length and range for zero sized objects during range requests (<a class="reference external" href="http://tracker.ceph.com/issues/16388">issue#16388</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10207">pr#10207</a>, Pavan Rallabhandi)</li>
<li>rgw: Got rid of recursive mutex. (<a class="reference external" href="http://github.com/ceph/ceph/pull/10562">pr#10562</a>, Adam Kupczyk)</li>
<li>rgw: RGW : setting socket backlog for via ceph.conf (<a class="reference external" href="http://tracker.ceph.com/issues/16406">issue#16406</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9891">pr#9891</a>, Feng Guo)</li>
<li>rgw: RGWMetaSyncCR holds refs to stacks instead of crs (<a class="reference external" href="http://tracker.ceph.com/issues/16666">issue#16666</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10301">pr#10301</a>, Casey Bodley)</li>
<li>rgw: Reviewed by: Pritha Srivastava &lt;<a class="reference external" href="mailto:prsrivas&#37;&#52;&#48;redhat&#46;com">prsrivas<span>&#64;</span>redhat<span>&#46;</span>com</a>&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/16188">issue#16188</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9584">pr#9584</a>, Albert Tu)</li>
<li>rgw: Rgw lifecycle testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/11131">pr#11131</a>, Daniel Gryniewicz)</li>
<li>rgw: Rgw nfs 28 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10611">pr#10611</a>, Matt Benjamin)</li>
<li>rgw: add configurables for {data,meta} sync error injection (<a class="reference external" href="http://github.com/ceph/ceph/pull/10388">pr#10388</a>, Yehuda Sadeh)</li>
<li>rgw: add deadlock detection to RGWCoroutinesManager::run() (<a class="reference external" href="http://github.com/ceph/ceph/pull/10032">pr#10032</a>, Casey Bodley)</li>
<li>rgw: add lc_pool when decode or encode struct RGWZoneParams (<a class="reference external" href="http://github.com/ceph/ceph/pull/10439">pr#10439</a>, weiqiaomiao)</li>
<li>rgw: add missing master_zone when running with old default region config (<a class="reference external" href="http://tracker.ceph.com/issues/16627">issue#16627</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10205">pr#10205</a>, Orit Wasserman)</li>
<li>rgw: add pg_ver to tombstone_cache (<a class="reference external" href="http://github.com/ceph/ceph/pull/9851">pr#9851</a>, Casey Bodley)</li>
<li>rgw: add reinit/rebind logic (ldap) (<a class="reference external" href="http://github.com/ceph/ceph/pull/10532">pr#10532</a>, Matt Benjamin)</li>
<li>rgw: add return value checking to avoid possible subsequent <cite>parse</cite> exception (<a class="reference external" href="http://github.com/ceph/ceph/pull/10241">pr#10241</a>, Yan Jun)</li>
<li>rgw: add suport for Swift-at-root dependent features of Swift API (<a class="reference external" href="http://tracker.ceph.com/issues/16673">issue#16673</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10280">pr#10280</a>, Pritha Srivastava, Radoslaw Zarzynski)</li>
<li>rgw: add support for Static Website of Swift API (<a class="reference external" href="http://github.com/ceph/ceph/pull/9844">pr#9844</a>, Radoslaw Zarzynski)</li>
<li>rgw: add tenant support to multisite sync (<a class="reference external" href="http://tracker.ceph.com/issues/16469">issue#16469</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10075">pr#10075</a>, Casey Bodley)</li>
<li>rgw: back off bucket sync on failures, don&#8217;t store marker (<a class="reference external" href="http://tracker.ceph.com/issues/16742">issue#16742</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10355">pr#10355</a>, Yehuda Sadeh)</li>
<li>rgw: better error message when user has no bucket created yet (<a class="reference external" href="http://tracker.ceph.com/issues/16444">issue#16444</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10162">pr#10162</a>, Gaurav Kumar Garg)</li>
<li>rgw: clean-up in the authentication infrastructure (<a class="reference external" href="http://github.com/ceph/ceph/pull/10212">pr#10212</a>, Radoslaw Zarzynski)</li>
<li>rgw: clear realm watch on failed watch_restart (<a class="reference external" href="http://tracker.ceph.com/issues/16817">issue#16817</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10446">pr#10446</a>, Casey Bodley)</li>
<li>rgw: collect skips a specific coroutine stack (<a class="reference external" href="http://tracker.ceph.com/issues/16665">issue#16665</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10274">pr#10274</a>, Yehuda Sadeh)</li>
<li>rgw: cosmetic changes only&#8211;build verified, f23 (<a class="reference external" href="http://github.com/ceph/ceph/pull/9931">pr#9931</a>, Yan Jun)</li>
<li>rgw: delete region map after upgrade to zonegroup map (<a class="reference external" href="http://tracker.ceph.com/issues/17051">issue#17051</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10831">pr#10831</a>, Casey Bodley)</li>
<li>rgw: do not try to encode or decode time_t and fix compiling warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/10751">pr#10751</a>, Kefu Chai)</li>
<li>rgw: don&#8217;t fail if lost race when setting acls (<a class="reference external" href="http://tracker.ceph.com/issues/16930">issue#16930</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11286">pr#11286</a>, Yehuda Sadeh)</li>
<li>rgw: drop create_bucket in fwd_request log message (<a class="reference external" href="http://github.com/ceph/ceph/pull/10214">pr#10214</a>, Abhishek Lekshmanan)</li>
<li>rgw: eradicate dynamic memory allocation in RGWPostObj. (<a class="reference external" href="http://github.com/ceph/ceph/pull/11054">pr#11054</a>, Radoslaw Zarzynski)</li>
<li>rgw: file setattr (<a class="reference external" href="http://github.com/ceph/ceph/pull/8618">pr#8618</a>, Matt Benjamin)</li>
<li>rgw: finish error_repo cr in stop_spawned_services() (<a class="reference external" href="http://tracker.ceph.com/issues/16530">issue#16530</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10031">pr#10031</a>, Yehuda Sadeh)</li>
<li>rgw: fix RGWAccessControlPolicy_SWIFT::create return value check error (<a class="reference external" href="http://tracker.ceph.com/issues/17090">issue#17090</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10727">pr#10727</a>, weiqiaomiao)</li>
<li>rgw: fix compilation (<a class="reference external" href="http://github.com/ceph/ceph/pull/10252">pr#10252</a>, Josh Durgin)</li>
<li>rgw: fix decoding of creation_time and last_update. (<a class="reference external" href="http://tracker.ceph.com/issues/17167">issue#17167</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11132">pr#11132</a>, Orit Wasserman)</li>
<li>rgw: fix error_repo segfault in data sync (<a class="reference external" href="http://tracker.ceph.com/issues/16603">issue#16603</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10157">pr#10157</a>, Casey Bodley)</li>
<li>rgw: fix failed to create bucket if a non-master zonegroup has a single zone (<a class="reference external" href="http://github.com/ceph/ceph/pull/10991">pr#10991</a>, weiqiaomiao)</li>
<li>rgw: fix flush_read_list() error msg (<a class="reference external" href="http://github.com/ceph/ceph/pull/10749">pr#10749</a>, Jiaying Ren)</li>
<li>rgw: fix for issue 16494 (<a class="reference external" href="http://tracker.ceph.com/issues/16494">issue#16494</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10077">pr#10077</a>, Yehuda Sadeh)</li>
<li>rgw: fix for s3tests failure when ldap auth is not applied (<a class="reference external" href="http://github.com/ceph/ceph/pull/10669">pr#10669</a>, Casey Bodley)</li>
<li>rgw: fix get object instance  returned NoSuchKey error (<a class="reference external" href="http://tracker.ceph.com/issues/17111">issue#17111</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10820">pr#10820</a>, Yang Honggang)</li>
<li>rgw: fix is_admin handling in RGWLDAPAuthEngine and introduce acct_privilege_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/10687">pr#10687</a>, Radoslaw Zarzynski)</li>
<li>rgw: fix issue 16435 (<a class="reference external" href="http://tracker.ceph.com/issues/16435">issue#16435</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10193">pr#10193</a>, Yehuda Sadeh)</li>
<li>rgw: fix multi-delete query param parsing. (<a class="reference external" href="http://tracker.ceph.com/issues/16618">issue#16618</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10187">pr#10187</a>, Robin H. Johnson)</li>
<li>rgw: fix period update &#8211;commit return error (<a class="reference external" href="http://tracker.ceph.com/issues/17110">issue#17110</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10836">pr#10836</a>, weiqiaomiao)</li>
<li>rgw: fix radosgw daemon core when reopen logs (<a class="reference external" href="http://tracker.ceph.com/issues/17036">issue#17036</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10737">pr#10737</a>, weiqiaomiao)</li>
<li>rgw: fix regression with handling double underscore (<a class="reference external" href="http://tracker.ceph.com/issues/16856">issue#16856</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10939">pr#10939</a>, Orit Wasserman)</li>
<li>rgw: fix rgw_bucket_dir_entry decode v (<a class="reference external" href="http://github.com/ceph/ceph/pull/10918">pr#10918</a>, Tianshan Qu)</li>
<li>rgw: fix the error return variable in log message and cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/10138">pr#10138</a>, Yan Jun)</li>
<li>rgw: fix the missing return value (<a class="reference external" href="http://github.com/ceph/ceph/pull/10122">pr#10122</a>, Yan Jun)</li>
<li>rgw: fix upgrade from old multisite to new multisite configuration (<a class="reference external" href="http://tracker.ceph.com/issues/16751">issue#16751</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10368">pr#10368</a>, Orit Wasserman)</li>
<li>rgw: fix wrong  variable definition in cls_version_check func (<a class="reference external" href="http://github.com/ceph/ceph/pull/10233">pr#10233</a>, weiqiaomiao)</li>
<li>rgw: fix wrong variable definition in rgw_cls_lc_set_entry function (<a class="reference external" href="http://github.com/ceph/ceph/pull/10408">pr#10408</a>, weiqiaomiao)</li>
<li>rgw: for the create_bucket api, if the input creation_time is zero, we should set it to &#8216;now&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/16597">issue#16597</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10118">pr#10118</a>, weiqiaomiao)</li>
<li>rgw: kill a compile warning for rgw_sync (<a class="reference external" href="http://github.com/ceph/ceph/pull/10425">pr#10425</a>, Casey Bodley, Abhishek Lekshmanan)</li>
<li>rgw: lgtm (<a class="reference external" href="http://github.com/ceph/ceph/pull/9941">pr#9941</a>, weiqiaomiao)</li>
<li>rgw: lgtm (build verified, f23) (<a class="reference external" href="http://github.com/ceph/ceph/pull/9754">pr#9754</a>, John Coyle)</li>
<li>rgw: lgtm, build verified f23 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10035">pr#10035</a>, Yan Jun)</li>
<li>rgw: lgtm&#8211;build verified, f23 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10002">pr#10002</a>, Yan Jun)</li>
<li>rgw: lgtm&#8211;build verified, f23 (<a class="reference external" href="http://github.com/ceph/ceph/pull/9985">pr#9985</a>, Yan Jun)</li>
<li>rgw: lgtm&#8211;should backport (<a class="reference external" href="http://github.com/ceph/ceph/pull/9979">pr#9979</a>, Yan Jun)</li>
<li>rgw: log mp upload failures due to parts mismatch (<a class="reference external" href="http://github.com/ceph/ceph/pull/10424">pr#10424</a>, Abhishek Lekshmanan)</li>
<li>rgw: merge setting flags operation together and cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/10203">pr#10203</a>, Yan Jun)</li>
<li>rgw: miscellaneous cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/10299">pr#10299</a>, Yan Jun)</li>
<li>rgw: multiple fixes for Swift&#8217;s object expiration (<a class="reference external" href="http://tracker.ceph.com/issues/16705">issue#16705</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16684">issue#16684</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10330">pr#10330</a>, Radoslaw Zarzynski)</li>
<li>rgw: need to &#8216;open_object_section&#8217; before dump stats in &#8216;<a href="#id2658"><span class="problematic" id="id2659">RGWGetUsage_</span></a>… (<a class="reference external" href="http://tracker.ceph.com/issues/17499">issue#17499</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11325">pr#11325</a>, weiqiaomiao)</li>
<li>rgw: obsolete &#8216;radosgw-admin period prepare&#8217; command (<a class="reference external" href="http://tracker.ceph.com/issues/17387">issue#17387</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11278">pr#11278</a>, Gaurav Kumar Garg)</li>
<li>rgw: radosgw-admin: add &#8220;&#8211;orphan-stale-secs&#8221; to &#8211;help (<a class="reference external" href="http://tracker.ceph.com/issues/17280">issue#17280</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11098">pr#11098</a>, Ken Dreyer)</li>
<li>rgw: radosgw-admin: zone[group] modify can change realm id (<a class="reference external" href="http://tracker.ceph.com/issues/16839">issue#16839</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10477">pr#10477</a>, Casey Bodley)</li>
<li>rgw: raise log levels for common radosgw-admin errors (<a class="reference external" href="http://tracker.ceph.com/issues/16935">issue#16935</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10602">pr#10602</a>, Shilpa Jagannath)</li>
<li>rgw: register the correct handler for cls_user_complete_stats (<a class="reference external" href="http://tracker.ceph.com/issues/16624">issue#16624</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10151">pr#10151</a>, Orit Wasserman)</li>
<li>rgw: remove bucket index objects when deleting the bucket (<a class="reference external" href="http://tracker.ceph.com/issues/16412">issue#16412</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10120">pr#10120</a>, Orit Wasserman)</li>
<li>rgw: remove possible duplicate setting (<a class="reference external" href="http://github.com/ceph/ceph/pull/10110">pr#10110</a>, Yan Jun)</li>
<li>rgw: remove the field ret from class RGWPutLC (<a class="reference external" href="http://github.com/ceph/ceph/pull/10726">pr#10726</a>, weiqiaomiao)</li>
<li>rgw: remove unused bufferlist variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/10194">pr#10194</a>, Yan Jun)</li>
<li>rgw: remove unused realm from radosgw-admin zone modify (<a class="reference external" href="http://tracker.ceph.com/issues/16632">issue#16632</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10211">pr#10211</a>, Orit Wasserman)</li>
<li>rgw: remove unused variables (<a class="reference external" href="http://github.com/ceph/ceph/pull/10589">pr#10589</a>, Yan Jun)</li>
<li>rgw: return &#8220;NoSuchLifecycleConfiguration&#8221; if lifecycle config does not exist (<a class="reference external" href="http://github.com/ceph/ceph/pull/10442">pr#10442</a>, weiqiaomiao)</li>
<li>rgw: revert a commit that broke s3 signature validation (<a class="reference external" href="http://tracker.ceph.com/issues/17279">issue#17279</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11102">pr#11102</a>, Casey Bodley)</li>
<li>rgw: rgw file: remove busy-wait in RGWLibFS::gc() (<a class="reference external" href="http://github.com/ceph/ceph/pull/10638">pr#10638</a>, Matt Benjamin)</li>
<li>rgw: rgw ldap:  protect rgw::from_base64 from non-base64 input (<a class="reference external" href="http://github.com/ceph/ceph/pull/10777">pr#10777</a>, Matt Benjamin)</li>
<li>rgw: rgw ldap: enforce simple_bind w/LDAPv3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10593">pr#10593</a>, Matt Benjamin)</li>
<li>rgw: rgw multisite: RGWCoroutinesManager::run returns status of last cr (<a class="reference external" href="http://tracker.ceph.com/issues/17047">issue#17047</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10778">pr#10778</a>, Casey Bodley)</li>
<li>rgw: rgw multisite: RGWDataSyncCR fails on errors from RGWListBucketIndexesCR (<a class="reference external" href="http://tracker.ceph.com/issues/17073">issue#17073</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10779">pr#10779</a>, Casey Bodley)</li>
<li>rgw: rgw multisite: fix for assertion in RGWMetaSyncCR (<a class="reference external" href="http://tracker.ceph.com/issues/17044">issue#17044</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10743">pr#10743</a>, Casey Bodley)</li>
<li>rgw: rgw multisite: fixes for period puller (<a class="reference external" href="http://tracker.ceph.com/issues/16939">issue#16939</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10596">pr#10596</a>, Casey Bodley)</li>
<li>rgw: rgw multisite: trim data logs as peer zones catch up (<a class="reference external" href="http://github.com/ceph/ceph/pull/10372">pr#10372</a>, Casey Bodley)</li>
<li>rgw: rgw nfs v3 completions (<a class="reference external" href="http://github.com/ceph/ceph/pull/10745">pr#10745</a>, Matt Benjamin)</li>
<li>rgw: rgw-admin: allow unsetting user&#8217;s email (<a class="reference external" href="http://tracker.ceph.com/issues/13286">issue#13286</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11340">pr#11340</a>, Yehuda Sadeh, Weijun Duan)</li>
<li>rgw: rgw/admin: fix some return values and indents (<a class="reference external" href="http://github.com/ceph/ceph/pull/9170">pr#9170</a>, Yan Jun)</li>
<li>rgw: rgw/rados: remove confused error printout (<a class="reference external" href="http://github.com/ceph/ceph/pull/9351">pr#9351</a>, Yan Jun)</li>
<li>rgw: rgw/rgw_common.cc: modify the end check in RGWHTTPArgs::sys_get (<a class="reference external" href="http://github.com/ceph/ceph/pull/9136">pr#9136</a>, zhao kun)</li>
<li>rgw: rgw/rgw_lc.cc: fix sleep time according to the error message (<a class="reference external" href="http://github.com/ceph/ceph/pull/10930">pr#10930</a>, Weibing Zhang)</li>
<li>rgw: rgw/rgw_main: fix unnecessary variables defined (<a class="reference external" href="http://github.com/ceph/ceph/pull/10475">pr#10475</a>, zhang.zezhu)</li>
<li>rgw: rgw/swift: remove redundant assignment operation (<a class="reference external" href="http://github.com/ceph/ceph/pull/11292">pr#11292</a>, Yan Jun)</li>
<li>rgw: rgw_file:  pre-assign times (<a class="reference external" href="http://tracker.ceph.com/issues/17367">issue#17367</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11181">pr#11181</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: fix rename cases and unify unlink (<a class="reference external" href="http://github.com/ceph/ceph/pull/10271">pr#10271</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: fix set_attrs operation (<a class="reference external" href="http://github.com/ceph/ceph/pull/11159">pr#11159</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: refuse partial, out-of-order writes (<a class="reference external" href="http://github.com/ceph/ceph/pull/10284">pr#10284</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: restore local definition of RGWLibFS gc interval (<a class="reference external" href="http://github.com/ceph/ceph/pull/10756">pr#10756</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: unlock() must precede out label (<a class="reference external" href="http://github.com/ceph/ceph/pull/10635">pr#10635</a>, Matt Benjamin)</li>
<li>rgw: right parenthesis is missing in radosgw-admin help message on caps (<a class="reference external" href="http://github.com/ceph/ceph/pull/10947">pr#10947</a>, Weibing Zhang)</li>
<li>rgw: set correct instance on the object (<a class="reference external" href="http://tracker.ceph.com/issues/17443">issue#17443</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11270">pr#11270</a>, Yehuda Sadeh)</li>
<li>rgw: store oldest mdlog period in rados (<a class="reference external" href="http://tracker.ceph.com/issues/16894">issue#16894</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10558">pr#10558</a>, Casey Bodley)</li>
<li>rgw: test/multi.py add a destructive attr to tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/10401">pr#10401</a>, Abhishek Lekshmanan)</li>
<li>rgw: test/rgw: add &#8211;gateways-per-zone to test_multi.py (<a class="reference external" href="http://github.com/ceph/ceph/pull/10742">pr#10742</a>, Casey Bodley)</li>
<li>rgw: test_multi.py avoid creating mds (<a class="reference external" href="http://github.com/ceph/ceph/pull/10174">pr#10174</a>, Abhishek Lekshmanan)</li>
<li>rgw: test_rgw_bencode: null terminate strings before checking (<a class="reference external" href="http://tracker.ceph.com/issues/16861">issue#16861</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10510">pr#10510</a>, Yehuda Sadeh)</li>
<li>rgw: use endpoints from master zone instead of zonegroup (<a class="reference external" href="http://tracker.ceph.com/issues/16834">issue#16834</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10456">pr#10456</a>, Casey Bodley)</li>
<li>rgw: use the standard usage of string.find (<a class="reference external" href="http://github.com/ceph/ceph/pull/10226">pr#10226</a>, Yan Jun)</li>
<li>rgw: verfied:  f23, subset of s3tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/10448">pr#10448</a>, Pritha Srivastava)</li>
<li>rgw: verified (<a class="reference external" href="http://github.com/ceph/ceph/pull/10000">pr#10000</a>, weiqiaomiao)</li>
<li>rgw: verified non-regression (MS AD) (<a class="reference external" href="http://github.com/ceph/ceph/pull/10597">pr#10597</a>, Pritha Srivastava)</li>
<li>rgw: verified:  autobuild (<a class="reference external" href="http://tracker.ceph.com/issues/16928">issue#16928</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10579">pr#10579</a>, Robin H. Johnson)</li>
<li>rgw: verified: MS AD (<a class="reference external" href="http://github.com/ceph/ceph/pull/10307">pr#10307</a>, Pritha Srivastava)</li>
<li>rgw: verified: f23 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10882">pr#10882</a>, Michal Jarzabek)</li>
<li>rgw: verified: f23 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10858">pr#10858</a>, Weibing Zhang)</li>
<li>rgw: verified: f23 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10822">pr#10822</a>, Yan Jun)</li>
<li>rgw: verified: f23 (<a class="reference external" href="http://github.com/ceph/ceph/pull/10929">pr#10929</a>, Weibing Zhang)</li>
<li>rgw: wip: rgw multisite: preserve zone&#8217;s extra pool (<a class="reference external" href="http://tracker.ceph.com/issues/16712">issue#16712</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10397">pr#10397</a>, Abhishek Lekshmanan)</li>
<li>rgw: work around curl_multi_wait bug with non-blocking reads (<a class="reference external" href="http://tracker.ceph.com/issues/15915">issue#15915</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16695">issue#16695</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10998">pr#10998</a>, Casey Bodley)</li>
<li>rgw:add a s3 API of make torrent for a object (<a class="reference external" href="http://github.com/ceph/ceph/pull/10396">pr#10396</a>, zhouruisong)</li>
<li>rgw:add a s3 API of make torrent for a object (<a class="reference external" href="http://github.com/ceph/ceph/pull/9589">pr#9589</a>, zhouruisong)</li>
<li>rgw:bucket check remove _multipart_ prefix (<a class="reference external" href="http://github.com/ceph/ceph/pull/6501">pr#6501</a>, Weijun Duan)</li>
<li>rgw:clean unuse bufferlist (<a class="reference external" href="http://github.com/ceph/ceph/pull/10232">pr#10232</a>, weiqiaomiao)</li>
<li>rgw:fix rgw boot failed after upgrade to master latest version (<a class="reference external" href="http://github.com/ceph/ceph/pull/10409">pr#10409</a>, weiqiaomiao)</li>
<li>rgw:lifecycle feature [rebased] (<a class="reference external" href="http://github.com/ceph/ceph/pull/9737">pr#9737</a>, Ji Chen, Daniel Gryniewicz)</li>
<li>rgw: rgw/rgw_rados.h: remove unneeded class C_Tick (<a class="reference external" href="http://github.com/ceph/ceph/pull/10954">pr#10954</a>, Michal Jarzabek)</li>
<li>rgw: ext_mime_map_init add string describing for error number (<a class="reference external" href="http://github.com/ceph/ceph/pull/9807">pr#9807</a>, Yan Jun)</li>
<li>tests: Add test for global static non-POD segfault (<a class="reference external" href="http://github.com/ceph/ceph/pull/10486">pr#10486</a>, Brad Hubbard)</li>
<li>tests: populate /dev/disk/by-partuuid for scsi_debug (<a class="reference external" href="http://tracker.ceph.com/issues/17100">issue#17100</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10824">pr#10824</a>, Loic Dachary)</li>
<li>tests: use a fixture for memstore clone testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/11190">pr#11190</a>, Kefu Chai)</li>
<li>tests: run-<a href="#id71"><span class="problematic" id="id72">*</span></a>make-check.sh: Make DRY_RUN actually mean a dry run (<a class="reference external" href="http://github.com/ceph/ceph/pull/11074">pr#11074</a>, Brad Hubbard)</li>
<li>tests: run-cmake-check.sh: Actually run the tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/11075">pr#11075</a>, Brad Hubbard)</li>
<li>tests: run-cmake-check.sh: Init submodules (<a class="reference external" href="http://github.com/ceph/ceph/pull/11091">pr#11091</a>, Brad Hubbard)</li>
<li>tests: run-make-check.sh: Make DRY_RUN actually do a dry run (<a class="reference external" href="http://github.com/ceph/ceph/pull/11092">pr#11092</a>, Brad Hubbard)</li>
<li>tests: run-make-check.sh: pass args to do_cmake.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/10701">pr#10701</a>, John Coyle)</li>
<li>tests: unittest_chain_xattr: account for existing xattrs (<a class="reference external" href="http://tracker.ceph.com/issues/16025">issue#16025</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11109">pr#11109</a>, Dan Mick)</li>
<li>tests: src/test/cli/* tests: POSIX Convert grep -P to grep -E (<a class="reference external" href="http://github.com/ceph/ceph/pull/10319">pr#10319</a>, Willem Jan Withagen)</li>
<li>test: ceph_test_msgr: fix circular locking dependency (<a class="reference external" href="http://tracker.ceph.com/issues/16955">issue#16955</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10612">pr#10612</a>, Kefu Chai)</li>
<li>test: cli/crushtool: fix the test of compile-decompile-recompile.t (<a class="reference external" href="http://tracker.ceph.com/issues/17306">issue#17306</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11173">pr#11173</a>, Kefu Chai)</li>
<li>test: libcephfs: fix gcc sys/fcntl.h warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/10126">pr#10126</a>, John Coyle)</li>
<li>test: librados: rados_connect() should succeed (<a class="reference external" href="http://tracker.ceph.com/issues/17087">issue#17087</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10806">pr#10806</a>, Kefu Chai)</li>
<li>test: mds: add fs dump in test_ceph_argparse.py (<a class="reference external" href="http://github.com/ceph/ceph/pull/10347">pr#10347</a>, huanwen ren)</li>
<li>test: simple_dispatcher.cc: remove unused variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/9932">pr#9932</a>, Michal Jarzabek)</li>
<li>test: store_test: tidy-up SyntheticWorkloadState class  (<a class="reference external" href="http://github.com/ceph/ceph/pull/10775">pr#10775</a>, xie xingguo)</li>
<li>test: More portable use of mmap(MAP_ANON) (<a class="reference external" href="http://github.com/ceph/ceph/pull/10557">pr#10557</a>, Willem Jan Withagen)</li>
<li>test: Removeall merged after print_function commit needs a fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/10535">pr#10535</a>, David Zafman)</li>
<li>test: ceph-disk.sh do not kill all daemons (<a class="reference external" href="http://tracker.ceph.com/issues/16729">issue#16729</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10346">pr#10346</a>, Kefu Chai)</li>
<li>test: cephtool/test.sh: fix expect_false() calls (<a class="reference external" href="http://github.com/ceph/ceph/pull/10133">pr#10133</a>, Kefu Chai)</li>
<li>test: fix usage info of omapbench (<a class="reference external" href="http://github.com/ceph/ceph/pull/10089">pr#10089</a>, Wanlong Gao)</li>
<li>test: remove ceph_test_rados_api_tmap_migrate (<a class="reference external" href="http://tracker.ceph.com/issues/16144">issue#16144</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10256">pr#10256</a>, Kefu Chai)</li>
<li>test: test_{compression_plugin,async_compressor}: do not copy plugins (<a class="reference external" href="http://github.com/ceph/ceph/pull/10153">pr#10153</a>, Kefu Chai)</li>
<li>test: test_rados_tool.sh: Make script work under ctest (<a class="reference external" href="http://github.com/ceph/ceph/pull/10166">pr#10166</a>, Willem Jan Withagen)</li>
<li>test: qa/workunits/cephtool/test.sh: fix omission of ceph-command (<a class="reference external" href="http://github.com/ceph/ceph/pull/10979">pr#10979</a>, Willem Jan Withagen)</li>
<li>test: qa/workunits/cephtool/test.sh: s/TMPDIR/TEMP_DIR/ (<a class="reference external" href="http://github.com/ceph/ceph/pull/10306">pr#10306</a>, Kefu Chai)</li>
<li>test: qa/workunits/cephtool/test.sh: use absolute path for TEMP_DIR (<a class="reference external" href="http://github.com/ceph/ceph/pull/10430">pr#10430</a>, Kefu Chai)</li>
<li>tools: New &#8220;removeall&#8221; used to remove head with snapshots (<a class="reference external" href="http://github.com/ceph/ceph/pull/10098">pr#10098</a>, David Zafman)</li>
<li>tools: do not closed stdout ; fix overload of &#8220;&lt;&#8221; operator (<a class="reference external" href="http://github.com/ceph/ceph/pull/9290">pr#9290</a>, xie xingguo)</li>
<li>tools: fix the core dump when get the crushmap do not exist (<a class="reference external" href="http://github.com/ceph/ceph/pull/10451">pr#10451</a>, song baisen)</li>
<li>tools: rebuild monstore (<a class="reference external" href="http://tracker.ceph.com/issues/17179">issue#17179</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10933">pr#10933</a>, Kefu Chai)</li>
<li>tools: use TextTable for &#8220;rados df&#8221; plain output (<a class="reference external" href="http://github.com/ceph/ceph/pull/9362">pr#9362</a>, xie xingguo)</li>
<li>tools: fio engine for objectstore (<a class="reference external" href="http://github.com/ceph/ceph/pull/10267">pr#10267</a>, Casey Bodley, Igor Fedotov, Daniel Gollub)</li>
<li>tools: rados/client: fix typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/10493">pr#10493</a>, Yan Jun)</li>
<li>tools: rados/client: fix waiting on the condition variable more efficient. (<a class="reference external" href="http://github.com/ceph/ceph/pull/9939">pr#9939</a>, Yan Jun)</li>
<li>tools: tools/rebuild_mondb: kill comipling warning and other fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/11117">pr#11117</a>, xie xingguo)</li>
<li>tools: authtool: Enhance argument combinations validation (<a class="reference external" href="http://tracker.ceph.com/issues/2904">issue#2904</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9704">pr#9704</a>, Brad Hubbard)</li>
<li>tools: ceph-disk: change ownership of initfile to ceph:ceph (<a class="reference external" href="http://tracker.ceph.com/issues/16280">issue#16280</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9688">pr#9688</a>, Shylesh Kumar)</li>
<li>test: ceph_test_rados_api_tmap_migrate: remove test for tmap_upgrade (<a class="reference external" href="http://github.com/ceph/ceph/pull/10234">pr#10234</a>, Kefu Chai)</li>
</ul>
</div>
</div>
<div class="section" id="v10-2-7-jewel">
<h2>v10.2.7 Jewel<a class="headerlink" href="#v10-2-7-jewel" title="Permalink to this headline">¶</a></h2>
<p>This point release fixes several important bugs in RBD mirroring, librbd &amp;  RGW.</p>
<p>We recommend that all v10.2.x users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v10.2.7.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id75">
<h3>Notable Changes<a class="headerlink" href="#id75" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>librbd: possible race in ExclusiveLock handle_peer_notification (<a class="reference external" href="http://tracker.ceph.com/issues/19368">issue#19368</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14233">pr#14233</a>, Mykola Golub)</li>
<li>osd: Increase priority for inactive PGs backfill (<a class="reference external" href="http://tracker.ceph.com/issues/18350">issue#18350</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13232">pr#13232</a>, Bartłomiej Święcki)</li>
<li>osd: Scrub improvements and other fixes (<a class="reference external" href="http://tracker.ceph.com/issues/17857">issue#17857</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18114">issue#18114</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13937">issue#13937</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18113">issue#18113</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13146">pr#13146</a>, Kefu Chai, David Zafman)</li>
<li>osd: fix OSD network address in OSD heartbeat_check log message (<a class="reference external" href="http://tracker.ceph.com/issues/18657">issue#18657</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13108">pr#13108</a>, Vikhyat Umrao)</li>
<li>rbd-mirror: deleting a snapshot during sync can result in read errors (<a class="reference external" href="http://tracker.ceph.com/issues/18990">issue#18990</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13596">pr#13596</a>, Jason Dillaman)</li>
<li>rgw: &#8216;period update&#8217; does not remove short_zone_ids of deleted zones (<a class="reference external" href="http://tracker.ceph.com/issues/15618">issue#15618</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14140">pr#14140</a>, Casey Bodley)</li>
<li>rgw: DUMPABLE flag is cleared by setuid preventing coredumps (<a class="reference external" href="http://tracker.ceph.com/issues/19089">issue#19089</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13844">pr#13844</a>, Brad Hubbard)</li>
<li>rgw: clear data_sync_cr if RGWDataSyncControlCR fails (<a class="reference external" href="http://tracker.ceph.com/issues/17569">issue#17569</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13886">pr#13886</a>, Casey Bodley)</li>
<li>rgw: fix openssl (<a class="reference external" href="http://tracker.ceph.com/issues/11239">issue#11239</a>, <a class="reference external" href="http://tracker.ceph.com/issues/19098">issue#19098</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16535">issue#16535</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14215">pr#14215</a>, Marcus Watts)</li>
<li>rgw: fix swift cannot disable object versioning with empty X-Versions-Location (<a class="reference external" href="http://tracker.ceph.com/issues/18852">issue#18852</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13823">pr#13823</a>, Jing Wenjun)</li>
<li>rgw: librgw: RGWLibFS::setattr fails on directories (<a class="reference external" href="http://tracker.ceph.com/issues/18808">issue#18808</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13778">pr#13778</a>, Matt Benjamin)</li>
<li>rgw: make sending Content-Length in 204 and 304 controllable (<a class="reference external" href="http://tracker.ceph.com/issues/16602">issue#16602</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13503">pr#13503</a>, Radoslaw Zarzynski, Matt Benjamin)</li>
<li>rgw: multipart uploads copy part support (<a class="reference external" href="http://tracker.ceph.com/issues/12790">issue#12790</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13219">pr#13219</a>, Yehuda Sadeh, Javier M. Mellid, Matt Benjamin)</li>
<li>rgw: multisite: RGWMetaSyncShardControlCR gives up on EIO (<a class="reference external" href="http://tracker.ceph.com/issues/19019">issue#19019</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13867">pr#13867</a>, Casey Bodley)</li>
<li>rgw: radosgw/swift: clean up flush / newline behavior (<a class="reference external" href="http://tracker.ceph.com/issues/18473">issue#18473</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14100">pr#14100</a>, Nathan Cutler, Marcus Watts, Matt Benjamin)</li>
<li>rgw: radosgw/swift: clean up flush / newline behavior. (<a class="reference external" href="http://tracker.ceph.com/issues/18473">issue#18473</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13143">pr#13143</a>, Marcus Watts, Matt Benjamin)</li>
<li>rgw: rgw_fh: RGWFileHandle dtor must also cond-unlink from FHCache (<a class="reference external" href="http://tracker.ceph.com/issues/19112">issue#19112</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14231">pr#14231</a>, Matt Benjamin)</li>
<li>rgw: rgw_file:  avoid interning .. in FHCache table and don&#8217;t ref for them (<a class="reference external" href="http://tracker.ceph.com/issues/19036">issue#19036</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13848">pr#13848</a>, Matt Benjamin)</li>
<li>rgw: rgw_file:  interned RGWFileHandle objects need parent refs (<a class="reference external" href="http://tracker.ceph.com/issues/18650">issue#18650</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13583">pr#13583</a>, Matt Benjamin)</li>
<li>rgw: rgw_file:  restore (corrected) fix for dir partial match (return of FLAG_EXACT_MATCH) (<a class="reference external" href="http://tracker.ceph.com/issues/19060">issue#19060</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18992">issue#18992</a>, <a class="reference external" href="http://tracker.ceph.com/issues/19059">issue#19059</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13858">pr#13858</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: FHCache residence check should be exhaustive (<a class="reference external" href="http://tracker.ceph.com/issues/19111">issue#19111</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14169">pr#14169</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: ensure valid_s3_object_name for directories, too (<a class="reference external" href="http://tracker.ceph.com/issues/19066">issue#19066</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13717">pr#13717</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: fix marker computation (<a class="reference external" href="http://tracker.ceph.com/issues/19018">issue#19018</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18989">issue#18989</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18992">issue#18992</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18991">issue#18991</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/13869">pr#13869</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: wip dir orphan (<a class="reference external" href="http://tracker.ceph.com/issues/18992">issue#18992</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18989">issue#18989</a>, <a class="reference external" href="http://tracker.ceph.com/issues/19018">issue#19018</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18991">issue#18991</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/14205">pr#14205</a>, Gui Hecheng, Matt Benjamin)</li>
<li>rgw: rgw_file: various fixes (<a class="reference external" href="https://github.com/ceph/ceph/pull/14206">pr#14206</a>, Matt Benjamin)</li>
<li>rgw: rgw_file: expand argv (<a class="reference external" href="https://github.com/ceph/ceph/pull/14230">pr#14230</a>, Matt Benjamin)</li>
</ul>
</div>
</div>
<div class="section" id="v10-2-6-jewel">
<h2>v10.2.6 Jewel<a class="headerlink" href="#v10-2-6-jewel" title="Permalink to this headline">¶</a></h2>
<p>This point release fixes several important bugs in RBD mirroring, RGW multi-site, CephFS, and RADOS.</p>
<p>We recommend that all v10.2.x users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v10.2.6.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="osds-no-longer-send-enxio-by-default">
<h3>OSDs No Longer Send ENXIO by Default<a class="headerlink" href="#osds-no-longer-send-enxio-by-default" title="Permalink to this headline">¶</a></h3>
<p>In previous versions, if a client sent an op to the wrong OSD, the OSD
would reply with ENXIO.  The rationale here is that the client or OSD is
clearly buggy and we want to surface the error as clearly as possible.
We now only send the ENXIO reply if the osd_enxio_on_misdirected_op option
is enabled (it&#8217;s off by default).  This means that a VM using librbd that
previously would have gotten an EIO and gone read-only will now see a
blocked/hung IO instead.</p>
</div>
<div class="section" id="id107">
<h3>Other Notable Changes<a class="headerlink" href="#id107" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build/ops: add hostname sanity check to run-{c}make-check.sh (<a class="reference external" href="http://tracker.ceph.com/issues/18134">issue#18134</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12302">pr#12302</a>, Nathan Cutler)</li>
<li>build/ops: add ldap lib to rgw lib deps based on build config (<a class="reference external" href="http://tracker.ceph.com/issues/17313">issue#17313</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13183">pr#13183</a>, Nathan Cutler)</li>
<li>build/ops: ceph-create-keys loops forever (<a class="reference external" href="http://tracker.ceph.com/issues/17753">issue#17753</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11884">pr#11884</a>, Alfredo Deza)</li>
<li>build/ops: ceph daemons DUMPABLE flag is cleared by setuid preventing coredumps (<a class="reference external" href="http://tracker.ceph.com/issues/17650">issue#17650</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11736">pr#11736</a>, Patrick Donnelly)</li>
<li>build/ops: fixed compilation error when &#8211;with-radowsgw=no (<a class="reference external" href="http://tracker.ceph.com/issues/18512">issue#18512</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12729">pr#12729</a>, Pan Liu)</li>
<li>build/ops: fixed the issue when &#8211;disable-server, compilation fails. (<a class="reference external" href="http://tracker.ceph.com/issues/18120">issue#18120</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12239">pr#12239</a>, Pan Liu)</li>
<li>build/ops: fix undefined crypto references with &#8211;with-xio (<a class="reference external" href="http://tracker.ceph.com/issues/18133">issue#18133</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12296">pr#12296</a>, Nathan Cutler)</li>
<li>build/ops: install-deps.sh based on /etc/os-release (<a class="reference external" href="http://tracker.ceph.com/issues/18466">issue#18466</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18198">issue#18198</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12405">pr#12405</a>, Jan Fajerski, Nitin A Kamble, Nathan Cutler)</li>
<li>build/ops: Remove the runtime dependency on lsb_release (<a class="reference external" href="http://tracker.ceph.com/issues/17425">issue#17425</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11875">pr#11875</a>, John Coyle, Brad Hubbard)</li>
<li>build/ops: rpm: /etc/ceph/rbdmap is packaged with executable access rights (<a class="reference external" href="http://tracker.ceph.com/issues/17395">issue#17395</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11855">pr#11855</a>, Ken Dreyer)</li>
<li>build/ops: selinux: Allow ceph to manage tmp files (<a class="reference external" href="http://tracker.ceph.com/issues/17436">issue#17436</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13048">pr#13048</a>, Boris Ranto)</li>
<li>build/ops: systemd: Restart Mon after 10s in case of failure (<a class="reference external" href="http://tracker.ceph.com/issues/18635">issue#18635</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13058">pr#13058</a>, Wido den Hollander)</li>
<li>build/ops: systemd restarts Ceph Mon to quickly after failing to start (<a class="reference external" href="http://tracker.ceph.com/issues/18635">issue#18635</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13184">pr#13184</a>, Wido den Hollander)</li>
<li>ceph-disk: fix flake8 errors (<a class="reference external" href="http://tracker.ceph.com/issues/17898">issue#17898</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11976">pr#11976</a>, Ken Dreyer)</li>
<li>cephfs: fuse client crash when adding a new osd (<a class="reference external" href="http://tracker.ceph.com/issues/17270">issue#17270</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11860">pr#11860</a>, John Spray)</li>
<li>cli: ceph-disk: convert none str to str before printing it (<a class="reference external" href="http://tracker.ceph.com/issues/18371">issue#18371</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13187">pr#13187</a>, Kefu Chai)</li>
<li>client: Fix lookup of &#8220;/..&#8221; in jewel (<a class="reference external" href="http://tracker.ceph.com/issues/18408">issue#18408</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12766">pr#12766</a>, Jeff Layton)</li>
<li>client: fix stale entries in command table (<a class="reference external" href="http://tracker.ceph.com/issues/17974">issue#17974</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12137">pr#12137</a>, John Spray)</li>
<li>client: populate metadata during mount (<a class="reference external" href="http://tracker.ceph.com/issues/18361">issue#18361</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13085">pr#13085</a>, John Spray)</li>
<li>cli: implement functionality for adding, editing and removing omap values with binary keys (<a class="reference external" href="http://tracker.ceph.com/issues/18123">issue#18123</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12755">pr#12755</a>, Jason Dillaman)</li>
<li>common: Improve linux dcache hash algorithm (<a class="reference external" href="http://tracker.ceph.com/issues/17599">issue#17599</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11529">pr#11529</a>, Yibo Cai)</li>
<li>common: utime.h: fix timezone issue in round_to_* funcs.  (<a class="reference external" href="http://tracker.ceph.com/issues/14862">issue#14862</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11508">pr#11508</a>, Zhao Chao)</li>
<li>doc: Python Swift client commands in Quick Developer Guide don&#8217;t match configuration in vstart.sh (<a class="reference external" href="http://tracker.ceph.com/issues/17746">issue#17746</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13043">pr#13043</a>, Ronak Jain)</li>
<li>librbd: allow to open an image without opening parent image (<a class="reference external" href="http://tracker.ceph.com/issues/18325">issue#18325</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13130">pr#13130</a>, Ricardo Dias)</li>
<li>librbd: metadata_set API operation should not change global config setting (<a class="reference external" href="http://tracker.ceph.com/issues/18465">issue#18465</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13168">pr#13168</a>, Mykola Golub)</li>
<li>librbd: new API method to force break a peer&#8217;s exclusive lock (<a class="reference external" href="http://tracker.ceph.com/issues/15632">issue#15632</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16773">issue#16773</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17188">issue#17188</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16988">issue#16988</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17210">issue#17210</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17251">issue#17251</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18429">issue#18429</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17227">issue#17227</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18327">issue#18327</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17015">issue#17015</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12890">pr#12890</a>, Danny Al-Gaaf, Mykola Golub, Jason Dillaman)</li>
<li>librbd: properly order concurrent updates to the object map (<a class="reference external" href="http://tracker.ceph.com/issues/16176">issue#16176</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12909">pr#12909</a>, Jason Dillaman)</li>
<li>librbd: restore journal access when force disabling mirroring (<a class="reference external" href="http://tracker.ceph.com/issues/17588">issue#17588</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11916">pr#11916</a>, Mykola Golub)</li>
<li>mds: Cannot create deep directories when caps contain path=/somepath (<a class="reference external" href="http://tracker.ceph.com/issues/17858">issue#17858</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12154">pr#12154</a>, Patrick Donnelly)</li>
<li>mds: cephfs metadata pool: deep-scrub error omap_digest != best guess omap_digest (<a class="reference external" href="http://tracker.ceph.com/issues/17177">issue#17177</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12380">pr#12380</a>, Yan, Zheng)</li>
<li>mds: cephfs test failures (ceph.com/qa is broken, should be download.ceph.com/qa) (<a class="reference external" href="http://tracker.ceph.com/issues/18574">issue#18574</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13023">pr#13023</a>, John Spray)</li>
<li>mds: ceph-fuse crash during snapshot tests (<a class="reference external" href="http://tracker.ceph.com/issues/18460">issue#18460</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13120">pr#13120</a>, Yan, Zheng)</li>
<li>mds: ceph_volume_client: fix recovery from partial auth update  (<a class="reference external" href="http://tracker.ceph.com/issues/17216">issue#17216</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11656">pr#11656</a>, Ramana Raja)</li>
<li>mds: ceph_volume_client.py : Error: Can&#8217;t handle arrays of non-strings (<a class="reference external" href="http://tracker.ceph.com/issues/17800">issue#17800</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12325">pr#12325</a>, Ramana Raja)</li>
<li>mds: Cleanly reject session evict command when in replay (<a class="reference external" href="http://tracker.ceph.com/issues/17801">issue#17801</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12153">pr#12153</a>, Yan, Zheng)</li>
<li>mds: client segfault on ceph_rmdir path / (<a class="reference external" href="http://tracker.ceph.com/issues/9935">issue#9935</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13029">pr#13029</a>, Michal Jarzabek)</li>
<li>mds: Clients without pool-changing caps shouldn&#8217;t be allowed to change pool_namespace (<a class="reference external" href="http://tracker.ceph.com/issues/17798">issue#17798</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12155">pr#12155</a>, John Spray)</li>
<li>mds: Decode errors on backtrace will crash MDS (<a class="reference external" href="http://tracker.ceph.com/issues/18311">issue#18311</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12836">pr#12836</a>, Nathan Cutler, John Spray)</li>
<li>mds: false failing to respond to cache pressure warning (<a class="reference external" href="http://tracker.ceph.com/issues/17611">issue#17611</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11861">pr#11861</a>, Yan, Zheng)</li>
<li>mds: finish clientreplay requests before requesting active state (<a class="reference external" href="http://tracker.ceph.com/issues/18461">issue#18461</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13113">pr#13113</a>, Yan, Zheng)</li>
<li>mds: fix incorrect assertion in Server::_dir_is_nonempty() (<a class="reference external" href="http://tracker.ceph.com/issues/18578">issue#18578</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13459">pr#13459</a>, Yan, Zheng)</li>
<li>mds: fix MDSMap upgrade decoding (<a class="reference external" href="http://tracker.ceph.com/issues/17837">issue#17837</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13139">pr#13139</a>, John Spray, Patrick Donnelly)</li>
<li>mds: fix missing ll_get for ll_walk (<a class="reference external" href="http://tracker.ceph.com/issues/18086">issue#18086</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13125">pr#13125</a>, Gui Hecheng)</li>
<li>mds: Fix mount root for ceph_mount users and change tarball format (<a class="reference external" href="http://tracker.ceph.com/issues/18312">issue#18312</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18254">issue#18254</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12592">pr#12592</a>, Jeff Layton)</li>
<li>mds: fix null pointer dereference in Locker::handle_client_caps (<a class="reference external" href="http://tracker.ceph.com/issues/18306">issue#18306</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13060">pr#13060</a>, Yan, Zheng)</li>
<li>mds: lookup of /.. in  returns -ENOENT (<a class="reference external" href="http://tracker.ceph.com/issues/18408">issue#18408</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12783">pr#12783</a>, Jeff Layton)</li>
<li>mds: MDS crashes on missing metadata object (<a class="reference external" href="http://tracker.ceph.com/issues/18179">issue#18179</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13119">pr#13119</a>, Yan, Zheng)</li>
<li>mds: mds fails to respawn if executable has changed (<a class="reference external" href="http://tracker.ceph.com/issues/17531">issue#17531</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11873">pr#11873</a>, Patrick Donnelly)</li>
<li>mds: MDS: false failing to respond to cache pressure warning (<a class="reference external" href="http://tracker.ceph.com/issues/17716">issue#17716</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11856">pr#11856</a>, Yan, Zheng)</li>
<li>mds: MDS goes damaged on blacklist (failed to read JournalPointer: -108 ((108) Cannot send after transport endpoint shutdown) (<a class="reference external" href="http://tracker.ceph.com/issues/17236">issue#17236</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11413">pr#11413</a>, John Spray)</li>
<li>mds: MDS long-time blocked ops. ceph-fuse locks up with getattr of file (<a class="reference external" href="http://tracker.ceph.com/issues/17275">issue#17275</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11858">pr#11858</a>, Yan, Zheng)</li>
<li>mds: speed up readdir by skipping unwanted dn (<a class="reference external" href="http://tracker.ceph.com/issues/18519">issue#18519</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12921">pr#12921</a>, Xiaoxi Chen)</li>
<li>mds: standby-replay daemons can sometimes miss events (<a class="reference external" href="http://tracker.ceph.com/issues/17954">issue#17954</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13126">pr#13126</a>, John Spray)</li>
<li>mon: cache tiering: base pool last_force_resend not respected (racing read got wrong version) (<a class="reference external" href="http://tracker.ceph.com/issues/18366">issue#18366</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13115">pr#13115</a>, Sage Weil)</li>
<li>mon: ceph osd down detection behaviour (<a class="reference external" href="http://tracker.ceph.com/issues/18104">issue#18104</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12677">pr#12677</a>, xie xingguo)</li>
<li>mon: Error EINVAL: removing mon.a at 172.21.15.16:6789/0, there will be 1 monitors (<a class="reference external" href="http://tracker.ceph.com/issues/17725">issue#17725</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11999">pr#11999</a>, Joao Eduardo Luis)</li>
<li>mon: health does not report pgs stuck in more than one state (<a class="reference external" href="http://tracker.ceph.com/issues/17515">issue#17515</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11660">pr#11660</a>, Sage Weil)</li>
<li>mon: monitor assertion failure when deactivating mds in (invalid) fscid 0 (<a class="reference external" href="http://tracker.ceph.com/issues/17518">issue#17518</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11862">pr#11862</a>, Patrick Donnelly)</li>
<li>mon: monitor cannot start because of FAILED assert(info.state == MDSMap::STATE_STANDBY) (<a class="reference external" href="http://tracker.ceph.com/issues/18166">issue#18166</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13123">pr#13123</a>, John Spray, Patrick Donnelly)</li>
<li>mon: osd flag health message is misleading (<a class="reference external" href="http://tracker.ceph.com/issues/18175">issue#18175</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13117">pr#13117</a>, Sage Weil)</li>
<li>mon: OSDMonitor: clear jewel+ feature bits when talking to Hammer OSD (<a class="reference external" href="http://tracker.ceph.com/issues/18582">issue#18582</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13131">pr#13131</a>, Piotr Dałek)</li>
<li>mon: OSDs marked OUT wrongly after monitor failover (<a class="reference external" href="http://tracker.ceph.com/issues/17719">issue#17719</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11947">pr#11947</a>, Dong Wu)</li>
<li>mon: peon wrongly delete routed pg stats op before receive pg stats ack (<a class="reference external" href="http://tracker.ceph.com/issues/18458">issue#18458</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13045">pr#13045</a>, Mingxin Liu)</li>
<li>mon: send updated monmap to its subscribers (<a class="reference external" href="http://tracker.ceph.com/issues/17558">issue#17558</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11743">pr#11743</a>, Kefu Chai)</li>
<li>msgr: don&#8217;t truncate message sequence to 32-bits (<a class="reference external" href="http://tracker.ceph.com/issues/16122">issue#16122</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12416">pr#12416</a>, Yan, Zheng)</li>
<li>msgr: msg/simple: clear_pipe when wait() is mopping up pipes (<a class="reference external" href="http://tracker.ceph.com/issues/15784">issue#15784</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13062">pr#13062</a>, Sage Weil)</li>
<li>msgr: msg/simple/Pipe: error decoding addr (<a class="reference external" href="http://tracker.ceph.com/issues/18072">issue#18072</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12291">pr#12291</a>, Sage Weil)</li>
<li>osd: Add config option to disable new scrubs during recovery (<a class="reference external" href="http://tracker.ceph.com/issues/17866">issue#17866</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11944">pr#11944</a>, Wido den Hollander)</li>
<li>osd: collection_list shadow return value # (<a class="reference external" href="http://tracker.ceph.com/issues/17713">issue#17713</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11737">pr#11737</a>, Haomai Wang)</li>
<li>osd: do not send ENXIO on misdirected op by default (<a class="reference external" href="http://tracker.ceph.com/issues/18751">issue#18751</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13255">pr#13255</a>, Sage Weil)</li>
<li>osd: FileStore: fiemap cannot be totally retrieved in xfs when the number of extents &gt; 1364  (<a class="reference external" href="http://tracker.ceph.com/issues/17610">issue#17610</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11998">pr#11998</a>, Kefu Chai, Ning Yao)</li>
<li>osd: leveldb corruption leads to Operation not permitted not handled and assert (<a class="reference external" href="http://tracker.ceph.com/issues/18037">issue#18037</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12789">pr#12789</a>, Nathan Cutler)</li>
<li>osd: limit omap data in push op (<a class="reference external" href="http://tracker.ceph.com/issues/16128">issue#16128</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11991">pr#11991</a>, Wanlong Gao)</li>
<li>osd: osd crashes when radosgw-admin bi list &#8211;max-entries=1 command runing (<a class="reference external" href="http://tracker.ceph.com/issues/17745">issue#17745</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11758">pr#11758</a>, weiqiaomiao)</li>
<li>osd: osd_max_backfills default has changed, documentation should reflect that. (<a class="reference external" href="http://tracker.ceph.com/issues/17701">issue#17701</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11735">pr#11735</a>, huangjun)</li>
<li>osd: OSDMonitor: only reject MOSDBoot based on up_from if inst matches (<a class="reference external" href="http://tracker.ceph.com/issues/17899">issue#17899</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12868">pr#12868</a>, Samuel Just)</li>
<li>osd: osd/PG: publish PG stats when backfill-related states change (<a class="reference external" href="http://tracker.ceph.com/issues/18369">issue#18369</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12875">pr#12875</a>, Alexey Sheplyakov, Sage Weil)</li>
<li>osd: Remove extra call to reg_next_scrub() during splits (<a class="reference external" href="http://tracker.ceph.com/issues/16474">issue#16474</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11606">pr#11606</a>, David Zafman)</li>
<li>osd: Revert &#8220;Merge pull request #12978 from asheplyakov/jewel-18581&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/18809">issue#18809</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13280">pr#13280</a>, Samuel Just)</li>
<li>osd: update_log_missing does not order correctly with osd_ops (<a class="reference external" href="http://tracker.ceph.com/issues/17789">issue#17789</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11997">pr#11997</a>, Samuel Just)</li>
<li>qa/tasks: backport rbd_fio fixes to jewel (<a class="reference external" href="http://tracker.ceph.com/issues/13512">issue#13512</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13104">pr#13104</a>, Ilya Dryomov)</li>
<li>qa/tasks/workunits: backport misc fixes to jewel (<a class="reference external" href="http://tracker.ceph.com/issues/18336">issue#18336</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12912">pr#12912</a>, Sage Weil)</li>
<li>rados: crash adding snap to purged_snaps in ReplicatedPG::WaitingOnReplicas (part 2) (<a class="reference external" href="http://tracker.ceph.com/issues/15943">issue#15943</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18504">issue#18504</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12791">pr#12791</a>, Samuel Just)</li>
<li>rados: Memory leaks in object_list_begin and object_list_end (<a class="reference external" href="http://tracker.ceph.com/issues/18252">issue#18252</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13118">pr#13118</a>, Brad Hubbard)</li>
<li>rados: The request lock RPC message might be incorrectly ignored  (<a class="reference external" href="http://tracker.ceph.com/issues/17030">issue#17030</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10865">pr#10865</a>, Jason Dillaman)</li>
<li>rbd: add image id block name prefix APIs (<a class="reference external" href="http://tracker.ceph.com/issues/18270">issue#18270</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12529">pr#12529</a>, Jason Dillaman)</li>
<li>rbd: add max_part and nbds_max options in rbd nbd map, in order to keep consistent with   (<a class="reference external" href="http://tracker.ceph.com/issues/18186">issue#18186</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12426">pr#12426</a>, Pan Liu)</li>
<li>rbd: Attempting to remove an image w/ incompatible features results in partial removal (<a class="reference external" href="http://tracker.ceph.com/issues/18315">issue#18315</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13156">pr#13156</a>, Dongsheng Yang)</li>
<li>rbd: bench-write will crash if &#8211;io-size is 4G (<a class="reference external" href="http://tracker.ceph.com/issues/18422">issue#18422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13129">pr#13129</a>, Gaurav Kumar Garg)</li>
<li>rbd: diff calculate can hide parent extents when examining first snapshot in clone (<a class="reference external" href="http://tracker.ceph.com/issues/18068">issue#18068</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12322">pr#12322</a>, Jason Dillaman)</li>
<li>rbd: Exclusive lock improperly initialized on read-only image when using snap_set API (<a class="reference external" href="http://tracker.ceph.com/issues/17618">issue#17618</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11852">pr#11852</a>, Jason Dillaman)</li>
<li>rbd: FAILED assert(m_processing == 0) while running test_lock_fence.sh (<a class="reference external" href="http://tracker.ceph.com/issues/17973">issue#17973</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12323">pr#12323</a>, Venky Shankar)</li>
<li>rbd: Improve error reporting from rbd feature enable/disable (<a class="reference external" href="http://tracker.ceph.com/issues/16985">issue#16985</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13157">pr#13157</a>, Gaurav Kumar Garg)</li>
<li>rbd: JournalMetadata flooding with errors when being blacklisted (<a class="reference external" href="http://tracker.ceph.com/issues/18243">issue#18243</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12739">pr#12739</a>, Jason Dillaman)</li>
<li>rbd: librbd: use proper snapshot when computing diff parent overlap (<a class="reference external" href="http://tracker.ceph.com/issues/18200">issue#18200</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12649">pr#12649</a>, Xiaoxi Chen)</li>
<li>rbd: partition func should be enabled When load nbd.ko for rbd-nbd (<a class="reference external" href="http://tracker.ceph.com/issues/18115">issue#18115</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12754">pr#12754</a>, Pan Liu)</li>
<li>rbd: Potential race when removing two-way mirroring image (<a class="reference external" href="http://tracker.ceph.com/issues/18447">issue#18447</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13233">pr#13233</a>, Mykola Golub)</li>
<li>rbd: [qa] crash in journal-enabled fsx run (<a class="reference external" href="http://tracker.ceph.com/issues/18618">issue#18618</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13128">pr#13128</a>, Jason Dillaman)</li>
<li>rbd: &#8216;rbd du&#8217; of missing image does not return error (<a class="reference external" href="http://tracker.ceph.com/issues/16987">issue#16987</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11854">pr#11854</a>, Dongsheng Yang)</li>
<li>rbd: rbd-mirror: gmock warnings in bootstrap request unit tests (<a class="reference external" href="http://tracker.ceph.com/issues/18048">issue#18048</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18012">issue#18012</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18156">issue#18156</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16991">issue#16991</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18051">issue#18051</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12425">pr#12425</a>, Mykola Golub)</li>
<li>rbd: rbd-mirror: image sync object map reload logs message (<a class="reference external" href="http://tracker.ceph.com/issues/16179">issue#16179</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12753">pr#12753</a>, runsisi)</li>
<li>rbd: rbd-mirror: snap protect of non-layered image results in split-brain (<a class="reference external" href="http://tracker.ceph.com/issues/16962">issue#16962</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11869">pr#11869</a>, Mykola Golub)</li>
<li>rbd: [rbd-mirror] sporadic image replayer shut down failure (<a class="reference external" href="http://tracker.ceph.com/issues/18441">issue#18441</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13155">pr#13155</a>, Jason Dillaman)</li>
<li>rbd: rbd-nbd: disallow mapping images &gt;2TB in size (<a class="reference external" href="http://tracker.ceph.com/issues/17219">issue#17219</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11870">pr#11870</a>, Mykola Golub)</li>
<li>rbd: rbd-nbd: invalid error code for &#8220;failed to read nbd request&#8221; messages (<a class="reference external" href="http://tracker.ceph.com/issues/18242">issue#18242</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12756">pr#12756</a>, Mykola Golub)</li>
<li>rbd: status json format has duplicated/overwritten key (<a class="reference external" href="http://tracker.ceph.com/issues/18261">issue#18261</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12741">pr#12741</a>, Mykola Golub)</li>
<li>rbd: TestLibRBD.DiscardAfterWrite doesn&#8217;t handle rbd_skip_partial_discard = true (<a class="reference external" href="http://tracker.ceph.com/issues/17750">issue#17750</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11853">pr#11853</a>, Jason Dillaman)</li>
<li>rbd: truncate can cause unflushed snapshot data lose (<a class="reference external" href="http://tracker.ceph.com/issues/17193">issue#17193</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12324">pr#12324</a>, Yan, Zheng)</li>
<li>: ReplicatedBackend: take read locks for clone sources during recovery (<a class="reference external" href="http://tracker.ceph.com/issues/17831">issue#17831</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18583">issue#18583</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12978">pr#12978</a>, Samuel Just)</li>
<li>rgw: add option to log custom HTTP headers (rgw_log_http_headers) (<a class="reference external" href="http://tracker.ceph.com/issues/18891">issue#18891</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12490">pr#12490</a>, Matt Benjamin)</li>
<li>rgw: add suport for Swift-at-root dependent features of Swift API  (<a class="reference external" href="http://tracker.ceph.com/issues/18526">issue#18526</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16673">issue#16673</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11497">pr#11497</a>, Pritha Srivastava, Radoslaw Zarzynski, Pete Zaitcev, Abhishek Lekshmanan)</li>
<li>rgw: add support for the prefix parameter in account listing of Swift API (<a class="reference external" href="http://tracker.ceph.com/issues/17931">issue#17931</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12258">pr#12258</a>, Radoslaw Zarzynski)</li>
<li>rgw: Add workaround for upgrade issues for older jewel versions (<a class="reference external" href="http://tracker.ceph.com/issues/17820">issue#17820</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12316">pr#12316</a>, Orit Wasserman)</li>
<li>rgw: be aware abount tenants on cls_user_bucket -&gt; rgw_bucket conversion (<a class="reference external" href="http://tracker.ceph.com/issues/18364">issue#18364</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16355">issue#16355</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13276">pr#13276</a>, Radoslaw Zarzynski)</li>
<li>rgw: bucket check remove _multipart_ prefix (<a class="reference external" href="http://tracker.ceph.com/issues/13724">issue#13724</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11470">pr#11470</a>, Weijun Duan)</li>
<li>rgw: bucket resharding (<a class="reference external" href="http://tracker.ceph.com/issues/17549">issue#17549</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17550">issue#17550</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13341">pr#13341</a>, Yehuda Sadeh, Robin H. Johnson)</li>
<li>rgw: disable virtual hosting of buckets when no hostnames are configured (<a class="reference external" href="http://tracker.ceph.com/issues/17440">issue#17440</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15975">issue#15975</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17136">issue#17136</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11760">pr#11760</a>, Casey Bodley, Robin H. Johnson)</li>
<li>rgw: do not abort when accept a CORS request with short origin (<a class="reference external" href="http://tracker.ceph.com/issues/18187">issue#18187</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12397">pr#12397</a>, LiuYang)</li>
<li>rgw: don&#8217;t store empty chains in gc (<a class="reference external" href="http://tracker.ceph.com/issues/17897">issue#17897</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12174">pr#12174</a>, Yehuda Sadeh)</li>
<li>rgw:fix for deleting objects name beginning and ending with underscores of one bucket using POST method of js sdk.  (<a class="reference external" href="http://tracker.ceph.com/issues/17888">issue#17888</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12320">pr#12320</a>, Casey Bodley)</li>
<li>rgw: fix period update crash (<a class="reference external" href="http://tracker.ceph.com/issues/18631">issue#18631</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13273">pr#13273</a>, Orit Wasserman)</li>
<li>rgw: fix put_acls for objects starting and ending with underscore (<a class="reference external" href="http://tracker.ceph.com/issues/17625">issue#17625</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11675">pr#11675</a>, Orit Wasserman)</li>
<li>rgw: fix use of marker in List::list_objects() (<a class="reference external" href="http://tracker.ceph.com/issues/18331">issue#18331</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13358">pr#13358</a>, Yehuda Sadeh)</li>
<li>rgw: for the create_bucket api, if the input creation_time is zero, we … (<a class="reference external" href="http://tracker.ceph.com/issues/16597">issue#16597</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11990">pr#11990</a>, weiqiaomiao)</li>
<li>rgw: Have a flavor of bucket deletion in radosgw-admin to bypass garbage collection (<a class="reference external" href="http://tracker.ceph.com/issues/15557">issue#15557</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10661">pr#10661</a>, Pavan Rallabhandi)</li>
<li>rgw: json encode/decode of RGWBucketInfo missing index_type field (<a class="reference external" href="http://tracker.ceph.com/issues/17755">issue#17755</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11759">pr#11759</a>, Yehuda Sadeh)</li>
<li>rgw: ldap: enforce simple_bind w/LDAPv3 redux (<a class="reference external" href="http://tracker.ceph.com/issues/18339">issue#18339</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12678">pr#12678</a>, Weibing Zhang)</li>
<li>rgw: leak from RGWMetaSyncShardCR::incremental_sync (<a class="reference external" href="http://tracker.ceph.com/issues/18412">issue#18412</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18300">issue#18300</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13004">pr#13004</a>, Casey Bodley, Sage Weil)</li>
<li>rgw: leak in RGWFetchAllMetaCR (<a class="reference external" href="http://tracker.ceph.com/issues/17812">issue#17812</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11872">pr#11872</a>, Casey Bodley)</li>
<li>rgw: librgw: objects created from s3 apis are not visible from nfs mount point  (<a class="reference external" href="http://tracker.ceph.com/issues/18651">issue#18651</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13177">pr#13177</a>, Matt Benjamin)</li>
<li>rgw: log name instead of id for SystemMetaObj on failure (<a class="reference external" href="http://tracker.ceph.com/issues/15776">issue#15776</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12622">pr#12622</a>, Wido den Hollander, Abhishek Lekshmanan)</li>
<li>rgw: multimds: mds entering up:replay and processing down mds aborts (<a class="reference external" href="http://tracker.ceph.com/issues/17670">issue#17670</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11857">pr#11857</a>, Patrick Donnelly)</li>
<li>rgw: multipart upload copy (<a class="reference external" href="http://tracker.ceph.com/issues/12790">issue#12790</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13068">pr#13068</a>, Yehuda Sadeh, Javier M. Mellid, Matt Benjamin)</li>
<li>rgw: multisite: after finishing full sync on a bucket, incremental sync starts over from the beginning (<a class="reference external" href="http://tracker.ceph.com/issues/17661">issue#17661</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17624">issue#17624</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11864">pr#11864</a>, Zengran Zhang, Casey Bodley)</li>
<li>rgw: multisite: assert(next) failed in RGWMetaSyncCR (<a class="reference external" href="http://tracker.ceph.com/issues/17044">issue#17044</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11477">pr#11477</a>, Casey Bodley)</li>
<li>rgw: multisite: coroutine deadlock assertion on error in FetchAllMetaCR (<a class="reference external" href="http://tracker.ceph.com/issues/17571">issue#17571</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11866">pr#11866</a>, Casey Bodley)</li>
<li>rgw: multisite: coroutine deadlock in RGWMetaSyncCR after ECANCELED errors (<a class="reference external" href="http://tracker.ceph.com/issues/17465">issue#17465</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12738">pr#12738</a>, Casey Bodley)</li>
<li>rgw: multisite doesn&#8217;t retry RGWFetchAllMetaCR on failed lease (<a class="reference external" href="http://tracker.ceph.com/issues/17047">issue#17047</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11476">pr#11476</a>, Casey Bodley)</li>
<li>rgw: multisite: ECANCELED &amp; 500 error on bucket delete (<a class="reference external" href="http://tracker.ceph.com/issues/17698">issue#17698</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12044">pr#12044</a>, Casey Bodley)</li>
<li>rgw: multisite: failed assertion in &#8216;radosgw-admin bucket sync status&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/18083">issue#18083</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12314">pr#12314</a>, Casey Bodley)</li>
<li>rgw: multisite: fix ref counting of completions (<a class="reference external" href="http://tracker.ceph.com/issues/17792">issue#17792</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18414">issue#18414</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17793">issue#17793</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18407">issue#18407</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13001">pr#13001</a>, Casey Bodley)</li>
<li>rgw: multisite: metadata master can get the wrong value for &#8216;oldest_log_period&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/16894">issue#16894</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11868">pr#11868</a>, Casey Bodley)</li>
<li>rgw: multisite: obsolete &#8216;radosgw-admin period prepare&#8217; command (<a class="reference external" href="http://tracker.ceph.com/issues/17387">issue#17387</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11574">pr#11574</a>, Gaurav Kumar Garg)</li>
<li>rgw: multisite: race between ReadSyncStatus and InitSyncStatus leads to EIO errors (<a class="reference external" href="http://tracker.ceph.com/issues/17568">issue#17568</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11865">pr#11865</a>, Casey Bodley)</li>
<li>rgw: multisite requests failing with &#8216;400 Bad Request&#8217; with civetweb 1.8 (<a class="reference external" href="http://tracker.ceph.com/issues/17822">issue#17822</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12313">pr#12313</a>, Casey Bodley)</li>
<li>rgw: multisite: segfault after changing value of rgw_data_log_num_shards (<a class="reference external" href="http://tracker.ceph.com/issues/18488">issue#18488</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13180">pr#13180</a>, Casey Bodley)</li>
<li>rgw: multisite: sync status reports master is on a different period (<a class="reference external" href="http://tracker.ceph.com/issues/18064">issue#18064</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13175">pr#13175</a>, Abhishek Lekshmanan)</li>
<li>rgw: multisite upgrade from hammer -&gt; jewel ignores rgw_region_root_pool (<a class="reference external" href="http://tracker.ceph.com/issues/17963">issue#17963</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12156">pr#12156</a>, Casey Bodley)</li>
<li>rgw: radosgw-admin period update reverts deleted zonegroup  (<a class="reference external" href="http://tracker.ceph.com/issues/17239">issue#17239</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13171">pr#13171</a>, Orit Wasserman)</li>
<li>rgw: Realm set does not create a new period (<a class="reference external" href="http://tracker.ceph.com/issues/18333">issue#18333</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13182">pr#13182</a>, Orit Wasserman)</li>
<li>rgw: remove spurious mount entries for RGW buckets (<a class="reference external" href="http://tracker.ceph.com/issues/17850">issue#17850</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12045">pr#12045</a>, Matt Benjamin)</li>
<li>rgw: Replacing &#8216;+&#8217; with &#8220;%20&#8221; in canonical uri for s3 v4 auth. (<a class="reference external" href="http://tracker.ceph.com/issues/17076">issue#17076</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12542">pr#12542</a>, Pritha Srivastava)</li>
<li>rgw: rgw-admin: missing command to modify placement targets (<a class="reference external" href="http://tracker.ceph.com/issues/18078">issue#18078</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12428">pr#12428</a>, Yehuda Sadeh, Casey Bodley)</li>
<li>rgw: RGWRados::get_system_obj() sends unnecessary stat request before read (<a class="reference external" href="http://tracker.ceph.com/issues/17580">issue#17580</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11867">pr#11867</a>, Casey Bodley)</li>
<li>rgw: rgw_rest_s3:  apply missed base64 try-catch (<a class="reference external" href="http://tracker.ceph.com/issues/17663">issue#17663</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11672">pr#11672</a>, Matt Benjamin)</li>
<li>rgw: RGW will not list Argonaut-era bucket via HTTP (but radosgw-admin works) (<a class="reference external" href="http://tracker.ceph.com/issues/17372">issue#17372</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11863">pr#11863</a>, Yehuda Sadeh)</li>
<li>rgw: sends omap_getvals with (u64)-1 limit (<a class="reference external" href="http://tracker.ceph.com/issues/17985">issue#17985</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12419">pr#12419</a>, Yehuda Sadeh, Sage Weil)</li>
<li>rgw: slave zonegroup cannot enable the bucket versioning (<a class="reference external" href="http://tracker.ceph.com/issues/18003">issue#18003</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13173">pr#13173</a>, Orit Wasserman)</li>
<li>rgw: TempURL properly handles accounts created with the implicit tenant (<a class="reference external" href="http://tracker.ceph.com/issues/17961">issue#17961</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12079">pr#12079</a>, Radoslaw Zarzynski)</li>
<li>rgw: the value of total_time is wrong in the result of &#8216;radosgw-admin log show&#8217; opt (<a class="reference external" href="http://tracker.ceph.com/issues/17598">issue#17598</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11876">pr#11876</a>, weiqiaomiao)</li>
<li>rgw: Unable to commit period zonegroup change (<a class="reference external" href="http://tracker.ceph.com/issues/17364">issue#17364</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12315">pr#12315</a>, Orit Wasserman)</li>
<li>rgw: valgrind &#8220;invalid read size 4&#8221; RGWGetObj (<a class="reference external" href="http://tracker.ceph.com/issues/18071">issue#18071</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12997">pr#12997</a>, Matt Benjamin)</li>
<li>rgw: work around curl_multi_wait bug with non-blocking reads (<a class="reference external" href="http://tracker.ceph.com/issues/15915">issue#15915</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16368">issue#16368</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16695">issue#16695</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11627">pr#11627</a>, John Coyle, Casey Bodley)</li>
<li>tests: add require_jewel_osds before upgrading last hammer node (<a class="reference external" href="http://tracker.ceph.com/issues/18719">issue#18719</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13161">pr#13161</a>, Nathan Cutler)</li>
<li>tests: add require_jewel_osds to upgrade/hammer-x/tiering (<a class="reference external" href="http://tracker.ceph.com/issues/18920">issue#18920</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13404">pr#13404</a>, Nathan Cutler)</li>
<li>tests: assertion failure in a radosgw-admin related task (<a class="reference external" href="http://tracker.ceph.com/issues/17167">issue#17167</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12764">pr#12764</a>, Orit Wasserman)</li>
<li>tests: Cannot reserve CentOS 7.2 smithi machines (<a class="reference external" href="http://tracker.ceph.com/issues/18416">issue#18416</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18401">issue#18401</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13050">pr#13050</a>, Nathan Cutler, Sage Weil, Yuri Weinstein)</li>
<li>tests: ignore bogus ceph-objectstore-tool error in ceph_manager (<a class="reference external" href="http://tracker.ceph.com/issues/16263">issue#16263</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13240">pr#13240</a>, Nathan Cutler, Kefu Chai)</li>
<li>tests: objecter_requests workunit fails on wip branches (<a class="reference external" href="http://tracker.ceph.com/issues/18393">issue#18393</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12761">pr#12761</a>, Sage Weil)</li>
<li>tests: qa/suites/upgrade/hammer-x: break stress split ec symlinks (<a class="reference external" href="http://tracker.ceph.com/issues/19006">issue#19006</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13533">pr#13533</a>, Nathan Cutler)</li>
<li>tests: qa/suites/upgrade/hammer-x/stress-split: finish thrashing before final upgrade (<a class="reference external" href="http://tracker.ceph.com/issues/19004">issue#19004</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13222">pr#13222</a>, Sage Weil)</li>
<li>tests: qa/tasks/ceph_deploy.py: use dev option (<a class="reference external" href="http://tracker.ceph.com/issues/18736">issue#18736</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13106">pr#13106</a>, Vasu Kulkarni)</li>
<li>tests: qa/workunits/rbd: use more recent qemu-iotests that support Xenial (<a class="reference external" href="http://tracker.ceph.com/issues/18149">issue#18149</a>, <a class="reference external" href="http://tracker.ceph.com/issues/10773">issue#10773</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13103">pr#13103</a>, Jason Dillaman)</li>
<li>tests: remove qa/suites/buildpackages (<a class="reference external" href="http://tracker.ceph.com/issues/18846">issue#18846</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13299">pr#13299</a>, Loic Dachary)</li>
<li>tests: SUSE yaml facets in qa/distros/all are out of date (<a class="reference external" href="http://tracker.ceph.com/issues/18856">issue#18856</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18846">issue#18846</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13331">pr#13331</a>, Nathan Cutler)</li>
<li>tests: update rbd/singleton/all/formatted-output.yaml to support ceph-ci (<a class="reference external" href="http://tracker.ceph.com/issues/18440">issue#18440</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12822">pr#12822</a>, Nathan Cutler, Venky Shankar)</li>
<li>tests: update Ubuntu image url after ceph.com refactor (<a class="reference external" href="http://tracker.ceph.com/issues/18542">issue#18542</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12959">pr#12959</a>, Jason Dillaman)</li>
<li>tests: upgrade:hammer-x: install firefly only on Ubuntu 14.04 (<a class="reference external" href="http://tracker.ceph.com/issues/18089">issue#18089</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13153">pr#13153</a>, Nathan Cutler)</li>
<li>tests: use ceph-jewel branch for s3tests (<a class="reference external" href="http://tracker.ceph.com/issues/18384">issue#18384</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12745">pr#12745</a>, Nathan Cutler)</li>
<li>tests: Workunits needlessly wget from git.ceph.com (<a class="reference external" href="http://tracker.ceph.com/issues/18336">issue#18336</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18271">issue#18271</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18388">issue#18388</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12686">pr#12686</a>, Nathan Cutler, Sage Weil)</li>
<li>test: temporarily disable fork()&#8217;ing tests (<a class="reference external" href="http://tracker.ceph.com/issues/16556">issue#16556</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17832">issue#17832</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11953">pr#11953</a>, John Spray)</li>
<li>test: test fails due to The UNIX domain socket path (<a class="reference external" href="http://tracker.ceph.com/issues/16014">issue#16014</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12151">pr#12151</a>, Loic Dachary)</li>
<li>tools: ceph-disk: ceph-disk&#64;.service races with ceph-osd&#64;.service (<a class="reference external" href="http://tracker.ceph.com/issues/17889">issue#17889</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17813">issue#17813</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12147">pr#12147</a>, Loic Dachary)</li>
<li>tools: ceph-disk &#8211;dmcrypt create must not require admin key (<a class="reference external" href="http://tracker.ceph.com/issues/17849">issue#17849</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12033">pr#12033</a>, Loic Dachary)</li>
<li>tools: ceph-disk prepare writes osd log 0 with root owner (<a class="reference external" href="http://tracker.ceph.com/issues/18538">issue#18538</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13025">pr#13025</a>, Samuel Matzek)</li>
<li>tools: crushtool &#8211;compile is create output despite of missing item (<a class="reference external" href="http://tracker.ceph.com/issues/17306">issue#17306</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11410">pr#11410</a>, Kefu Chai)</li>
<li>tools: rados bench seq must verify the hostname (<a class="reference external" href="http://tracker.ceph.com/issues/17526">issue#17526</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13049">pr#13049</a>, Loic Dachary)</li>
<li>tools: snapshotted RBD extent objects can&#8217;t be manually evicted from a cache tier (<a class="reference external" href="http://tracker.ceph.com/issues/17896">issue#17896</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11968">pr#11968</a>, Mingxin Liu)</li>
<li>tools: systemd/ceph-disk: reduce ceph-disk flock contention (<a class="reference external" href="http://tracker.ceph.com/issues/18049">issue#18049</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13160">issue#13160</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12210">pr#12210</a>, David Disseldorp)</li>
</ul>
</div>
</div>
<div class="section" id="v10-2-5-jewel">
<h2>v10.2.5 Jewel<a class="headerlink" href="#v10-2-5-jewel" title="Permalink to this headline">¶</a></h2>
<p>This point release fixes an important <a class="reference external" href="http://tracker.ceph.com/issues/18185">regression introduced in v10.2.4</a>.</p>
<p>We recommend that all v10.2.x users upgrade.</p>
<div class="section" id="id290">
<h3>Notable Changes<a class="headerlink" href="#id290" title="Permalink to this headline">¶</a></h3>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v10.2.5.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<ul class="simple">
<li>msg/simple/Pipe: avoid returning 0 on poll timeout (<a class="reference external" href="http://tracker.ceph.com/issues/18185">issue#18185</a>, <a class="reference external" href="https://github.com/ceph/ceph/pull/12376">pr#12376</a>, Sage Weil)</li>
</ul>
</div>
</div>
<div class="section" id="v10-2-4-jewel">
<h2>v10.2.4 Jewel<a class="headerlink" href="#v10-2-4-jewel" title="Permalink to this headline">¶</a></h2>
<p>This point release fixes several important bugs in RBD mirroring, RGW multi-site, CephFS, and RADOS.</p>
<p>We recommend that all v10.2.x users upgrade. Also note the following when upgrading from hammer</p>
<div class="section" id="upgrading-from-hammer">
<h3>Upgrading from hammer<a class="headerlink" href="#upgrading-from-hammer" title="Permalink to this headline">¶</a></h3>
<p>When the last hammer OSD in a cluster containing jewel MONs is
upgraded to jewel, as of 10.2.4 the jewel MONs will issue this
warning: &#8220;all OSDs are running jewel or later but the
&#8216;require_jewel_osds&#8217; osdmap flag is not set&#8221; and change the
cluster health status to HEALTH_WARN.</p>
<p>This is a signal for the admin to do &#8220;ceph osd set require_jewel_osds&#8221; - by
doing this, the upgrade path is complete and no more pre-Jewel OSDs may be added
to the cluster.</p>
</div>
<div class="section" id="id291">
<h3>Notable Changes<a class="headerlink" href="#id291" title="Permalink to this headline">¶</a></h3>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v10.2.4.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<ul class="simple">
<li>build/ops: aarch64: Compiler-based detection of crc32 extended CPU type is broken (<a class="reference external" href="http://tracker.ceph.com/issues/17516">issue#17516</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11492">pr#11492</a>, Alexander Graf)</li>
<li>build/ops: allow building RGW with LDAP disabled (<a class="reference external" href="http://tracker.ceph.com/issues/17312">issue#17312</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11478">pr#11478</a>, Daniel Gryniewicz)</li>
<li>build/ops: backport &#8216;logrotate: Run as root/ceph&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/17381">issue#17381</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11201">pr#11201</a>, Boris Ranto)</li>
<li>build/ops: ceph installs stuff in %_udevrulesdir but does not own that directory (<a class="reference external" href="http://tracker.ceph.com/issues/16949">issue#16949</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10862">pr#10862</a>, Nathan Cutler)</li>
<li>build/ops: ceph-osd-prestart.sh fails confusingly when data directory does not exist (<a class="reference external" href="http://tracker.ceph.com/issues/17091">issue#17091</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10812">pr#10812</a>, Nathan Cutler)</li>
<li>build/ops: disable LTTng-UST in openSUSE builds (<a class="reference external" href="http://tracker.ceph.com/issues/16937">issue#16937</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10794">pr#10794</a>, Michel Normand)</li>
<li>build/ops: i386 tarball gitbuilder failure on master (<a class="reference external" href="http://tracker.ceph.com/issues/16398">issue#16398</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10855">pr#10855</a>, Vikhyat Umrao, Kefu Chai)</li>
<li>build/ops: include more files in &#8220;make dist&#8221; tarball (<a class="reference external" href="http://tracker.ceph.com/issues/17560">issue#17560</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11431">pr#11431</a>, Ken Dreyer)</li>
<li>build/ops: incorrect value of CINIT_FLAG_DEFER_DROP_PRIVILEGES (<a class="reference external" href="http://tracker.ceph.com/issues/16663">issue#16663</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10278">pr#10278</a>, Casey Bodley)</li>
<li>build/ops: remove SYSTEMD_RUN from initscript (<a class="reference external" href="http://tracker.ceph.com/issues/7627">issue#7627</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16441">issue#16441</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16440">issue#16440</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9872">pr#9872</a>, Vladislav Odintsov)</li>
<li>build/ops: systemd: add install section to rbdmap.service file (<a class="reference external" href="http://tracker.ceph.com/issues/17541">issue#17541</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11158">pr#11158</a>, Jelle vd Kooij)</li>
<li>common: Enable/Disable of features is allowed even the features are already enabled/disabled (<a class="reference external" href="http://tracker.ceph.com/issues/16079">issue#16079</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11460">pr#11460</a>, Lu Shi)</li>
<li>common: Log.cc: Assign LOG_INFO priority to syslog calls (<a class="reference external" href="http://tracker.ceph.com/issues/15808">issue#15808</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11231">pr#11231</a>, Brad Hubbard)</li>
<li>common: Proxied operations shouldn&#8217;t result in error messages if replayed (<a class="reference external" href="http://tracker.ceph.com/issues/16130">issue#16130</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11461">pr#11461</a>, Vikhyat Umrao)</li>
<li>common: Request exclusive lock if owner sends -ENOTSUPP for proxied maintenance op (<a class="reference external" href="http://tracker.ceph.com/issues/16171">issue#16171</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10784">pr#10784</a>, Jason Dillaman)</li>
<li>common: msgr/async: Messenger thread long time lock hold risk (<a class="reference external" href="http://tracker.ceph.com/issues/15758">issue#15758</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10761">pr#10761</a>, Wei Jin)</li>
<li>doc: fix description for rsize and rasize (<a class="reference external" href="http://tracker.ceph.com/issues/17357">issue#17357</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11171">pr#11171</a>, Andreas Gerstmayr)</li>
<li>filestore: can get stuck in an unbounded loop during scrub (<a class="reference external" href="http://tracker.ceph.com/issues/17859">issue#17859</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12001">pr#12001</a>, Sage Weil)</li>
<li>fs: Failure in snaptest-git-ceph.sh (<a class="reference external" href="http://tracker.ceph.com/issues/17172">issue#17172</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11419">pr#11419</a>, Yan, Zheng)</li>
<li>fs: Log path as well as ino when detecting metadata damage (<a class="reference external" href="http://tracker.ceph.com/issues/16973">issue#16973</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11418">pr#11418</a>, John Spray)</li>
<li>fs: client: FAILED assert(root_ancestor-&gt;qtree == __null) (<a class="reference external" href="http://tracker.ceph.com/issues/16066">issue#16066</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16067">issue#16067</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10107">pr#10107</a>, Yan, Zheng)</li>
<li>fs: client: add missing client_lock for get_root (<a class="reference external" href="http://tracker.ceph.com/issues/17197">issue#17197</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10921">pr#10921</a>, Patrick Donnelly)</li>
<li>fs: client: fix shutdown with open inodes (<a class="reference external" href="http://tracker.ceph.com/issues/16764">issue#16764</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10958">pr#10958</a>, John Spray)</li>
<li>fs: client: nlink count is not maintained correctly (<a class="reference external" href="http://tracker.ceph.com/issues/16668">issue#16668</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10877">pr#10877</a>, Jeff Layton)</li>
<li>fs: multimds: allow_multimds not required when max_mds is set in ceph.conf at startup (<a class="reference external" href="http://tracker.ceph.com/issues/17105">issue#17105</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10997">pr#10997</a>, Patrick Donnelly)</li>
<li>librados: memory leaks from ceph::crypto (WITH_NSS) (<a class="reference external" href="http://tracker.ceph.com/issues/17205">issue#17205</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11409">pr#11409</a>, Casey Bodley)</li>
<li>librados: modify Pipe::connect() to return the error code (<a class="reference external" href="http://tracker.ceph.com/issues/15308">issue#15308</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11193">pr#11193</a>, Vikhyat Umrao)</li>
<li>librados: remove new setxattr overload to avoid breaking the C++ ABI (<a class="reference external" href="http://tracker.ceph.com/issues/18058">issue#18058</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12207">pr#12207</a>, Josh Durgin)</li>
<li>librbd: cannot disable journaling or remove non-mirrored, non-primary image (<a class="reference external" href="http://tracker.ceph.com/issues/16740">issue#16740</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11337">pr#11337</a>, Jason Dillaman)</li>
<li>librbd: discard after write can result in assertion failure (<a class="reference external" href="http://tracker.ceph.com/issues/17695">issue#17695</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11644">pr#11644</a>, Jason Dillaman)</li>
<li>librbd::Operations: update notification failed: (2) No such file or directory (<a class="reference external" href="http://tracker.ceph.com/issues/17549">issue#17549</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11420">pr#11420</a>, Jason Dillaman)</li>
<li>mds: Crash in Client::_invalidate_kernel_dcache when reconnecting during unmount (<a class="reference external" href="http://tracker.ceph.com/issues/17253">issue#17253</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11414">pr#11414</a>, Yan, Zheng)</li>
<li>mds: Duplicate damage table entries (<a class="reference external" href="http://tracker.ceph.com/issues/17173">issue#17173</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11412">pr#11412</a>, John Spray)</li>
<li>mds: Failure in dirfrag.sh (<a class="reference external" href="http://tracker.ceph.com/issues/17286">issue#17286</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11416">pr#11416</a>, Yan, Zheng)</li>
<li>mds: Failure in snaptest-git-ceph.sh (<a class="reference external" href="http://tracker.ceph.com/issues/17271">issue#17271</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11415">pr#11415</a>, Yan, Zheng)</li>
<li>mon: Ceph Status - Segmentation Fault (<a class="reference external" href="http://tracker.ceph.com/issues/16266">issue#16266</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11408">pr#11408</a>, Brad Hubbard)</li>
<li>mon: Display full flag in ceph status if full flag is set (<a class="reference external" href="http://tracker.ceph.com/issues/15809">issue#15809</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9388">pr#9388</a>, Vikhyat Umrao)</li>
<li>mon: Error EINVAL: removing mon.a at 172.21.15.16:6789/0, there will be 1 monitors (<a class="reference external" href="http://tracker.ceph.com/issues/17725">issue#17725</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12267">pr#12267</a>, Joao Eduardo Luis)</li>
<li>mon: OSDMonitor: only reject MOSDBoot based on up_from if inst matches (<a class="reference external" href="http://tracker.ceph.com/issues/17899">issue#17899</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12067">pr#12067</a>, Samuel Just)</li>
<li>mon: OSDMonitor: Missing nearfull flag set (<a class="reference external" href="http://tracker.ceph.com/issues/17390">issue#17390</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11272">pr#11272</a>, Igor Podoski)</li>
<li>mon: Upgrading 0.94.6 -&gt; 0.94.9 saturating mon node networking (<a class="reference external" href="http://tracker.ceph.com/issues/17365">issue#17365</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17386">issue#17386</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11679">pr#11679</a>, Sage Weil, xie xingguo)</li>
<li>mon: ceph mon Segmentation fault after set crush_ruleset ceph 10.2.2 (<a class="reference external" href="http://tracker.ceph.com/issues/16653">issue#16653</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10861">pr#10861</a>, song baisen)</li>
<li>mon: crash: crush/CrushWrapper.h: 940: FAILED assert(successful_detach) (<a class="reference external" href="http://tracker.ceph.com/issues/16525">issue#16525</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10496">pr#10496</a>, Kefu Chai)</li>
<li>mon: don&#8217;t crash on invalid standby_for_fscid (<a class="reference external" href="http://tracker.ceph.com/issues/17466">issue#17466</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11389">pr#11389</a>, John Spray)</li>
<li>mon: fix missing osd metadata (again) (<a class="reference external" href="http://tracker.ceph.com/issues/17685">issue#17685</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11642">pr#11642</a>, John Spray)</li>
<li>mon: osdmonitor: decouple adjust_heartbeat_grace and min_down_reporters (<a class="reference external" href="http://tracker.ceph.com/issues/17055">issue#17055</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10757">pr#10757</a>, Zengran Zhang)</li>
<li>mon: the %USED of ceph df is wrong (<a class="reference external" href="http://tracker.ceph.com/issues/16933">issue#16933</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10860">pr#10860</a>, Kefu Chai)</li>
<li>osd: condition OSDMap encoding on features (<a class="reference external" href="http://tracker.ceph.com/issues/18015">issue#18015</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12167">pr#12167</a>, Sage Weil)</li>
<li>osd: PG::_update_calc_stats wrong for CRUSH_ITEM_NONE up set items (<a class="reference external" href="http://tracker.ceph.com/issues/16998">issue#16998</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10883">pr#10883</a>, Samuel Just)</li>
<li>osd: PG::choose_acting valgrind error or ./common/hobject.h: 182: FAILED assert(!max || (<a href="#id323"><span class="problematic" id="id324">*</span></a>this == hobject_t(hobject_t::get_max()))) (<a class="reference external" href="http://tracker.ceph.com/issues/13967">issue#13967</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10885">pr#10885</a>, Tao Chang)</li>
<li>osd: Potential crash during journal::Replay shut down (<a class="reference external" href="http://tracker.ceph.com/issues/16433">issue#16433</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10645">pr#10645</a>, Jason Dillaman)</li>
<li>osd: add peer_addr in heartbeat_check log message (<a class="reference external" href="http://tracker.ceph.com/issues/15762">issue#15762</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9739">pr#9739</a>, Vikhyat Umrao, Sage Weil)</li>
<li>osd: adjust scrub boundary to object without SnapSet (<a class="reference external" href="http://tracker.ceph.com/issues/17470">issue#17470</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11311">pr#11311</a>, Samuel Just)</li>
<li>osd: ceph osd df does not show summarized info correctly if one or more OSDs are out (<a class="reference external" href="http://tracker.ceph.com/issues/16706">issue#16706</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10759">pr#10759</a>, xie xingguo)</li>
<li>osd: journal: do not prematurely flag object recorder as closed (<a class="reference external" href="http://tracker.ceph.com/issues/17590">issue#17590</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11634">pr#11634</a>, Jason Dillaman)</li>
<li>osd: mark_all_unfound_lost() leaves unapplied changes (<a class="reference external" href="http://tracker.ceph.com/issues/16156">issue#16156</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10886">pr#10886</a>, Samuel Just)</li>
<li>osd: segfault in ObjectCacher::FlusherThread (<a class="reference external" href="http://tracker.ceph.com/issues/16610">issue#16610</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10864">pr#10864</a>, Yan, Zheng)</li>
<li>qa: remove EnumerateObjects from librados upgrade tests (<a class="reference external" href="https://github.com/ceph/ceph/pull/11728">pr#11728</a>, Josh Durgin)</li>
<li>rbd: Disabling pool mirror mode with registered peers results orphaned mirrored images (<a class="reference external" href="http://tracker.ceph.com/issues/16984">issue#16984</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10857">pr#10857</a>, Jason Dillaman)</li>
<li>rbd: ImageWatcher: use after free within C_UnwatchAndFlush (<a class="reference external" href="http://tracker.ceph.com/issues/17289">issue#17289</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17254">issue#17254</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11466">pr#11466</a>, Jason Dillaman)</li>
<li>rbd: Prevent the creation of a clone from a non-primary mirrored image (<a class="reference external" href="http://tracker.ceph.com/issues/16449">issue#16449</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10650">pr#10650</a>, Mykola Golub)</li>
<li>rbd: RBD should restrict mirror enable/disable actions on parents/clones (<a class="reference external" href="http://tracker.ceph.com/issues/16056">issue#16056</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11459">pr#11459</a>, zhuangzeqiang)</li>
<li>rbd: TestJournalReplay: sporadic assert(m_state == STATE_READY || m_state == STATE_STOPPING) failure (<a class="reference external" href="http://tracker.ceph.com/issues/17566">issue#17566</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11590">pr#11590</a>, Jason Dillaman)</li>
<li>rbd: bench io-size should not be larger than image size (<a class="reference external" href="http://tracker.ceph.com/issues/16967">issue#16967</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10796">pr#10796</a>, Jason Dillaman)</li>
<li>rbd: ceph 10.2.2 rbd status on image format 2 returns (2) No such file or directory (<a class="reference external" href="http://tracker.ceph.com/issues/16887">issue#16887</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10652">pr#10652</a>, Jason Dillaman)</li>
<li>rbd: helgrind: TestLibRBD.TestIOPP potential deadlock closing an image with read-ahead enabled (<a class="reference external" href="http://tracker.ceph.com/issues/17198">issue#17198</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11463">pr#11463</a>, Jason Dillaman)</li>
<li>rbd: image.stat() call in librbdpy fails sometimes (<a class="reference external" href="http://tracker.ceph.com/issues/17310">issue#17310</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11464">pr#11464</a>, Jason Dillaman)</li>
<li>rbd: krbd qa scripts and concurrent.sh test fix (<a class="reference external" href="http://tracker.ceph.com/issues/17223">issue#17223</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11018">pr#11018</a>, Ilya Dryomov)</li>
<li>rbd: krbd-related CLI patches (<a class="reference external" href="http://tracker.ceph.com/issues/17554">issue#17554</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11400">pr#11400</a>, Ilya Dryomov)</li>
<li>rbd: mirror: improve resiliency of stress test case (<a class="reference external" href="http://tracker.ceph.com/issues/16855">issue#16855</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16555">issue#16555</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14738">issue#14738</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15259">issue#15259</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17446">issue#17446</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17355">issue#17355</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16538">issue#16538</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16974">issue#16974</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17283">issue#17283</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17317">issue#17317</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17416">issue#17416</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16227">issue#16227</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11433">pr#11433</a>, Mykola Golub, Ricardo Dias, Jason Dillaman)</li>
<li>rbd: rbd-nbd IO hang (<a class="reference external" href="http://tracker.ceph.com/issues/16921">issue#16921</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11467">pr#11467</a>, Jason Dillaman)</li>
<li>rbd: update_features API needs to support backwards/forward compatibility (<a class="reference external" href="http://tracker.ceph.com/issues/17330">issue#17330</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11462">pr#11462</a>, Jason Dillaman)</li>
<li>rgw: COPY broke multipart files uploaded under dumpling (<a class="reference external" href="http://tracker.ceph.com/issues/16435">issue#16435</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10866">pr#10866</a>, Yehuda Sadeh)</li>
<li>rgw: Config parameter rgw keystone make new tenants in radosgw multitenancy does not work (<a class="reference external" href="http://tracker.ceph.com/issues/17293">issue#17293</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11473">pr#11473</a>, SirishaGuduru)</li>
<li>rgw: Do not archive metadata by default (<a class="reference external" href="http://tracker.ceph.com/issues/17256">issue#17256</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11321">pr#11321</a>, Pavan Rallabhandi, Matt Benjamin)</li>
<li>rgw: ERROR: got unexpected error when trying to read object: -2 (<a class="reference external" href="http://tracker.ceph.com/issues/17111">issue#17111</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11472">pr#11472</a>, Yang Honggang)</li>
<li>rgw: Modification for TEST S3 ACCESS section in INSTALL CEPH OBJECT GATEWAY page (<a class="reference external" href="http://tracker.ceph.com/issues/15603">issue#15603</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11475">pr#11475</a>, la-sguduru)</li>
<li>rgw: RGW loses realm/period/zonegroup/zone data: period overwritten if somewhere in the cluster is still running Hammer (<a class="reference external" href="http://tracker.ceph.com/issues/17371">issue#17371</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11519">pr#11519</a>, Orit Wasserman)</li>
<li>rgw: RGWDataSyncCR fails on errors from RGWListBucketIndexesCR (<a class="reference external" href="http://tracker.ceph.com/issues/17073">issue#17073</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11330">pr#11330</a>, Casey Bodley)</li>
<li>rgw: S3 object versioning fails when applied on a non-master zone (<a class="reference external" href="http://tracker.ceph.com/issues/16494">issue#16494</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11367">pr#11367</a>, Yehuda Sadeh)</li>
<li>rgw: add orphan options to radosgw-admin &#8211;help and man page (<a class="reference external" href="http://tracker.ceph.com/issues/17281">issue#17281</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17280">issue#17280</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11139">pr#11139</a>, Ken Dreyer, Thomas Serlin)</li>
<li>rgw: back off bucket sync on failures, don&#8217;t store marker (<a class="reference external" href="http://tracker.ceph.com/issues/16742">issue#16742</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11021">pr#11021</a>, Yehuda Sadeh)</li>
<li>rgw: combined LDAP backports (<a class="reference external" href="http://tracker.ceph.com/issues/17544">issue#17544</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17185">issue#17185</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11332">pr#11332</a>, Harald Klein, Matt Benjamin)</li>
<li>rgw: cors auto memleak (<a class="reference external" href="http://tracker.ceph.com/issues/16564">issue#16564</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10656">pr#10656</a>, Yan Jun)</li>
<li>rgw: default quota fixes (<a class="reference external" href="http://tracker.ceph.com/issues/16410">issue#16410</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10832">pr#10832</a>, Pavan Rallabhandi, Daniel Gryniewicz)</li>
<li>rgw: doc: description of multipart part entity is wrong (<a class="reference external" href="http://tracker.ceph.com/issues/17504">issue#17504</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11342">pr#11342</a>, weiqiaomiao)</li>
<li>rgw: don&#8217;t loop forever when reading data from 0 sized segment. (<a class="reference external" href="http://tracker.ceph.com/issues/17692">issue#17692</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11626">pr#11626</a>, Marcus Watts)</li>
<li>rgw: fix put_acls for objects starting and ending with underscore (<a class="reference external" href="http://tracker.ceph.com/issues/17625">issue#17625</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11669">pr#11669</a>, Orit Wasserman)</li>
<li>rgw: fix regression with handling double underscore (<a class="reference external" href="http://tracker.ceph.com/issues/17443">issue#17443</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16856">issue#16856</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11563">pr#11563</a>, Yehuda Sadeh, Orit Wasserman)</li>
<li>rgw: handle empty POST condition (<a class="reference external" href="http://tracker.ceph.com/issues/17635">issue#17635</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11662">pr#11662</a>, Yehuda Sadeh)</li>
<li>rgw: metadata sync can skip markers for failed/incomplete entries (<a class="reference external" href="http://tracker.ceph.com/issues/16759">issue#16759</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10657">pr#10657</a>, Yehuda Sadeh)</li>
<li>rgw: nfs backports (<a class="reference external" href="http://tracker.ceph.com/issues/17393">issue#17393</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17311">issue#17311</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17367">issue#17367</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17319">issue#17319</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17321">issue#17321</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17322">issue#17322</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17323">issue#17323</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17325">issue#17325</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17326">issue#17326</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17327">issue#17327</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11335">pr#11335</a>, Min Chen, Yan Jun, Weibing Zhang, Matt Benjamin)</li>
<li>rgw: period commit loses zonegroup changes: region_map converted repeatedly (<a class="reference external" href="http://tracker.ceph.com/issues/17051">issue#17051</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10890">pr#10890</a>, Casey Bodley)</li>
<li>rgw: period commit return error when the current period has a zonegroup which doesn&#8217;t have a master zone (<a class="reference external" href="http://tracker.ceph.com/issues/17110">issue#17110</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10867">pr#10867</a>, weiqiaomiao)</li>
<li>rgw: radosgw daemon core when reopen logs (<a class="reference external" href="http://tracker.ceph.com/issues/17036">issue#17036</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10868">pr#10868</a>, weiqiaomiao)</li>
<li>rgw: rgw file uses too much CPU in gc/idle thread (<a class="reference external" href="http://tracker.ceph.com/issues/16976">issue#16976</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10889">pr#10889</a>, Matt Benjamin)</li>
<li>rgw: s3tests-test-readwrite failing with 500 (<a class="reference external" href="http://tracker.ceph.com/issues/16930">issue#16930</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11471">pr#11471</a>, Yehuda Sadeh)</li>
<li>rgw: upgrade from old multisite to new multisite fails (<a class="reference external" href="http://tracker.ceph.com/issues/16751">issue#16751</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10891">pr#10891</a>, Orit Wasserman)</li>
<li>rgw:response information is error when geting token of swift account (<a class="reference external" href="http://tracker.ceph.com/issues/15195">issue#15195</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11474">pr#11474</a>, Qiankun Zheng)</li>
<li>rgw:user email can modify to empty when it has values (<a class="reference external" href="http://tracker.ceph.com/issues/13286">issue#13286</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11469">pr#11469</a>, Yehuda Sadeh, Weijun Duan)</li>
<li>tests: ceph-disk must ignore debug monc (<a class="reference external" href="http://tracker.ceph.com/issues/17607">issue#17607</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11548">pr#11548</a>, Loic Dachary)</li>
<li>tests: fix TestClsRbd.mirror_image failure in upgrade:jewel-x-master-distro-basic-vps (<a class="reference external" href="http://tracker.ceph.com/issues/16529">issue#16529</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10888">pr#10888</a>, Jason Dillaman)</li>
<li>tests: scsi_debug fails /dev/disk/by-partuuid (<a class="reference external" href="http://tracker.ceph.com/issues/17100">issue#17100</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11411">pr#11411</a>, Loic Dachary)</li>
<li>tests: test/ceph_test_msgr: do not use Message::middle for holding transient… (<a class="reference external" href="http://tracker.ceph.com/issues/17365">issue#17365</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17728">issue#17728</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16955">issue#16955</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11742">pr#11742</a>, Haomai Wang, Kefu Chai, Michal Jarzabek, Sage Weil)</li>
<li>tools: Missing comma in ceph-create-keys causes concatenation of arguments (<a class="reference external" href="http://tracker.ceph.com/issues/17815">issue#17815</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11822">pr#11822</a>, Patrick Donnelly)</li>
<li>tools: add a tool to rebuild mon store from OSD (<a class="reference external" href="http://tracker.ceph.com/issues/17179">issue#17179</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17400">issue#17400</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11126">pr#11126</a>, Kefu Chai, xie xingguo)</li>
<li>tools: ceph-create-keys: sometimes blocks forever if mds allow is set (<a class="reference external" href="http://tracker.ceph.com/issues/16255">issue#16255</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11417">pr#11417</a>, John Spray)</li>
<li>tools: ceph-disk should timeout when a lock cannot be acquired (<a class="reference external" href="http://tracker.ceph.com/issues/16580">issue#16580</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10758">pr#10758</a>, Loic Dachary)</li>
<li>tools: ceph-disk: expected systemd unit failures are confusing (<a class="reference external" href="http://tracker.ceph.com/issues/15990">issue#15990</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10884">pr#10884</a>, Boris Ranto)</li>
<li>tools: ceph-disk: using a regular file as a journal fails (<a class="reference external" href="http://tracker.ceph.com/issues/16280">issue#16280</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17662">issue#17662</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11657">pr#11657</a>, Jayashree Candadai, Anirudha Bose, Loic Dachary, Shylesh Kumar)</li>
<li>tools: ceph-objectstore-tool crashes if &#8211;journal-path &lt;a-directory&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/17307">issue#17307</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11407">pr#11407</a>, Kefu Chai)</li>
<li>tools: ceph-objectstore-tool: add a way to split filestore directories offline (<a class="reference external" href="http://tracker.ceph.com/issues/17220">issue#17220</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11252">pr#11252</a>, Josh Durgin)</li>
<li>tools: ceph-post-file: use new ssh key (<a class="reference external" href="http://tracker.ceph.com/issues/14267">issue#14267</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11746">pr#11746</a>, David Galloway)</li>
</ul>
</div>
</div>
<div class="section" id="v10-2-3-jewel">
<h2>v10.2.3 Jewel<a class="headerlink" href="#v10-2-3-jewel" title="Permalink to this headline">¶</a></h2>
<p>This point release fixes several important bugs in RBD mirroring, RGW multi-site, CephFS, and RADOS.</p>
<p>We recommend that all v10.2.x users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v10.2.3.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id390">
<h3>Notable Changes<a class="headerlink" href="#id390" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build/ops: 60-ceph-partuuid-workaround-rules still needed by debian jessie (udev 215-17) (<a class="reference external" href="http://tracker.ceph.com/issues/16351">issue#16351</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10653">pr#10653</a>, runsisi, Loic Dachary)</li>
<li>build/ops: ceph Resource Agent does not work with systemd (<a class="reference external" href="http://tracker.ceph.com/issues/14828">issue#14828</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9917">pr#9917</a>, Nathan Cutler)</li>
<li>build/ops: ceph-base requires parted (<a class="reference external" href="http://tracker.ceph.com/issues/16095">issue#16095</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10008">pr#10008</a>, Ken Dreyer)</li>
<li>build/ops: ceph-osd-prestart.sh contains Upstart-specific code (<a class="reference external" href="http://tracker.ceph.com/issues/15984">issue#15984</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10364">pr#10364</a>, Nathan Cutler)</li>
<li>build/ops: mount.ceph: move from ceph-base to ceph-common and add symlink in /sbin for SUSE (<a class="reference external" href="http://tracker.ceph.com/issues/16598">issue#16598</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16645">issue#16645</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10357">pr#10357</a>, Nathan Cutler, Dan Horák, Ricardo Dias, Kefu Chai)</li>
<li>build/ops: need rocksdb commit 7ca731b12ce for ppc64le build (<a class="reference external" href="http://tracker.ceph.com/issues/17092">issue#17092</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10816">pr#10816</a>, Nathan Cutler)</li>
<li>build/ops: rpm: OBS needs ExclusiveArch (<a class="reference external" href="http://tracker.ceph.com/issues/16936">issue#16936</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10614">pr#10614</a>, Michel Normand)</li>
<li>cli: ceph command line tool chokes on ceph –w (the dash is unicode &#8216;en dash&#8217; &amp;ndash, copy-paste to reproduce) (<a class="reference external" href="http://tracker.ceph.com/issues/12287">issue#12287</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10420">pr#10420</a>, Oleh Prypin, Kefu Chai)</li>
<li>common: expose buffer const_iterator symbols (<a class="reference external" href="http://tracker.ceph.com/issues/16899">issue#16899</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10552">pr#10552</a>, Noah Watkins)</li>
<li>common: global-init: fixup chown of the run directory along with log and asok files (<a class="reference external" href="http://tracker.ceph.com/issues/15607">issue#15607</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8754">pr#8754</a>, Karol Mroz)</li>
<li>fs: ceph-fuse: link to libtcmalloc or jemalloc (<a class="reference external" href="http://tracker.ceph.com/issues/16655">issue#16655</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10303">pr#10303</a>, Yan, Zheng)</li>
<li>fs: client: crash in unmount when fuse_use_invalidate_cb is enabled (<a class="reference external" href="http://tracker.ceph.com/issues/16137">issue#16137</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10106">pr#10106</a>, Yan, Zheng)</li>
<li>fs: client: fstat cap release (<a class="reference external" href="http://tracker.ceph.com/issues/15723">issue#15723</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9562">pr#9562</a>, Yan, Zheng, Noah Watkins)</li>
<li>fs: essential backports for OpenStack Manila (<a class="reference external" href="http://tracker.ceph.com/issues/15406">issue#15406</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15614">issue#15614</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15615">issue#15615</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10453">pr#10453</a>, John Spray, Ramana Raja, Xiaoxi Chen)</li>
<li>fs: fix double-unlock on shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/17126">issue#17126</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10847">pr#10847</a>, Greg Farnum)</li>
<li>fs: fix mdsmap print_summary with standby replays (<a class="reference external" href="http://tracker.ceph.com/issues/15705">issue#15705</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9547">pr#9547</a>, John Spray)</li>
<li>fs: fuse mounted file systems fails SAMBA CTDB ping_pong rw test with v9.0.2 (<a class="reference external" href="http://tracker.ceph.com/issues/12653">issue#12653</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15634">issue#15634</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10108">pr#10108</a>, Yan, Zheng)</li>
<li>librados: Missing export for rados_aio_get_version in src/include/rados/librados.h (<a class="reference external" href="http://tracker.ceph.com/issues/15535">issue#15535</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9574">pr#9574</a>, Jim Wright)</li>
<li>librados: osd: bad flags can crash the osd (<a class="reference external" href="http://tracker.ceph.com/issues/16012">issue#16012</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9997">pr#9997</a>, Sage Weil)</li>
<li>librbd: Close journal and object map before flagging exclusive lock as released (<a class="reference external" href="http://tracker.ceph.com/issues/16450">issue#16450</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10053">pr#10053</a>, Jason Dillaman)</li>
<li>librbd: Crash when utilizing advisory locking API functions (<a class="reference external" href="http://tracker.ceph.com/issues/16364">issue#16364</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10051">pr#10051</a>, Jason Dillaman)</li>
<li>librbd: ExclusiveLock object leaked when switching to snapshot (<a class="reference external" href="http://tracker.ceph.com/issues/16446">issue#16446</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10054">pr#10054</a>, Jason Dillaman)</li>
<li>librbd: FAILED assert(object_no &lt; m_object_map.size()) (<a class="reference external" href="http://tracker.ceph.com/issues/16561">issue#16561</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10647">pr#10647</a>, Jason Dillaman)</li>
<li>librbd: Image removal doesn&#8217;t necessarily clean up all rbd_mirroring entries (<a class="reference external" href="http://tracker.ceph.com/issues/16471">issue#16471</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10009">pr#10009</a>, Jason Dillaman)</li>
<li>librbd: Object map/fast-diff invalidated if journal replays the same snap remove event (<a class="reference external" href="http://tracker.ceph.com/issues/16350">issue#16350</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10010">pr#10010</a>, Jason Dillaman)</li>
<li>librbd: Timeout sending mirroring notification shouldn&#8217;t result in failure (<a class="reference external" href="http://tracker.ceph.com/issues/16470">issue#16470</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10052">pr#10052</a>, Jason Dillaman)</li>
<li>librbd: Whitelist EBUSY error from snap unprotect for journal replay (<a class="reference external" href="http://tracker.ceph.com/issues/16445">issue#16445</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10055">pr#10055</a>, Jason Dillaman)</li>
<li>librbd: cancel all tasks should wait until finisher is done (<a class="reference external" href="http://tracker.ceph.com/issues/16517">issue#16517</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9752">pr#9752</a>, Haomai Wang)</li>
<li>librbd: delay acquiring lock if image watch has failed (<a class="reference external" href="http://tracker.ceph.com/issues/16923">issue#16923</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10827">pr#10827</a>, Jason Dillaman)</li>
<li>librbd: fix missing return statement if failed to get mirror image state (<a class="reference external" href="http://tracker.ceph.com/issues/16600">issue#16600</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10144">pr#10144</a>, runsisi)</li>
<li>librbd: flag image as updated after proxying maintenance op (<a class="reference external" href="http://tracker.ceph.com/issues/16404">issue#16404</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9883">pr#9883</a>, Jason Dillaman)</li>
<li>librbd: mkfs.xfs slow performance with discards and object map (<a class="reference external" href="http://tracker.ceph.com/issues/16707">issue#16707</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16689">issue#16689</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10649">pr#10649</a>, Jason Dillaman)</li>
<li>librbd: potential use after free on refresh error (<a class="reference external" href="http://tracker.ceph.com/issues/16519">issue#16519</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9952">pr#9952</a>, Mykola Golub)</li>
<li>librbd: rbd-nbd does not properly handle resize notifications (<a class="reference external" href="http://tracker.ceph.com/issues/15715">issue#15715</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10679">pr#10679</a>, Mykola Golub)</li>
<li>librbd: the option &#8216;rbd_cache_writethrough_until_flush=true&#8217; dosn&#8217;t work (<a class="reference external" href="http://tracker.ceph.com/issues/16740">issue#16740</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16386">issue#16386</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16708">issue#16708</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16654">issue#16654</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16478">issue#16478</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10797">pr#10797</a>, Mykola Golub, xinxin shu, Xiaowei Chen, Jason Dillaman)</li>
<li>mds:  tell command blocks forever with async messenger (TestVolumeClient.test_evict_client failure) (<a class="reference external" href="http://tracker.ceph.com/issues/16288">issue#16288</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10501">pr#10501</a>, Douglas Fuller)</li>
<li>mds: Confusing MDS log message when shut down with stalled journaler reads (<a class="reference external" href="http://tracker.ceph.com/issues/15689">issue#15689</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9557">pr#9557</a>, John Spray)</li>
<li>mds: Deadlock on shutdown active rank while busy with metadata IO (<a class="reference external" href="http://tracker.ceph.com/issues/16042">issue#16042</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10502">pr#10502</a>, Patrick Donnelly)</li>
<li>mds: Failing file operations on kernel based cephfs mount point leaves unaccessible file behind on hammer 0.94.7 (<a class="reference external" href="http://tracker.ceph.com/issues/16013">issue#16013</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10199">pr#10199</a>, Yan, Zheng)</li>
<li>mds: Fix shutting down mds timed-out due to deadlock (<a class="reference external" href="http://tracker.ceph.com/issues/16396">issue#16396</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10500">pr#10500</a>, Zhi Zhang)</li>
<li>mds: MDSMonitor fixes (<a class="reference external" href="http://tracker.ceph.com/issues/16136">issue#16136</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9561">pr#9561</a>, xie xingguo)</li>
<li>mds: MDSMonitor::check_subs() is very buggy (<a class="reference external" href="http://tracker.ceph.com/issues/16022">issue#16022</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10103">pr#10103</a>, Yan, Zheng)</li>
<li>mds: Session::check_access() is buggy (<a class="reference external" href="http://tracker.ceph.com/issues/16358">issue#16358</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10105">pr#10105</a>, Yan, Zheng)</li>
<li>mds: StrayManager.cc: 520: FAILED assert(dnl-&gt;is_primary()) (<a class="reference external" href="http://tracker.ceph.com/issues/15920">issue#15920</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9559">pr#9559</a>, Yan, Zheng)</li>
<li>mds: enforce a dirfrag limit on entries (<a class="reference external" href="http://tracker.ceph.com/issues/16164">issue#16164</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10104">pr#10104</a>, Patrick Donnelly)</li>
<li>mds: fix SnapRealm::have_past_parents_open() (<a class="reference external" href="http://tracker.ceph.com/issues/16299">issue#16299</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10499">pr#10499</a>, Yan, Zheng)</li>
<li>mds: fix getattr starve setattr (<a class="reference external" href="http://tracker.ceph.com/issues/16154">issue#16154</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9560">pr#9560</a>, Yan, Zheng)</li>
<li>mds: wrongly treat symlink inode as normal file/dir when symlink inode is stale on kcephfs (<a class="reference external" href="http://tracker.ceph.com/issues/15702">issue#15702</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9405">pr#9405</a>, Zhi Zhang)</li>
<li>mon: &#8220;mon metadata&#8221; fails when only one monitor exists (<a class="reference external" href="http://tracker.ceph.com/issues/15866">issue#15866</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10654">pr#10654</a>, John Spray, Kefu Chai)</li>
<li>mon: Monitor: validate prefix on handle_command() (<a class="reference external" href="http://tracker.ceph.com/issues/16297">issue#16297</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10036">pr#10036</a>, You Ji)</li>
<li>mon: OSDMonitor: drop pg temps from not the current primary (<a class="reference external" href="http://tracker.ceph.com/issues/16127">issue#16127</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9998">pr#9998</a>, Samuel Just)</li>
<li>mon: prepare_pgtemp needs to only update up_thru if newer than the existing one (<a class="reference external" href="http://tracker.ceph.com/issues/16185">issue#16185</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10001">pr#10001</a>, Samuel Just)</li>
<li>msgr: AsyncConnection::lockmsg/async lockdep cycle: AsyncMessenger::lock, MDSDaemon::mds_lock, AsyncConnection::lock (<a class="reference external" href="http://tracker.ceph.com/issues/16237">issue#16237</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10004">pr#10004</a>, Haomai Wang)</li>
<li>msgr: async messenger mon crash (<a class="reference external" href="http://tracker.ceph.com/issues/16378">issue#16378</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16418">issue#16418</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9996">pr#9996</a>, Haomai Wang)</li>
<li>msgr: backports of all asyncmsgr fixes to jewel (<a class="reference external" href="http://tracker.ceph.com/issues/15503">issue#15503</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15372">issue#15372</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9633">pr#9633</a>, Yan Jun, Haomai Wang, Piotr Dałek)</li>
<li>msgr: msg/async: connection race hang (<a class="reference external" href="http://tracker.ceph.com/issues/15849">issue#15849</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10003">pr#10003</a>, Haomai Wang)</li>
<li>osd: FileStore: umount hang because sync thread doesn&#8217;t exit (<a class="reference external" href="http://tracker.ceph.com/issues/15695">issue#15695</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9105">pr#9105</a>, Kefu Chai)</li>
<li>osd: Fixes for list-inconsistent-* (<a class="reference external" href="http://tracker.ceph.com/issues/15766">issue#15766</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16192">issue#16192</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15719">issue#15719</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9565">pr#9565</a>, David Zafman)</li>
<li>osd: New pools have bogus stuck inactive/unclean HEALTH_ERR messages until they are first active and clean (<a class="reference external" href="http://tracker.ceph.com/issues/14952">issue#14952</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10007">pr#10007</a>, Sage Weil)</li>
<li>osd: OSD crash with Hammer to Jewel Upgrade: void FileStore::init_temp_collections() (<a class="reference external" href="http://tracker.ceph.com/issues/16672">issue#16672</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10561">pr#10561</a>, David Zafman)</li>
<li>osd: OSD failed to subscribe skipped osdmaps after ceph osd pause (<a class="reference external" href="http://tracker.ceph.com/issues/17023">issue#17023</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10804">pr#10804</a>, Kefu Chai)</li>
<li>osd: ObjectCacher split BufferHead read fix (<a class="reference external" href="http://tracker.ceph.com/issues/16002">issue#16002</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10074">pr#10074</a>, Greg Farnum)</li>
<li>osd: ReplicatedBackend doesn&#8217;t increment stats on pull, only push (<a class="reference external" href="http://tracker.ceph.com/issues/16277">issue#16277</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10421">pr#10421</a>, Kefu Chai)</li>
<li>osd: Scrub error: 0/1 pinned (<a class="reference external" href="http://tracker.ceph.com/issues/15952">issue#15952</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9576">pr#9576</a>, Samuel Just)</li>
<li>osd: crash adding snap to purged_snaps in ReplicatedPG::WaitingOnReplicas (<a class="reference external" href="http://tracker.ceph.com/issues/15943">issue#15943</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9575">pr#9575</a>, Samuel Just)</li>
<li>osd: partprobe intermittent issues during ceph-disk prepare (<a class="reference external" href="http://tracker.ceph.com/issues/15176">issue#15176</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10497">pr#10497</a>, Marius Vollmer, Loic Dachary)</li>
<li>osd: saw valgrind issues in ReplicatedPG::new_repop (<a class="reference external" href="http://tracker.ceph.com/issues/16801">issue#16801</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10760">pr#10760</a>, Kefu Chai)</li>
<li>osd: sparse_read on ec pool should return extends with correct offset (<a class="reference external" href="http://tracker.ceph.com/issues/16138">issue#16138</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10006">pr#10006</a>, kofiliu)</li>
<li>osd:sched_time not actually randomized (<a class="reference external" href="http://tracker.ceph.com/issues/15890">issue#15890</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9578">pr#9578</a>, xie xingguo)</li>
<li>rbd: ImageReplayer::is_replaying does not include flush state  (<a class="reference external" href="http://tracker.ceph.com/issues/16970">issue#16970</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10790">pr#10790</a>, Jason Dillaman)</li>
<li>rbd: Journal duplicate op detection can cause lockdep error (<a class="reference external" href="http://tracker.ceph.com/issues/16363">issue#16363</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10044">pr#10044</a>, Jason Dillaman)</li>
<li>rbd: Journal needs to handle duplicate maintenance op tids (<a class="reference external" href="http://tracker.ceph.com/issues/16362">issue#16362</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10045">pr#10045</a>, Jason Dillaman)</li>
<li>rbd: Unable to disable journaling feature if in unexpected mirror state (<a class="reference external" href="http://tracker.ceph.com/issues/16348">issue#16348</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10042">pr#10042</a>, Jason Dillaman)</li>
<li>rbd: bashism in src/rbdmap  (<a class="reference external" href="http://tracker.ceph.com/issues/16608">issue#16608</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10786">pr#10786</a>, Jason Dillaman)</li>
<li>rbd: doc: format 2 now is the default image format (<a class="reference external" href="http://tracker.ceph.com/issues/17026">issue#17026</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10732">pr#10732</a>, Chengwei Yang)</li>
<li>rbd: hen journaling is enabled, a flush request shouldn&#8217;t flush the cache (<a class="reference external" href="http://tracker.ceph.com/issues/15761">issue#15761</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10041">pr#10041</a>, Yuan Zhou)</li>
<li>rbd: possible race condition during journal transition from replay to ready (<a class="reference external" href="http://tracker.ceph.com/issues/16198">issue#16198</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10047">pr#10047</a>, Jason Dillaman)</li>
<li>rbd: qa/workunits/rbd: respect RBD_CREATE_ARGS environment variable (<a class="reference external" href="http://tracker.ceph.com/issues/16289">issue#16289</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9721">pr#9721</a>, Mykola Golub)</li>
<li>rbd: rbd-mirror should disable proxied maintenance ops for non-primary image (<a class="reference external" href="http://tracker.ceph.com/issues/16411">issue#16411</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10050">pr#10050</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: FAILED assert(m_local_image_ctx-&gt;object_map != nullptr) (<a class="reference external" href="http://tracker.ceph.com/issues/16558">issue#16558</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10646">pr#10646</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: FAILED assert(m_on_update_status_finish == nullptr) (<a class="reference external" href="http://tracker.ceph.com/issues/16956">issue#16956</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10792">pr#10792</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: FAILED assert(m_state == STATE_STOPPING) (<a class="reference external" href="http://tracker.ceph.com/issues/16980">issue#16980</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10791">pr#10791</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: ensure replay status formatter has completed before stopping replay (<a class="reference external" href="http://tracker.ceph.com/issues/16352">issue#16352</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10043">pr#10043</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: include local pool id in resync throttle unique key (<a class="reference external" href="http://tracker.ceph.com/issues/16536">issue#16536</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15239">issue#15239</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16488">issue#16488</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16491">issue#16491</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16329">issue#16329</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15108">issue#15108</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15670">issue#15670</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10678">pr#10678</a>, Ricardo Dias, Jason Dillaman)</li>
<li>rbd: rbd-mirror: potential race condition accessing local image journal  (<a class="reference external" href="http://tracker.ceph.com/issues/16230">issue#16230</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10046">pr#10046</a>, Jason Dillaman)</li>
<li>rbd: rbd-mirror: reduce memory footprint during journal replay (<a class="reference external" href="http://tracker.ceph.com/issues/16321">issue#16321</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16489">issue#16489</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16622">issue#16622</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16539">issue#16539</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16223">issue#16223</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16349">issue#16349</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10684">pr#10684</a>, Mykola Golub, Jason Dillaman)</li>
<li>rgw: A query on a static large object fails with 404 error (<a class="reference external" href="http://tracker.ceph.com/issues/16015">issue#16015</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9544">pr#9544</a>, Radoslaw Zarzynski)</li>
<li>rgw: Add zone rename to radosgw_admin (<a class="reference external" href="http://tracker.ceph.com/issues/16934">issue#16934</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10663">pr#10663</a>, Shilpa Jagannath)</li>
<li>rgw: Bucket index shards orphaned after bucket delete (<a class="reference external" href="http://tracker.ceph.com/issues/16412">issue#16412</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10525">pr#10525</a>, Orit Wasserman)</li>
<li>rgw: Bug when using port 443s in rgw. (<a class="reference external" href="http://tracker.ceph.com/issues/16548">issue#16548</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10664">pr#10664</a>, Pritha Srivastava)</li>
<li>rgw: Fallback to Host header for bucket name. (<a class="reference external" href="http://tracker.ceph.com/issues/15975">issue#15975</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10693">pr#10693</a>, Robin H. Johnson)</li>
<li>rgw: Fix civetweb IPv6 (<a class="reference external" href="http://tracker.ceph.com/issues/16928">issue#16928</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10580">pr#10580</a>, Robin H. Johnson)</li>
<li>rgw: Increase log level for messages occuring while running rgw admin command (<a class="reference external" href="http://tracker.ceph.com/issues/16935">issue#16935</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10765">pr#10765</a>, Shilpa Jagannath)</li>
<li>rgw: No Last-Modified, Content-Size and X-Object-Manifest headers if no segments in DLO manifest (<a class="reference external" href="http://tracker.ceph.com/issues/15812">issue#15812</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9265">pr#9265</a>, Radoslaw Zarzynski)</li>
<li>rgw: RGWPeriodPuller tries to pull from itself (<a class="reference external" href="http://tracker.ceph.com/issues/16939">issue#16939</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10764">pr#10764</a>, Casey Bodley)</li>
<li>rgw: Set Access-Control-Allow-Origin to a Asterisk if allowed in a rule (<a class="reference external" href="http://tracker.ceph.com/issues/15348">issue#15348</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9453">pr#9453</a>, Wido den Hollander)</li>
<li>rgw: Swift API returns double space usage and objects of account metadata (<a class="reference external" href="http://tracker.ceph.com/issues/16188">issue#16188</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10148">pr#10148</a>, Albert Tu)</li>
<li>rgw: account/container metadata not actually present in a request are deleted during POST through Swift API (<a class="reference external" href="http://tracker.ceph.com/issues/15977">issue#15977</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15779">issue#15779</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9542">pr#9542</a>, Radoslaw Zarzynski)</li>
<li>rgw: add socket backlog setting for via ceph.conf (<a class="reference external" href="http://tracker.ceph.com/issues/16406">issue#16406</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10216">pr#10216</a>, Feng Guo)</li>
<li>rgw: add tenant support to multisite sync (<a class="reference external" href="http://tracker.ceph.com/issues/16469">issue#16469</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16121">issue#16121</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16665">issue#16665</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10845">pr#10845</a>, Yehuda Sadeh, Josh Durgin, Casey Bodley, Pritha Srivastava)</li>
<li>rgw: add_zone only clears master_zone if &#8211;master=false (<a class="reference external" href="http://tracker.ceph.com/issues/15901">issue#15901</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9327">pr#9327</a>, Casey Bodley)</li>
<li>rgw: aws4 parsing issue (<a class="reference external" href="http://tracker.ceph.com/issues/15940">issue#15940</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15939">issue#15939</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9545">pr#9545</a>, Yehuda Sadeh)</li>
<li>rgw: aws4: add STREAMING-AWS4-HMAC-SHA256-PAYLOAD support (<a class="reference external" href="http://tracker.ceph.com/issues/16146">issue#16146</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10167">pr#10167</a>, Radoslaw Zarzynski, Javier M. Mellid)</li>
<li>rgw: backport merge of static sites fixes (<a class="reference external" href="http://tracker.ceph.com/issues/15555">issue#15555</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15532">issue#15532</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15531">issue#15531</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9568">pr#9568</a>, Robin H. Johnson)</li>
<li>rgw: can set negative max_buckets on RGWUserInfo (<a class="reference external" href="http://tracker.ceph.com/issues/14534">issue#14534</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10655">pr#10655</a>, Yehuda Sadeh)</li>
<li>rgw: cleanup radosgw-admin temp command as it was deprecated (<a class="reference external" href="http://tracker.ceph.com/issues/16023">issue#16023</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9390">pr#9390</a>, Vikhyat Umrao)</li>
<li>rgw: comparing return code to ERR_NOT_MODIFIED in rgw_rest_s3.cc (needs minus sign) (<a class="reference external" href="http://tracker.ceph.com/issues/16327">issue#16327</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9790">pr#9790</a>, Nathan Cutler)</li>
<li>rgw: custom metadata aren&#8217;t camelcased in Swift&#8217;s responses (<a class="reference external" href="http://tracker.ceph.com/issues/15902">issue#15902</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9267">pr#9267</a>, Radoslaw Zarzynski)</li>
<li>rgw: data sync stops after getting error in all data log sync shards (<a class="reference external" href="http://tracker.ceph.com/issues/16530">issue#16530</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10073">pr#10073</a>, Yehuda Sadeh)</li>
<li>rgw: default zone and zonegroup cannot be added to a realm (<a class="reference external" href="http://tracker.ceph.com/issues/16839">issue#16839</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10658">pr#10658</a>, Casey Bodley)</li>
<li>rgw: document multi tenancy (<a class="reference external" href="http://tracker.ceph.com/issues/16635">issue#16635</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10217">pr#10217</a>, Pete Zaitcev)</li>
<li>rgw: don&#8217;t unregister request if request is not connected to manager (<a class="reference external" href="http://tracker.ceph.com/issues/15911">issue#15911</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9242">pr#9242</a>, Yehuda Sadeh)</li>
<li>rgw: failed to create bucket after upgrade from hammer to jewel (<a class="reference external" href="http://tracker.ceph.com/issues/16627">issue#16627</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10524">pr#10524</a>, Orit Wasserman)</li>
<li>rgw: fix ldap bindpw parsing (<a class="reference external" href="http://tracker.ceph.com/issues/16286">issue#16286</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10518">pr#10518</a>, Matt Benjamin)</li>
<li>rgw: fix multi-delete query param parsing. (<a class="reference external" href="http://tracker.ceph.com/issues/16618">issue#16618</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10188">pr#10188</a>, Robin H. Johnson)</li>
<li>rgw: improve support for Swift&#8217;s object versioning. (<a class="reference external" href="http://tracker.ceph.com/issues/15925">issue#15925</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10710">pr#10710</a>, Radoslaw Zarzynski)</li>
<li>rgw: initial slashes are not properly handled in Swift&#8217;s BulkDelete (<a class="reference external" href="http://tracker.ceph.com/issues/15948">issue#15948</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9316">pr#9316</a>, Radoslaw Zarzynski)</li>
<li>rgw: master: build failures with boost &gt; 1.58 (<a class="reference external" href="http://tracker.ceph.com/issues/16392">issue#16392</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16391">issue#16391</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10026">pr#10026</a>, Abhishek Lekshmanan)</li>
<li>rgw: multisite segfault on ~RGWRealmWatcher if realm was deleted (<a class="reference external" href="http://tracker.ceph.com/issues/16817">issue#16817</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10660">pr#10660</a>, Casey Bodley)</li>
<li>rgw: multisite sync races with deletes (<a class="reference external" href="http://tracker.ceph.com/issues/16222">issue#16222</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16464">issue#16464</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16220">issue#16220</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16143">issue#16143</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10293">pr#10293</a>, Yehuda Sadeh, Casey Bodley)</li>
<li>rgw: multisite: preserve zone&#8217;s extra pool (<a class="reference external" href="http://tracker.ceph.com/issues/16712">issue#16712</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10537">pr#10537</a>, Abhishek Lekshmanan)</li>
<li>rgw: object expirer&#8217;s hints might be trimmed without processing in some circumstances (<a class="reference external" href="http://tracker.ceph.com/issues/16705">issue#16705</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16684">issue#16684</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10763">pr#10763</a>, Radoslaw Zarzynski)</li>
<li>rgw: radosgw-admin failure for user create after upgrade from hammer to jewel (<a class="reference external" href="http://tracker.ceph.com/issues/15937">issue#15937</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9294">pr#9294</a>, Orit Wasserman, Abhishek Lekshmanan)</li>
<li>rgw: radosgw-admin: EEXIST messages for create operations (<a class="reference external" href="http://tracker.ceph.com/issues/15720">issue#15720</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9268">pr#9268</a>, Abhishek Lekshmanan)</li>
<li>rgw: radosgw-admin: inconsistency in uid/email handling (<a class="reference external" href="http://tracker.ceph.com/issues/13598">issue#13598</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10520">pr#10520</a>, Matt Benjamin)</li>
<li>rgw: realm pull fails when using apache frontend (<a class="reference external" href="http://tracker.ceph.com/issues/15846">issue#15846</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9266">pr#9266</a>, Orit Wasserman)</li>
<li>rgw: retry on bucket sync errors (<a class="reference external" href="http://tracker.ceph.com/issues/16108">issue#16108</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9425">pr#9425</a>, Yehuda Sadeh)</li>
<li>rgw: s3website: x-amz-website-redirect-location header returns malformed HTTP response (<a class="reference external" href="http://tracker.ceph.com/issues/15531">issue#15531</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9099">pr#9099</a>, Robin H. Johnson)</li>
<li>rgw: segfault in RGWOp_MDLog_Notify (<a class="reference external" href="http://tracker.ceph.com/issues/16666">issue#16666</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10662">pr#10662</a>, Casey Bodley)</li>
<li>rgw: segmentation fault on error_repo in data sync (<a class="reference external" href="http://tracker.ceph.com/issues/16603">issue#16603</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10523">pr#10523</a>, Casey Bodley)</li>
<li>rgw: selinux denials in RGW (<a class="reference external" href="http://tracker.ceph.com/issues/16126">issue#16126</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10519">pr#10519</a>, Boris Ranto)</li>
<li>rgw: support size suffixes for &#8211;max-size in radosgw-admin command (<a class="reference external" href="http://tracker.ceph.com/issues/16004">issue#16004</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9743">pr#9743</a>, Vikhyat Umrao)</li>
<li>rgw: updating CORS/ACLs might not work in some circumstances (<a class="reference external" href="http://tracker.ceph.com/issues/15976">issue#15976</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9543">pr#9543</a>, Radoslaw Zarzynski)</li>
<li>rgw: use zone endpoints instead of zonegroup endpoints (<a class="reference external" href="http://tracker.ceph.com/issues/16834">issue#16834</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10659">pr#10659</a>, Casey Bodley)</li>
<li>tests: improve rbd-mirror test case coverage (<a class="reference external" href="http://tracker.ceph.com/issues/16197">issue#16197</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9631">pr#9631</a>, Mykola Golub, Jason Dillaman)</li>
<li>tests: rados/test.sh workunit timesout on OpenStack (<a class="reference external" href="http://tracker.ceph.com/issues/15403">issue#15403</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8904">pr#8904</a>, Loic Dachary)</li>
<li>tools: ceph-disk: Accept bcache devices as data disks (<a class="reference external" href="http://tracker.ceph.com/issues/13278">issue#13278</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8497">pr#8497</a>, Peter Sabaini)</li>
<li>tools: rados: Add cleanup message with time to rados bench output (<a class="reference external" href="http://tracker.ceph.com/issues/15704">issue#15704</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9740">pr#9740</a>, Vikhyat Umrao)</li>
<li>tools: src/script/subman fails with KeyError: &#8216;nband&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/16961">issue#16961</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10625">pr#10625</a>, Loic Dachary, Ali Maredia)</li>
</ul>
</div>
</div>
<div class="section" id="v10-2-2-jewel">
<h2>v10.2.2 Jewel<a class="headerlink" href="#v10-2-2-jewel" title="Permalink to this headline">¶</a></h2>
<p>This point release fixes several important bugs in RBD mirroring, RGW multi-site, CephFS, and RADOS.</p>
<p>We recommend that all v10.2.x users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v10.2.2.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id456">
<h3>Notable Changes<a class="headerlink" href="#id456" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph: cli: exception when pool name has non-ascii characters (<a class="reference external" href="http://tracker.ceph.com/issues/15913">issue#15913</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9320">pr#9320</a>, Ricardo Dias)</li>
<li>ceph-disk: workaround gperftool hang (<a class="reference external" href="http://tracker.ceph.com/issues/13522">issue#13522</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16103">issue#16103</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9427">pr#9427</a>, Loic Dachary)</li>
<li>cephfs: backports needed for Manila (<a class="reference external" href="http://tracker.ceph.com/issues/15599">issue#15599</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15417">issue#15417</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15045">issue#15045</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9430">pr#9430</a>, John Spray, Ramana Raja, Xiaoxi Chen)</li>
<li>ceph.spec.in: drop support for RHEL&lt;7 and SUSE&lt;1210 in jewel and above (<a class="reference external" href="http://tracker.ceph.com/issues/15725">issue#15725</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15627">issue#15627</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13445">issue#13445</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15822">issue#15822</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15472">issue#15472</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15987">issue#15987</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15516">issue#15516</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15549">issue#15549</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8938">pr#8938</a>, Boris Ranto, Sage Weil, Nathan Cutler, Lars Marowsky-Bree)</li>
<li>ceph_test_librbd_fsx crashes during journal replay shut down (<a class="reference external" href="http://tracker.ceph.com/issues/16123">issue#16123</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9556">pr#9556</a>, Jason Dillaman)</li>
<li>client: fix bugs accidentally disabling readahead (<a class="reference external" href="http://tracker.ceph.com/issues/16024">issue#16024</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9656">pr#9656</a>, Patrick Donnelly, Greg Farnum)</li>
<li>cls_journal: initialize empty commit position upon client register (<a class="reference external" href="http://tracker.ceph.com/issues/15757">issue#15757</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9376">pr#9376</a>, runsisi, Venky Shankar)</li>
<li>cls::rbd: mirror_image_status_list returned max 64 items (<a class="reference external" href="http://github.com/ceph/ceph/pull/9069">pr#9069</a>, Mykola Golub)</li>
<li>cls_rbd: mirror image status summary should read full directory (<a class="reference external" href="http://tracker.ceph.com/issues/16178">issue#16178</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9608">pr#9608</a>, Jason Dillaman)</li>
<li>common: BackoffThrottle spins unnecessarily with very small backoff while the throttle is full (<a class="reference external" href="http://tracker.ceph.com/issues/15953">issue#15953</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9579">pr#9579</a>, Samuel Just)</li>
<li>common: Do not link lttng into libglobal (<a class="reference external" href="http://github.com/ceph/ceph/pull/9194">pr#9194</a>, Karol Mroz)</li>
<li>debian: install systemd target files (<a class="reference external" href="http://tracker.ceph.com/issues/15573">issue#15573</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8815">pr#8815</a>, Kefu Chai, Sage Weil)</li>
<li>doc: update mirroring guide to include pool/image status commands (<a class="reference external" href="http://tracker.ceph.com/issues/15746">issue#15746</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9180">pr#9180</a>, Mykola Golub)</li>
<li>librbd: Disabling journaling feature results in &#8220;Transport endpoint is not connected&#8221; error (<a class="reference external" href="http://tracker.ceph.com/issues/15863">issue#15863</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9548">pr#9548</a>, Yuan Zhou)</li>
<li>librbd: do not shut down exclusive lock while acquiring&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/16291">issue#16291</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16260">issue#16260</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9691">pr#9691</a>, Jason Dillaman)</li>
<li>librbd: Initial python APIs to support mirroring (<a class="reference external" href="http://tracker.ceph.com/issues/15656">issue#15656</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9550">pr#9550</a>, Mykola Golub)</li>
<li>librbd: journal IO error results in failed assertion in AioCompletion (<a class="reference external" href="http://tracker.ceph.com/issues/16077">issue#16077</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15034">issue#15034</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15791">issue#15791</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9611">pr#9611</a>, Hector Martin, Jason Dillaman)</li>
<li>librbd: journal: live replay might skip entries from previous object set (<a class="reference external" href="http://tracker.ceph.com/issues/15864">issue#15864</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15665">issue#15665</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9217">pr#9217</a>, Jason Dillaman)</li>
<li>librbd: journal: support asynchronous shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/15949">issue#15949</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14530">issue#14530</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15993">issue#15993</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9373">pr#9373</a>, Jason Dillaman)</li>
<li>librbd: Metadata config overrides are applied synchronously (<a class="reference external" href="http://tracker.ceph.com/issues/15928">issue#15928</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9318">pr#9318</a>, Jason Dillaman)</li>
<li>librbd: Object Map is showing as invalid, even when Object Map is disabled for that Image. (<a class="reference external" href="http://tracker.ceph.com/issues/16076">issue#16076</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9555">pr#9555</a>, xinxin shu)</li>
<li>librbd: prevent error messages when journal externally disabled (<a class="reference external" href="http://tracker.ceph.com/issues/16114">issue#16114</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9610">pr#9610</a>, Zhiqiang Wang, Jason Dillaman)</li>
<li>librbd: recursive lock possible when disabling journaling (<a class="reference external" href="http://tracker.ceph.com/issues/16235">issue#16235</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9654">pr#9654</a>, Jason Dillaman)</li>
<li>librbd: refresh image if needed in mirror functions (<a class="reference external" href="http://tracker.ceph.com/issues/16096">issue#16096</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9609">pr#9609</a>, Jon Bernard)</li>
<li>librbd: remove should ignore mirror errors from older OSDs (<a class="reference external" href="http://tracker.ceph.com/issues/16268">issue#16268</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9692">pr#9692</a>, Jason Dillaman)</li>
<li>librbd: reuse ImageCtx::finisher and SafeTimer for lots of images case (<a class="reference external" href="http://tracker.ceph.com/issues/13938">issue#13938</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9580">pr#9580</a>, Haomai Wang)</li>
<li>librbd: validate image metadata configuration overrides (<a class="reference external" href="http://tracker.ceph.com/issues/15522">issue#15522</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9554">pr#9554</a>, zhuangzeqiang)</li>
<li>mds: order directories by hash and fix simultaneous readdir races (<a class="reference external" href="http://tracker.ceph.com/issues/15508">issue#15508</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9655">pr#9655</a>, Yan, Zheng, Greg Farnum)</li>
<li>mon: Hammer (0.94.3) OSD does not delete old OSD Maps in a timely fashion (maybe at all?) (<a class="reference external" href="http://tracker.ceph.com/issues/13990">issue#13990</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9100">pr#9100</a>, Kefu Chai)</li>
<li>mon/Monitor: memory leak on Monitor::handle_ping() (<a class="reference external" href="http://tracker.ceph.com/issues/15793">issue#15793</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9270">pr#9270</a>, xie xingguo)</li>
<li>osd: acting_primary not updated on split (<a class="reference external" href="http://tracker.ceph.com/issues/15523">issue#15523</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8968">pr#8968</a>, Sage Weil)</li>
<li>osd: boot race with noup being set (<a class="reference external" href="http://tracker.ceph.com/issues/15678">issue#15678</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9101">pr#9101</a>, Sage Weil)</li>
<li>osd: deadlock in OSD::_committed_osd_maps (<a class="reference external" href="http://tracker.ceph.com/issues/15701">issue#15701</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9103">pr#9103</a>, Xinze Chi)</li>
<li>osd: hobject_t::get_max() vs is_max() discrepancy (<a class="reference external" href="http://tracker.ceph.com/issues/16113">issue#16113</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9614">pr#9614</a>, Samuel Just)</li>
<li>osd: LibRadosWatchNotifyPPTests/LibRadosWatchNotifyPP.WatchNotify2Timeout/1 segv (<a class="reference external" href="http://tracker.ceph.com/issues/15760">issue#15760</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9104">pr#9104</a>, Sage Weil)</li>
<li>osd: remove reliance on FLAG_OMAP for reads (<a class="reference external" href="http://github.com/ceph/ceph/pull/9638">pr#9638</a>, Samuel Just)</li>
<li>osd valgrind invalid reads/writes (<a class="reference external" href="http://tracker.ceph.com/issues/15870">issue#15870</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9237">pr#9237</a>, Samuel Just)</li>
<li>pybind: rbd API should default features parameter to None (<a class="reference external" href="http://tracker.ceph.com/issues/15982">issue#15982</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9553">pr#9553</a>, Mykola Golub)</li>
<li>qa: dynamic_features.sh races with image deletion (<a class="reference external" href="http://tracker.ceph.com/issues/15500">issue#15500</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9552">pr#9552</a>, Mykola Golub)</li>
<li>qa/workunits: ensure replay has started before checking position (<a class="reference external" href="http://tracker.ceph.com/issues/16248">issue#16248</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9674">pr#9674</a>, Jason Dillaman)</li>
<li>qa/workunits/rbd: fixed rbd_mirror teuthology runtime errors (<a class="reference external" href="http://github.com/ceph/ceph/pull/9232">pr#9232</a>, Jason Dillaman)</li>
<li>radosgw-admin: fix &#8216;period push&#8217; handling of &#8211;url (<a class="reference external" href="http://tracker.ceph.com/issues/15926">issue#15926</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9210">pr#9210</a>, Casey Bodley)</li>
<li>rbd-mirror: Delete local image mirror when remote image mirroring is disabled (<a class="reference external" href="http://tracker.ceph.com/issues/15916">issue#15916</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14421">issue#14421</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9372">pr#9372</a>, runsisi, Mykola Golub, Ricardo Dias)</li>
<li>rbd-mirror: do not propagate deletions when pool unavailable (<a class="reference external" href="http://tracker.ceph.com/issues/16229">issue#16229</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9630">pr#9630</a>, Jason Dillaman)</li>
<li>rbd-mirror: do not re-use image id from mirror directory if creating image (<a class="reference external" href="http://tracker.ceph.com/issues/16253">issue#16253</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9673">pr#9673</a>, Jason Dillaman)</li>
<li>rbd-mirror: FAILED assert(!m_status_watcher) (<a class="reference external" href="http://tracker.ceph.com/issues/16245">issue#16245</a>, <a class="reference external" href="http://tracker.ceph.com/issues/16290">issue#16290</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9690">pr#9690</a>, Mykola Golub)</li>
<li>rbd-mirror: fix deletion propagation edge cases (<a class="reference external" href="http://tracker.ceph.com/issues/16226">issue#16226</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9629">pr#9629</a>, Jason Dillaman)</li>
<li>rbd-mirror: fix journal shut down ordering (<a class="reference external" href="http://tracker.ceph.com/issues/16165">issue#16165</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9628">pr#9628</a>, Jason Dillaman)</li>
<li>rbd-mirror: potential crash during image status update (<a class="reference external" href="http://tracker.ceph.com/issues/15909">issue#15909</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9226">pr#9226</a>, Mykola Golub, Jason Dillaman)</li>
<li>rbd-mirror: refresh image after creating sync point (<a class="reference external" href="http://tracker.ceph.com/issues/16196">issue#16196</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9627">pr#9627</a>, Jason Dillaman)</li>
<li>rbd-mirror: replicate cloned images (<a class="reference external" href="http://tracker.ceph.com/issues/14937">issue#14937</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9423">pr#9423</a>, Jason Dillaman)</li>
<li>rbd-mirror should disable the rbd cache for local images (<a class="reference external" href="http://tracker.ceph.com/issues/15930">issue#15930</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9317">pr#9317</a>, Jason Dillaman)</li>
<li>rbd-mirror: support bootstrap canceling (<a class="reference external" href="http://tracker.ceph.com/issues/16201">issue#16201</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9612">pr#9612</a>, Mykola Golub)</li>
<li>rbd-mirror: support multiple replicated pools (<a class="reference external" href="http://tracker.ceph.com/issues/16045">issue#16045</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9409">pr#9409</a>, Jason Dillaman)</li>
<li>rgw: fix manager selection when APIs customized (<a class="reference external" href="http://tracker.ceph.com/issues/15974">issue#15974</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15973">issue#15973</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9245">pr#9245</a>, Robin H. Johnson)</li>
<li>rgw: keep track of written_objs correctly (<a class="reference external" href="http://tracker.ceph.com/issues/15886">issue#15886</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9239">pr#9239</a>, Yehuda Sadeh)</li>
<li>rpm: ceph gid mismatch on upgrade from hammer with pre-existing ceph user (SUSE) (<a class="reference external" href="http://tracker.ceph.com/issues/15869">issue#15869</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9424">pr#9424</a>, Nathan Cutler)</li>
<li>systemd: ceph-{mds,mon,osd,radosgw} systemd unit files need wants=time-sync.target (<a class="reference external" href="http://tracker.ceph.com/issues/15419">issue#15419</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8802">pr#8802</a>, Nathan Cutler)</li>
<li>test: failure in journal.sh workunit test (<a class="reference external" href="http://tracker.ceph.com/issues/16011">issue#16011</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9377">pr#9377</a>, Mykola Golub)</li>
<li>tests: rm -fr /tmp/<em>virtualenv</em> (<a class="reference external" href="http://tracker.ceph.com/issues/16087">issue#16087</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9403">pr#9403</a>, Loic Dachary)</li>
</ul>
</div>
</div>
<div class="section" id="v10-2-1-jewel">
<h2>v10.2.1 Jewel<a class="headerlink" href="#v10-2-1-jewel" title="Permalink to this headline">¶</a></h2>
<p>This is the first bugfix release for Jewel.  It contains several annoying
packaging and init system fixes and a range of important bugfixes across
RBD, RGW, and CephFS.</p>
<p>We recommend that all v10.2.x users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v10.2.1.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id458">
<h3>Notable Changes<a class="headerlink" href="#id458" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>cephfs: CephFSVolumeClient should isolate volumes by RADOS namespace (<a class="reference external" href="http://tracker.ceph.com/issues/15400">issue#15400</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8787">pr#8787</a>, Xiaoxi Chen)</li>
<li>cephfs: handle standby-replay nodes properly in upgrades (<a class="reference external" href="http://tracker.ceph.com/issues/15591">issue#15591</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8971">pr#8971</a>, John Spray)</li>
<li>ceph-{mds,mon,osd} packages need scriptlets with systemd code (<a class="reference external" href="http://tracker.ceph.com/issues/14941">issue#14941</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8801">pr#8801</a>, Boris Ranto, Nathan Cutler)</li>
<li>ceph_test_keyvaluedb: fix (<a class="reference external" href="http://tracker.ceph.com/issues/15435">issue#15435</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9051">pr#9051</a>, Allen Samuels, Sage Weil)</li>
<li>cmake: add missing source file to rbd_mirror/image_replayer (<a class="reference external" href="http://github.com/ceph/ceph/pull/9052">pr#9052</a>, Casey Bodley)</li>
<li>cmake: fix rbd compile errors (<a class="reference external" href="http://github.com/ceph/ceph/pull/9076">pr#9076</a>, runsisi, Jason Dillaman)</li>
<li>journal: incorrectly computed object offset within set (<a class="reference external" href="http://tracker.ceph.com/issues/15765">issue#15765</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9038">pr#9038</a>, Jason Dillaman)</li>
<li>librbd: client-side handling for incompatible object map sizes (<a class="reference external" href="http://tracker.ceph.com/issues/15642">issue#15642</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9039">pr#9039</a>, Jason Dillaman)</li>
<li>librbd: constrain size of AioWriteEvent journal entries (<a class="reference external" href="http://tracker.ceph.com/issues/15750">issue#15750</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9048">pr#9048</a>, Jason Dillaman)</li>
<li>librbd: does not crash if image header is too short (<a class="reference external" href="http://github.com/ceph/ceph/pull/9044">pr#9044</a>, Kefu Chai)</li>
<li>librbd: Errors encountered disabling object-map while flatten is in-progress (<a class="reference external" href="http://tracker.ceph.com/issues/15572">issue#15572</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8869">pr#8869</a>, Jason Dillaman)</li>
<li>librbd: fix get/list mirror image status API (<a class="reference external" href="http://tracker.ceph.com/issues/15771">issue#15771</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9036">pr#9036</a>, Mykola Golub)</li>
<li>librbd: Parent image is closed twice if error encountered while opening (<a class="reference external" href="http://tracker.ceph.com/issues/15574">issue#15574</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8867">pr#8867</a>, Jason Dillaman)</li>
<li>librbd: possible double-free of object map invalidation request upon error (<a class="reference external" href="http://tracker.ceph.com/issues/15643">issue#15643</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8865">pr#8865</a>, runsisi)</li>
<li>librbd: possible race condition leads to use-after-free (<a class="reference external" href="http://tracker.ceph.com/issues/15690">issue#15690</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9009">pr#9009</a>, Jason Dillaman)</li>
<li>librbd: potential concurrent event processing during journal replay (<a class="reference external" href="http://tracker.ceph.com/issues/15755">issue#15755</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9040">pr#9040</a>, Jason Dillaman)</li>
<li>librbd: Potential double free of SetSnapRequest instance (<a class="reference external" href="http://tracker.ceph.com/issues/15571">issue#15571</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8803">pr#8803</a>, runsisi)</li>
<li>librbd: put the validation of image snap context earlier (<a class="reference external" href="http://github.com/ceph/ceph/pull/9046">pr#9046</a>, runsisi)</li>
<li>librbd: reduce log level for image format 1 warning (<a class="reference external" href="http://tracker.ceph.com/issues/15577">issue#15577</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9003">pr#9003</a>, Jason Dillaman)</li>
<li>mds/MDSAuthCap parse no longer fails on paths with hyphens (<a class="reference external" href="http://tracker.ceph.com/issues/15465">issue#15465</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8969">pr#8969</a>, John Spray)</li>
<li>mds: MDS incarnation no longer gets lost after remove filesystem (<a class="reference external" href="http://tracker.ceph.com/issues/15399">issue#15399</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8970">pr#8970</a>, John Spray)</li>
<li>mon/OSDMonitor: avoid underflow in reweight-by-utilization if max_change=1 (<a class="reference external" href="http://tracker.ceph.com/issues/15655">issue#15655</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9006">pr#9006</a>, Samuel Just)</li>
<li>python: clone operation will fail if config overridden with &#8220;rbd default format = 1&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/15685">issue#15685</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8972">pr#8972</a>, Jason Dillaman)</li>
<li>radosgw-admin: add missing &#8211;zonegroup-id to usage (<a class="reference external" href="http://tracker.ceph.com/issues/15650">issue#15650</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9019">pr#9019</a>, Casey Bodley)</li>
<li>radosgw-admin: update usage for zone[group] modify (<a class="reference external" href="http://tracker.ceph.com/issues/15651">issue#15651</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9016">pr#9016</a>, Casey Bodley)</li>
<li>radosgw-admin: zonegroup remove command (<a class="reference external" href="http://tracker.ceph.com/issues/15684">issue#15684</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9015">pr#9015</a>, Casey Bodley)</li>
<li>rbd CLI to retrieve rbd mirror state for a pool / specific image (<a class="reference external" href="http://tracker.ceph.com/issues/15144">issue#15144</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14420">issue#14420</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8868">pr#8868</a>, Mykola Golub)</li>
<li>rbd disk-usage CLI command should support calculating full image usage (<a class="reference external" href="http://tracker.ceph.com/issues/14540">issue#14540</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8870">pr#8870</a>, Jason Dillaman)</li>
<li>rbd: helpful error message on map failure (<a class="reference external" href="http://tracker.ceph.com/issues/15721">issue#15721</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9041">pr#9041</a>, Venky Shankar)</li>
<li>rbd: help message distinction between commands and aliases (<a class="reference external" href="http://tracker.ceph.com/issues/15521">issue#15521</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9004">pr#9004</a>, Yongqiang He)</li>
<li>rbd-mirror: admin socket commands to start/stop/restart mirroring (<a class="reference external" href="http://tracker.ceph.com/issues/15718">issue#15718</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9010">pr#9010</a>, Mykola Golub, Josh Durgin)</li>
<li>rbd-mirror can crash if start up is interrupted (<a class="reference external" href="http://tracker.ceph.com/issues/15630">issue#15630</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8866">pr#8866</a>, Jason Dillaman)</li>
<li>rbd-mirror: image sync needs to handle snapshot size and protection status (<a class="reference external" href="http://tracker.ceph.com/issues/15110">issue#15110</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9050">pr#9050</a>, Jason Dillaman)</li>
<li>rbd-mirror: lockdep error during bootstrap (<a class="reference external" href="http://tracker.ceph.com/issues/15664">issue#15664</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9008">pr#9008</a>, Jason Dillaman)</li>
<li>rbd-nbd: fix rbd-nbd aio callback error handling (<a class="reference external" href="http://tracker.ceph.com/issues/15604">issue#15604</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9005">pr#9005</a>, Chang-Yi Lee)</li>
<li>rgw: add AWS4 completion support for RGW_OP_SET_BUCKET_WEBSITE (<a class="reference external" href="http://tracker.ceph.com/issues/15626">issue#15626</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9018">pr#9018</a>, Javier M. Mellid)</li>
<li>rgw admin output (<a class="reference external" href="http://tracker.ceph.com/issues/15747">issue#15747</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9054">pr#9054</a>, Casey Bodley)</li>
<li>rgw: fix issue #15597 (<a class="reference external" href="http://tracker.ceph.com/issues/15597">issue#15597</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9020">pr#9020</a>, Yehuda Sadeh)</li>
<li>rgw: fix printing wrong X-Storage-Url in Swift&#8217;s TempAuth. (<a class="reference external" href="http://tracker.ceph.com/issues/15667">issue#15667</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9021">pr#9021</a>, Radoslaw Zarzynski)</li>
<li>rgw: handle stripe transition when flushing final pending_data_bl (<a class="reference external" href="http://tracker.ceph.com/issues/15745">issue#15745</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9053">pr#9053</a>, Yehuda Sadeh)</li>
<li>rgw: leak fixes (<a class="reference external" href="http://tracker.ceph.com/issues/15792">issue#15792</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9022">pr#9022</a>, Yehuda Sadeh)</li>
<li>rgw: multisite: Issues with Deleting Buckets (<a class="reference external" href="http://tracker.ceph.com/issues/15540">issue#15540</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8930">pr#8930</a>, Abhishek Lekshmanan)</li>
<li>rgw: period commit fix (<a class="reference external" href="http://tracker.ceph.com/issues/15828">issue#15828</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9081">pr#9081</a>, Casey Bodley)</li>
<li>rgw: period delete fixes (<a class="reference external" href="http://tracker.ceph.com/issues/15469">issue#15469</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9047">pr#9047</a>, Casey Bodley)</li>
<li>rgw: radosgw-admin zone set cuts pool names short if name starts with a period (<a class="reference external" href="http://tracker.ceph.com/issues/15598">issue#15598</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9029">pr#9029</a>, Yehuda Sadeh)</li>
<li>rgw: segfault at RGWAsyncGetSystemObj (<a class="reference external" href="http://tracker.ceph.com/issues/15565">issue#15565</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15625">issue#15625</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9017">pr#9017</a>, Yehuda Sadeh)</li>
<li>several backports (<a class="reference external" href="http://tracker.ceph.com/issues/15588">issue#15588</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15655">issue#15655</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8853">pr#8853</a>, Alexandre Derumier, xie xingguo, Alfredo Deza)</li>
<li>systemd: fix typo in preset file (<a class="reference external" href="http://github.com/ceph/ceph/pull/8843">pr#8843</a>, Nathan Cutler)</li>
<li>tests: make check fails on ext4 (<a class="reference external" href="http://tracker.ceph.com/issues/15837">issue#15837</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9063">pr#9063</a>, Loic Dachary, Sage Weil)</li>
</ul>
</div>
</div>
<div class="section" id="v10-2-0-jewel">
<h2>v10.2.0 Jewel<a class="headerlink" href="#v10-2-0-jewel" title="Permalink to this headline">¶</a></h2>
<p>This major release of Ceph is the foundation for the next
long-term stable release series.  There have been many major changes since
the Infernalis (9.2.x) and Hammer (0.94.x) releases, and the upgrade
process is non-trivial. Please read these release notes carefully.</p>
<div class="section" id="major-changes-from-infernalis">
<h3>Major Changes from Infernalis<a class="headerlink" href="#major-changes-from-infernalis" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><em>CephFS</em>:<ul>
<li>This is the first release in which CephFS is declared stable!
Several features are disabled by default, including snapshots and
multiple active MDS servers.</li>
<li>The repair and disaster recovery tools are now feature-complete.</li>
<li>A new cephfs-volume-manager module is included that provides a
high-level interface for creating &#8220;shares&#8221; for OpenStack Manila
and similar projects.</li>
<li>There is now experimental support for multiple CephFS file systems
within a single cluster.</li>
</ul>
</li>
<li><em>RGW</em>:<ul>
<li>The multisite feature has been almost completely rearchitected and
rewritten to support any number of clusters/sites, bidirectional
fail-over, and active/active configurations.</li>
<li>You can now access radosgw buckets via NFS (experimental).</li>
<li>The AWS4 authentication protocol is now supported.</li>
<li>There is now support for S3 request payer buckets.</li>
<li>The new multitenancy infrastructure improves compatibility with
Swift, which provides a separate container namespace for each
user/tenant.</li>
<li>The OpenStack Keystone v3 API is now supported.  There are a range
of other small Swift API features and compatibility improvements
as well, including bulk delete and SLO (static large objects).</li>
</ul>
</li>
<li><em>RBD</em>:<ul>
<li>There is new support for mirroring (asynchronous replication) of
RBD images across clusters.  This is implemented as a per-RBD
image journal that can be streamed across a WAN to another site,
and a new rbd-mirror daemon that performs the cross-cluster
replication.</li>
<li>The exclusive-lock, object-map, fast-diff, and journaling features
can be enabled or disabled dynamically. The deep-flatten features
can be disabled dynamically but not re-enabled.</li>
<li>The RBD CLI has been rewritten to provide command-specific help
and full bash completion support.</li>
<li>RBD snapshots can now be renamed.</li>
</ul>
</li>
<li><em>RADOS</em>:<ul>
<li>BlueStore, a new OSD backend, is included as an experimental
feature.  The plan is for it to become the default backend in the
K or L release.</li>
<li>The OSD now persists scrub results and provides a librados API to
query results in detail.</li>
<li>We have revised our documentation to recommend <em>against</em> using
ext4 as the underlying filesystem for Ceph OSD daemons due to
problems supporting our long object name handling.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="major-changes-from-hammer">
<h3>Major Changes from Hammer<a class="headerlink" href="#major-changes-from-hammer" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><em>General</em>:<ul>
<li>Ceph daemons are now managed via systemd (with the exception of
Ubuntu Trusty, which still uses upstart).</li>
<li>Ceph daemons run as &#8216;ceph&#8217; user instead of &#8216;root&#8217;.</li>
<li>On Red Hat distros, there is also an SELinux policy.</li>
</ul>
</li>
<li><em>RADOS</em>:<ul>
<li>The RADOS cache tier can now proxy write operations to the base
tier, allowing writes to be handled without forcing migration of
an object into the cache.</li>
<li>The SHEC erasure coding support is no longer flagged as
experimental. SHEC trades some additional storage space for faster
repair.</li>
<li>There is now a unified queue (and thus prioritization) of client
IO, recovery, scrubbing, and snapshot trimming.</li>
<li>There have been many improvements to low-level repair tooling
(ceph-objectstore-tool).</li>
<li>The internal ObjectStore API has been significantly cleaned up in order
to faciliate new storage backends like BlueStore.</li>
</ul>
</li>
<li><em>RGW</em>:<ul>
<li>The Swift API now supports object expiration.</li>
<li>There are many Swift API compatibility improvements.</li>
</ul>
</li>
<li><em>RBD</em>:<ul>
<li>The <tt class="docutils literal"><span class="pre">rbd</span> <span class="pre">du</span></tt> command shows actual usage (quickly, when
object-map is enabled).</li>
<li>The object-map feature has seen many stability improvements.</li>
<li>The object-map and exclusive-lock features can be enabled or disabled
dynamically.</li>
<li>You can now store user metadata and set persistent librbd options
associated with individual images.</li>
<li>The new deep-flatten features allow flattening of a clone and all
of its snapshots.  (Previously snapshots could not be flattened.)</li>
<li>The export-diff command is now faster (it uses aio).  There is also
a new fast-diff feature.</li>
<li>The &#8211;size argument can be specified with a suffix for units
(e.g., <tt class="docutils literal"><span class="pre">--size</span> <span class="pre">64G</span></tt>).</li>
<li>There is a new <tt class="docutils literal"><span class="pre">rbd</span> <span class="pre">status</span></tt> command that, for now, shows who has
the image open/mapped.</li>
</ul>
</li>
<li><em>CephFS</em>:<ul>
<li>You can now rename snapshots.</li>
<li>There have been ongoing improvements around administration, diagnostics,
and the check and repair tools.</li>
<li>The caching and revocation of client cache state due to unused
inodes has been dramatically improved.</li>
<li>The ceph-fuse client behaves better on 32-bit hosts.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="distro-compatibility">
<h3>Distro compatibility<a class="headerlink" href="#distro-compatibility" title="Permalink to this headline">¶</a></h3>
<p>Starting with Infernalis, we have dropped support for many older
distributions so that we can move to a newer compiler toolchain (e.g.,
C++11).  Although it is still possible to build Ceph on older
distributions by installing backported development tools, we are not
building and publishing release packages for ceph.com.</p>
<p>We now build packages for the following distributions and architectures:</p>
<ul class="simple">
<li>x86_64:<ul>
<li>CentOS 7.x.  We have dropped support for CentOS 6 (and other RHEL 6
derivatives, like Scientific Linux 6).</li>
<li>Debian Jessie 8.x.  Debian Wheezy 7.x&#8217;s g++ has incomplete support
for C++11 (and no systemd).</li>
<li>Ubuntu Xenial 16.04 and Trusty 14.04.  Ubuntu Precise 12.04 is no
longer supported.</li>
<li>Fedora 22 or later.</li>
</ul>
</li>
<li>aarch64 / arm64:<ul>
<li>Ubuntu Xenial 16.04.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="upgrading-from-infernalis-or-hammer">
<h3>Upgrading from Infernalis or Hammer<a class="headerlink" href="#upgrading-from-infernalis-or-hammer" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">We now recommend against using <tt class="docutils literal"><span class="pre">ext4</span></tt> as the underlying file
system for Ceph OSDs, especially when RGW or other users of long
RADOS object names are used.  For more information about why, please
see <a class="reference external" href="../configuration/filesystem-recommendations">Filesystem Recommendations</a>.</p>
<p>If you have an existing cluster that uses ext4 for the OSDs but uses only
RBD and/or CephFS, then the ext4 limitations will not affect you.  Before
upgrading, be sure add the following to <tt class="docutils literal"><span class="pre">ceph.conf</span></tt> to allow the OSDs to
start:</p>
<div class="highlight-python"><pre>osd max object name len = 256
osd max object namespace len = 64</pre>
</div>
<p>Keep in mind that if you set these lower object name limits and
later decide to use RGW on this cluster, it will have problems
storing S3/Swift objects with long names.  This startup check can also be
disabled via the below option, although this is not recommended:</p>
<div class="highlight-python"><pre>osd check max object name len on startup = false</pre>
</div>
</li>
</ul>
<ul>
<li><p class="first">There are no major compatibility changes since Infernalis.  Simply
upgrading the daemons on each host and restarting all daemons is
sufficient.</p>
</li>
<li><p class="first">The rbd CLI no longer accepts the deprecated &#8216;&#8211;image-features&#8217; option
during create, import, and clone operations.  The &#8216;&#8211;image-feature&#8217;
option should be used instead.</p>
</li>
<li><p class="first">The rbd legacy image format (version 1) is deprecated with the Jewel release.
Attempting to create a new version 1 RBD image will result in a warning.
Future releases of Ceph will remove support for version 1 RBD images.</p>
</li>
<li><p class="first">The &#8216;send_pg_creates&#8217; and &#8216;map_pg_creates&#8217; mon CLI commands are
obsolete and no longer supported.</p>
</li>
<li><p class="first">A new configure option &#8216;mon_election_timeout&#8217; is added to specifically
limit max waiting time of monitor election process, which was previously
restricted by &#8216;mon_lease&#8217;.</p>
</li>
<li><p class="first">CephFS filesystems created using versions older than Firefly (0.80) must
use the new &#8216;cephfs-data-scan tmap_upgrade&#8217; command after upgrading to
Jewel.  See &#8216;Upgrading&#8217; in the CephFS documentation for more information.</p>
</li>
<li><p class="first">The &#8216;ceph mds setmap&#8217; command has been removed.</p>
</li>
<li><p class="first">The default RBD image features for new images have been updated to
enable the following: exclusive lock, object map, fast-diff, and
deep-flatten. These features are not currently supported by the RBD
kernel driver nor older RBD clients. They can be disabled on a per-image
basis via the RBD CLI, or the default features can be updated to the
pre-Jewel setting by adding the following to the client section of the Ceph
configuration file:</p>
<div class="highlight-python"><pre>rbd default features = 1</pre>
</div>
</li>
<li><p class="first">The rbd legacy image format (version 1) is deprecated with the Jewel
release.</p>
</li>
<li><p class="first">After upgrading, users should set the &#8216;sortbitwise&#8217; flag to enable the new
internal object sort order:</p>
<div class="highlight-python"><pre>ceph osd set sortbitwise</pre>
</div>
<p>This flag is important for the new object enumeration API and for
new backends like BlueStore.</p>
</li>
<li><p class="first">The rbd CLI no longer permits creating images and snapshots with potentially
ambiguous names (e.g. the &#8216;/&#8217; and &#8216;&#64;&#8217; characters are disallowed). The
validation can be temporarily disabled by adding &#8220;&#8211;rbd-validate-names=false&#8221;
to the rbd CLI when creating an image or snapshot. It can also be disabled
by adding the following to the client section of the Ceph configuration file:</p>
<div class="highlight-python"><pre>rbd validate names = false</pre>
</div>
</li>
</ul>
</div>
<div class="section" id="id460">
<h3>Upgrading from Hammer<a class="headerlink" href="#id460" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">All cluster nodes must first upgrade to Hammer v0.94.4 or a later
v0.94.z release; only then is it possible to upgrade to Jewel
10.2.z.</p>
</li>
<li><p class="first">For all distributions that support systemd (CentOS 7, Fedora, Debian
Jessie 8.x, OpenSUSE), ceph daemons are now managed using native systemd
files instead of the legacy sysvinit scripts.  For example,:</p>
<div class="highlight-python"><pre>systemctl start ceph.target       # start all daemons
systemctl status ceph-osd@12      # check status of osd.12</pre>
</div>
<p>The main notable distro that is <em>not</em> yet using systemd is Ubuntu trusty
14.04.  (The next Ubuntu LTS, 16.04, will use systemd instead of upstart.)</p>
</li>
<li><p class="first">Ceph daemons now run as user and group <tt class="docutils literal"><span class="pre">ceph</span></tt> by default.  The
ceph user has a static UID assigned by Fedora and Debian (also used by
derivative distributions like RHEL/CentOS and Ubuntu).  On SUSE the same
UID/GID as in Fedora and Debian will be used, <em>provided it is not already
assigned</em>. In the unlikely event the preferred UID or GID is assigned to a
different user/group, ceph will get a dynamically assigned UID/GID.</p>
<p>If your systems already have a ceph user, upgrading the package will cause
problems.  We suggest you first remove or rename the existing &#8216;ceph&#8217; user
and &#8216;ceph&#8217; group before upgrading.</p>
<p>When upgrading, administrators have two options:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Add the following line to <tt class="docutils literal"><span class="pre">ceph.conf</span></tt> on all hosts:</p>
<div class="highlight-python"><pre>setuser match path = /var/lib/ceph/$type/$cluster-$id</pre>
</div>
<p>This will make the Ceph daemons run as root (i.e., not drop
privileges and switch to user ceph) if the daemon&#8217;s data
directory is still owned by root.  Newly deployed daemons will
be created with data owned by user ceph and will run with
reduced privileges, but upgraded daemons will continue to run as
root.</p>
</li>
<li><p class="first">Fix the data ownership during the upgrade.  This is the
preferred option, but it is more work and can be very time
consuming.  The process for each host is to:</p>
<ol class="arabic">
<li><p class="first">Upgrade the ceph package.  This creates the ceph user and group.  For
example:</p>
<div class="highlight-python"><pre>ceph-deploy install --stable jewel HOST</pre>
</div>
</li>
<li><p class="first">Stop the daemon(s).:</p>
<div class="highlight-python"><pre>service ceph stop           # fedora, centos, rhel, debian
stop ceph-all               # ubuntu</pre>
</div>
</li>
<li><p class="first">Fix the ownership:</p>
<div class="highlight-python"><pre>chown -R ceph:ceph /var/lib/ceph
chown -R ceph:ceph /var/log/ceph</pre>
</div>
</li>
<li><p class="first">Restart the daemon(s).:</p>
<div class="highlight-python"><pre>start ceph-all                # ubuntu
systemctl start ceph.target   # debian, centos, fedora, rhel</pre>
</div>
</li>
</ol>
<p>Alternatively, the same process can be done with a single daemon
type, for example by stopping only monitors and chowning only
<tt class="docutils literal"><span class="pre">/var/lib/ceph/mon</span></tt>.</p>
</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">The on-disk format for the experimental KeyValueStore OSD backend has
changed.  You will need to remove any OSDs using that backend before you
upgrade any test clusters that use it.</p>
</li>
<li><p class="first">When a pool quota is reached, librados operations now block indefinitely,
the same way they do when the cluster fills up.  (Previously they would return
-ENOSPC.)  By default, a full cluster or pool will now block.  If your
librados application can handle ENOSPC or EDQUOT errors gracefully, you can
get error returns instead by using the new librados OPERATION_FULL_TRY flag.</p>
</li>
<li><p class="first">The return code for librbd&#8217;s rbd_aio_read and Image::aio_read API methods no
longer returns the number of bytes read upon success.  Instead, it returns 0
upon success and a negative value upon failure.</p>
</li>
<li><p class="first">&#8216;ceph scrub&#8217;, &#8216;ceph compact&#8217; and &#8216;ceph sync force&#8217; are now DEPRECATED.  Users
should instead use &#8216;ceph mon scrub&#8217;, &#8216;ceph mon compact&#8217; and
&#8216;ceph mon sync force&#8217;.</p>
</li>
<li><p class="first">&#8216;ceph mon_metadata&#8217; should now be used as &#8216;ceph mon metadata&#8217;. There is no
need to deprecate this command (same major release since it was first
introduced).</p>
</li>
<li><p class="first">The <cite>&#8211;dump-json</cite> option of &#8220;osdmaptool&#8221; is replaced by <cite>&#8211;dump json</cite>.</p>
</li>
<li><p class="first">The commands of &#8220;pg ls-by-{pool,primary,osd}&#8221; and &#8220;pg ls&#8221; now take &#8220;recovering&#8221;
instead of &#8220;recovery&#8221;, to include the recovering pgs in the listed pgs.</p>
</li>
</ul>
</div>
<div class="section" id="upgrading-from-firefly">
<h3>Upgrading from Firefly<a class="headerlink" href="#upgrading-from-firefly" title="Permalink to this headline">¶</a></h3>
<p>Upgrading directly from Firefly v0.80.z is not recommended.  It is
possible to do a direct upgrade, but not without downtime, as all OSDs
must be stopped, upgraded, and then restarted.  We recommend that
clusters be first upgraded to Hammer v0.94.6 or a later v0.94.z
release; only then is it possible to upgrade to Jewel 10.2.z for an
online upgrade (see below).</p>
<p>To do an offline upgrade directly from Firefly, all Firefly OSDs must
be stopped and marked down before any Jewel OSDs will be allowed
to start up.  This fencing is enforced by the Jewel monitor, so
you should use an upgrade procedure like:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Upgrade Ceph on monitor hosts</li>
<li>Restart all ceph-mon daemons</li>
<li><dl class="first docutils">
<dt>Set noout::</dt>
<dd>ceph osd set noout</dd>
</dl>
</li>
<li>Upgrade Ceph on all OSD hosts</li>
<li>Stop all ceph-osd daemons</li>
<li><dl class="first docutils">
<dt>Mark all OSDs down with something like::</dt>
<dd>ceph osd down <cite>seq 0 1000</cite></dd>
</dl>
</li>
<li>Start all ceph-osd daemons</li>
<li><dl class="first docutils">
<dt>Let the cluster settle and then unset noout::</dt>
<dd>ceph osd unset noout</dd>
</dl>
</li>
<li>Upgrade and restart any remaining daemons (ceph-mds, radosgw)</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="notable-changes-since-infernalis">
<h3>Notable Changes since Infernalis<a class="headerlink" href="#notable-changes-since-infernalis" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>admin/build-doc: depend on zlib1g-dev and graphviz (<a class="reference external" href="http://github.com/ceph/ceph/pull/7522">pr#7522</a>, Ken Dreyer)</li>
<li>auth: fail if rotating key is missing (do not spam log) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6473">pr#6473</a>, Qiankun Zheng)</li>
<li>auth: fix crash when bad keyring is passed (<a class="reference external" href="http://github.com/ceph/ceph/pull/6698">pr#6698</a>, Dunrong Huang)</li>
<li>auth: make keyring without mon entity type return -EACCES (<a class="reference external" href="http://github.com/ceph/ceph/pull/5734">pr#5734</a>, Xiaowei Chen)</li>
<li>AUTHORS: update email (<a class="reference external" href="http://github.com/ceph/ceph/pull/7854">pr#7854</a>, Yehuda Sadeh)</li>
<li>authtool: update &#8211;help and manpage to match code. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8456">pr#8456</a>, Robin H. Johnson)</li>
<li>bluestore: latest and greatest (<a class="reference external" href="http://tracker.ceph.com/issues/14210">issue#14210</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13801">issue#13801</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6896">pr#6896</a>, xie.xingguo, Jianpeng Ma, YiQiang Chen, Sage Weil, Ning Yao)</li>
<li>buffer: add symmetry operator==() and operator!=() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7974">pr#7974</a>, Kefu Chai)</li>
<li>buffer: fix internal iterator invalidation on rebuild, get_contiguous (<a class="reference external" href="http://github.com/ceph/ceph/pull/6962">pr#6962</a>, Sage Weil)</li>
<li>buffer: hide iterator_impl symbols (<a class="reference external" href="http://tracker.ceph.com/issues/14788">issue#14788</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7688">pr#7688</a>, Kefu Chai)</li>
<li>buffer: increment history alloc as well in raw_combined (<a class="reference external" href="http://tracker.ceph.com/issues/14955">issue#14955</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7910">pr#7910</a>, Samuel Just)</li>
<li>buffer: make usable outside of ceph source again (<a class="reference external" href="http://github.com/ceph/ceph/pull/6863">pr#6863</a>, Josh Durgin)</li>
<li>buffer: raw_combined allocations buffer and ref count together (<a class="reference external" href="http://github.com/ceph/ceph/pull/7612">pr#7612</a>, Sage Weil)</li>
<li>buffer: use move construct to append/push_back/push_front (<a class="reference external" href="http://github.com/ceph/ceph/pull/7455">pr#7455</a>, Haomai Wang)</li>
<li>build: Adding build requires (<a class="reference external" href="http://github.com/ceph/ceph/pull/7742">pr#7742</a>, Erwan Velu)</li>
<li>build: a few armhf (32-bit build) fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7999">pr#7999</a>, Eric Lee, Sage Weil)</li>
<li>build: allow jemalloc with rocksdb-static (<a class="reference external" href="http://github.com/ceph/ceph/pull/7368">pr#7368</a>, Somnath Roy)</li>
<li>build: build internal plugins and classes as modules (<a class="reference external" href="http://github.com/ceph/ceph/pull/6462">pr#6462</a>, James Page)</li>
<li>build: cmake check fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6787">pr#6787</a>, Orit Wasserman)</li>
<li>build: cmake tweaks (<a class="reference external" href="http://github.com/ceph/ceph/pull/6254">pr#6254</a>, John Spray)</li>
<li>build: fix a few warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/6847">pr#6847</a>, Orit Wasserman)</li>
<li>build: fix bz2-dev dependency (<a class="reference external" href="http://github.com/ceph/ceph/pull/6948">pr#6948</a>, Samuel Just)</li>
<li>build: fix compiling warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/8366">pr#8366</a>, Dongsheng Yang)</li>
<li>build: Fixing BTRFS issue at &#8216;make check&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/7805">pr#7805</a>, Erwan Velu)</li>
<li>build: fix Jenkins make check errors due to deep-scrub randomization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6671">pr#6671</a>, David Zafman)</li>
<li>build: fix the autotools and cmake build (the new fusestore needs libfuse) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7393">pr#7393</a>, Kefu Chai)</li>
<li>build: fix warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7197">pr#7197</a>, Kefu Chai, xie xingguo)</li>
<li>build: fix warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7315">pr#7315</a>, Kefu Chai)</li>
<li>build: FreeBSD related fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7170">pr#7170</a>, Mykola Golub)</li>
<li>build: Gentoo: _FORTIFY_SOURCE fix. (<a class="reference external" href="http://tracker.ceph.com/issues/13920">issue#13920</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6739">pr#6739</a>, Robin H. Johnson)</li>
<li>build: kill warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7397">pr#7397</a>, Kefu Chai)</li>
<li>build: misc make check fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7153">pr#7153</a>, Sage Weil)</li>
<li>build: more CMake package check fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6108">pr#6108</a>, Daniel Gryniewicz)</li>
<li>build: move libexec scripts to standardize across distros (<a class="reference external" href="http://tracker.ceph.com/issues/14687">issue#14687</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14705">issue#14705</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14723">issue#14723</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7636">pr#7636</a>, Nathan Cutler, Kefu Chai)</li>
<li>build/ops: enable CR in CentOS 7 (<a class="reference external" href="http://tracker.ceph.com/issues/13997">issue#13997</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6844">pr#6844</a>, Loic Dachary)</li>
<li>build/ops: rbd-replay moved from ceph-test-dbg to ceph-common-dbg (<a class="reference external" href="http://tracker.ceph.com/issues/13785">issue#13785</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6578">pr#6578</a>, Loic Dachary)</li>
<li>build/ops: systemd ceph-disk unit must not assume /bin/flock (<a class="reference external" href="http://tracker.ceph.com/issues/13975">issue#13975</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6803">pr#6803</a>, Loic Dachary)</li>
<li>build: Refrain from versioning and packaging EC testing plugins (<a class="reference external" href="http://tracker.ceph.com/issues/14756">issue#14756</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14723">issue#14723</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7637">pr#7637</a>, Nathan Cutler, Kefu Chai)</li>
<li>build: Respect TMPDIR for virtualenv. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8457">pr#8457</a>, Robin H. Johnson)</li>
<li>build: spdk submodule; cmake (<a class="reference external" href="http://github.com/ceph/ceph/pull/7503">pr#7503</a>, Kefu Chai)</li>
<li>build: workaround an automake bug for &#8220;make check&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/14723">issue#14723</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7626">pr#7626</a>, Kefu Chai)</li>
<li>ceph: bash auto complete for CLI based on mon command descriptions (<a class="reference external" href="http://github.com/ceph/ceph/pull/7693">pr#7693</a>, Adam Kupczyk)</li>
<li>ceph_daemon.py: Resolved ImportError to work with python3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7937">pr#7937</a>, Sarthak Munshi)</li>
<li>ceph-detect-init: add debian/jessie test (<a class="reference external" href="http://github.com/ceph/ceph/pull/8074">pr#8074</a>, Kefu Chai)</li>
<li>ceph-detect-init: add missing test case (<a class="reference external" href="http://github.com/ceph/ceph/pull/8105">pr#8105</a>, Nathan Cutler)</li>
<li>ceph-detect-init: fix py3 test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7025">pr#7025</a>, Kefu Chai)</li>
<li>ceph-detect-init: fix py3 test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7243">pr#7243</a>, Kefu Chai)</li>
<li>ceph_detect_init/__init__.py: remove shebang (<a class="reference external" href="http://github.com/ceph/ceph/pull/7731">pr#7731</a>, Nathan Cutler)</li>
<li>ceph-detect-init: return correct value on recent SUSE distros (<a class="reference external" href="http://tracker.ceph.com/issues/14770">issue#14770</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7909">pr#7909</a>, Nathan Cutler)</li>
<li>ceph-detect-init/run-tox.sh: FreeBSD: No init detect (<a class="reference external" href="http://github.com/ceph/ceph/pull/8373">pr#8373</a>, Willem Jan Withagen)</li>
<li>ceph-detect-init: Ubuntu &gt;= 15.04 uses systemd (<a class="reference external" href="http://github.com/ceph/ceph/pull/6873">pr#6873</a>, James Page)</li>
<li>ceph-disk: Add destroy and deactivate option (<a class="reference external" href="http://tracker.ceph.com/issues/7454">issue#7454</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5867">pr#5867</a>, Vicente Cheng)</li>
<li>ceph-disk: add -f flag for btrfs mkfs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7222">pr#7222</a>, Darrell Enns)</li>
<li>ceph-disk: Add &#8211;setuser and &#8211;setgroup options for ceph-disk (<a class="reference external" href="http://github.com/ceph/ceph/pull/7351">pr#7351</a>, Mike Shuey)</li>
<li>ceph-disk: ceph-disk list fails on /dev/cciss!c0d0 (<a class="reference external" href="http://tracker.ceph.com/issues/13970">issue#13970</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14233">issue#14233</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14230">issue#14230</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6879">pr#6879</a>, Loic Dachary)</li>
<li>ceph-disk: compare parted output with the dereferenced path (<a class="reference external" href="http://tracker.ceph.com/issues/13438">issue#13438</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6219">pr#6219</a>, Joe Julian)</li>
<li>ceph-disk: deactivate / destroy PATH arg are optional (<a class="reference external" href="http://github.com/ceph/ceph/pull/7756">pr#7756</a>, Loic Dachary)</li>
<li>ceph-disk: do not always fail when re-using a partition (<a class="reference external" href="http://github.com/ceph/ceph/pull/8508">pr#8508</a>, You Ji)</li>
<li>ceph-disk: fix failures when preparing disks with udev &gt; 214 (<a class="reference external" href="http://tracker.ceph.com/issues/14080">issue#14080</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14094">issue#14094</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6926">pr#6926</a>, Loic Dachary, Ilya Dryomov)</li>
<li>ceph-disk: fix prepare &#8211;help (<a class="reference external" href="http://github.com/ceph/ceph/pull/7758">pr#7758</a>, Loic Dachary)</li>
<li>ceph-disk: Fix trivial typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/7472">pr#7472</a>, Brad Hubbard)</li>
<li>ceph-disk: flake8 fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7646">pr#7646</a>, Loic Dachary)</li>
<li>ceph-disk: get Nonetype when ceph-disk list with &#8211;format plain on single device. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6410">pr#6410</a>, Vicente Cheng)</li>
<li>ceph-disk: Improving &#8216;make check&#8217; for ceph-disk (<a class="reference external" href="http://github.com/ceph/ceph/pull/7762">pr#7762</a>, Erwan Velu)</li>
<li>ceph-disk: key management support (<a class="reference external" href="http://tracker.ceph.com/issues/14669">issue#14669</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7552">pr#7552</a>, Loic Dachary)</li>
<li>ceph-disk: make some arguments as required if necessary (<a class="reference external" href="http://github.com/ceph/ceph/pull/7687">pr#7687</a>, Dongsheng Yang)</li>
<li>ceph-disk: s/dmcrpyt/dmcrypt/ (<a class="reference external" href="http://tracker.ceph.com/issues/14838">issue#14838</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7744">pr#7744</a>, Loic Dachary, Frode Sandholtbraaten)</li>
<li>ceph-disk: support bluestore (<a class="reference external" href="http://tracker.ceph.com/issues/13422">issue#13422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7218">pr#7218</a>, Loic Dachary, Sage Weil)</li>
<li>ceph-disk/test: fix test_prepare.py::TestPrepare tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/7549">pr#7549</a>, Kefu Chai)</li>
<li>ceph-disk: warn for prepare partitions with bad GUIDs (<a class="reference external" href="http://tracker.ceph.com/issues/13943">issue#13943</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6760">pr#6760</a>, David Disseldorp)</li>
<li>ceph: fix tell behavior (<a class="reference external" href="http://github.com/ceph/ceph/pull/6329">pr#6329</a>, David Zafman)</li>
<li>cephfs-data-scan: scan_frags (<a class="reference external" href="http://github.com/ceph/ceph/pull/5941">pr#5941</a>, John Spray)</li>
<li>cephfs-data-scan: scrub tag filtering (#12133 and #12145) (<a class="reference external" href="http://tracker.ceph.com/issues/12133">issue#12133</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12145">issue#12145</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5685">pr#5685</a>, John Spray)</li>
<li>ceph-fuse: add process to ceph-fuse &#8211;help (<a class="reference external" href="http://github.com/ceph/ceph/pull/6821">pr#6821</a>, Wei Feng)</li>
<li>ceph-fuse: fix double decreasing the count to trim caps (<a class="reference external" href="http://tracker.ceph.com/issues/14319">issue#14319</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7229">pr#7229</a>, Zhi Zhang)</li>
<li>ceph-fuse: fix double free of args (<a class="reference external" href="http://github.com/ceph/ceph/pull/7015">pr#7015</a>, Ilya Shipitsin)</li>
<li>ceph-fuse: fix fsync() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6388">pr#6388</a>, Yan, Zheng)</li>
<li>ceph-fuse: Fix potential filehandle ref leak at umount (<a class="reference external" href="http://tracker.ceph.com/issues/14800">issue#14800</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7686">pr#7686</a>, Zhi Zhang)</li>
<li>ceph-fuse,libcephfs: Fix client handling of &#8220;lost&#8221; open directories on shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/14996">issue#14996</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7994">pr#7994</a>, Yan, Zheng)</li>
<li>ceph-fuse,libcephfs: fix free fds being exhausted eventually because freed fds are never put back (<a class="reference external" href="http://tracker.ceph.com/issues/14798">issue#14798</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7685">pr#7685</a>, Zhi Zhang)</li>
<li>ceph-fuse:print usage information when no parameter specified (<a class="reference external" href="http://github.com/ceph/ceph/pull/6868">pr#6868</a>, Bo Cai)</li>
<li>ceph-fuse: rotate log file (<a class="reference external" href="http://github.com/ceph/ceph/pull/8485">pr#8485</a>, Sage Weil)</li>
<li>ceph-fuse: While starting ceph-fuse, start the log thread first (<a class="reference external" href="http://tracker.ceph.com/issues/13443">issue#13443</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6224">pr#6224</a>, Wenjun Huang)</li>
<li>ceph: improve the error message (<a class="reference external" href="http://tracker.ceph.com/issues/11101">issue#11101</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7106">pr#7106</a>, Kefu Chai)</li>
<li>ceph.in: avoid a broken pipe error when use ceph command (<a class="reference external" href="http://tracker.ceph.com/issues/14354">issue#14354</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7212">pr#7212</a>, Bo Cai)</li>
<li>ceph.in: correct dev python path for automake builds (<a class="reference external" href="http://github.com/ceph/ceph/pull/8360">pr#8360</a>, Josh Durgin)</li>
<li>ceph.in: fix python libpath for automake as well (<a class="reference external" href="http://github.com/ceph/ceph/pull/8362">pr#8362</a>, Josh Durgin)</li>
<li>ceph.in: Minor python3 specific changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7947">pr#7947</a>, Sarthak Munshi)</li>
<li>ceph-kvstore-tool: handle bad out file on command line (<a class="reference external" href="http://github.com/ceph/ceph/pull/6093">pr#6093</a>, Kefu Chai)</li>
<li>ceph-mds:add &#8211;help/-h (<a class="reference external" href="http://github.com/ceph/ceph/pull/6850">pr#6850</a>, Cilang Zhao)</li>
<li>ceph_objectstore_bench: fix race condition, bugs (<a class="reference external" href="http://tracker.ceph.com/issues/13516">issue#13516</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6681">pr#6681</a>, Igor Fedotov)</li>
<li>ceph-objectstore-tool: fix &#8211;dry-run for many ceph-objectstore-tool operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6545">pr#6545</a>, David Zafman)</li>
<li>ceph-rest-api: fix fs/flag/set (<a class="reference external" href="http://github.com/ceph/ceph/pull/8428">pr#8428</a>, Sage Weil)</li>
<li>ceph.spec.in: add BuildRequires: systemd (<a class="reference external" href="http://tracker.ceph.com/issues/13860">issue#13860</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6692">pr#6692</a>, Nathan Cutler)</li>
<li>ceph.spec.in: add copyright notice (<a class="reference external" href="http://tracker.ceph.com/issues/14694">issue#14694</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7569">pr#7569</a>, Nathan Cutler)</li>
<li>ceph.spec.in: add license declaration (<a class="reference external" href="http://github.com/ceph/ceph/pull/7574">pr#7574</a>, Nathan Cutler)</li>
<li>ceph.spec.in: disable lttng and babeltrace explicitly (<a class="reference external" href="http://tracker.ceph.com/issues/14844">issue#14844</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7857">pr#7857</a>, Kefu Chai)</li>
<li>ceph.spec.in: do not install Ceph RA on systemd platforms (<a class="reference external" href="http://tracker.ceph.com/issues/14828">issue#14828</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7894">pr#7894</a>, Nathan Cutler)</li>
<li>ceph.spec.in: fix openldap and openssl build dependencies for SUSE (<a class="reference external" href="http://tracker.ceph.com/issues/15138">issue#15138</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8120">pr#8120</a>, Nathan Cutler)</li>
<li>ceph.spec.in: limit _smp_mflags when lowmem_builder is set in SUSE&#8217;s OBS (<a class="reference external" href="http://tracker.ceph.com/issues/13858">issue#13858</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6691">pr#6691</a>, Nathan Cutler)</li>
<li>ceph.spec.in: terminate if statement in %pre scriptlet (<a class="reference external" href="http://github.com/ceph/ceph/pull/8628">pr#8628</a>, Nathan Cutler)</li>
<li>ceph_test_libcephfs: tolerate duplicated entries in readdir (<a class="reference external" href="http://tracker.ceph.com/issues/14377">issue#14377</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7246">pr#7246</a>, Yan, Zheng)</li>
<li>ceph_test_msgr: reduce test size to fix memory size (<a class="reference external" href="http://github.com/ceph/ceph/pull/8127">pr#8127</a>, Haomai Wang)</li>
<li>ceph_test_msgr: Use send_message instead of keepalive to wakeup connection (<a class="reference external" href="http://github.com/ceph/ceph/pull/6605">pr#6605</a>, Haomai Wang)</li>
<li>ceph_test_rados: make long name ~300 chars, (not ~800) (<a class="reference external" href="http://github.com/ceph/ceph/pull/8600">pr#8600</a>, Sage Weil)</li>
<li>ceph_test_rados_misc: shorten mount timeout (<a class="reference external" href="http://github.com/ceph/ceph/pull/8209">pr#8209</a>, Sage Weil)</li>
<li>check-generated.sh: can&#8217;t source bash from sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/8521">pr#8521</a>, Michal Jarzabek)</li>
<li>cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/8058">pr#8058</a>, Yehuda Sadeh, Orit Wasserman)</li>
<li>cleanup: remove misc dead code (<a class="reference external" href="http://github.com/ceph/ceph/pull/7201">pr#7201</a>, Erwan Velu)</li>
<li>client: a better check for MDS availability (<a class="reference external" href="http://github.com/ceph/ceph/pull/6253">pr#6253</a>, John Spray)</li>
<li>client: add option to control how directory size is calculated (<a class="reference external" href="http://github.com/ceph/ceph/pull/7323">pr#7323</a>, Yan, Zheng)</li>
<li>client: avoid creating orphan object in Client::check_pool_perm() (<a class="reference external" href="http://tracker.ceph.com/issues/13782">issue#13782</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6603">pr#6603</a>, Yan, Zheng)</li>
<li>client: check if Fh is readable when processing a read (<a class="reference external" href="http://tracker.ceph.com/issues/11517">issue#11517</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7209">pr#7209</a>, Yan, Zheng)</li>
<li>client: close mds sessions in shutdown() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6269">pr#6269</a>, John Spray)</li>
<li>client: don&#8217;t invalidate page cache when inode is no longer used (<a class="reference external" href="http://github.com/ceph/ceph/pull/6380">pr#6380</a>, Yan, Zheng)</li>
<li>client: don&#8217;t mark_down on command reply (<a class="reference external" href="http://github.com/ceph/ceph/pull/6204">pr#6204</a>, John Spray)</li>
<li>client: drop prefix from ints (<a class="reference external" href="http://github.com/ceph/ceph/pull/6275">pr#6275</a>, John Coyle)</li>
<li>client: flush kernel pagecache before creating snapshot (<a class="reference external" href="http://tracker.ceph.com/issues/10436">issue#10436</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7495">pr#7495</a>, Yan, Zheng)</li>
<li>client: modify a word in log (<a class="reference external" href="http://github.com/ceph/ceph/pull/6906">pr#6906</a>, YongQiang He)</li>
<li>client: properly trim unlinked inode (<a class="reference external" href="http://tracker.ceph.com/issues/13903">issue#13903</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7297">pr#7297</a>, Yan, Zheng)</li>
<li>client: removed unused Mutex from MetaRequest (<a class="reference external" href="http://github.com/ceph/ceph/pull/7655">pr#7655</a>, Greg Farnum)</li>
<li>client: sys/file.h includes for flock operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6282">pr#6282</a>, John Coyle)</li>
<li>client: use null snapc to check pool permission (<a class="reference external" href="http://tracker.ceph.com/issues/13714">issue#13714</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6497">pr#6497</a>, Yan, Zheng)</li>
<li>cls/cls_rbd.cc: fix misused metadata_name_from_key (<a class="reference external" href="http://tracker.ceph.com/issues/13922">issue#13922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6661">pr#6661</a>, Xiaoxi Chen)</li>
<li>cls/cls_rbd: pass string by reference (<a class="reference external" href="http://github.com/ceph/ceph/pull/7232">pr#7232</a>, Jeffrey Lu)</li>
<li>cls_hello: Fix grammatical error in description comment (<a class="reference external" href="http://github.com/ceph/ceph/pull/7951">pr#7951</a>, Brad Hubbard)</li>
<li>cls_journal: fix -EEXIST checking (<a class="reference external" href="http://github.com/ceph/ceph/pull/8413">pr#8413</a>, runsisi)</li>
<li>cls_rbd: add guards for error cases (<a class="reference external" href="http://tracker.ceph.com/issues/14316">issue#14316</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14317">issue#14317</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7165">pr#7165</a>, xie xingguo)</li>
<li>cls_rbd: change object_map_update to return 0 on success, add logging (<a class="reference external" href="http://github.com/ceph/ceph/pull/6467">pr#6467</a>, Douglas Fuller)</li>
<li>cls_rbd: enable object map checksums for object_map_save (<a class="reference external" href="http://tracker.ceph.com/issues/14280">issue#14280</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7149">pr#7149</a>, Douglas Fuller)</li>
<li>cls_rbd: fix -EEXIST checking in cls::rbd::image_set (<a class="reference external" href="http://github.com/ceph/ceph/pull/8371">pr#8371</a>, runsisi)</li>
<li>cls_rbd: fix the test for ceph-dencoder (<a class="reference external" href="http://github.com/ceph/ceph/pull/7793">pr#7793</a>, Kefu Chai)</li>
<li>cls_rbd: mirror_image_list should return global image id (<a class="reference external" href="http://github.com/ceph/ceph/pull/8297">pr#8297</a>, Jason Dillaman)</li>
<li>cls_rbd: mirroring directory (<a class="reference external" href="http://tracker.ceph.com/issues/14419">issue#14419</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7620">pr#7620</a>, Josh Durgin)</li>
<li>cls_rbd: pass WILLNEED fadvise flags during object map update (<a class="reference external" href="http://tracker.ceph.com/issues/15332">issue#15332</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8380">pr#8380</a>, Jason Dillaman)</li>
<li>cls_rbd: protect against excessively large object maps (<a class="reference external" href="http://tracker.ceph.com/issues/15121">issue#15121</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8099">pr#8099</a>, Jason Dillaman)</li>
<li>cls_rbd: read_peers: update last_read on next cls_cxx_map_get_vals (<a class="reference external" href="http://github.com/ceph/ceph/pull/8374">pr#8374</a>, Mykola Golub)</li>
<li>cls/rgw: fix FTBFS (<a class="reference external" href="http://github.com/ceph/ceph/pull/8142">pr#8142</a>, Kefu Chai)</li>
<li>cls/rgw: fix use of timespan (<a class="reference external" href="http://tracker.ceph.com/issues/15181">issue#15181</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8212">pr#8212</a>, Yehuda Sadeh)</li>
<li>cmake: add common/fs_types.cc to libcommon (<a class="reference external" href="http://github.com/ceph/ceph/pull/7898">pr#7898</a>, Orit Wasserman)</li>
<li>cmake: Add common/PluginRegistry.cc to CMakeLists.txt (<a class="reference external" href="http://github.com/ceph/ceph/pull/6805">pr#6805</a>, Pete Zaitcev)</li>
<li>cmake: Added new unittests to make check (<a class="reference external" href="http://github.com/ceph/ceph/pull/7572">pr#7572</a>, Ali Maredia)</li>
<li>cmake: Add ENABLE_GIT_VERSION to avoid rebuilding (<a class="reference external" href="http://github.com/ceph/ceph/pull/7171">pr#7171</a>, Kefu Chai)</li>
<li>cmake: add ErasureCode.cc to jerasure plugins (<a class="reference external" href="http://github.com/ceph/ceph/pull/7808">pr#7808</a>, Casey Bodley)</li>
<li>cmake: add FindOpenSSL.cmake (<a class="reference external" href="http://github.com/ceph/ceph/pull/8106">pr#8106</a>, Marcus Watts, Matt Benjamin)</li>
<li>cmake: add KernelDevice.cc to libos_srcs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7507">pr#7507</a>, Kefu Chai)</li>
<li>cmake: add missing check for HAVE_EXECINFO_H (<a class="reference external" href="http://github.com/ceph/ceph/pull/7270">pr#7270</a>, Casey Bodley)</li>
<li>cmake: add missing librbd image_watcher sources (<a class="reference external" href="http://tracker.ceph.com/issues/14823">issue#14823</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7717">pr#7717</a>, Casey Bodley)</li>
<li>cmake: add missing librbd/MirrorWatcher.cc and librd/ObjectWatcher.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/8399">pr#8399</a>, Orit Wasserman)</li>
<li>cmake: add nss as a suffix for pk11pub.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/6556">pr#6556</a>, Samuel Just)</li>
<li>cmake: add rgw_basic_types.cc to librgw.a (<a class="reference external" href="http://github.com/ceph/ceph/pull/6786">pr#6786</a>, Orit Wasserman)</li>
<li>cmake: add StandardPolicy.cc to librbd (<a class="reference external" href="http://github.com/ceph/ceph/pull/8368">pr#8368</a>, Kefu Chai)</li>
<li>cmake: add TracepointProvider.cc to libcommon (<a class="reference external" href="http://github.com/ceph/ceph/pull/6823">pr#6823</a>, Orit Wasserman)</li>
<li>cmake: avoid false-positive LDAP header detect (<a class="reference external" href="http://github.com/ceph/ceph/pull/8100">pr#8100</a>, Matt Benjamin)</li>
<li>cmake: Build cython modules and change paths to bin/, lib/ (<a class="reference external" href="http://github.com/ceph/ceph/pull/8351">pr#8351</a>, John Spray, Ali Maredia)</li>
<li>cmake: check for libsnappy in default path also (<a class="reference external" href="http://github.com/ceph/ceph/pull/7366">pr#7366</a>, Kefu Chai)</li>
<li>cmake: cleanups and more features from automake (<a class="reference external" href="http://github.com/ceph/ceph/pull/7103">pr#7103</a>, Casey Bodley, Ali Maredia)</li>
<li>cmake: define STRERROR_R_CHAR_P for GNU-specific strerror_r (<a class="reference external" href="http://github.com/ceph/ceph/pull/6751">pr#6751</a>, Ilya Dryomov)</li>
<li>cmake: detect bzip2 and lz4 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7126">pr#7126</a>, Kefu Chai)</li>
<li>cmake: feb5 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7541">pr#7541</a>, Matt Benjamin)</li>
<li>cmake: fix build with bluestore (<a class="reference external" href="http://github.com/ceph/ceph/pull/7099">pr#7099</a>, John Spray)</li>
<li>cmake: fix files list (<a class="reference external" href="http://github.com/ceph/ceph/pull/6539">pr#6539</a>, Yehuda Sadeh)</li>
<li>cmake: fix mrun to handle cmake build structure (<a class="reference external" href="http://github.com/ceph/ceph/pull/8237">pr#8237</a>, Orit Wasserman)</li>
<li>cmake: fix paths to various EC source files (<a class="reference external" href="http://github.com/ceph/ceph/pull/7748">pr#7748</a>, Ali Maredia, Matt Benjamin)</li>
<li>cmake: fix the build of test_rados_api_list (<a class="reference external" href="http://github.com/ceph/ceph/pull/8438">pr#8438</a>, Kefu Chai)</li>
<li>cmake: fix the build of tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/7523">pr#7523</a>, Kefu Chai)</li>
<li>cmake: fix the build on trusty (<a class="reference external" href="http://github.com/ceph/ceph/pull/7249">pr#7249</a>, Kefu Chai)</li>
<li>cmake: For CMake version &lt;= 2.8.11, use LINK_PRIVATE and LINK_PUBLIC (<a class="reference external" href="http://github.com/ceph/ceph/pull/7474">pr#7474</a>, Tao Chang)</li>
<li>cmake: For CMake version &lt;= 2.8.11, use LINK_PRIVATE (<a class="reference external" href="http://github.com/ceph/ceph/pull/8422">pr#8422</a>, Haomai Wang)</li>
<li>cmake: let ceph-client-debug link with tcmalloc (<a class="reference external" href="http://github.com/ceph/ceph/pull/7314">pr#7314</a>, Kefu Chai)</li>
<li>cmake: librbd and libjournal build fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6557">pr#6557</a>, Ilya Dryomov)</li>
<li>cmake: made rocksdb an imported library (<a class="reference external" href="http://github.com/ceph/ceph/pull/7131">pr#7131</a>, Ali Maredia)</li>
<li>cmake: make check (<a class="reference external" href="http://github.com/ceph/ceph/pull/7912">pr#7912</a>, Kefu Chai, Ali Maredia)</li>
<li>cmake: no need to run configure from run-cmake-check.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/6959">pr#6959</a>, Orit Wasserman)</li>
<li>cmake (<a class="reference external" href="http://github.com/ceph/ceph/pull/7849">pr#7849</a>, Ali Maredia)</li>
<li>cmake/pybind: fix include paths for cephfs (<a class="reference external" href="http://github.com/ceph/ceph/pull/8381">pr#8381</a>, Josh Durgin)</li>
<li>cmake: Remove duplicate find_package libcurl line. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7972">pr#7972</a>, Brad Hubbard)</li>
<li>cmake: support ccache via a WITH_CCACHE build option (<a class="reference external" href="http://github.com/ceph/ceph/pull/6875">pr#6875</a>, John Coyle)</li>
<li>cmake: test_build_libcephfs needs ${ALLOC_LIBS} (<a class="reference external" href="http://github.com/ceph/ceph/pull/7300">pr#7300</a>, Ali Maredia)</li>
<li>cmake: update for recent librbd changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6715">pr#6715</a>, John Spray)</li>
<li>cmake: update for recent rbd changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6818">pr#6818</a>, Mykola Golub)</li>
<li>cmake: Use uname instead of arch. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6358">pr#6358</a>, John Coyle)</li>
<li>coc: fix typo in the apt-get command (<a class="reference external" href="http://github.com/ceph/ceph/pull/6659">pr#6659</a>, Chris Holcombe)</li>
<li>common: add generic plugin infrastructure (<a class="reference external" href="http://github.com/ceph/ceph/pull/6696">pr#6696</a>, Sage Weil)</li>
<li>common: add latency perf counter for finisher (<a class="reference external" href="http://github.com/ceph/ceph/pull/6175">pr#6175</a>, Xinze Chi)</li>
<li>common/address_help.cc: fix the leak in entity_addr_from_url() (<a class="reference external" href="http://tracker.ceph.com/issues/14132">issue#14132</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6987">pr#6987</a>, Qiankun Zheng)</li>
<li>common: add thread names (<a class="reference external" href="http://github.com/ceph/ceph/pull/5882">pr#5882</a>, Igor Podoski)</li>
<li>common: add zlib compression plugin (<a class="reference external" href="http://github.com/ceph/ceph/pull/7437">pr#7437</a>, Alyona Kiseleva, Kiseleva Alyona)</li>
<li>common: admin socket commands for tcmalloc heap get/set operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/7512">pr#7512</a>, Samuel Just)</li>
<li>common: ake ceph_time clocks work under BSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/7340">pr#7340</a>, Adam C. Emerson)</li>
<li>common: allow enable/disable of optracker at runtime (<a class="reference external" href="http://github.com/ceph/ceph/pull/5168">pr#5168</a>, Jianpeng Ma)</li>
<li>common: Allow OPT_INT settings with negative values (<a class="reference external" href="http://tracker.ceph.com/issues/13829">issue#13829</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7390">pr#7390</a>, Brad Hubbard, Kefu Chai)</li>
<li>common: assert: abort() rather than throw (<a class="reference external" href="http://github.com/ceph/ceph/pull/6804">pr#6804</a>, Adam C. Emerson)</li>
<li>common: assert: __STRING macro is not defined by musl libc. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6210">pr#6210</a>, John Coyle)</li>
<li>common/bit_vector: use hard-coded value for block size (<a class="reference external" href="http://tracker.ceph.com/issues/14747">issue#14747</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7610">pr#7610</a>, Jason Dillaman)</li>
<li>common: buffer: add cached_crc and cached_crc_adjust counts to perf dump (<a class="reference external" href="http://github.com/ceph/ceph/pull/6535">pr#6535</a>, Ning Yao)</li>
<li>common: buffer/assert minor fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6990">pr#6990</a>, Matt Benjamin)</li>
<li>common: buffer: put a guard for stat() syscall during read_file (<a class="reference external" href="http://github.com/ceph/ceph/pull/7956">pr#7956</a>, xie xingguo)</li>
<li>common: buffer: remove unneeded list destructor (<a class="reference external" href="http://github.com/ceph/ceph/pull/6456">pr#6456</a>, Michal Jarzabek)</li>
<li>common/buffer: replace RWLock with spinlocks (<a class="reference external" href="http://github.com/ceph/ceph/pull/7294">pr#7294</a>, Piotr Dałek)</li>
<li>common/ceph_context.cc:fix order of initialisers (<a class="reference external" href="http://github.com/ceph/ceph/pull/6838">pr#6838</a>, Michal Jarzabek)</li>
<li>common: change the type of counter total/unhealthy_workers (<a class="reference external" href="http://github.com/ceph/ceph/pull/7254">pr#7254</a>, Guang Yang)</li>
<li>common: default cluster name to config file prefix (<a class="reference external" href="http://github.com/ceph/ceph/pull/7364">pr#7364</a>, Javen Wu)</li>
<li>common: Deprecate or free up a bunch of feature bits (<a class="reference external" href="http://github.com/ceph/ceph/pull/8214">pr#8214</a>, Samuel Just)</li>
<li>common: Do not use non-portable constants in mutex_debug (<a class="reference external" href="http://github.com/ceph/ceph/pull/7766">pr#7766</a>, Adam C. Emerson)</li>
<li>common: don&#8217;t reverse hobject_t hash bits when zero (<a class="reference external" href="http://github.com/ceph/ceph/pull/6653">pr#6653</a>, Piotr Dałek)</li>
<li>common: fix OpTracker age histogram calculation (<a class="reference external" href="http://github.com/ceph/ceph/pull/5065">pr#5065</a>, Zhiqiang Wang)</li>
<li>common: fix race during optracker switches between enabled/disabled mode (<a class="reference external" href="http://github.com/ceph/ceph/pull/8330">pr#8330</a>, xie xingguo)</li>
<li>common: fix reset max in Throttle using perf reset command (<a class="reference external" href="http://tracker.ceph.com/issues/13517">issue#13517</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6300">pr#6300</a>, Xinze Chi)</li>
<li>common: fix time_t cast in decode (<a class="reference external" href="http://tracker.ceph.com/issues/15330">issue#15330</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8419">pr#8419</a>, Adam C. Emerson)</li>
<li>common/Formatter: avoid newline if there is no output (<a class="reference external" href="http://github.com/ceph/ceph/pull/5351">pr#5351</a>, Aran85)</li>
<li>common: improve shared_cache and simple_cache efficiency with hash table (<a class="reference external" href="http://github.com/ceph/ceph/pull/6909">pr#6909</a>, Ning Yao)</li>
<li>common/lockdep: increase max lock names (<a class="reference external" href="http://github.com/ceph/ceph/pull/6961">pr#6961</a>, Sage Weil)</li>
<li>common: log: Assign LOG_DEBUG priority to syslog calls (<a class="reference external" href="http://tracker.ceph.com/issues/13993">issue#13993</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6815">pr#6815</a>, Brad Hubbard)</li>
<li>common: log: predict log message buffer allocation size (<a class="reference external" href="http://github.com/ceph/ceph/pull/6641">pr#6641</a>, Adam Kupczyk)</li>
<li>common/MemoryModel: Added explicit feature check for mallinfo(). (<a class="reference external" href="http://github.com/ceph/ceph/pull/6252">pr#6252</a>, John Coyle)</li>
<li>common: new timekeeping common code, and Objecter conversion (<a class="reference external" href="http://github.com/ceph/ceph/pull/5782">pr#5782</a>, Adam C. Emerson)</li>
<li>common/obj_bencher.cc: bump the precision of bandwidth field (<a class="reference external" href="http://github.com/ceph/ceph/pull/8021">pr#8021</a>, Piotr Dałek)</li>
<li>common/obj_bencher.cc: faster object name generation (<a class="reference external" href="http://github.com/ceph/ceph/pull/7863">pr#7863</a>, Piotr Dałek)</li>
<li>common/obj_bencher.cc: fix verification crashing when there&#8217;s no objects (<a class="reference external" href="http://github.com/ceph/ceph/pull/5853">pr#5853</a>, Piotr Dałek)</li>
<li>common/obj_bencher.cc: make verify error fatal (<a class="reference external" href="http://tracker.ceph.com/issues/14971">issue#14971</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7897">pr#7897</a>, Piotr Dałek)</li>
<li>common: optimize debug logging code (<a class="reference external" href="http://github.com/ceph/ceph/pull/6441">pr#6441</a>, Adam Kupczyk)</li>
<li>common: optimize debug logging (<a class="reference external" href="http://github.com/ceph/ceph/pull/6307">pr#6307</a>, Adam Kupczyk)</li>
<li>common/page.cc: _page_mask has too many bits (<a class="reference external" href="http://github.com/ceph/ceph/pull/7588">pr#7588</a>, Dan Mick)</li>
<li>common: perf counter for bufferlist history total alloc (<a class="reference external" href="http://github.com/ceph/ceph/pull/6198">pr#6198</a>, Xinze Chi)</li>
<li>common: reduce CPU usage by making stringstream in stringify function thread local (<a class="reference external" href="http://github.com/ceph/ceph/pull/6543">pr#6543</a>, Evgeniy Firsov)</li>
<li>common: re-enable backtrace support (<a class="reference external" href="http://github.com/ceph/ceph/pull/6771">pr#6771</a>, Jason Dillaman)</li>
<li>common: set thread name from correct thread (<a class="reference external" href="http://github.com/ceph/ceph/pull/7845">pr#7845</a>, Igor Podoski)</li>
<li>common: signal_handler: added support for using reentrant strsignal() implementations vs. sys_siglist[] (<a class="reference external" href="http://github.com/ceph/ceph/pull/6796">pr#6796</a>, John Coyle)</li>
<li>common: snappy decompressor may assert when handling segmented input bufferlist (<a class="reference external" href="http://tracker.ceph.com/issues/14400">issue#14400</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7268">pr#7268</a>, Igor Fedotov)</li>
<li>common: string.h: return type from str_len(...) need not be const (<a class="reference external" href="http://github.com/ceph/ceph/pull/7679">pr#7679</a>, Matt Benjamin)</li>
<li>common/str_map: cleanup: replaced get_str_map() function overloading by using default parameters for delimiters (<a class="reference external" href="http://github.com/ceph/ceph/pull/7266">pr#7266</a>, Sahithi R V)</li>
<li>common/strtol.cc: fix the coverity warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7967">pr#7967</a>, Kefu Chai)</li>
<li>common: SubProcess: Avoid buffer corruption when calling err() (<a class="reference external" href="http://tracker.ceph.com/issues/15011">issue#15011</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8054">pr#8054</a>, Erwan Velu)</li>
<li>common: SubProcess: fix multiple definition bug (<a class="reference external" href="http://github.com/ceph/ceph/pull/6790">pr#6790</a>, Yunchuan Wen)</li>
<li>common: Thread: move copy constructor and assignment op (<a class="reference external" href="http://github.com/ceph/ceph/pull/5133">pr#5133</a>, Michal Jarzabek)</li>
<li>common: time: have skewing-now call non-skewing now (<a class="reference external" href="http://github.com/ceph/ceph/pull/7466">pr#7466</a>, Adam C. Emerson)</li>
<li>common/TrackedOp: fix inaccurate counting for slow requests (<a class="reference external" href="http://tracker.ceph.com/issues/14804">issue#14804</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7690">pr#7690</a>, xie xingguo)</li>
<li>common: unit test for interval_set implementations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6">pr#6</a>, Igor Fedotov)</li>
<li>common: use namespace instead of subclasses for buffer (<a class="reference external" href="http://github.com/ceph/ceph/pull/6686">pr#6686</a>, Michal Jarzabek)</li>
<li>common: various fixes from SCA runs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7680">pr#7680</a>, Danny Al-Gaaf)</li>
<li>common: WeightedPriorityQueue Re-Add Round Robin for Classes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7984">pr#7984</a>, Robert LeBlanc)</li>
<li>common: WorkQueue: new PointerWQ base class for ContextWQ (<a class="reference external" href="http://tracker.ceph.com/issues/13636">issue#13636</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6525">pr#6525</a>, Jason Dillaman)</li>
<li>compat: use prefixed typeof extension (<a class="reference external" href="http://github.com/ceph/ceph/pull/6216">pr#6216</a>, John Coyle)</li>
<li>config: add $data_dir/config to config search path (<a class="reference external" href="http://github.com/ceph/ceph/pull/7377">pr#7377</a>, Sage Weil)</li>
<li>config: complains when a setting is not tracked (<a class="reference external" href="http://tracker.ceph.com/issues/11692">issue#11692</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7085">pr#7085</a>, Kefu Chai)</li>
<li>config: fix osd_crush_initial_weight (<a class="reference external" href="http://github.com/ceph/ceph/pull/7975">pr#7975</a>, You Ji)</li>
<li>config: increase default async op threads (<a class="reference external" href="http://github.com/ceph/ceph/pull/7802">pr#7802</a>, Piotr Dałek)</li>
<li>config_opts: disable filestore throttle soft backoff by default (<a class="reference external" href="http://github.com/ceph/ceph/pull/8265">pr#8265</a>, Samuel Just)</li>
<li>configure.ac: boost_iostreams is required, not optional (<a class="reference external" href="http://github.com/ceph/ceph/pull/7816">pr#7816</a>, Hector Martin)</li>
<li>configure.ac: macro fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/6769">pr#6769</a>, Igor Podoski)</li>
<li>configure.ac: make &#8220;&#8211;with-librocksdb-static&#8221; default to &#8216;check&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/14463">issue#14463</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7317">pr#7317</a>, Dan Mick)</li>
<li>configure.ac: update help strings for cython (<a class="reference external" href="http://github.com/ceph/ceph/pull/7856">pr#7856</a>, Josh Durgin)</li>
<li>configure: Add -D_LARGEFILE64_SOURCE to Linux build. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8402">pr#8402</a>, Ira Cooper)</li>
<li>configure: detect bz2 and lz4 (<a class="reference external" href="http://tracker.ceph.com/issues/13850">issue#13850</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13981">issue#13981</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7030">pr#7030</a>, Kefu Chai)</li>
<li>correct radosgw-admin command (<a class="reference external" href="http://github.com/ceph/ceph/pull/7006">pr#7006</a>, YankunLi)</li>
<li>crush: add chooseleaf_stable tunable (<a class="reference external" href="http://github.com/ceph/ceph/pull/6572">pr#6572</a>, Sangdi Xu, Sage Weil)</li>
<li>crush: add safety assert (<a class="reference external" href="http://tracker.ceph.com/issues/14496">issue#14496</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7344">pr#7344</a>, songbaisen)</li>
<li>crush: clean up whitespace removal (<a class="reference external" href="http://tracker.ceph.com/issues/14302">issue#14302</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7157">pr#7157</a>, songbaisen)</li>
<li>crush/CrushTester: check for overlapped rules (<a class="reference external" href="http://github.com/ceph/ceph/pull/7139">pr#7139</a>, Kefu Chai)</li>
<li>crush/CrushTester: workaround a bug in boost::icl (<a class="reference external" href="http://github.com/ceph/ceph/pull/7560">pr#7560</a>, Kefu Chai)</li>
<li>crush: fix cli tests for new crush tunables (<a class="reference external" href="http://github.com/ceph/ceph/pull/8107">pr#8107</a>, Sage Weil)</li>
<li>crush: fix error log (<a class="reference external" href="http://github.com/ceph/ceph/pull/8430">pr#8430</a>, Wei Jin)</li>
<li>crush: fix typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/8518">pr#8518</a>, Wei Jin)</li>
<li>crush: reply quickly from get_immediate_parent (<a class="reference external" href="http://tracker.ceph.com/issues/14334">issue#14334</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7181">pr#7181</a>, song baisen)</li>
<li>crushtool: Don&#8217;t crash when called on a file that isn&#8217;t a crushmap (<a class="reference external" href="http://tracker.ceph.com/issues/8286">issue#8286</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8038">pr#8038</a>, Brad Hubbard)</li>
<li>crushtool: improve usage/tip messages (<a class="reference external" href="http://github.com/ceph/ceph/pull/7142">pr#7142</a>, xie xingguo)</li>
<li>crushtool: set type 0 name &#8220;device&#8221; for &#8211;build option (<a class="reference external" href="http://github.com/ceph/ceph/pull/6824">pr#6824</a>, Sangdi Xu)</li>
<li>crush: update tunable docs.  change default profile to jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/7964">pr#7964</a>, Sage Weil)</li>
<li>crush: validate bucket id before indexing buckets array (<a class="reference external" href="http://tracker.ceph.com/issues/13477">issue#13477</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6246">pr#6246</a>, Sage Weil)</li>
<li>debian/changelog: Remove stray &#8216;v&#8217; in version (<a class="reference external" href="http://github.com/ceph/ceph/pull/7936">pr#7936</a>, Dan Mick)</li>
<li>debian/changelog: Remove stray &#8216;v&#8217; in version (<a class="reference external" href="http://github.com/ceph/ceph/pull/7938">pr#7938</a>, Dan Mick)</li>
<li>debian: include cpio in build-requiers (<a class="reference external" href="http://github.com/ceph/ceph/pull/7533">pr#7533</a>, Rémi BUISSON)</li>
<li>debian: package librgw_file* tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/7930">pr#7930</a>, Ken Dreyer)</li>
<li>debian: packaging fixes for jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/7807">pr#7807</a>, Ken Dreyer, Ali Maredia)</li>
<li>debian/rpm split servers (<a class="reference external" href="http://tracker.ceph.com/issues/10587">issue#10587</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7746">pr#7746</a>, Ken Dreyer)</li>
<li>debian/rules: put init-ceph in /etc/init.d/ceph, not ceph-base (<a class="reference external" href="http://tracker.ceph.com/issues/15329">issue#15329</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8406">pr#8406</a>, Dan Mick)</li>
<li>debian: start ceph-mon-all and ceph-osd-all on package install (<a class="reference external" href="http://tracker.ceph.com/issues/15098">issue#15098</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8617">pr#8617</a>, Sage Weil)</li>
<li>doc: add ceph-detect-init(8) source to dist tarball (<a class="reference external" href="http://github.com/ceph/ceph/pull/7933">pr#7933</a>, Ken Dreyer)</li>
<li>doc: add cinder backend section to rbd-openstack.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/7923">pr#7923</a>, RustShen)</li>
<li>doc: adding &#8220;&#8211;allow-shrink&#8221; in decreasing the size of the rbd block to distinguish from the increasing option (<a class="reference external" href="http://github.com/ceph/ceph/pull/7020">pr#7020</a>, Yehua)</li>
<li>doc: Adding documentation on how to use new dynamic throttle scheme (<a class="reference external" href="http://github.com/ceph/ceph/pull/8069">pr#8069</a>, Somnath Roy)</li>
<li>doc: add orphans commands to radosgw-admin(8) (<a class="reference external" href="http://tracker.ceph.com/issues/14637">issue#14637</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7518">pr#7518</a>, Ken Dreyer)</li>
<li>doc: add v0.80.11 to the release timeline (<a class="reference external" href="http://github.com/ceph/ceph/pull/6658">pr#6658</a>, Loic Dachary)</li>
<li>doc: admin/build-doc: add lxml dependencies on debian (<a class="reference external" href="http://github.com/ceph/ceph/pull/6610">pr#6610</a>, Ken Dreyer)</li>
<li>doc: admin/build-doc: make paths absolute (<a class="reference external" href="http://github.com/ceph/ceph/pull/7119">pr#7119</a>, Dan Mick)</li>
<li>doc: amend Fixes instructions in SubmittingPatches (<a class="reference external" href="http://github.com/ceph/ceph/pull/8312">pr#8312</a>, Nathan Cutler)</li>
<li>doc: amend the rados.8 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7251">pr#7251</a>, Kefu Chai)</li>
<li>doc/architecture.rst: remove redundant word &#8220;across&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/8179">pr#8179</a>, Zhao Junwang)</li>
<li>doc/cephfs/posix: update (<a class="reference external" href="http://github.com/ceph/ceph/pull/6922">pr#6922</a>, Sage Weil)</li>
<li>doc: Clarify usage on starting single osd/mds/mon. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7641">pr#7641</a>, Patrick Donnelly)</li>
<li>doc: CodingStyle: fix broken URLs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6733">pr#6733</a>, Kefu Chai)</li>
<li>doc: correct typo &#8216;restared&#8217; to &#8216;restarted&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6734">pr#6734</a>, Yilong Zhao)</li>
<li>doc: detailed description of bugfixing workflow (<a class="reference external" href="http://github.com/ceph/ceph/pull/7941">pr#7941</a>, Nathan Cutler)</li>
<li>doc/dev: add &#8220;Deploy a cluster for manual testing&#8221; section (<a class="reference external" href="http://tracker.ceph.com/issues/15218">issue#15218</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8228">pr#8228</a>, Nathan Cutler)</li>
<li>doc/dev: add section on interrupting a running suite (<a class="reference external" href="http://github.com/ceph/ceph/pull/8116">pr#8116</a>, Nathan Cutler)</li>
<li>doc/dev: continue writing Testing in the cloud chapter (<a class="reference external" href="http://github.com/ceph/ceph/pull/7960">pr#7960</a>, Nathan Cutler)</li>
<li>doc: dev: document ceph-qa-suite (<a class="reference external" href="http://github.com/ceph/ceph/pull/6955">pr#6955</a>, Loic Dachary)</li>
<li>doc/dev/index: refactor/reorg (<a class="reference external" href="http://github.com/ceph/ceph/pull/6792">pr#6792</a>, Nathan Cutler)</li>
<li>doc/dev/index.rst: begin writing Contributing to Ceph (<a class="reference external" href="http://github.com/ceph/ceph/pull/6727">pr#6727</a>, Nathan Cutler)</li>
<li>doc/dev/index.rst: fix headings (<a class="reference external" href="http://github.com/ceph/ceph/pull/6780">pr#6780</a>, Nathan Cutler)</li>
<li>doc/dev: integrate testing into the narrative (<a class="reference external" href="http://github.com/ceph/ceph/pull/7946">pr#7946</a>, Nathan Cutler)</li>
<li>doc: dev: introduction to tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/6910">pr#6910</a>, Loic Dachary)</li>
<li>doc/dev: various refinements (<a class="reference external" href="http://github.com/ceph/ceph/pull/7954">pr#7954</a>, Nathan Cutler)</li>
<li>doc: document &#8220;readforward&#8221; and &#8220;readproxy&#8221; cache mode (<a class="reference external" href="http://github.com/ceph/ceph/pull/7023">pr#7023</a>, Kefu Chai)</li>
<li>doc: download GPG key from download.ceph.com (<a class="reference external" href="http://tracker.ceph.com/issues/13603">issue#13603</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6384">pr#6384</a>, Ken Dreyer)</li>
<li>doc: draft notes for jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/8211">pr#8211</a>, Loic Dachary, Sage Weil)</li>
<li>doc: file must be empty when writing layout fields of file use &#8220;setfattr&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6848">pr#6848</a>, Cilang Zhao)</li>
<li>doc: fix 0.94.4 and 0.94.5 ordering (<a class="reference external" href="http://github.com/ceph/ceph/pull/7763">pr#7763</a>, Loic Dachary)</li>
<li>doc: fix dependencies (<a class="reference external" href="http://github.com/ceph/ceph/pull/8587">pr#8587</a>, Etienne Menguy)</li>
<li>doc: Fixed incorrect name of a &#8220;List Multipart Upload Parts&#8221; Response Entity (<a class="reference external" href="http://tracker.ceph.com/issues/14003">issue#14003</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6829">pr#6829</a>, Lenz Grimmer)</li>
<li>doc: Fixes a CRUSH map step take argument (<a class="reference external" href="http://github.com/ceph/ceph/pull/7327">pr#7327</a>, Ivan Grcic)</li>
<li>doc: Fixes a spelling error (<a class="reference external" href="http://github.com/ceph/ceph/pull/6705">pr#6705</a>, Jeremy Qian)</li>
<li>doc: Fixes headline different font size and type (<a class="reference external" href="http://github.com/ceph/ceph/pull/8328">pr#8328</a>, scienceluo)</li>
<li>doc: fixing image in section ERASURE CODING (<a class="reference external" href="http://github.com/ceph/ceph/pull/7298">pr#7298</a>, Rachana Patel)</li>
<li>doc: fix misleading configuration guide on cache tiering (<a class="reference external" href="http://github.com/ceph/ceph/pull/7000">pr#7000</a>, Yuan Zhou)</li>
<li>doc: fix &#8220;mon osd down out subtree limit&#8221; option name (<a class="reference external" href="http://github.com/ceph/ceph/pull/7164">pr#7164</a>, François Lafont)</li>
<li>doc: fix outdated content in cache tier (<a class="reference external" href="http://github.com/ceph/ceph/pull/6272">pr#6272</a>, Yuan Zhou)</li>
<li>doc: fix S3 C# example (<a class="reference external" href="http://github.com/ceph/ceph/pull/7027">pr#7027</a>, Dunrong Huang)</li>
<li>doc: fix typo, duplicated content etc. for Jewel release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8342">pr#8342</a>, xie xingguo)</li>
<li>doc: fix typo in cephfs/quota (<a class="reference external" href="http://github.com/ceph/ceph/pull/6745">pr#6745</a>, Drunkard Zhang)</li>
<li>doc: fix typo, indention etc. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7829">pr#7829</a>, xie xingguo)</li>
<li>doc: fix typo in developer guide (<a class="reference external" href="http://github.com/ceph/ceph/pull/6943">pr#6943</a>, Nathan Cutler)</li>
<li>doc: fix typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/7004">pr#7004</a>, tianqing)</li>
<li>doc: fix wrong type of hyphen (<a class="reference external" href="http://github.com/ceph/ceph/pull/8252">pr#8252</a>, xie xingguo)</li>
<li>doc: initial draft of RBD mirroring admin documentation (<a class="reference external" href="http://tracker.ceph.com/issues/15041">issue#15041</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8169">pr#8169</a>, Jason Dillaman)</li>
<li>doc: INSTALL redirect to online documentation (<a class="reference external" href="http://github.com/ceph/ceph/pull/6749">pr#6749</a>, Loic Dachary)</li>
<li>doc: little improvements for troubleshooting scrub issues (<a class="reference external" href="http://github.com/ceph/ceph/pull/6827">pr#6827</a>, Mykola Golub)</li>
<li>doc: Modified a note section in rbd-snapshot doc. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6908">pr#6908</a>, Nilamdyuti Goswami)</li>
<li>doc: note that cephfs auth stuff is new in jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/6858">pr#6858</a>, John Spray)</li>
<li>doc: osd-config Add Configuration Options for op queue. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7837">pr#7837</a>, Robert LeBlanc)</li>
<li>doc: osd: s/schedued/scheduled/ (<a class="reference external" href="http://github.com/ceph/ceph/pull/6872">pr#6872</a>, Loic Dachary)</li>
<li>doc/rados/api/librados-intro.rst: fix typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/7879">pr#7879</a>, xie xingguo)</li>
<li>doc/rados/operations/crush: fix the formatting (<a class="reference external" href="http://github.com/ceph/ceph/pull/8306">pr#8306</a>, Kefu Chai)</li>
<li>doc: recommend against ext4 (<a class="reference external" href="http://github.com/ceph/ceph/pull/8556">pr#8556</a>, Sage Weil)</li>
<li>doc: reinstate accidentally removed section header (<a class="reference external" href="http://github.com/ceph/ceph/pull/8569">pr#8569</a>, Josh Durgin)</li>
<li>doc: release-notes: draft v0.80.11 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6374">pr#6374</a>, Loic Dachary)</li>
<li>doc: release-notes: draft v10.0.0 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6666">pr#6666</a>, Loic Dachary)</li>
<li>doc/release-notes: fix indents (<a class="reference external" href="http://github.com/ceph/ceph/pull/8345">pr#8345</a>, Kefu Chai)</li>
<li>doc/release-notes: jewel updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/8590">pr#8590</a>, Nathan Cutler, Sage Weil)</li>
<li>doc/release-notes: v9.1.0 (<a class="reference external" href="http://github.com/ceph/ceph/pull/6281">pr#6281</a>, Loic Dachary)</li>
<li>doc/releases-notes: fix build error (<a class="reference external" href="http://github.com/ceph/ceph/pull/6483">pr#6483</a>, Kefu Chai)</li>
<li>doc: Remove Ceph Monitors do lots of fsync() (<a class="reference external" href="http://tracker.ceph.com/issues/15288">issue#15288</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8327">pr#8327</a>, Vikhyat Umrao)</li>
<li>doc: remove redundant space in ceph-authtool/monmaptool doc (<a class="reference external" href="http://github.com/ceph/ceph/pull/7244">pr#7244</a>, Jiaying Ren)</li>
<li>doc: remove toctree items under Create CephFS (<a class="reference external" href="http://github.com/ceph/ceph/pull/6241">pr#6241</a>, Jevon Qiao)</li>
<li>doc: remove unnecessary period in headline (<a class="reference external" href="http://github.com/ceph/ceph/pull/6775">pr#6775</a>, Marc Koderer)</li>
<li>doc: rename the &#8220;Create a Ceph User&#8221; section and add verbage about… (<a class="reference external" href="http://tracker.ceph.com/issues/13502">issue#13502</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6297">pr#6297</a>, ritz303)</li>
<li>doc: revise SubmittingPatches (<a class="reference external" href="http://github.com/ceph/ceph/pull/7292">pr#7292</a>, Kefu Chai)</li>
<li>doc: rgw adding a very basic multisite doc (<a class="reference external" href="http://tracker.ceph.com/issues/15247">issue#15247</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8281">pr#8281</a>, Abhishek Lekshmanan)</li>
<li>doc: rgw admin uses &#8220;region list&#8221; not &#8220;regions list&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/8517">pr#8517</a>, Kris Jurka)</li>
<li>doc: rgw explain keystone&#8217;s verify ssl switch (<a class="reference external" href="http://github.com/ceph/ceph/pull/7862">pr#7862</a>, Abhishek Lekshmanan)</li>
<li>doc: rgw multisite, add pools section &amp; minor cosmetic improvements (<a class="reference external" href="http://github.com/ceph/ceph/pull/8653">pr#8653</a>, Abhishek Lekshmanan)</li>
<li>doc: rgw: port changes from downstream to upstream (<a class="reference external" href="http://github.com/ceph/ceph/pull/7264">pr#7264</a>, Bara Ancincova)</li>
<li>doc: rgw_region_root_pool option should be in [global] (<a class="reference external" href="http://tracker.ceph.com/issues/15244">issue#15244</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8271">pr#8271</a>, Vikhyat Umrao)</li>
<li>doc: rst style fix for pools document (<a class="reference external" href="http://github.com/ceph/ceph/pull/6816">pr#6816</a>, Drunkard Zhang)</li>
<li>doc: script and guidelines for mirroring Ceph (<a class="reference external" href="http://github.com/ceph/ceph/pull/7384">pr#7384</a>, Wido den Hollander)</li>
<li>docs: Fix styling of newly added mirror docs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6127">pr#6127</a>, Wido den Hollander)</li>
<li>doc: small fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7813">pr#7813</a>, xiexingguo)</li>
<li>doc: standardize &#64;param (not &#64;parma, &#64;parmam, &#64;params) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7714">pr#7714</a>, Nathan Cutler)</li>
<li>doc: SubmittingPatches: there is no next; only jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/6811">pr#6811</a>, Nathan Cutler)</li>
<li>doc, tests: update all <a class="reference external" href="http://ceph.com/">http://ceph.com/</a> to download.ceph.com (<a class="reference external" href="http://github.com/ceph/ceph/pull/6435">pr#6435</a>, Alfredo Deza)</li>
<li>doc: Update ceph-disk manual page with new feature deactivate/destroy. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6637">pr#6637</a>, Vicente Cheng)</li>
<li>doc: Updated CloudStack RBD documentation (<a class="reference external" href="http://github.com/ceph/ceph/pull/8308">pr#8308</a>, Wido den Hollander)</li>
<li>doc: update doc for with new pool settings (<a class="reference external" href="http://github.com/ceph/ceph/pull/5951">pr#5951</a>, Guang Yang)</li>
<li>doc: Updated the rados command man page to include the &#8211;run-name opt… (<a class="reference external" href="http://tracker.ceph.com/issues/12899">issue#12899</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5900">pr#5900</a>, ritz303)</li>
<li>doc: update infernalis release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6575">pr#6575</a>, vasukulkarni)</li>
<li>doc: Update list of admin/build-doc dependencies (<a class="reference external" href="http://tracker.ceph.com/issues/14070">issue#14070</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6934">pr#6934</a>, Nathan Cutler)</li>
<li>doc: update radosgw-admin example (<a class="reference external" href="http://github.com/ceph/ceph/pull/6256">pr#6256</a>, YankunLi)</li>
<li>doc: update the OS recommendations for newer Ceph releases (<a class="reference external" href="http://github.com/ceph/ceph/pull/6355">pr#6355</a>, ritz303)</li>
<li>doc: use &#8216;ceph auth get-or-create&#8217; for creating RGW keyring (<a class="reference external" href="http://github.com/ceph/ceph/pull/6930">pr#6930</a>, Wido den Hollander)</li>
<li>doc: very basic doc on mstart (<a class="reference external" href="http://github.com/ceph/ceph/pull/8207">pr#8207</a>, Abhishek Lekshmanan)</li>
<li>drop envz.h includes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6285">pr#6285</a>, John Coyle)</li>
<li>fix FTBFS introduced by d0af316 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7792">pr#7792</a>, Kefu Chai)</li>
<li>fix: use right init_flags to finish CephContext (<a class="reference external" href="http://github.com/ceph/ceph/pull/6549">pr#6549</a>, Yunchuan Wen)</li>
<li>fs: be more careful about the &#8220;mds setmap&#8221; command to prevent breakage (<a class="reference external" href="http://tracker.ceph.com/issues/14380">issue#14380</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7262">pr#7262</a>, Yan, Zheng)</li>
<li>ghobject_t: use # instead of ! as a separator (<a class="reference external" href="http://github.com/ceph/ceph/pull/8055">pr#8055</a>, Sage Weil)</li>
<li>global: do not start two daemons with a single pid-file (<a class="reference external" href="http://tracker.ceph.com/issues/13422">issue#13422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7075">pr#7075</a>, shun song)</li>
<li>global: do not start two daemons with a single pid-file (part 2) (<a class="reference external" href="http://tracker.ceph.com/issues/13422">issue#13422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7463">pr#7463</a>, Loic Dachary)</li>
<li>global/global_init: expand metavariables in setuser_match_path (<a class="reference external" href="http://tracker.ceph.com/issues/15365">issue#15365</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8433">pr#8433</a>, Sage Weil)</li>
<li>global/signal_handler: print thread name in signal handler (<a class="reference external" href="http://github.com/ceph/ceph/pull/8177">pr#8177</a>, Jianpeng Ma)</li>
<li>helgrind: additional race conditionslibrbd: journal replay should honor inter-event dependencies (<a class="reference external" href="http://github.com/ceph/ceph/pull/7274">pr#7274</a>, Jason Dillaman)</li>
<li>helgrind: fix real (and imaginary) race conditions (<a class="reference external" href="http://tracker.ceph.com/issues/14163">issue#14163</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7208">pr#7208</a>, Jason Dillaman)</li>
<li>include/encoding: do not try to be clever with list encoding (<a class="reference external" href="http://github.com/ceph/ceph/pull/7913">pr#7913</a>, Sage Weil)</li>
<li>init-ceph: do umount when the path exists. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6866">pr#6866</a>, Xiaoxi Chen)</li>
<li>init-ceph.in: allow case-insensitive true in <a class="reference external" href="http://github.com/ceph/ceph/pull/7943">osd crush update on start&#8217; (`pr#7943</a>, Eric Cook)</li>
<li>init-ceph.in: skip ceph-disk if it is not present (<a class="reference external" href="http://tracker.ceph.com/issues/10587">issue#10587</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7286">pr#7286</a>, Ken Dreyer)</li>
<li>init-ceph: use getopt to make option processing more flexible (<a class="reference external" href="http://tracker.ceph.com/issues/3015">issue#3015</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6089">pr#6089</a>, Nathan Cutler)</li>
<li>journal: async methods to (un)register and update client (<a class="reference external" href="http://github.com/ceph/ceph/pull/7832">pr#7832</a>, Mykola Golub)</li>
<li>journal: disconnect watch after watch error (<a class="reference external" href="http://tracker.ceph.com/issues/14168">issue#14168</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7113">pr#7113</a>, Jason Dillaman)</li>
<li>journal: fire replay complete event after reading last object (<a class="reference external" href="http://tracker.ceph.com/issues/13924">issue#13924</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6762">pr#6762</a>, Jason Dillaman)</li>
<li>journal: fix final result for JournalTrimmer::C_RemoveSet (<a class="reference external" href="http://github.com/ceph/ceph/pull/8516">pr#8516</a>, runsisi)</li>
<li>journal: fix race condition between Future and journal shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/15364">issue#15364</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8477">pr#8477</a>, Jason Dillaman)</li>
<li>journal: flush commit position on metadata shutdown (<a class="reference external" href="http://github.com/ceph/ceph/pull/7385">pr#7385</a>, Mykola Golub)</li>
<li>journal: improve commit position tracking (<a class="reference external" href="http://github.com/ceph/ceph/pull/7776">pr#7776</a>, Jason Dillaman)</li>
<li>journal: incremental improvements and fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6552">pr#6552</a>, Mykola Golub)</li>
<li>journal: possible race condition during live replay (<a class="reference external" href="http://tracker.ceph.com/issues/15352">issue#15352</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8494">pr#8494</a>, Jason Dillaman)</li>
<li>journal: prevent race injecting new records into overflowed object (<a class="reference external" href="http://tracker.ceph.com/issues/15202">issue#15202</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8220">pr#8220</a>, Jason Dillaman)</li>
<li>journal: reset commit_position_task_ctx pointer after task complete (<a class="reference external" href="http://github.com/ceph/ceph/pull/7480">pr#7480</a>, Mykola Golub)</li>
<li>journal: re-use common threads between journalers (<a class="reference external" href="http://github.com/ceph/ceph/pull/7906">pr#7906</a>, Jason Dillaman)</li>
<li>journal: support replaying beyond skipped splay objects (<a class="reference external" href="http://github.com/ceph/ceph/pull/6687">pr#6687</a>, Jason Dillaman)</li>
<li>krbd: remove deprecated &#8211;quiet param from udevadm (<a class="reference external" href="http://tracker.ceph.com/issues/13560">issue#13560</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6394">pr#6394</a>, Jason Dillaman)</li>
<li>kv: fix bug in kv key optimization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6511">pr#6511</a>, Sage Weil)</li>
<li>kv: implement value_as_ptr() and use it in .get() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7052">pr#7052</a>, Piotr Dałek)</li>
<li>kv/KineticStore: fix broken split_key (<a class="reference external" href="http://github.com/ceph/ceph/pull/6574">pr#6574</a>, Haomai Wang)</li>
<li>kv: optimize and clean up internal key/value interface (<a class="reference external" href="http://github.com/ceph/ceph/pull/6312">pr#6312</a>, Piotr Dałek, Sage Weil)</li>
<li>libcephfs: fix python tests and fix getcwd on missing dir (<a class="reference external" href="http://github.com/ceph/ceph/pull/7901">pr#7901</a>, John Spray)</li>
<li>libcephfs: Improve portability by replacing loff_t type usage with off_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/6301">pr#6301</a>, John Coyle)</li>
<li>libcephfs: only check file offset on glibc platforms (<a class="reference external" href="http://github.com/ceph/ceph/pull/6288">pr#6288</a>, John Coyle)</li>
<li>libcephfs: update LIBCEPHFS_VERSION to indicate the interface was changed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7551">pr#7551</a>, Jevon Qiao)</li>
<li>librados: add c++ style osd/pg command interface (<a class="reference external" href="http://github.com/ceph/ceph/pull/6893">pr#6893</a>, Yunchuan Wen)</li>
<li>librados: aix gcc librados port (<a class="reference external" href="http://github.com/ceph/ceph/pull/6675">pr#6675</a>, Rohan Mars)</li>
<li>librados: avoid malloc(0) (which can return NULL on some platforms) (<a class="reference external" href="http://tracker.ceph.com/issues/13944">issue#13944</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6779">pr#6779</a>, Dan Mick)</li>
<li>librados: cancel aio notification linger op upon completion (<a class="reference external" href="http://github.com/ceph/ceph/pull/8102">pr#8102</a>, Jason Dillaman)</li>
<li>librados: check connection state in rados_monitor_log (<a class="reference external" href="http://tracker.ceph.com/issues/14499">issue#14499</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7350">pr#7350</a>, David Disseldorp)</li>
<li>librados: clean up Objecter.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/6731">pr#6731</a>, Jie Wang)</li>
<li>librados: detect laggy ops with objecter_timeout, not osd_timeout (<a class="reference external" href="http://github.com/ceph/ceph/pull/7629">pr#7629</a>, Greg Farnum)</li>
<li>librados: do cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/6488">pr#6488</a>, xie xingguo)</li>
<li>librados: do not clear handle for aio_watch() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7771">pr#7771</a>, xie xingguo)</li>
<li>librados: fix examples/librados/Makefile error. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6320">pr#6320</a>, You Ji)</li>
<li>librados: fix pool alignment API overflow issue (<a class="reference external" href="http://tracker.ceph.com/issues/13715">issue#13715</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6489">pr#6489</a>, xie xingguo)</li>
<li>librados: fix potential null pointer access when do pool_snap_list (<a class="reference external" href="http://tracker.ceph.com/issues/13639">issue#13639</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6422">pr#6422</a>, xie xingguo)</li>
<li>librados: fix PromoteOn2ndRead test for EC (<a class="reference external" href="http://github.com/ceph/ceph/pull/6373">pr#6373</a>, Sage Weil)</li>
<li>librados: fix rare race where pool op callback may hang forever (<a class="reference external" href="http://tracker.ceph.com/issues/13642">issue#13642</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6426">pr#6426</a>, xie xingguo)</li>
<li>librados: fix several flaws introduced by the enumeration_objects API (<a class="reference external" href="http://tracker.ceph.com/issues/14299">issue#14299</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14301">issue#14301</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14300">issue#14300</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7156">pr#7156</a>, xie xingguo)</li>
<li>librados: fix test failure with new aio watch/unwatch API  (<a class="reference external" href="http://github.com/ceph/ceph/pull/7824">pr#7824</a>, Jason Dillaman)</li>
<li>librados: implement async watch/unwatch (<a class="reference external" href="http://github.com/ceph/ceph/pull/7649">pr#7649</a>, Haomai Wang)</li>
<li>librados: include/rados/librados.h: fix typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/6741">pr#6741</a>, Nathan Cutler)</li>
<li>librados: init crush_location from config file. (<a class="reference external" href="http://tracker.ceph.com/issues/13473">issue#13473</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6243">pr#6243</a>, Wei Luo)</li>
<li>librados: mix lock cycle (un)registering asok commands (<a class="reference external" href="http://github.com/ceph/ceph/pull/7581">pr#7581</a>, John Spray)</li>
<li>librados: move to c++11 concurrency types (<a class="reference external" href="http://github.com/ceph/ceph/pull/5931">pr#5931</a>, Adam C. Emerson)</li>
<li>librados: new style (sharded) object listing (<a class="reference external" href="http://github.com/ceph/ceph/pull/6405">pr#6405</a>, John Spray, Sage Weil)</li>
<li>librados: potential null pointer access in list_(n)objects (<a class="reference external" href="http://tracker.ceph.com/issues/13822">issue#13822</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6639">pr#6639</a>, xie xingguo)</li>
<li>librados: race condition on aio_notify completion handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7864">pr#7864</a>, Jason Dillaman)</li>
<li>librados: remove duplicate definitions for rados pool_stat_t and cluster_stat_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/7330">pr#7330</a>, Igor Fedotov)</li>
<li>librados: Revert &#8220;rados: Add new field flags for ceph_osd_op.copy_get.&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/8486">pr#8486</a>, Sage Weil)</li>
<li>librados: shutdown finisher in a more graceful way (<a class="reference external" href="http://github.com/ceph/ceph/pull/7519">pr#7519</a>, xie xingguo)</li>
<li>librados: Solaris port (<a class="reference external" href="http://github.com/ceph/ceph/pull/6416">pr#6416</a>, Rohan Mars)</li>
<li>librados: stat2 with higher time precision (<a class="reference external" href="http://github.com/ceph/ceph/pull/7915">pr#7915</a>, Yehuda Sadeh, Matt Benjamin)</li>
<li>librados: Striper: Fix incorrect push_front -&gt; append_zero change (<a class="reference external" href="http://github.com/ceph/ceph/pull/7578">pr#7578</a>, Haomai Wang)</li>
<li>librados_test_stub: protect against notify/unwatch race (<a class="reference external" href="http://github.com/ceph/ceph/pull/7540">pr#7540</a>, Jason Dillaman)</li>
<li>librados: wrongly passed in argument for stat command (<a class="reference external" href="http://tracker.ceph.com/issues/13703">issue#13703</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6476">pr#6476</a>, xie xingguo)</li>
<li>librbd: allocate new journal tag after acquiring exclusive lock (<a class="reference external" href="http://github.com/ceph/ceph/pull/7884">pr#7884</a>, Jason Dillaman)</li>
<li>librbd: API: async open and close (<a class="reference external" href="http://tracker.ceph.com/issues/14264">issue#14264</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7259">pr#7259</a>, Mykola Golub)</li>
<li>librbd: automatically flush IO after blocking write operations (<a class="reference external" href="http://tracker.ceph.com/issues/13913">issue#13913</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6742">pr#6742</a>, Jason Dillaman)</li>
<li>librbd: Avoid create two threads per image (<a class="reference external" href="http://github.com/ceph/ceph/pull/7400">pr#7400</a>, Haomai Wang)</li>
<li>librbd: avoid throwing error if mirroring is unsupported (<a class="reference external" href="http://github.com/ceph/ceph/pull/8417">pr#8417</a>, Jason Dillaman)</li>
<li>librbd: better handling of exclusive lock transition period (<a class="reference external" href="http://github.com/ceph/ceph/pull/7204">pr#7204</a>, Jason Dillaman)</li>
<li>librbd: block maintenance ops until after journal is ready (<a class="reference external" href="http://tracker.ceph.com/issues/14510">issue#14510</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7382">pr#7382</a>, Jason Dillaman)</li>
<li>librbd: block read requests until journal replayed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7627">pr#7627</a>, Jason Dillaman)</li>
<li>librbd: check for presence of journal before attempting to remove  (<a class="reference external" href="http://tracker.ceph.com/issues/13912">issue#13912</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6737">pr#6737</a>, Jason Dillaman)</li>
<li>librbd: clear error when older OSD doesn&#8217;t support image flags (<a class="reference external" href="http://tracker.ceph.com/issues/14122">issue#14122</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7035">pr#7035</a>, Jason Dillaman)</li>
<li>librbd: correct include guard in RenameRequest.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/7143">pr#7143</a>, Jason Dillaman)</li>
<li>librbd: correct issues discovered during teuthology testing (<a class="reference external" href="http://tracker.ceph.com/issues/14108">issue#14108</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14107">issue#14107</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6974">pr#6974</a>, Jason Dillaman)</li>
<li>librbd: correct issues discovered via valgrind memcheck (<a class="reference external" href="http://github.com/ceph/ceph/pull/8132">pr#8132</a>, Jason Dillaman)</li>
<li>librbd: correct issues discovered when cache is disabled (<a class="reference external" href="http://tracker.ceph.com/issues/14123">issue#14123</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6979">pr#6979</a>, Jason Dillaman)</li>
<li>librbd: correct race conditions discovered during unit testing (<a class="reference external" href="http://tracker.ceph.com/issues/14060">issue#14060</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6923">pr#6923</a>, Jason Dillaman)</li>
<li>librbd: deadlock while attempting to flush AIO requests (<a class="reference external" href="http://tracker.ceph.com/issues/13726">issue#13726</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6508">pr#6508</a>, Jason Dillaman)</li>
<li>librbd: differentiate journal replay flush vs shut down (<a class="reference external" href="http://github.com/ceph/ceph/pull/7698">pr#7698</a>, Jason Dillaman)</li>
<li>librbd: disable copy-on-read when not exclusive lock owner (<a class="reference external" href="http://tracker.ceph.com/issues/14167">issue#14167</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7129">pr#7129</a>, Jason Dillaman)</li>
<li>librbd: disable image mirroring when image is removed (<a class="reference external" href="http://tracker.ceph.com/issues/15265">issue#15265</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8375">pr#8375</a>, Ricardo Dias)</li>
<li>librbd: disallow unsafe rbd_op_threads values (<a class="reference external" href="http://tracker.ceph.com/issues/15034">issue#15034</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8459">pr#8459</a>, Josh Durgin)</li>
<li>librbd: do not ignore self-managed snapshot release result (<a class="reference external" href="http://tracker.ceph.com/issues/14170">issue#14170</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7043">pr#7043</a>, Jason Dillaman)</li>
<li>librbd: enable/disable image mirroring automatically for pool mode (<a class="reference external" href="http://tracker.ceph.com/issues/15143">issue#15143</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8204">pr#8204</a>, Ricardo Dias)</li>
<li>librbd: ensure copy-on-read requests are complete prior to closing parent image  (<a class="reference external" href="http://github.com/ceph/ceph/pull/6740">pr#6740</a>, Jason Dillaman)</li>
<li>librbd: ensure librados callbacks are flushed prior to destroying (<a class="reference external" href="http://tracker.ceph.com/issues/14092">issue#14092</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7040">pr#7040</a>, Jason Dillaman)</li>
<li>librbd: exit if parent&#8217;s snap is gone during clone (<a class="reference external" href="http://tracker.ceph.com/issues/14118">issue#14118</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6968">pr#6968</a>, xie xingguo)</li>
<li>librbd: fix enable objectmap feature issue (<a class="reference external" href="http://tracker.ceph.com/issues/13558">issue#13558</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6339">pr#6339</a>, xinxin shu)</li>
<li>librbd: fix handling of proxied maintenance operations during shut down (<a class="reference external" href="http://tracker.ceph.com/issues/15471">issue#15471</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15456">issue#15456</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8565">pr#8565</a>, Jason Dillaman)</li>
<li>librbd: fix internal handling of dynamic feature updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/7299">pr#7299</a>, Jason Dillaman)</li>
<li>librbd: fix journal iohint (<a class="reference external" href="http://github.com/ceph/ceph/pull/6917">pr#6917</a>, Jianpeng Ma)</li>
<li>librbd: fix known test case race condition failures (<a class="reference external" href="http://tracker.ceph.com/issues/13969">issue#13969</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6800">pr#6800</a>, Jason Dillaman)</li>
<li>librbd: fix merge-diff for &gt;2GB diff-files (<a class="reference external" href="http://tracker.ceph.com/issues/14030">issue#14030</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6889">pr#6889</a>, Yunchuan Wen)</li>
<li>librbd: fix potential memory leak (<a class="reference external" href="http://tracker.ceph.com/issues/14332">issue#14332</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14333">issue#14333</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7174">pr#7174</a>, xie xingguo)</li>
<li>librbd: fix snap_exists API return code overflow (<a class="reference external" href="http://tracker.ceph.com/issues/14129">issue#14129</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6986">pr#6986</a>, xie xingguo)</li>
<li>librbd: fix state machine race conditions during shut down (<a class="reference external" href="http://github.com/ceph/ceph/pull/7761">pr#7761</a>, Jason Dillaman)</li>
<li>librbd: fix test case race condition for journaling ops (<a class="reference external" href="http://github.com/ceph/ceph/pull/6877">pr#6877</a>, Jason Dillaman)</li>
<li>librbd: fix tracepoint parameter in diff_iterate (<a class="reference external" href="http://github.com/ceph/ceph/pull/6892">pr#6892</a>, Yunchuan Wen)</li>
<li>librbd: flush and invalidate cache via admin socket (<a class="reference external" href="http://tracker.ceph.com/issues/2468">issue#2468</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6453">pr#6453</a>, Mykola Golub)</li>
<li>librbd: handle unregistering the image watcher when disconnected (<a class="reference external" href="http://github.com/ceph/ceph/pull/8094">pr#8094</a>, Jason Dillaman)</li>
<li>librbd: image refresh code paths converted to async state machines (<a class="reference external" href="http://github.com/ceph/ceph/pull/6859">pr#6859</a>, Jason Dillaman)</li>
<li>librbd: include missing header for bool type (<a class="reference external" href="http://github.com/ceph/ceph/pull/6798">pr#6798</a>, Mykola Golub)</li>
<li>librbd: initial collection of state machine unit tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/6703">pr#6703</a>, Jason Dillaman)</li>
<li>librbd: integrate journaling for maintenance operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6625">pr#6625</a>, Jason Dillaman)</li>
<li>librbd: integrate journaling support for IO operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6541">pr#6541</a>, Jason Dillaman)</li>
<li>librbd: integrate journal replay with fsx testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/7583">pr#7583</a>, Jason Dillaman)</li>
<li>librbd: IO deadlock when dynamically enabling/disabling features (<a class="reference external" href="http://tracker.ceph.com/issues/15102">issue#15102</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8511">pr#8511</a>, Jason Dillaman)</li>
<li>librbd: journal framework for tracking exclusive lock transitions (<a class="reference external" href="http://tracker.ceph.com/issues/13298">issue#13298</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7529">pr#7529</a>, Jason Dillaman)</li>
<li>librbd: journaling-related lock dependency cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/6777">pr#6777</a>, Jason Dillaman)</li>
<li>librbd: journal replay needs to support re-executing maintenance ops (<a class="reference external" href="http://tracker.ceph.com/issues/14822">issue#14822</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7785">pr#7785</a>, Jason Dillaman)</li>
<li>librbd: journal replay should honor inter-event dependencies (<a class="reference external" href="http://github.com/ceph/ceph/pull/7019">pr#7019</a>, Jason Dillaman)</li>
<li>librbd: journal shut down flush race condition (<a class="reference external" href="http://tracker.ceph.com/issues/14434">issue#14434</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7302">pr#7302</a>, Jason Dillaman)</li>
<li>librbd: not necessary to hold owner_lock while releasing snap id (<a class="reference external" href="http://tracker.ceph.com/issues/13914">issue#13914</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6736">pr#6736</a>, Jason Dillaman)</li>
<li>librbd: only send signal when AIO completions queue empty (<a class="reference external" href="http://github.com/ceph/ceph/pull/6729">pr#6729</a>, Jianpeng Ma)</li>
<li>librbd: optionally validate new RBD pools for snapshot support (<a class="reference external" href="http://tracker.ceph.com/issues/13633">issue#13633</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6925">pr#6925</a>, Jason Dillaman)</li>
<li>librbd: partial revert of commit 9b0e359 (<a class="reference external" href="http://tracker.ceph.com/issues/13969">issue#13969</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6789">pr#6789</a>, Jason Dillaman)</li>
<li>librbd: perf counters might not be initialized on error (<a class="reference external" href="http://tracker.ceph.com/issues/13740">issue#13740</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6523">pr#6523</a>, Jason Dillaman)</li>
<li>librbd: perf section name: use hyphen to separate components (<a class="reference external" href="http://tracker.ceph.com/issues/13719">issue#13719</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6516">pr#6516</a>, Mykola Golub)</li>
<li>librbd: properly handle replay of snap remove RPC message (<a class="reference external" href="http://tracker.ceph.com/issues/14164">issue#14164</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7042">pr#7042</a>, Jason Dillaman)</li>
<li>librbd: reduce mem copies to user-buffer during read (<a class="reference external" href="http://github.com/ceph/ceph/pull/7548">pr#7548</a>, Jianpeng Ma)</li>
<li>librbd: reduce verbosity of common error condition logging (<a class="reference external" href="http://tracker.ceph.com/issues/14234">issue#14234</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7114">pr#7114</a>, Jason Dillaman)</li>
<li>librbd: refresh image if required before replaying journal ops (<a class="reference external" href="http://tracker.ceph.com/issues/14908">issue#14908</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7978">pr#7978</a>, Jason Dillaman)</li>
<li>librbd: remove canceled tasks from timer thread (<a class="reference external" href="http://tracker.ceph.com/issues/14476">issue#14476</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7329">pr#7329</a>, Douglas Fuller)</li>
<li>librbd: remove duplicate read_only test in librbd::async_flatten (<a class="reference external" href="http://github.com/ceph/ceph/pull/5856">pr#5856</a>, runsisi)</li>
<li>librbd: remove last synchronous librados calls from open/close state machine (<a class="reference external" href="http://github.com/ceph/ceph/pull/7839">pr#7839</a>, Jason Dillaman)</li>
<li>librbd: replaying a journal op post-refresh requires locking (<a class="reference external" href="http://github.com/ceph/ceph/pull/8028">pr#8028</a>, Jason Dillaman)</li>
<li>librbd: resize should only update image size within header (<a class="reference external" href="http://tracker.ceph.com/issues/13674">issue#13674</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6447">pr#6447</a>, Jason Dillaman)</li>
<li>librbd: retrieve image name when opening by id (<a class="reference external" href="http://github.com/ceph/ceph/pull/7736">pr#7736</a>, Mykola Golub)</li>
<li>librbd: return error if we fail to delete object_map head object (<a class="reference external" href="http://tracker.ceph.com/issues/14098">issue#14098</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6958">pr#6958</a>, xie xingguo)</li>
<li>librbd: Revert &#8220;librbd: use task finisher per CephContext&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/14780">issue#14780</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7667">pr#7667</a>, Josh Durgin)</li>
<li>librbd: send notifications for mirroring status updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/8355">pr#8355</a>, Jason Dillaman)</li>
<li>librbd: several race conditions discovered under single CPU environment (<a class="reference external" href="http://github.com/ceph/ceph/pull/7653">pr#7653</a>, Jason Dillaman)</li>
<li>librbd: simplify IO method signatures for 32bit environments (<a class="reference external" href="http://github.com/ceph/ceph/pull/6700">pr#6700</a>, Jason Dillaman)</li>
<li>librbd: small fixes for error messages and readahead counter (<a class="reference external" href="http://tracker.ceph.com/issues/14127">issue#14127</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6983">pr#6983</a>, xie xingguo)</li>
<li>librbd: start perf counters after id is initialized (<a class="reference external" href="http://tracker.ceph.com/issues/13720">issue#13720</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6494">pr#6494</a>, Mykola Golub)</li>
<li>librbd: support eventfd for AIO completion notifications (<a class="reference external" href="http://github.com/ceph/ceph/pull/5465">pr#5465</a>, Haomai Wang)</li>
<li>librbd: truncate does not need to mark the object as existing in the object map (<a class="reference external" href="http://tracker.ceph.com/issues/14789">issue#14789</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7772">pr#7772</a>, xinxin shu)</li>
<li>librbd: uninitialized state in snap remove state machine (<a class="reference external" href="http://github.com/ceph/ceph/pull/6982">pr#6982</a>, Jason Dillaman)</li>
<li>librbd: update of mirror pool mode and mirror peer handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7718">pr#7718</a>, Jason Dillaman)</li>
<li>librbd: use async librados notifications (<a class="reference external" href="http://github.com/ceph/ceph/pull/7668">pr#7668</a>, Jason Dillaman)</li>
<li>log: do not repeat errors to stderr (<a class="reference external" href="http://tracker.ceph.com/issues/14616">issue#14616</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7983">pr#7983</a>, Sage Weil)</li>
<li>log: fix stack overflow when flushing large log lines (<a class="reference external" href="http://tracker.ceph.com/issues/14707">issue#14707</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7599">pr#7599</a>, Igor Fedotov)</li>
<li>log: segv in a portable way (<a class="reference external" href="http://tracker.ceph.com/issues/14856">issue#14856</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7790">pr#7790</a>, Kefu Chai)</li>
<li>log: use delete[] (<a class="reference external" href="http://github.com/ceph/ceph/pull/7904">pr#7904</a>, Sage Weil)</li>
<li>mailmap: Abhishek Lekshmanan affiliation (<a class="reference external" href="http://github.com/ceph/ceph/pull/8615">pr#8615</a>, Abhishek Lekshmanan)</li>
<li>mailmap: add UMCloud affiliation (<a class="reference external" href="http://github.com/ceph/ceph/pull/6820">pr#6820</a>, Jiaying Ren)</li>
<li>mailmap for 10.0.4 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7932">pr#7932</a>, Abhishek Lekshmanan)</li>
<li>mailmap: hange organization for Dongmao Zhang (<a class="reference external" href="http://github.com/ceph/ceph/pull/7173">pr#7173</a>, Dongmao Zhang)</li>
<li>mailmap: Igor Podoski affiliation (<a class="reference external" href="http://github.com/ceph/ceph/pull/7219">pr#7219</a>, Igor Podoski)</li>
<li>mailmap: Jewel updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/6750">pr#6750</a>, Abhishek Lekshmanan)</li>
<li>mailmap: modify member info  (<a class="reference external" href="http://github.com/ceph/ceph/pull/6468">pr#6468</a>, Xiaowei Chen)</li>
<li>mailmap: revise organization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6519">pr#6519</a>, Li Wang)</li>
<li>mailmap: Ubuntu Kylin name changed to Kylin Cloud (<a class="reference external" href="http://github.com/ceph/ceph/pull/6532">pr#6532</a>, Loic Dachary)</li>
<li>mailmap: update .organizationmap (<a class="reference external" href="http://github.com/ceph/ceph/pull/6565">pr#6565</a>, chenji-kael)</li>
<li>mailmap update (<a class="reference external" href="http://github.com/ceph/ceph/pull/7210">pr#7210</a>, M Ranga Swami Reddy)</li>
<li>mailmap update (<a class="reference external" href="http://github.com/ceph/ceph/pull/8522">pr#8522</a>, M Ranga Swami Reddy)</li>
<li>mailmap update (<a class="reference external" href="http://github.com/ceph/ceph/pull/8608">pr#8608</a>, M Ranga Swami Reddy)</li>
<li>mailmap: updates for infernalis. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6495">pr#6495</a>, Yann Dupont)</li>
<li>mailmap: updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/6258">pr#6258</a>, M Ranga Swami Reddy)</li>
<li>mailmap: updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/6594">pr#6594</a>, chenji-kael)</li>
<li>mailmap updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/6992">pr#6992</a>, Loic Dachary)</li>
<li>mailmap updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/7189">pr#7189</a>, Loic Dachary)</li>
<li>mailmap updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/7528">pr#7528</a>, Yann Dupont)</li>
<li>mailmap updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/8256">pr#8256</a>, Loic Dachary)</li>
<li>mailmap: Xie Xingguo affiliation (<a class="reference external" href="http://github.com/ceph/ceph/pull/6409">pr#6409</a>, Loic Dachary)</li>
<li>Makefile-env.am: set a default for CEPH_BUILD_VIRTUALENV (part 2) (<a class="reference external" href="http://github.com/ceph/ceph/pull/8320">pr#8320</a>, Loic Dachary)</li>
<li>makefile: fix rbdmap manpage (<a class="reference external" href="http://github.com/ceph/ceph/pull/8310">pr#8310</a>, Kefu Chai)</li>
<li>makefile: remove libedit from libclient.la (<a class="reference external" href="http://github.com/ceph/ceph/pull/7284">pr#7284</a>, Kefu Chai)</li>
<li>makefiles: remove bz2-dev from dependencies (<a class="reference external" href="http://tracker.ceph.com/issues/13981">issue#13981</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6939">pr#6939</a>, Piotr Dałek)</li>
<li>man/8/ceph-disk: fix formatting issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/8003">pr#8003</a>, Sage Weil)</li>
<li>man/8/ceph-disk: fix formatting issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/8012">pr#8012</a>, Sage Weil)</li>
<li>man: document listwatchers cmd in &#8220;rados&#8221; manpage (<a class="reference external" href="http://github.com/ceph/ceph/pull/7021">pr#7021</a>, Kefu Chai)</li>
<li>mdsa: A few more snapshot fixes, mostly around snapshotted inode/dentry tracking (<a class="reference external" href="http://github.com/ceph/ceph/pull/7798">pr#7798</a>, Yan, Zheng)</li>
<li>mds: Add cmapv to ESessions default constructor initializer list (<a class="reference external" href="http://github.com/ceph/ceph/pull/8403">pr#8403</a>, John Coyle)</li>
<li>mds: add &#8216;p&#8217; flag in auth caps to control setting pool in layout (<a class="reference external" href="http://github.com/ceph/ceph/pull/6567">pr#6567</a>, John Spray)</li>
<li>mds: advance clientreplay when replying (<a class="reference external" href="http://tracker.ceph.com/issues/14357">issue#14357</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7216">pr#7216</a>, John Spray)</li>
<li>mds: allow client to request caps when opening file (<a class="reference external" href="http://tracker.ceph.com/issues/14360">issue#14360</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7952">pr#7952</a>, Yan, Zheng)</li>
<li>mds: Be more careful about directory fragmentation and scrubbing (<a class="reference external" href="http://tracker.ceph.com/issues/15167">issue#15167</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8180">pr#8180</a>, Yan, Zheng)</li>
<li>mds, client: add namespace to file_layout_t (previously ceph_file_layout) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7098">pr#7098</a>, Yan, Zheng, Sage Weil)</li>
<li>mds, client: fix locking around handle_conf_change (<a class="reference external" href="http://tracker.ceph.com/issues/14365">issue#14365</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14374">issue#14374</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7312">pr#7312</a>, John Spray)</li>
<li>mds: don&#8217;t double-shutdown the timer when suiciding (<a class="reference external" href="http://tracker.ceph.com/issues/14697">issue#14697</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7616">pr#7616</a>, Greg Farnum)</li>
<li>mds: expose state of recovery to status ASOK command (<a class="reference external" href="http://tracker.ceph.com/issues/14146">issue#14146</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7068">pr#7068</a>, Yan, Zheng)</li>
<li>mds: filelock deadlock (<a class="reference external" href="http://github.com/ceph/ceph/pull/7713">pr#7713</a>, Yan, Zheng)</li>
<li>mds: fix client capabilities during reconnect (client.XXXX isn&#8217;t responding to mclientcaps(revoke)) (<a class="reference external" href="http://tracker.ceph.com/issues/11482">issue#11482</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6432">pr#6432</a>, Yan, Zheng)</li>
<li>mds: fix client cap/message replay order on restart (<a class="reference external" href="http://tracker.ceph.com/issues/14254">issue#14254</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13546">issue#13546</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7199">pr#7199</a>, Yan, Zheng)</li>
<li>mds: fix file_layout_t legacy encoding snafu (<a class="reference external" href="http://github.com/ceph/ceph/pull/8455">pr#8455</a>, Sage Weil)</li>
<li>mds: fix fsmap decode (<a class="reference external" href="http://github.com/ceph/ceph/pull/8063">pr#8063</a>, Greg Farnum)</li>
<li>mds: fix FSMap upgrade with daemons in the map (<a class="reference external" href="http://github.com/ceph/ceph/pull/8073">pr#8073</a>, John Spray, Greg Farnum)</li>
<li>mds: fix inode_t::compare() (<a class="reference external" href="http://tracker.ceph.com/issues/15038">issue#15038</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8014">pr#8014</a>, Yan, Zheng)</li>
<li>mds: fix scrub_path (<a class="reference external" href="http://github.com/ceph/ceph/pull/6684">pr#6684</a>, John Spray)</li>
<li>mds: fix setvxattr (broken in a536d114) (<a class="reference external" href="http://tracker.ceph.com/issues/14029">issue#14029</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6941">pr#6941</a>, John Spray)</li>
<li>mds: fix standby replay thread creation (<a class="reference external" href="http://tracker.ceph.com/issues/14144">issue#14144</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7132">pr#7132</a>, John Spray)</li>
<li>mds: fix stray purging in &#8216;stripe_count &gt; 1&#8217; case (<a class="reference external" href="http://tracker.ceph.com/issues/15050">issue#15050</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8040">pr#8040</a>, Yan, Zheng)</li>
<li>mds: FSmap decode fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/8604">pr#8604</a>, Greg Farnum)</li>
<li>mds/FSMap: use _ in key name (<a class="reference external" href="http://github.com/ceph/ceph/pull/8614">pr#8614</a>, Sage Weil)</li>
<li>mds: function parameter &#8216;df&#8217; should be passed by reference (<a class="reference external" href="http://github.com/ceph/ceph/pull/7490">pr#7490</a>, Na Xie)</li>
<li>mds: implement snapshot rename (<a class="reference external" href="http://github.com/ceph/ceph/pull/5645">pr#5645</a>, xinxin shu)</li>
<li>mds: judgment added to avoid the risk of visiting the NULL pointer (<a class="reference external" href="http://github.com/ceph/ceph/pull/7358">pr#7358</a>, Kongming Wu)</li>
<li>mds: messages/MOSDOp: cast in assert to eliminate warnings (<a class="reference external" href="http://tracker.ceph.com/issues/13625">issue#13625</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6414">pr#6414</a>, David Zafman)</li>
<li>mds: Minor fixes around data scan in some scenarios (<a class="reference external" href="http://github.com/ceph/ceph/pull/8115">pr#8115</a>, Yan, Zheng)</li>
<li>mds: Multi-filesystem support (<a class="reference external" href="http://tracker.ceph.com/issues/14952">issue#14952</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6953">pr#6953</a>, John Spray, Sage Weil)</li>
<li>mds: new filtered MDS tell commands for sessions (<a class="reference external" href="http://github.com/ceph/ceph/pull/6180">pr#6180</a>, John Spray)</li>
<li>mds: properly set STATE_STRAY/STATE_ORPHAN for stray dentry/inode (<a class="reference external" href="http://tracker.ceph.com/issues/13777">issue#13777</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6553">pr#6553</a>, Yan, Zheng)</li>
<li>mds: repair the command option &#8220;&#8211;hot-standby&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6454">pr#6454</a>, Wei Feng)</li>
<li>mds: ScrubStack and &#8220;tag path&#8221; command (<a class="reference external" href="http://github.com/ceph/ceph/pull/5662">pr#5662</a>, Yan, Zheng, John Spray, Greg Farnum)</li>
<li>mds/Session: use projected parent for auth path check (<a class="reference external" href="http://tracker.ceph.com/issues/13364">issue#13364</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6200">pr#6200</a>, Sage Weil)</li>
<li>mds: tear down connections from <cite>tell</cite> commands (<a class="reference external" href="http://tracker.ceph.com/issues/14048">issue#14048</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6933">pr#6933</a>, John Spray)</li>
<li>mds: we should wait messenger when MDSDaemon suicide (<a class="reference external" href="http://github.com/ceph/ceph/pull/6996">pr#6996</a>, Wei Feng)</li>
<li>messages/MOSDOp: clear reqid inc for v6 encoding (<a class="reference external" href="http://tracker.ceph.com/issues/15230">issue#15230</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8299">pr#8299</a>, Sage Weil)</li>
<li>mirrors: Change contact e-mail address for se.ceph.com (<a class="reference external" href="http://github.com/ceph/ceph/pull/8007">pr#8007</a>, Wido den Hollander)</li>
<li>mirrors: Updated scripts and documentation for mirrors (<a class="reference external" href="http://github.com/ceph/ceph/pull/7847">pr#7847</a>, Wido den Hollander)</li>
<li>misc: use make_shared while creating shared_ptr (<a class="reference external" href="http://github.com/ceph/ceph/pull/7769">pr#7769</a>, Somnath Roy)</li>
<li>mon: add an independent option for max election time (<a class="reference external" href="http://github.com/ceph/ceph/pull/7245">pr#7245</a>, Sangdi Xu)</li>
<li>mon: add <cite>osd blacklist clear</cite> (<a class="reference external" href="http://github.com/ceph/ceph/pull/6945">pr#6945</a>, John Spray)</li>
<li>mon: add RAW USED column to ceph df detail (<a class="reference external" href="http://github.com/ceph/ceph/pull/7087">pr#7087</a>, Ruifeng Yang)</li>
<li>mon: block &#8216;ceph osd pg-temp ...&#8217; if pg_temp update is already pending (<a class="reference external" href="http://github.com/ceph/ceph/pull/6704">pr#6704</a>, Sage Weil)</li>
<li>mon: cleanup set-quota error msg (<a class="reference external" href="http://github.com/ceph/ceph/pull/7371">pr#7371</a>, Abhishek Lekshmanan)</li>
<li>monclient: avoid key renew storm on clock skew (<a class="reference external" href="http://tracker.ceph.com/issues/12065">issue#12065</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8258">pr#8258</a>, Alexey Sheplyakov)</li>
<li>mon: compact full epochs also (<a class="reference external" href="http://tracker.ceph.com/issues/14537">issue#14537</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7396">pr#7396</a>, Kefu Chai)</li>
<li>mon: consider pool size when creating pool (<a class="reference external" href="http://tracker.ceph.com/issues/14509">issue#14509</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7359">pr#7359</a>, songbaisen)</li>
<li>mon: consider the pool size when setting pool crush rule (<a class="reference external" href="http://tracker.ceph.com/issues/14495">issue#14495</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7341">pr#7341</a>, song baisen)</li>
<li>mon: degrade a log message to level 2 (<a class="reference external" href="http://github.com/ceph/ceph/pull/6929">pr#6929</a>, Kongming Wu)</li>
<li>mon: do not send useless pg_create messages for split pgs (<a class="reference external" href="http://github.com/ceph/ceph/pull/8247">pr#8247</a>, Sage Weil)</li>
<li>mon: don&#8217;t require OSD W for MRemoveSnaps (<a class="reference external" href="http://tracker.ceph.com/issues/13777">issue#13777</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6601">pr#6601</a>, John Spray)</li>
<li>mon: drop useless rank init assignment (<a class="reference external" href="http://tracker.ceph.com/issues/14508">issue#14508</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7321">pr#7321</a>, huanwen ren)</li>
<li>mon: enable &#8216;mon osd prime pg temp&#8217; by default (<a class="reference external" href="http://github.com/ceph/ceph/pull/7838">pr#7838</a>, Robert LeBlanc)</li>
<li>mon: fix calculation of %USED (<a class="reference external" href="http://github.com/ceph/ceph/pull/7881">pr#7881</a>, Adam Kupczyk)</li>
<li>mon: fix ceph df pool available calculation for 0-weighted OSDs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6660">pr#6660</a>, Chengyuan Li)</li>
<li>mon: fix coding-style on PG related Monitor files (<a class="reference external" href="http://github.com/ceph/ceph/pull/6881">pr#6881</a>, Wido den Hollander)</li>
<li>mon: fixes related to mondbstore-&gt;get() changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6564">pr#6564</a>, Piotr Dałek)</li>
<li>mon: fix keyring permissions (<a class="reference external" href="http://tracker.ceph.com/issues/14950">issue#14950</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7880">pr#7880</a>, Owen Synge)</li>
<li>mon: fix locking in preinit error paths (<a class="reference external" href="http://tracker.ceph.com/issues/14473">issue#14473</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7353">pr#7353</a>, huanwen ren)</li>
<li>mon: fix monmap creation stamp (<a class="reference external" href="http://github.com/ceph/ceph/pull/7459">pr#7459</a>, duanweijun)</li>
<li>mon: fix reuse of osd ids (clear osd info on osd deletion) (<a class="reference external" href="http://tracker.ceph.com/issues/13988">issue#13988</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6900">pr#6900</a>, Loic Dachary, Sage Weil)</li>
<li>mon: fix routed_request_tids leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/6102">pr#6102</a>, Ning Yao)</li>
<li>mon: fix sync of config-key data (<a class="reference external" href="http://github.com/ceph/ceph/pull/7363">pr#7363</a>, Xiaowei Chen)</li>
<li>mon: fix the can&#8217;t change subscribe level bug in monitoring log (<a class="reference external" href="http://github.com/ceph/ceph/pull/7031">pr#7031</a>, Zhiqiang Wang)</li>
<li>mon: go into ERR state if multiple PGs are stuck inactive (<a class="reference external" href="http://tracker.ceph.com/issues/13923">issue#13923</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7253">pr#7253</a>, Wido den Hollander)</li>
<li>mon: initialize last_* timestamps on new pgs to creation time (<a class="reference external" href="http://tracker.ceph.com/issues/14952">issue#14952</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7980">pr#7980</a>, Sage Weil)</li>
<li>mon: initialize recorded election epoch properly even when standalone (<a class="reference external" href="http://tracker.ceph.com/issues/13627">issue#13627</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6407">pr#6407</a>, huanwen ren)</li>
<li>mon: make clock skew checks sane (<a class="reference external" href="http://tracker.ceph.com/issues/14175">issue#14175</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7141">pr#7141</a>, Joao Eduardo Luis)</li>
<li>mon: mark_down_pgs in lockstep with pg_map&#8217;s osdmap epoch (<a class="reference external" href="http://github.com/ceph/ceph/pull/8208">pr#8208</a>, Sage Weil)</li>
<li>mon/MDSMonitor: add confirmation to &#8220;ceph mds rmfailed&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/14379">issue#14379</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7248">pr#7248</a>, Yan, Zheng)</li>
<li>mon/MDSMonitor.cc: properly note beacon when health metrics changes (<a class="reference external" href="http://tracker.ceph.com/issues/14684">issue#14684</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7757">pr#7757</a>, Yan, Zheng)</li>
<li>mon: modify a dout level in OSDMonitor.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/6928">pr#6928</a>, Yongqiang He)</li>
<li>mon/MonClient: avoid null pointer error when configured incorrectly (<a class="reference external" href="http://tracker.ceph.com/issues/14405">issue#14405</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7276">pr#7276</a>, Bo Cai)</li>
<li>mon/MonClient: fix shutdown race (<a class="reference external" href="http://tracker.ceph.com/issues/13992">issue#13992</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8335">pr#8335</a>, Sage Weil)</li>
<li>mon/monitor: some clean up (<a class="reference external" href="http://github.com/ceph/ceph/pull/7520">pr#7520</a>, huanwen ren)</li>
<li>mon: MonmapMonitor: don&#8217;t expose uncommitted state to client (<a class="reference external" href="http://github.com/ceph/ceph/pull/6854">pr#6854</a>, Joao Eduardo Luis)</li>
<li>mon/OSDMonitor: osdmap laggy set a maximum limit for interval (<a class="reference external" href="http://github.com/ceph/ceph/pull/7109">pr#7109</a>, Zengran Zhang)</li>
<li>mon: osd [test-]reweight-by-{pg,utilization} command updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/7890">pr#7890</a>, Dan van der Ster, Sage Weil)</li>
<li>mon: paxos is_recovering calc error (<a class="reference external" href="http://github.com/ceph/ceph/pull/7227">pr#7227</a>, Weijun Duan)</li>
<li>mon/PGMap: show rd/wr iops separately in status reports (<a class="reference external" href="http://github.com/ceph/ceph/pull/7072">pr#7072</a>, Cilang Zhao)</li>
<li>mon: PGMonitor: acting primary diff with cur_stat, should not set pg to stale (<a class="reference external" href="http://github.com/ceph/ceph/pull/7083">pr#7083</a>, Xiaowei Chen)</li>
<li>mon/PGMonitor: reliably mark PGs state (<a class="reference external" href="http://github.com/ceph/ceph/pull/8089">pr#8089</a>, Sage Weil)</li>
<li>mon: PG Monitor should report waiting for backfill (<a class="reference external" href="http://tracker.ceph.com/issues/12744">issue#12744</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7398">pr#7398</a>, Abhishek Lekshmanan)</li>
<li>mon/pgmonitor: use appropriate forced conversions in get_rule_avail (<a class="reference external" href="http://github.com/ceph/ceph/pull/7705">pr#7705</a>, huanwen ren)</li>
<li>mon: reduce CPU and memory manager pressure of pg health check (<a class="reference external" href="http://github.com/ceph/ceph/pull/7482">pr#7482</a>, Piotr Dałek)</li>
<li>mon: remove &#8216;mds setmap&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/15136">issue#15136</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8121">pr#8121</a>, Sage Weil)</li>
<li>mon: remove remove_legacy_versions() (<a class="reference external" href="http://github.com/ceph/ceph/pull/8324">pr#8324</a>, Kefu Chai)</li>
<li>mon: remove unnecessary comment for update_from_paxos (<a class="reference external" href="http://github.com/ceph/ceph/pull/8400">pr#8400</a>, Qinghua Jin)</li>
<li>mon: remove unused variable (<a class="reference external" href="http://tracker.ceph.com/issues/15292">issue#15292</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8337">pr#8337</a>, Javier M. Mellid)</li>
<li>mon: revert MonitorDBStore&#8217;s WholeStoreIteratorImpl::get (<a class="reference external" href="http://tracker.ceph.com/issues/13742">issue#13742</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6522">pr#6522</a>, Piotr Dałek)</li>
<li>mon: should not set isvalid = true when cephx_verify_authorizer return false (<a class="reference external" href="http://tracker.ceph.com/issues/13525">issue#13525</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6306">pr#6306</a>, Ruifeng Yang)</li>
<li>mon: show the pool quota info on ceph df detail command (<a class="reference external" href="http://tracker.ceph.com/issues/14216">issue#14216</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7094">pr#7094</a>, song baisen)</li>
<li>mon: some cleanup in MonmapMonitor.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/7418">pr#7418</a>, huanwen ren)</li>
<li>mon: standardize Ceph removal commands (<a class="reference external" href="http://github.com/ceph/ceph/pull/7939">pr#7939</a>, Dongsheng Yang)</li>
<li>mon: support min_down_reporter by subtree level (default by host) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6709">pr#6709</a>, Xiaoxi Chen)</li>
<li>mon: unconfuse object count skew message (<a class="reference external" href="http://github.com/ceph/ceph/pull/7882">pr#7882</a>, Piotr Dałek)</li>
<li>mon: unregister command on shutdown (<a class="reference external" href="http://github.com/ceph/ceph/pull/7504">pr#7504</a>, huanwen ren)</li>
<li>mon: warn if pg(s) not scrubbed (<a class="reference external" href="http://tracker.ceph.com/issues/13142">issue#13142</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6440">pr#6440</a>, Michal Jarzabek)</li>
<li>mount.ceph: memory leaks (<a class="reference external" href="http://github.com/ceph/ceph/pull/6905">pr#6905</a>, Qiankun Zheng)</li>
<li>mount.fuse.ceph: better parsing of arguments passed to mount.fuse.ceph by mount command (<a class="reference external" href="http://tracker.ceph.com/issues/14735">issue#14735</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7607">pr#7607</a>, Florent Bautista)</li>
<li>mrun: update path to cmake binaries (<a class="reference external" href="http://github.com/ceph/ceph/pull/8447">pr#8447</a>, Casey Bodley)</li>
<li>msg: add override to virutal methods (<a class="reference external" href="http://github.com/ceph/ceph/pull/6977">pr#6977</a>, Michal Jarzabek)</li>
<li>msg: add thread safety for &#8220;random&#8221; Messenger + fix wrong usage of random functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/7650">pr#7650</a>, Avner BenHanoch)</li>
<li>msg/async: AsyncConnection: avoid debug log in cleanup_handler (<a class="reference external" href="http://github.com/ceph/ceph/pull/7547">pr#7547</a>, Haomai Wang)</li>
<li>msg/async: AsyncConnection: avoid is_connected require connection&#8217;s lock (<a class="reference external" href="http://tracker.ceph.com/issues/15440">issue#15440</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8520">pr#8520</a>, Haomai Wang)</li>
<li>msg/async: AsyncMessenger: fix several bugs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7831">pr#7831</a>, Haomai Wang)</li>
<li>msg/async: AsyncMessenger: fix valgrind leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/7725">pr#7725</a>, Haomai Wang)</li>
<li>msg/async: avoid log spam on throttle (<a class="reference external" href="http://tracker.ceph.com/issues/15031">issue#15031</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8263">pr#8263</a>, Kefu Chai)</li>
<li>msg/async: bunch of fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7379">pr#7379</a>, Piotr Dałek)</li>
<li>msg/async: cleanup dead connection and misc things (<a class="reference external" href="http://github.com/ceph/ceph/pull/7158">pr#7158</a>, Haomai Wang)</li>
<li>msg/async: don&#8217;t calculate msg header crc when not needed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7815">pr#7815</a>, Piotr Dałek)</li>
<li>msg/async: don&#8217;t use shared_ptr to manage EventCallback (<a class="reference external" href="http://github.com/ceph/ceph/pull/7028">pr#7028</a>, Haomai Wang)</li>
<li>msg/async: Event: fix clock skew problem (<a class="reference external" href="http://github.com/ceph/ceph/pull/7949">pr#7949</a>, Wei Jin)</li>
<li>msg/async: fix array boundary (<a class="reference external" href="http://github.com/ceph/ceph/pull/7451">pr#7451</a>, Wei Jin)</li>
<li>msg: async: fix perf counter description and simplify _send_keepalive_or_ack (<a class="reference external" href="http://github.com/ceph/ceph/pull/8046">pr#8046</a>, xie xingguo)</li>
<li>msg/async: fix potential race condition (<a class="reference external" href="http://github.com/ceph/ceph/pull/7453">pr#7453</a>, Haomai Wang)</li>
<li>msg/async: fix send closed local_connection message problem (<a class="reference external" href="http://github.com/ceph/ceph/pull/7255">pr#7255</a>, Haomai Wang)</li>
<li>msg/async: let receiver ack message ASAP (<a class="reference external" href="http://github.com/ceph/ceph/pull/6478">pr#6478</a>, Haomai Wang)</li>
<li>msg/async: reduce extra tcp packet for message ack (<a class="reference external" href="http://github.com/ceph/ceph/pull/7380">pr#7380</a>, Haomai Wang)</li>
<li>msg/async: remove experiment feature (<a class="reference external" href="http://github.com/ceph/ceph/pull/7820">pr#7820</a>, Haomai Wang)</li>
<li>msg: async: small cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/7871">pr#7871</a>, xie xingguo)</li>
<li>msg/async: smarter MSG_MORE (<a class="reference external" href="http://github.com/ceph/ceph/pull/7625">pr#7625</a>, Piotr Dałek)</li>
<li>msg: async: start over after failing to bind a port in specified range (<a class="reference external" href="http://tracker.ceph.com/issues/14928">issue#14928</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13002">issue#13002</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7852">pr#7852</a>, xie xingguo)</li>
<li>msg/async: support of non-block connect in async messenger (<a class="reference external" href="http://tracker.ceph.com/issues/12802">issue#12802</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5848">pr#5848</a>, Jianhui Yuan)</li>
<li>msg/async: _try_send trim already sent for outcoming_bl more efficient (<a class="reference external" href="http://github.com/ceph/ceph/pull/7970">pr#7970</a>, Yan Jun)</li>
<li>msg/async: will crash if enabling async msg because of an assertion (<a class="reference external" href="http://github.com/ceph/ceph/pull/6640">pr#6640</a>, Zhi Zhang)</li>
<li>msg: filter out lo addr when bind osd addr (<a class="reference external" href="http://github.com/ceph/ceph/pull/7012">pr#7012</a>, Ji Chen)</li>
<li>msg: removed unneeded includes from Dispatcher (<a class="reference external" href="http://github.com/ceph/ceph/pull/6814">pr#6814</a>, Michal Jarzabek)</li>
<li>msg: remove duplicated code - local_delivery will now call &#8216;enqueue&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/7948">pr#7948</a>, Avner BenHanoch)</li>
<li>msg: remove unneeded inline (<a class="reference external" href="http://github.com/ceph/ceph/pull/6989">pr#6989</a>, Michal Jarzabek)</li>
<li>msgr:  fix large message data content length causing overflow (<a class="reference external" href="http://github.com/ceph/ceph/pull/6809">pr#6809</a>, Jun Huang, Haomai Wang)</li>
<li>msg: significantly reduce minimal memory usage of connections (<a class="reference external" href="http://github.com/ceph/ceph/pull/7567">pr#7567</a>, Piotr Dałek)</li>
<li>msg/simple: pipe: memory leak when signature check failed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7096">pr#7096</a>, Ruifeng Yang)</li>
<li>msg/simple: remove unneeded friend declarations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6924">pr#6924</a>, Michal Jarzabek)</li>
<li>msg/xio: fix compilation (<a class="reference external" href="http://github.com/ceph/ceph/pull/7479">pr#7479</a>, Roi Dayan)</li>
<li>msg/xio: fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7603">pr#7603</a>, Roi Dayan)</li>
<li>msg/xio: simple fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8555">pr#8555</a>, Avner BenHanoch)</li>
<li>mstart: start rgw on different ports as well (<a class="reference external" href="http://github.com/ceph/ceph/pull/8167">pr#8167</a>, Abhishek Lekshmanan)</li>
<li>nfs for rgw (Matt Benjamin, Orit Wasserman) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7634">pr#7634</a>, Yehuda Sadeh, Matt Benjamin)</li>
<li>objecter: avoid recursive lock of Objecter::rwlock (<a class="reference external" href="http://github.com/ceph/ceph/pull/7343">pr#7343</a>, Yan, Zheng)</li>
<li>organizationmap: modify org mail info. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7240">pr#7240</a>, Xiaowei Chen)</li>
<li>os/bluestore: a few fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8193">pr#8193</a>, Sage Weil)</li>
<li>os/bluestore/BlueFS: Before reap ioct, it should wait io complete (<a class="reference external" href="http://github.com/ceph/ceph/pull/8178">pr#8178</a>, Jianpeng Ma)</li>
<li>os/bluestore/BlueStore: Don&#8217;t leak trim overlay data before write. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7895">pr#7895</a>, Jianpeng Ma)</li>
<li>os/bluestore: ceph-bluefs-tool fixes (<a class="reference external" href="http://tracker.ceph.com/issues/15261">issue#15261</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8292">pr#8292</a>, Venky Shankar)</li>
<li>os/bluestore: clone overlay data (<a class="reference external" href="http://github.com/ceph/ceph/pull/7860">pr#7860</a>, Jianpeng Ma)</li>
<li>os/bluestore: fix assert (<a class="reference external" href="http://tracker.ceph.com/issues/14436">issue#14436</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7293">pr#7293</a>, xie xingguo)</li>
<li>os/bluestore: fix a typo in SPDK path parsing (<a class="reference external" href="http://github.com/ceph/ceph/pull/7601">pr#7601</a>, Jianjian Huo)</li>
<li>os/bluestore: fix bluestore_wal_transaction_t encoding test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7342">pr#7342</a>, Kefu Chai)</li>
<li>os/bluestore: fix bluestore_wal_transaction_t encoding test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7419">pr#7419</a>, Kefu Chai, Brad Hubbard)</li>
<li>os/bluestore: fix shortened bluefs paths in env mirror case (<a class="reference external" href="http://github.com/ceph/ceph/pull/8498">pr#8498</a>, Sage Weil)</li>
<li>os/bluestore: insert new onode to the front position of onode LRU (<a class="reference external" href="http://github.com/ceph/ceph/pull/7492">pr#7492</a>, Jianjian Huo)</li>
<li>os/bluestore/KernelDevice: force block size (<a class="reference external" href="http://github.com/ceph/ceph/pull/8006">pr#8006</a>, Sage Weil)</li>
<li>os/bluestore: make bluestore_sync_transaction = true can work. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7674">pr#7674</a>, Jianpeng Ma)</li>
<li>os/bluestore/NVMEDevice: make IO thread using dpdk launch (<a class="reference external" href="http://github.com/ceph/ceph/pull/8160">pr#8160</a>, Haomai Wang)</li>
<li>os/bluestore/NVMEDevice: refactor probe/attach codes and support zero command (<a class="reference external" href="http://github.com/ceph/ceph/pull/7647">pr#7647</a>, Haomai Wang)</li>
<li>os/bluestore: revamp BlueFS bdev management and add perfcounters (<a class="reference external" href="http://tracker.ceph.com/issues/15376">issue#15376</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8431">pr#8431</a>, Sage Weil)</li>
<li>os/bluestore: small fixes in bluestore StupidAllocator (<a class="reference external" href="http://github.com/ceph/ceph/pull/8101">pr#8101</a>, Jianjian Huo)</li>
<li>os/bluestore: use intrusive_ptr for Dir (<a class="reference external" href="http://github.com/ceph/ceph/pull/7247">pr#7247</a>, Igor Fedotov)</li>
<li>osd: add cache hint when pushing raw clone during recovery (<a class="reference external" href="http://github.com/ceph/ceph/pull/7069">pr#7069</a>, Zhiqiang Wang)</li>
<li>osd: Add config option osd_read_ec_check_for_errors for testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/5865">pr#5865</a>, David Zafman)</li>
<li>osd: add missing newline to usage message (<a class="reference external" href="http://github.com/ceph/ceph/pull/7613">pr#7613</a>, Willem Jan Withagen)</li>
<li>osd: add osd op queue latency perfcounter (<a class="reference external" href="http://github.com/ceph/ceph/pull/5793">pr#5793</a>, Haomai Wang)</li>
<li>osd: add pin/unpin support to cache tier (11066) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6326">pr#6326</a>, Zhiqiang Wang)</li>
<li>osd: add &#8216;proxy&#8217; cache mode (<a class="reference external" href="http://tracker.ceph.com/issues/12814">issue#12814</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8210">pr#8210</a>, Sage Weil)</li>
<li>osd: add scrub persist/query API (<a class="reference external" href="http://tracker.ceph.com/issues/13505">issue#13505</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6898">pr#6898</a>, Kefu Chai, Samuel Just)</li>
<li>osd: add the support of per pool scrub priority (<a class="reference external" href="http://github.com/ceph/ceph/pull/7062">pr#7062</a>, Zhiqiang Wang)</li>
<li>osd: a fix for HeartbeatDispatcher and cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/7550">pr#7550</a>, Kefu Chai)</li>
<li>osd: Allow repair of history.last_epoch_started using config (<a class="reference external" href="http://github.com/ceph/ceph/pull/6793">pr#6793</a>, David Zafman)</li>
<li>osd: auto repair EC pool (<a class="reference external" href="http://tracker.ceph.com/issues/12754">issue#12754</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6196">pr#6196</a>, Guang Yang)</li>
<li>osd: avoid calculating crush mapping for most ops (<a class="reference external" href="http://github.com/ceph/ceph/pull/6371">pr#6371</a>, Sage Weil)</li>
<li>osd: avoid debug std::string initialization in PG::get/put (<a class="reference external" href="http://github.com/ceph/ceph/pull/7117">pr#7117</a>, Evgeniy Firsov)</li>
<li>osd: avoid double-check for replaying and can_checkpoint() in FileStore::_check_replay_guard (<a class="reference external" href="http://github.com/ceph/ceph/pull/6471">pr#6471</a>, Ning Yao)</li>
<li>osd: avoid duplicate op-&gt;mark_started in ReplicatedBackend (<a class="reference external" href="http://github.com/ceph/ceph/pull/6689">pr#6689</a>, Jacek J. Łakis)</li>
<li>osd: avoid FORCE updating digest been overwritten by MAYBE when comparing scrub map (<a class="reference external" href="http://github.com/ceph/ceph/pull/7051">pr#7051</a>, Zhiqiang Wang)</li>
<li>osd: avoid osd_op_thread suicide because osd_scrub_sleep (<a class="reference external" href="http://github.com/ceph/ceph/pull/7009">pr#7009</a>, Jianpeng Ma)</li>
<li>osd: bail out of _committed_osd_maps if we are shutting down (<a class="reference external" href="http://github.com/ceph/ceph/pull/8267">pr#8267</a>, Samuel Just)</li>
<li>osd: blockdevice: avoid implicit cast and add guard (<a class="reference external" href="http://github.com/ceph/ceph/pull/7460">pr#7460</a>, xie xingguo)</li>
<li>osd: bluefs: fix alignment for odd page sizes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7900">pr#7900</a>, Dan Mick)</li>
<li>osd: bluestore: add &#8216;override&#8217; to virtual functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/7886">pr#7886</a>, Michal Jarzabek)</li>
<li>osd: bluestore: allow _dump_onode dynamic accept log level (<a class="reference external" href="http://github.com/ceph/ceph/pull/7995">pr#7995</a>, Jianpeng Ma)</li>
<li>osd: bluestore/blockdevice: use std::mutex et al (<a class="reference external" href="http://github.com/ceph/ceph/pull/7568">pr#7568</a>, Sage Weil)</li>
<li>osd: bluestore: bluefs: fix several small bugs (<a class="reference external" href="http://tracker.ceph.com/issues/14344">issue#14344</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14343">issue#14343</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7200">pr#7200</a>, xie xingguo)</li>
<li>osd: bluestore/BlueFS: initialize super block_size earlier in mkfs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7535">pr#7535</a>, Sage Weil)</li>
<li>osd: bluestore: don&#8217;t include when building without libaio (<a class="reference external" href="http://tracker.ceph.com/issues/14207">issue#14207</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7169">pr#7169</a>, Mykola Golub)</li>
<li>osd: bluestore: fix bluestore onode_t attr leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/7125">pr#7125</a>, Ning Yao)</li>
<li>osd: bluestore: fix bluestore_wal_transaction_t encoding test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7168">pr#7168</a>, Kefu Chai)</li>
<li>osd: bluestore: fix check for write falling within the same extent (<a class="reference external" href="http://tracker.ceph.com/issues/14954">issue#14954</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7892">pr#7892</a>, Jianpeng Ma)</li>
<li>osd: BlueStore: fix fsck and blockdevice read-relevant issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/7362">pr#7362</a>, xie xingguo)</li>
<li>osd: BlueStore: fix null pointer access (<a class="reference external" href="http://tracker.ceph.com/issues/14561">issue#14561</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7435">pr#7435</a>, xie xingguo)</li>
<li>osd: bluestore: fix several bugs (<a class="reference external" href="http://tracker.ceph.com/issues/14259">issue#14259</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14353">issue#14353</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14260">issue#14260</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14261">issue#14261</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7122">pr#7122</a>, xie xingguo)</li>
<li>osd: bluestore: fix space rebalancing, collection split, buffered reads (<a class="reference external" href="http://github.com/ceph/ceph/pull/7196">pr#7196</a>, Sage Weil)</li>
<li>osd: bluestore: for overwrite a extent, allocate new extent on min_alloc_size write (<a class="reference external" href="http://github.com/ceph/ceph/pull/7996">pr#7996</a>, Jianpeng Ma)</li>
<li>osd: bluestore: improve fs-type verification and tidy up (<a class="reference external" href="http://github.com/ceph/ceph/pull/7651">pr#7651</a>, xie xingguo)</li>
<li>osd: bluestore, kstore: fix nid overwritten logic (<a class="reference external" href="http://tracker.ceph.com/issues/14407">issue#14407</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14433">issue#14433</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7283">pr#7283</a>, xie xingguo)</li>
<li>osd: bluestore: misc fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7658">pr#7658</a>, Jianpeng Ma)</li>
<li>osd: bluestore: more fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7130">pr#7130</a>, Sage Weil)</li>
<li>osd: BlueStore/NVMEDevice: fix compiling and fd leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/7496">pr#7496</a>, xie xingguo)</li>
<li>osd: bluestore: NVMEDevice: fix error handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7799">pr#7799</a>, xie xingguo)</li>
<li>osd: bluestore: remove unneeded includes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7870">pr#7870</a>, Michal Jarzabek)</li>
<li>osd: bluestore: Revert NVMEDevice task cstor and refresh interface changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7729">pr#7729</a>, Haomai Wang)</li>
<li>osd: bluestore updates, scrub fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8035">pr#8035</a>, Sage Weil)</li>
<li>osd: bluestore: use btree_map for allocator (<a class="reference external" href="http://github.com/ceph/ceph/pull/7269">pr#7269</a>, Igor Fedotov, Sage Weil)</li>
<li>osd: cache tier: add config option for eviction check list size (<a class="reference external" href="http://github.com/ceph/ceph/pull/6997">pr#6997</a>, Yuan Zhou)</li>
<li>osd: call on_new_interval on newly split child PG (<a class="reference external" href="http://tracker.ceph.com/issues/13962">issue#13962</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6778">pr#6778</a>, Sage Weil)</li>
<li>osd: cancel failure reports if we fail to rebind network (<a class="reference external" href="http://github.com/ceph/ceph/pull/6278">pr#6278</a>, Xinze Chi)</li>
<li>osdc: Fix race condition with tick_event and shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/14256">issue#14256</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7151">pr#7151</a>, Adam C. Emerson)</li>
<li>osd: change mutex to spinlock to optimize thread context switch. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6492">pr#6492</a>, Xiaowei Chen)</li>
<li>osd: check do_shutdown before do_restart (<a class="reference external" href="http://github.com/ceph/ceph/pull/6547">pr#6547</a>, Xiaoxi Chen)</li>
<li>osd: check health state before pre_booting (<a class="reference external" href="http://tracker.ceph.com/issues/14181">issue#14181</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7053">pr#7053</a>, Xiaoxi Chen)</li>
<li>osd: clarify the scrub result report (<a class="reference external" href="http://github.com/ceph/ceph/pull/6534">pr#6534</a>, Li Wang)</li>
<li>osd/ClassHandler: only dlclose() the classes not missing (<a class="reference external" href="http://github.com/ceph/ceph/pull/8354">pr#8354</a>, Kefu Chai)</li>
<li>osd: clean up CMPXATTR checks (<a class="reference external" href="http://github.com/ceph/ceph/pull/5961">pr#5961</a>, Jianpeng Ma)</li>
<li>osd: clean up temp object if copy-from fails (<a class="reference external" href="http://github.com/ceph/ceph/pull/8487">pr#8487</a>, Sage Weil)</li>
<li>osd: clear pg_stat_queue after stopping pgs (<a class="reference external" href="http://tracker.ceph.com/issues/14212">issue#14212</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7091">pr#7091</a>, Sage Weil)</li>
<li>osd: clear requeue_scrub_on_unblock flag after requeue scrub (<a class="reference external" href="http://github.com/ceph/ceph/pull/8570">pr#8570</a>, xie xingguo)</li>
<li>osdc/Objecter: dout log after assign tid (<a class="reference external" href="http://github.com/ceph/ceph/pull/8202">pr#8202</a>, Xinze Chi)</li>
<li>osdc/Objecter: fix narrow race with tid assignment (<a class="reference external" href="http://tracker.ceph.com/issues/14364">issue#14364</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7981">pr#7981</a>, Sage Weil)</li>
<li>osdc/Objecter: use full pgid hash in PGNLS ops (<a class="reference external" href="http://github.com/ceph/ceph/pull/8378">pr#8378</a>, Sage Weil)</li>
<li>osd: consider high/low mode when putting agent to sleep (<a class="reference external" href="http://tracker.ceph.com/issues/14752">issue#14752</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7631">pr#7631</a>, Sage Weil)</li>
<li>osd: correctly handle small osd_scrub_interval_randomize_ratio (<a class="reference external" href="http://github.com/ceph/ceph/pull/7147">pr#7147</a>, Samuel Just)</li>
<li>osdc/Striper: reduce assemble_result log level (<a class="reference external" href="http://github.com/ceph/ceph/pull/8426">pr#8426</a>, Jason Dillaman)</li>
<li>osd: defer decoding of MOSDRepOp/MOSDRepOpReply (<a class="reference external" href="http://github.com/ceph/ceph/pull/6503">pr#6503</a>, Xinze Chi)</li>
<li>osd: delay populating in-memory PG log hashmaps (<a class="reference external" href="http://github.com/ceph/ceph/pull/6425">pr#6425</a>, Piotr Dałek)</li>
<li>osd: disable filestore_xfs_extsize by default (<a class="reference external" href="http://tracker.ceph.com/issues/14397">issue#14397</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7265">pr#7265</a>, Ken Dreyer)</li>
<li>osd: do not keep ref of old osdmap in pg (<a class="reference external" href="http://tracker.ceph.com/issues/13990">issue#13990</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7007">pr#7007</a>, Kefu Chai)</li>
<li>osd: don&#8217;t do random deep scrubs for user initiated scrubs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6673">pr#6673</a>, David Zafman)</li>
<li>osd: don&#8217;t update epoch and rollback_info objects attrs if there is no need (<a class="reference external" href="http://github.com/ceph/ceph/pull/6555">pr#6555</a>, Ning Yao)</li>
<li>osd: drop deprecated removal pg type (<a class="reference external" href="http://github.com/ceph/ceph/pull/6970">pr#6970</a>, Igor Podoski)</li>
<li>osd: drop fiemap len=0 logic (<a class="reference external" href="http://github.com/ceph/ceph/pull/7267">pr#7267</a>, Sage Weil)</li>
<li>osd: drop the interim set from load_pgs() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6277">pr#6277</a>, Piotr Dałek)</li>
<li>osd: dump number of missing objects for each peer with pg query (<a class="reference external" href="http://github.com/ceph/ceph/pull/6058">pr#6058</a>, Guang Yang)</li>
<li>osd: duplicated clear for peer_missing (<a class="reference external" href="http://github.com/ceph/ceph/pull/8315">pr#8315</a>, Ning Yao)</li>
<li>osd: enable perfcounters on sharded work queue mutexes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6455">pr#6455</a>, Jacek J. Łakis)</li>
<li>osd: ensure new osdmaps commit before publishing them to pgs (<a class="reference external" href="http://tracker.ceph.com/issues/15073">issue#15073</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8096">pr#8096</a>, Sage Weil)</li>
<li>osd: FileJournal: _fdump wrongly returns if journal is currently unreadable. (<a class="reference external" href="http://tracker.ceph.com/issues/13626">issue#13626</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6406">pr#6406</a>, xie xingguo)</li>
<li>osd: FileJournal: fix return code of create method (<a class="reference external" href="http://tracker.ceph.com/issues/14134">issue#14134</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6988">pr#6988</a>, xie xingguo)</li>
<li>osd: FileJournal: reduce locking scope in write_aio_bl (<a class="reference external" href="http://tracker.ceph.com/issues/12789">issue#12789</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5670">pr#5670</a>, Zhi Zhang)</li>
<li>osd: filejournal: report journal entry count (<a class="reference external" href="http://github.com/ceph/ceph/pull/7643">pr#7643</a>, tianqing)</li>
<li>osd: FileJournal: support batch peak and pop from writeq (<a class="reference external" href="http://github.com/ceph/ceph/pull/6701">pr#6701</a>, Xinze Chi)</li>
<li>osd: FileStore: add a field indicate xattr only one chunk for set xattr. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6244">pr#6244</a>, Jianpeng Ma)</li>
<li>osd: FileStore: Added O_DSYNC write scheme (<a class="reference external" href="http://github.com/ceph/ceph/pull/7752">pr#7752</a>, Somnath Roy)</li>
<li>osd: FileStore: add error check for object_map-&gt;sync() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7281">pr#7281</a>, Chendi Xue)</li>
<li>osd: FileStore: cleanup: remove obsolete option &#8220;filestore_xattr_use_omap&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/14356">issue#14356</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7217">pr#7217</a>, Vikhyat Umrao)</li>
<li>osd: FileStore: conditional collection of drive metadata (<a class="reference external" href="http://github.com/ceph/ceph/pull/6956">pr#6956</a>, Somnath Roy)</li>
<li>osd: filestore: FALLOC_FL_PUNCH_HOLE must be used with FALLOC_FL_KEEP_SIZE (<a class="reference external" href="http://github.com/ceph/ceph/pull/7768">pr#7768</a>, xinxin shu)</li>
<li>osd: filestore: fast abort if statfs encounters ENOENT (<a class="reference external" href="http://github.com/ceph/ceph/pull/7703">pr#7703</a>, xie xingguo)</li>
<li>osd: FileStore: fix initialization order for m_disable_wbthrottle (<a class="reference external" href="http://github.com/ceph/ceph/pull/8067">pr#8067</a>, Samuel Just)</li>
<li>osd: filestore: fix race condition with split vs collection_move_rename and long object names (<a class="reference external" href="http://tracker.ceph.com/issues/14766">issue#14766</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8136">pr#8136</a>, Samuel Just)</li>
<li>osd: filestore: fix result code overwritten for clone (<a class="reference external" href="http://tracker.ceph.com/issues/14817">issue#14817</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14827">issue#14827</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7711">pr#7711</a>, xie xingguo)</li>
<li>osd: filestore: fix wrong scope of result code for error cases during mkfs (<a class="reference external" href="http://tracker.ceph.com/issues/14814">issue#14814</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7704">pr#7704</a>, xie xingguo)</li>
<li>osd: filestore: fix wrong scope of result code for error cases during mount (<a class="reference external" href="http://tracker.ceph.com/issues/14815">issue#14815</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7707">pr#7707</a>, xie xingguo)</li>
<li>osd: FileStore: LFNIndex: remove redundant local variable &#8216;obj&#8217;. (<a class="reference external" href="http://tracker.ceph.com/issues/13552">issue#13552</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6333">pr#6333</a>, xiexingguo)</li>
<li>osd: FileStore: modify the format of colon (<a class="reference external" href="http://github.com/ceph/ceph/pull/7333">pr#7333</a>, Donghai Xu)</li>
<li>osd: FileStore:: optimize lfn_unlink (<a class="reference external" href="http://github.com/ceph/ceph/pull/6649">pr#6649</a>, Jianpeng Ma)</li>
<li>osd: FileStore: potential memory leak if _fgetattrs fails (<a class="reference external" href="http://tracker.ceph.com/issues/13597">issue#13597</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6377">pr#6377</a>, xie xingguo)</li>
<li>osd: FileStore: print file name before osd assert if read file failed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7111">pr#7111</a>, Ji Chen)</li>
<li>osd: FileStore: remove __SWORD_TYPE dependency (<a class="reference external" href="http://github.com/ceph/ceph/pull/6263">pr#6263</a>, John Coyle)</li>
<li>osd: FileStore: remove unused local variable &#8216;handle&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6381">pr#6381</a>, xie xingguo)</li>
<li>osd: filestore: restructure journal and op queue throttling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7767">pr#7767</a>, Samuel Just)</li>
<li>osd: FileStore: support multiple ondisk finish and apply finishers (<a class="reference external" href="http://github.com/ceph/ceph/pull/6486">pr#6486</a>, Xinze Chi, Haomai Wang)</li>
<li>osd: FileStore: use pwritev instead of lseek+writev (<a class="reference external" href="http://github.com/ceph/ceph/pull/7349">pr#7349</a>, Haomai Wang, Tao Chang)</li>
<li>osd: fix bogus scrub results when missing a clone (<a class="reference external" href="http://tracker.ceph.com/issues/12738">issue#12738</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12740">issue#12740</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5783">pr#5783</a>, David Zafman)</li>
<li>osd: fix broken balance / localized read handling (<a class="reference external" href="http://tracker.ceph.com/issues/13491">issue#13491</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6364">pr#6364</a>, Jason Dillaman)</li>
<li>osd: fix bug in last_* PG state timestamps (<a class="reference external" href="http://github.com/ceph/ceph/pull/6517">pr#6517</a>, Li Wang)</li>
<li>osd: fix bugs for omap ops (<a class="reference external" href="http://github.com/ceph/ceph/pull/8230">pr#8230</a>, Jianpeng Ma)</li>
<li>osd: fix ClassHandler::ClassData::get_filter() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6747">pr#6747</a>, Yan, Zheng)</li>
<li>osd: fix/clean up full map request handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/8446">pr#8446</a>, Sage Weil)</li>
<li>osd: fix debug message in OSD::is_healthy (<a class="reference external" href="http://github.com/ceph/ceph/pull/6226">pr#6226</a>, Xiaoxi Chen)</li>
<li>osd: fix dirtying info without correctly setting drity_info field (<a class="reference external" href="http://github.com/ceph/ceph/pull/8275">pr#8275</a>, xie xingguo)</li>
<li>osd: fix dump_ops_in_flight races (<a class="reference external" href="http://tracker.ceph.com/issues/8885">issue#8885</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8044">pr#8044</a>, David Zafman)</li>
<li>osd: fix epoch check in handle_pg_create (<a class="reference external" href="http://github.com/ceph/ceph/pull/8382">pr#8382</a>, Samuel Just)</li>
<li>osd: fixes for several cases where op result code was not checked or set (<a class="reference external" href="http://tracker.ceph.com/issues/13566">issue#13566</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6347">pr#6347</a>, xie xingguo)</li>
<li>osd: fix failure report handling during ms_handle_connect() (<a class="reference external" href="http://github.com/ceph/ceph/pull/8348">pr#8348</a>, xie xingguo)</li>
<li>osd: fix FileStore::_destroy_collection error return code (<a class="reference external" href="http://github.com/ceph/ceph/pull/6612">pr#6612</a>, Ruifeng Yang)</li>
<li>osd: fix forced prmootion for CALL ops (<a class="reference external" href="http://tracker.ceph.com/issues/14745">issue#14745</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7617">pr#7617</a>, Sage Weil)</li>
<li>osd: fix fusestore hanging during stop/quit (<a class="reference external" href="http://tracker.ceph.com/issues/14786">issue#14786</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7677">pr#7677</a>, xie xingguo)</li>
<li>osd: fix inaccurate counter and skip over queueing an empty transaction (<a class="reference external" href="http://github.com/ceph/ceph/pull/7754">pr#7754</a>, xie xingguo)</li>
<li>osd: fix incorrect throttle in WBThrottle (<a class="reference external" href="http://github.com/ceph/ceph/pull/6713">pr#6713</a>, Zhang Huan)</li>
<li>osd: fix invalid list traversal in process_copy_chunk (<a class="reference external" href="http://github.com/ceph/ceph/pull/7511">pr#7511</a>, Samuel Just)</li>
<li>osd: fix lack of object unblock when flush fails (<a class="reference external" href="http://tracker.ceph.com/issues/14511">issue#14511</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7584">pr#7584</a>, Igor Fedotov)</li>
<li>osd: fix log info (<a class="reference external" href="http://github.com/ceph/ceph/pull/8273">pr#8273</a>, Wei Jin)</li>
<li>osd: fix MOSDOp encoding (<a class="reference external" href="http://github.com/ceph/ceph/pull/6174">pr#6174</a>, Sage Weil)</li>
<li>osd: fix MOSDRepScrub reference counter in replica_scrub (<a class="reference external" href="http://github.com/ceph/ceph/pull/6730">pr#6730</a>, Jie Wang)</li>
<li>osd: fix null pointer access and race condition (<a class="reference external" href="http://tracker.ceph.com/issues/14072">issue#14072</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6916">pr#6916</a>, xie xingguo)</li>
<li>osd: fix overload of &#8216;==&#8217; operator for pg_stat_t (<a class="reference external" href="http://tracker.ceph.com/issues/14921">issue#14921</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7842">pr#7842</a>, xie xingguo)</li>
<li>osd: fix race condition for heartbeat_need_update (<a class="reference external" href="http://tracker.ceph.com/issues/14387">issue#14387</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7739">pr#7739</a>, xie xingguo)</li>
<li>osd: fix reactivate (check OSDSuperblock in mkfs() when we already have the superblock) (<a class="reference external" href="http://tracker.ceph.com/issues/13586">issue#13586</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6385">pr#6385</a>, Vicente Cheng)</li>
<li>osd: fix reference count, rare race condition etc. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8254">pr#8254</a>, xie xingguo)</li>
<li>osd: fix return value from maybe_handle_cache_detail() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7593">pr#7593</a>, Igor Fedotov)</li>
<li>osd: fix rollback_info_trimmed_to before index() (<a class="reference external" href="http://tracker.ceph.com/issues/13965">issue#13965</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6801">pr#6801</a>, Samuel Just)</li>
<li>osd: fix scrub start hobject (<a class="reference external" href="http://github.com/ceph/ceph/pull/7467">pr#7467</a>, Sage Weil)</li>
<li>osd: fix sparse-read result code checking logic (<a class="reference external" href="http://tracker.ceph.com/issues/14151">issue#14151</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7016">pr#7016</a>, xie xingguo)</li>
<li>osd: fix temp object removal after upgrade (<a class="reference external" href="http://tracker.ceph.com/issues/13862">issue#13862</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6976">pr#6976</a>, David Zafman)</li>
<li>osd: fix tick relevant issues (<a class="reference external" href="http://github.com/ceph/ceph/pull/8369">pr#8369</a>, xie xingguo)</li>
<li>osd: fix trivial scrub bug (<a class="reference external" href="http://github.com/ceph/ceph/pull/6533">pr#6533</a>, Li Wang)</li>
<li>osd: fix two scrub relevant issues (<a class="reference external" href="http://github.com/ceph/ceph/pull/8462">pr#8462</a>, xie xingguo)</li>
<li>osd: fix unnecessary object promotion when deleting from cache pool (<a class="reference external" href="http://tracker.ceph.com/issues/13894">issue#13894</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7537">pr#7537</a>, Igor Fedotov)</li>
<li>osd: fix watch reconnect race (<a class="reference external" href="http://tracker.ceph.com/issues/15441">issue#15441</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8586">pr#8586</a>, Sage Weil)</li>
<li>osd: fix wip (l_osd_op_wip) perf counter and remove repop_map (<a class="reference external" href="http://github.com/ceph/ceph/pull/7077">pr#7077</a>, Xinze Chi)</li>
<li>osd: fix wrongly placed assert and some cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/6766">pr#6766</a>, xiexingguo, xie xingguo)</li>
<li>osd: fix wrong return type of find_osd_on_ip() (<a class="reference external" href="http://tracker.ceph.com/issues/14872">issue#14872</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7812">pr#7812</a>, xie xingguo)</li>
<li>osd: fix wrong use of right parenthesis in localized read logic (<a class="reference external" href="http://github.com/ceph/ceph/pull/6566">pr#6566</a>, Jie Wang)</li>
<li>osd: ghobject_t: use ! instead of &#64; as a separator (<a class="reference external" href="http://github.com/ceph/ceph/pull/7595">pr#7595</a>, Sage Weil)</li>
<li>osd: handle dup pg_create that races with pg deletion (<a class="reference external" href="http://github.com/ceph/ceph/pull/8033">pr#8033</a>, Sage Weil)</li>
<li>osd: improve temperature calculation for cache tier agent (<a class="reference external" href="http://github.com/ceph/ceph/pull/4737">pr#4737</a>, MingXin Liu)</li>
<li>osd: initialize last_recalibrate field at construction (<a class="reference external" href="http://github.com/ceph/ceph/pull/8071">pr#8071</a>, xie xingguo)</li>
<li>osd: init started to 0 (<a class="reference external" href="http://tracker.ceph.com/issues/13206">issue#13206</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6107">pr#6107</a>, Sage Weil)</li>
<li>osd: KeyValueStore: don&#8217;t queue NULL context (<a class="reference external" href="http://github.com/ceph/ceph/pull/6783">pr#6783</a>, Haomai Wang)</li>
<li>osd: KeyValueStore: fix return code of mkfs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7036">pr#7036</a>, xie xingguo)</li>
<li>osd: KeyValueStore: fix the name&#8217;s typo of keyvaluestore_default_strip_size (<a class="reference external" href="http://github.com/ceph/ceph/pull/6375">pr#6375</a>, Zhi Zhang)</li>
<li>osd: KeyValueStore: fix wrongly placed assert (<a class="reference external" href="http://tracker.ceph.com/issues/14176">issue#14176</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14178">issue#14178</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7047">pr#7047</a>, xie xingguo)</li>
<li>osd: kstore: fix a race condition in _txc_finish() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7804">pr#7804</a>, Jianjian Huo)</li>
<li>osd: kstore: latency breakdown (<a class="reference external" href="http://github.com/ceph/ceph/pull/7850">pr#7850</a>, James Liu)</li>
<li>osd: kstore: several small fixes (<a class="reference external" href="http://tracker.ceph.com/issues/14351">issue#14351</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14352">issue#14352</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7213">pr#7213</a>, xie xingguo)</li>
<li>osd: kstore: small fixes to kstore (<a class="reference external" href="http://tracker.ceph.com/issues/14204">issue#14204</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7095">pr#7095</a>, xie xingguo)</li>
<li>osd: kstore: sync up kstore with recent bluestore updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/7681">pr#7681</a>, Jianjian Huo)</li>
<li>osd: make backend and block device code a bit more generic (<a class="reference external" href="http://github.com/ceph/ceph/pull/6759">pr#6759</a>, Sage Weil)</li>
<li>osd: make list_missing query missing_loc.needs_recovery_map (<a class="reference external" href="http://github.com/ceph/ceph/pull/6298">pr#6298</a>, Guang Yang)</li>
<li>osdmap: remove unused local variables (<a class="reference external" href="http://github.com/ceph/ceph/pull/6864">pr#6864</a>, luo kexue)</li>
<li>osdmap: rm nonused variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/8423">pr#8423</a>, Wei Jin)</li>
<li>osd: memstore: fix alignment of Page for test_pageset (<a class="reference external" href="http://github.com/ceph/ceph/pull/7587">pr#7587</a>, Casey Bodley)</li>
<li>osd: memstore: fix two bugs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6963">pr#6963</a>, Casey Bodley, Sage Weil)</li>
<li>osd: merge local_t and op_t txn to single one (<a class="reference external" href="http://github.com/ceph/ceph/pull/6439">pr#6439</a>, Xinze Chi)</li>
<li>osd: min_write_recency_for_promote &amp; min_read_recency_for_promote are tiering only (<a class="reference external" href="http://github.com/ceph/ceph/pull/8081">pr#8081</a>, huanwen ren)</li>
<li>osd: misc FileStore fixes (<a class="reference external" href="http://tracker.ceph.com/issues/14192">issue#14192</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14188">issue#14188</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14194">issue#14194</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14187">issue#14187</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14186">issue#14186</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7059">pr#7059</a>, xie xingguo)</li>
<li>osd: misc optimization for map utilization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6950">pr#6950</a>, Ning Yao)</li>
<li>osd, mon: fix exit issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/7420">pr#7420</a>, Jiaying Ren)</li>
<li>osd,mon: log leveldb and rocksdb to ceph log (<a class="reference external" href="http://github.com/ceph/ceph/pull/6921">pr#6921</a>, Sage Weil)</li>
<li>osd: more fixes for incorrectly dirtying info; resend reply for duplicated scrub-reserve req (<a class="reference external" href="http://github.com/ceph/ceph/pull/8291">pr#8291</a>, xie xingguo)</li>
<li>osd: move newest decode version of MOSDOp and MOSDOpReply to the front (<a class="reference external" href="http://github.com/ceph/ceph/pull/6642">pr#6642</a>, Jacek J. Łakis)</li>
<li>osd: new and delete ObjectStore::Transaction in a function is not necessary (<a class="reference external" href="http://github.com/ceph/ceph/pull/6299">pr#6299</a>, Ruifeng Yang)</li>
<li>osd: newstore: misc updates (including kv and os/fs stuff) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6609">pr#6609</a>, Sage Weil)</li>
<li>osd: note down the number of missing clones (<a class="reference external" href="http://github.com/ceph/ceph/pull/6654">pr#6654</a>, Kefu Chai)</li>
<li>osd: Omap small bugs adapted (<a class="reference external" href="http://github.com/ceph/ceph/pull/6669">pr#6669</a>, Jianpeng Ma, David Zafman)</li>
<li>osd: optimize clone write path if object-map is enabled (<a class="reference external" href="http://github.com/ceph/ceph/pull/6403">pr#6403</a>, xinxin shu)</li>
<li>osd: optimize get_object_context (<a class="reference external" href="http://github.com/ceph/ceph/pull/6305">pr#6305</a>, Jianpeng Ma)</li>
<li>osd: optimize MOSDOp/do_op/handle_op (<a class="reference external" href="http://github.com/ceph/ceph/pull/5211">pr#5211</a>, Jacek J. Lakis)</li>
<li>osd: optimize scrub subset_last_update calculation (<a class="reference external" href="http://github.com/ceph/ceph/pull/6518">pr#6518</a>, Li Wang)</li>
<li>osd: optimize the session_handle_reset function (<a class="reference external" href="http://tracker.ceph.com/issues/14182">issue#14182</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7054">pr#7054</a>, songbaisen)</li>
<li>osd: os/chain_xattr: On linux use linux/limits.h for XATTR_NAME_MAX. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6343">pr#6343</a>, John Coyle)</li>
<li>osd/OSD.cc: finish full_map_request every MOSDMap message. (<a class="reference external" href="http://tracker.ceph.com/issues/15130">issue#15130</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8147">pr#8147</a>, Xiaoxi Chen)</li>
<li>osd/OSD: fix build_past_intervals_parallel (<a class="reference external" href="http://github.com/ceph/ceph/pull/8215">pr#8215</a>, David Zafman)</li>
<li>osd/OSDMap: fix typo in summarize_mapping_stats (<a class="reference external" href="http://github.com/ceph/ceph/pull/8088">pr#8088</a>, Sage Weil)</li>
<li>osd: OSDMap: reset osd_primary_affinity shared_ptr when deepish_copy_from (<a class="reference external" href="http://tracker.ceph.com/issues/14686">issue#14686</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7553">pr#7553</a>, Xinze Chi)</li>
<li>osd: OSDService: Fix typo in osdmap comment (<a class="reference external" href="http://github.com/ceph/ceph/pull/7275">pr#7275</a>, Brad Hubbard)</li>
<li>osd: os: skip checking pg_meta object existance in FileStore (<a class="reference external" href="http://github.com/ceph/ceph/pull/6870">pr#6870</a>, Ning Yao)</li>
<li>osd: partial revert of &#8220;ReplicatedPG: result code not correctly set in some cases.&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/13796">issue#13796</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6622">pr#6622</a>, Sage Weil)</li>
<li>osd: PG::activate(): handle unexpected cached_removed_snaps more gracefully (<a class="reference external" href="http://tracker.ceph.com/issues/14428">issue#14428</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7309">pr#7309</a>, Alexey Sheplyakov)</li>
<li>osd/PG: indicate in pg query output whether ignore_history_les would help (<a class="reference external" href="http://github.com/ceph/ceph/pull/8156">pr#8156</a>, Sage Weil)</li>
<li>osd: PGLog: clean up read_log (<a class="reference external" href="http://github.com/ceph/ceph/pull/7092">pr#7092</a>, Jie Wang)</li>
<li>osd/PGLog: fix warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/8057">pr#8057</a>, Sage Weil)</li>
<li>osd/PG: pg down state blocked by osd.x, lost osd.x cannot solve peering stuck (<a class="reference external" href="http://tracker.ceph.com/issues/13531">issue#13531</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6317">pr#6317</a>, Xiaowei Chen)</li>
<li>osd: pg_pool_t: add dictionary for pool options (<a class="reference external" href="http://tracker.ceph.com/issues/13077">issue#13077</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6081">pr#6081</a>, Mykola Golub)</li>
<li>osd: PG: set epoch_created and parent_split_bits for child pg (<a class="reference external" href="http://tracker.ceph.com/issues/15426">issue#15426</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8552">pr#8552</a>, Kefu Chai)</li>
<li>osd: prevent osd_recovery_sleep from causing recovery-thread suicide (<a class="reference external" href="http://github.com/ceph/ceph/pull/7065">pr#7065</a>, Jianpeng Ma)</li>
<li>osd: probabilistic cache tier promotion throttling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7465">pr#7465</a>, Sage Weil)</li>
<li>osd: randomize deep scrubbing (<a class="reference external" href="http://github.com/ceph/ceph/pull/6550">pr#6550</a>, Dan van der Ster, Herve Rousseau)</li>
<li>osd: reduce memory consumption of some structs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6475">pr#6475</a>, Piotr Dałek)</li>
<li>osd: reduce string use in coll_t::calc_str() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6505">pr#6505</a>, Igor Podoski)</li>
<li>osd: refuse to start if object name limits are not possible (<a class="reference external" href="http://github.com/ceph/ceph/pull/8560">pr#8560</a>, Sage Weil)</li>
<li>osd: release related sources when scrub is interrupted (<a class="reference external" href="http://github.com/ceph/ceph/pull/6744">pr#6744</a>, Jianpeng Ma)</li>
<li>osd: release the message throttle when OpRequest unregistered (<a class="reference external" href="http://tracker.ceph.com/issues/14248">issue#14248</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7148">pr#7148</a>, Samuel Just)</li>
<li>osd: remove __SWORD_TYPE dependency (<a class="reference external" href="http://github.com/ceph/ceph/pull/6262">pr#6262</a>, John Coyle)</li>
<li>osd: remove unused OSDMap::set_weightf() (<a class="reference external" href="http://tracker.ceph.com/issues/14369">issue#14369</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7231">pr#7231</a>, huanwen ren)</li>
<li>osd: remove up_thru_pending field, which is never used (<a class="reference external" href="http://github.com/ceph/ceph/pull/7991">pr#7991</a>, xie xingguo)</li>
<li>osd: reorder bool fields in PGLog struct (<a class="reference external" href="http://github.com/ceph/ceph/pull/6279">pr#6279</a>, Piotr Dałek)</li>
<li>osd: Replace snprintf with faster implementation in eversion_t::get_key_name (<a class="reference external" href="http://github.com/ceph/ceph/pull/7121">pr#7121</a>, Evgeniy Firsov)</li>
<li>osd/ReplicatedPG: be more careful about calling publish_stats_to_osd() (<a class="reference external" href="http://tracker.ceph.com/issues/14962">issue#14962</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8039">pr#8039</a>, Greg Farnum)</li>
<li>osd: replicatedpg: break out loop if we encounter fatal error during do_pg_op() (<a class="reference external" href="http://tracker.ceph.com/issues/14922">issue#14922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7844">pr#7844</a>, xie xingguo)</li>
<li>osd: ReplicatedPG: clean up unused function (<a class="reference external" href="http://github.com/ceph/ceph/pull/7211">pr#7211</a>, Xiaowei Chen)</li>
<li>osd/ReplicatedPG: clear watches on change after applying repops (<a class="reference external" href="http://tracker.ceph.com/issues/15151">issue#15151</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8163">pr#8163</a>, Sage Weil)</li>
<li>osd/ReplicatedPG: fix implementation of register_on_success() (<a class="reference external" href="http://github.com/ceph/ceph/pull/8612">pr#8612</a>, xie xingguo)</li>
<li>osd/ReplicatedPG: fix promotion recency logic (<a class="reference external" href="http://tracker.ceph.com/issues/14320">issue#14320</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6702">pr#6702</a>, Sage Weil)</li>
<li>osd/ReplicatedPG: make handle_watch_timeout no-op if !active (<a class="reference external" href="http://tracker.ceph.com/issues/15391">issue#15391</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8505">pr#8505</a>, Sage Weil)</li>
<li>osd: ReplicatedPG: remove unused local variables (<a class="reference external" href="http://tracker.ceph.com/issues/13575">issue#13575</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6360">pr#6360</a>, xiexingguo)</li>
<li>osd/ReplicatedPG::_rollback_to: update the OMAP flag (<a class="reference external" href="http://tracker.ceph.com/issues/14777">issue#14777</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8495">pr#8495</a>, Samuel Just)</li>
<li>osd: repop and lost-unfound overhaul (<a class="reference external" href="http://github.com/ceph/ceph/pull/7765">pr#7765</a>, Samuel Just)</li>
<li>osd: reset primary and up_primary when building a new past_interval. (<a class="reference external" href="http://tracker.ceph.com/issues/13471">issue#13471</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6240">pr#6240</a>, xiexingguo)</li>
<li>osd: resolve boot vs NOUP set + clear race (<a class="reference external" href="http://github.com/ceph/ceph/pull/7483">pr#7483</a>, Sage Weil)</li>
<li>osd: scrub: do not assign value if read error (<a class="reference external" href="http://github.com/ceph/ceph/pull/6568">pr#6568</a>, Li Wang)</li>
<li>osd/ScrubStore: remove unused function (<a class="reference external" href="http://github.com/ceph/ceph/pull/8045">pr#8045</a>, Kefu Chai)</li>
<li>osd: several small cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/7055">pr#7055</a>, xie xingguo)</li>
<li>osd: shut down if we flap too many times in a short period (<a class="reference external" href="http://github.com/ceph/ceph/pull/6708">pr#6708</a>, Xiaoxi Chen)</li>
<li>osd: skip promote for writefull w/ FADVISE_DONTNEED/NOCACHE (<a class="reference external" href="http://github.com/ceph/ceph/pull/7010">pr#7010</a>, Jianpeng Ma)</li>
<li>osd: slightly reduce actual size of pg_log_entry_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/6690">pr#6690</a>, Piotr Dałek)</li>
<li>osd: small fixes to memstore (<a class="reference external" href="http://tracker.ceph.com/issues/14228">issue#14228</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14229">issue#14229</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14227">issue#14227</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7107">pr#7107</a>, xie xingguo)</li>
<li>osd: some debug output for old osdmap trimming (<a class="reference external" href="http://github.com/ceph/ceph/pull/8613">pr#8613</a>, Sage Weil)</li>
<li>osd: support pool level recovery_priority and recovery_op_priority (<a class="reference external" href="http://github.com/ceph/ceph/pull/5953">pr#5953</a>, Guang Yang)</li>
<li>osd: try evicting after flushing is done (<a class="reference external" href="http://github.com/ceph/ceph/pull/5630">pr#5630</a>, Zhiqiang Wang)</li>
<li>osd: use atomic to generate ceph_tid (<a class="reference external" href="http://github.com/ceph/ceph/pull/7017">pr#7017</a>, Evgeniy Firsov)</li>
<li>osd: use optimized is_zero in object_stat_sum_t.is_zero() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7203">pr#7203</a>, Piotr Dałek)</li>
<li>osd: use pg id (without shard) when referring the PG (<a class="reference external" href="http://github.com/ceph/ceph/pull/6236">pr#6236</a>, Guang Yang)</li>
<li>osd: utime_t, eversion_t, osd_stat_sum_t encoding optimization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6902">pr#6902</a>, Xinze Chi)</li>
<li>osd: WeightedPriorityQueue: move to intrusive containers (<a class="reference external" href="http://github.com/ceph/ceph/pull/7654">pr#7654</a>, Robert LeBlanc)</li>
<li>osd: write file journal optimization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6484">pr#6484</a>, Xinze Chi)</li>
<li>os/filestore/FileJournal: set block size via config option (<a class="reference external" href="http://github.com/ceph/ceph/pull/7628">pr#7628</a>, Sage Weil)</li>
<li>os/filestore: fix punch hole usage in _zero (<a class="reference external" href="http://github.com/ceph/ceph/pull/8050">pr#8050</a>, Sage Weil)</li>
<li>os/filestore: fix result handling logic of destroy_collection (<a class="reference external" href="http://github.com/ceph/ceph/pull/7721">pr#7721</a>, xie xingguo)</li>
<li>os/filestore: fix return type mismatch for lfn parse (<a class="reference external" href="http://github.com/ceph/ceph/pull/8545">pr#8545</a>, xie xingguo)</li>
<li>os/filestore: force lfn attrs to be written atomically, restructure name length limits (<a class="reference external" href="http://github.com/ceph/ceph/pull/8496">pr#8496</a>, Samuel Just)</li>
<li>os/filestore: require offset == length == 0 for full object read; add test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7957">pr#7957</a>, Jianpeng Ma)</li>
<li>os/fs: fix io_getevents argument (<a class="reference external" href="http://github.com/ceph/ceph/pull/7355">pr#7355</a>, Jingkai Yuan)</li>
<li>os/fusestore: add error handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7395">pr#7395</a>, xie xingguo)</li>
<li>os/keyvaluestore: kill KeyValueStore (<a class="reference external" href="http://github.com/ceph/ceph/pull/7320">pr#7320</a>, Haomai Wang)</li>
<li>os/kstore: insert new onode to the front position of onode LRU (<a class="reference external" href="http://github.com/ceph/ceph/pull/7505">pr#7505</a>, xie xingguo)</li>
<li>os/ObjectStore: add custom move operations for ObjectStore::Transaction (<a class="reference external" href="http://github.com/ceph/ceph/pull/7303">pr#7303</a>, Casey Bodley)</li>
<li>os/ObjectStore: add noexcept to ensure move ctor is used (<a class="reference external" href="http://github.com/ceph/ceph/pull/8421">pr#8421</a>, Kefu Chai)</li>
<li>os/ObjectStore: fix _update_op for split dest_cid (<a class="reference external" href="http://github.com/ceph/ceph/pull/8364">pr#8364</a>, Sage Weil)</li>
<li>os/ObjectStore: implement more efficient get_encoded_bytes()  (<a class="reference external" href="http://github.com/ceph/ceph/pull/7775">pr#7775</a>, Piotr Dałek)</li>
<li>os/ObjectStore: make device uuid probe output something friendly (<a class="reference external" href="http://github.com/ceph/ceph/pull/8418">pr#8418</a>, Sage Weil)</li>
<li>os/ObjectStore: try_move_rename in transaction append and add coverage to store_test (<a class="reference external" href="http://tracker.ceph.com/issues/15205">issue#15205</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8359">pr#8359</a>, Samuel Just)</li>
<li>packaging: add build dependency on python devel package (<a class="reference external" href="http://github.com/ceph/ceph/pull/7205">pr#7205</a>, Josh Durgin)</li>
<li>packaging: make infernalis -&gt; jewel upgrade work (<a class="reference external" href="http://tracker.ceph.com/issues/15047">issue#15047</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8034">pr#8034</a>, Nathan Cutler)</li>
<li>packaging: move cephfs repair tools to ceph-common (<a class="reference external" href="http://tracker.ceph.com/issues/15145">issue#15145</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8133">pr#8133</a>, Boris Ranto, Ken Dreyer)</li>
<li>pybind: add ceph_volume_client interface for Manila and similar frameworks (<a class="reference external" href="http://github.com/ceph/ceph/pull/6205">pr#6205</a>, John Spray)</li>
<li>pybind: add flock to libcephfs python bindings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7902">pr#7902</a>, John Spray)</li>
<li>pybind/cephfs: add symlink and its unit test (<a class="reference external" href="http://github.com/ceph/ceph/pull/6323">pr#6323</a>, Shang Ding)</li>
<li>pybind: decode empty string in conf_parse_argv() correctly (<a class="reference external" href="http://github.com/ceph/ceph/pull/6711">pr#6711</a>, Josh Durgin)</li>
<li>pybind: Ensure correct python flags are passed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7663">pr#7663</a>, James Page)</li>
<li>pybind: fix build failure, remove extraneous semicolon in method (<a class="reference external" href="http://tracker.ceph.com/issues/14371">issue#14371</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7235">pr#7235</a>, Abhishek Lekshmanan)</li>
<li>pybind: flag an RBD image as closed regardless of result code (<a class="reference external" href="http://github.com/ceph/ceph/pull/8005">pr#8005</a>, Jason Dillaman)</li>
<li>pybind: Implementation of rados_ioctx_snapshot_rollback (<a class="reference external" href="http://github.com/ceph/ceph/pull/6878">pr#6878</a>, Florent Manens)</li>
<li>pybind/Makefile.am: Prevent race creating CYTHON_BUILD_DIR (<a class="reference external" href="http://tracker.ceph.com/issues/15276">issue#15276</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8356">pr#8356</a>, Dan Mick)</li>
<li>pybind: move cephfs to Cython (<a class="reference external" href="http://github.com/ceph/ceph/pull/7745">pr#7745</a>, John Spray, Mehdi Abaakouk)</li>
<li>pybind: port the rbd bindings to Cython (<a class="reference external" href="http://tracker.ceph.com/issues/13115">issue#13115</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6768">pr#6768</a>, Hector Martin)</li>
<li>pybind/rados: fix object lifetime issues and other bugs in aio (<a class="reference external" href="http://github.com/ceph/ceph/pull/7778">pr#7778</a>, Hector Martin)</li>
<li>pybind/rados: fix omap method return values (<a class="reference external" href="http://github.com/ceph/ceph/pull/8603">pr#8603</a>, Roland Mechler)</li>
<li>pybind/rados: python3 fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/8331">pr#8331</a>, Mehdi Abaakouk)</li>
<li>pybind/rados: use __dealloc__ since __del__ is ignored by cython (<a class="reference external" href="http://github.com/ceph/ceph/pull/7692">pr#7692</a>, Mehdi Abaakouk)</li>
<li>pybind: remove next() on iterators (<a class="reference external" href="http://github.com/ceph/ceph/pull/7706">pr#7706</a>, Mehdi Abaakouk)</li>
<li>pybind: replace __del__ with __dealloc__ for rbd (<a class="reference external" href="http://github.com/ceph/ceph/pull/7708">pr#7708</a>, Josh Durgin)</li>
<li>pybind: support ioctx:exec (<a class="reference external" href="http://github.com/ceph/ceph/pull/6795">pr#6795</a>, Noah Watkins)</li>
<li>pybind/test_rbd: fix test_create_defaults (<a class="reference external" href="http://tracker.ceph.com/issues/14279">issue#14279</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7155">pr#7155</a>, Josh Durgin)</li>
<li>pybind: use correct subdir for rados install-exec rule (<a class="reference external" href="http://github.com/ceph/ceph/pull/7684">pr#7684</a>, Josh Durgin)</li>
<li>python binding of librados with cython (<a class="reference external" href="http://github.com/ceph/ceph/pull/7621">pr#7621</a>, Mehdi Abaakouk)</li>
<li>python: use pip instead of python setup.py (<a class="reference external" href="http://github.com/ceph/ceph/pull/7605">pr#7605</a>, Loic Dachary)</li>
<li>qa: add workunit to run ceph_test_rbd_mirror (<a class="reference external" href="http://github.com/ceph/ceph/pull/8221">pr#8221</a>, Josh Durgin)</li>
<li>qa: disable rbd/qemu-iotests test case 055 on RHEL/CentOSlibrbd: journal replay should honor inter-event dependencies (<a class="reference external" href="http://tracker.ceph.com/issues/14385">issue#14385</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7272">pr#7272</a>, Jason Dillaman)</li>
<li>qa: erasure-code benchmark plugin selection (<a class="reference external" href="http://github.com/ceph/ceph/pull/6685">pr#6685</a>, Loic Dachary)</li>
<li>qa/krbd: Expunge generic/247 (<a class="reference external" href="http://github.com/ceph/ceph/pull/6831">pr#6831</a>, Douglas Fuller)</li>
<li>qa: update rest test cephfs calls (<a class="reference external" href="http://tracker.ceph.com/issues/15309">issue#15309</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8372">pr#8372</a>, John Spray)</li>
<li>qa: update rest test cephfs calls (part 2) (<a class="reference external" href="http://tracker.ceph.com/issues/15309">issue#15309</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8393">pr#8393</a>, John Spray)</li>
<li>qa/workunits/cephtool/test.sh: false positive fail on /tmp/obj1. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6837">pr#6837</a>, Robin H. Johnson)</li>
<li>qa/workunits/cephtool/test.sh: no ./ (<a class="reference external" href="http://github.com/ceph/ceph/pull/6748">pr#6748</a>, Sage Weil)</li>
<li>qa/workunits/cephtool/test.sh: wait longer in ceph_watch_start() (<a class="reference external" href="http://tracker.ceph.com/issues/14910">issue#14910</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7861">pr#7861</a>, Kefu Chai)</li>
<li>qa/workunits: merge_diff shouldn&#8217;t attempt to use striping (<a class="reference external" href="http://tracker.ceph.com/issues/14165">issue#14165</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7041">pr#7041</a>, Jason Dillaman)</li>
<li>qa/workunits/rados: Test exit values on test.sh, fix tier.cc (<a class="reference external" href="http://tracker.ceph.com/issues/15165">issue#15165</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8266">pr#8266</a>, Samuel Just)</li>
<li>qa/workunits/rados/test.sh: capture stderr too (<a class="reference external" href="http://github.com/ceph/ceph/pull/8004">pr#8004</a>, Sage Weil)</li>
<li>qa/workunits/rados/test.sh: test tmap_migrate (<a class="reference external" href="http://github.com/ceph/ceph/pull/8114">pr#8114</a>, Sage Weil)</li>
<li>qa/workunits/rbd: do not use object map during read flag testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/8104">pr#8104</a>, Jason Dillaman)</li>
<li>qa/workunits/rbd: new online maintenance op tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/8216">pr#8216</a>, Jason Dillaman)</li>
<li>qa/workunits/rbd: rbd-nbd test should use sudo for map/unmap ops (<a class="reference external" href="http://tracker.ceph.com/issues/14221">issue#14221</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7101">pr#7101</a>, Jason Dillaman)</li>
<li>qa/workunits/rbd: use POSIX function definition (<a class="reference external" href="http://tracker.ceph.com/issues/15104">issue#15104</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8068">pr#8068</a>, Nathan Cutler)</li>
<li>qa/workunits/rest/test.py: add confirmation to &#8216;mds setmap&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/14606">issue#14606</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7982">pr#7982</a>, Sage Weil)</li>
<li>qa/workunits/rest/test.py: don&#8217;t use newfs (<a class="reference external" href="http://github.com/ceph/ceph/pull/8191">pr#8191</a>, Sage Weil)</li>
<li>qa/workunits/snaps: move snap tests into fs sub-directory (<a class="reference external" href="http://github.com/ceph/ceph/pull/6496">pr#6496</a>, Yan, Zheng)</li>
<li>rados: add ceph:: namespace to bufferlist type (<a class="reference external" href="http://github.com/ceph/ceph/pull/8059">pr#8059</a>, Noah Watkins)</li>
<li>rados: bench: fix off-by-one to avoid writing past object_size (<a class="reference external" href="http://github.com/ceph/ceph/pull/6677">pr#6677</a>, Tao Chang)</li>
<li>rados: fix bug for write bench (<a class="reference external" href="http://github.com/ceph/ceph/pull/7851">pr#7851</a>, James Liu)</li>
<li>radosgw-admin: allow &#8216;period pull &#8211;url&#8217; without full multisite config (<a class="reference external" href="http://github.com/ceph/ceph/pull/8567">pr#8567</a>, Casey Bodley)</li>
<li>radosgw-admin: allow (<a class="reference external" href="http://github.com/ceph/ceph/pull/8529">pr#8529</a>, Orit Wasserman)</li>
<li>radosgw-admin: Checking the legality of the parameters (<a class="reference external" href="http://tracker.ceph.com/issues/13018">issue#13018</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5879">pr#5879</a>, Qiankun Zheng)</li>
<li>radosgw-admin: Create &#8211;secret-key alias for &#8211;secret (<a class="reference external" href="http://tracker.ceph.com/issues/5821">issue#5821</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5335">pr#5335</a>, Yuan Zhou)</li>
<li>radosgw-admin: fix for &#8216;realm pull&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/8404">pr#8404</a>, Casey Bodley)</li>
<li>radosgw-admin: metadata list user should return an empty list when user pool is empty (<a class="reference external" href="http://tracker.ceph.com/issues/13596">issue#13596</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6465">pr#6465</a>, Orit Wasserman)</li>
<li>radosgw-admin: &#8216;period commit&#8217; supplies user-readable error messages (<a class="reference external" href="http://github.com/ceph/ceph/pull/8264">pr#8264</a>, Casey Bodley)</li>
<li>rados: implement rm &#8211;force option to force remove when full (<a class="reference external" href="http://github.com/ceph/ceph/pull/6202">pr#6202</a>, Xiaowei Chen)</li>
<li>rados: new options for write benchmark (<a class="reference external" href="http://github.com/ceph/ceph/pull/6340">pr#6340</a>, Joaquim Rocha)</li>
<li>rbd: accept &#8211;user, refuse -i command-line optionals (<a class="reference external" href="http://github.com/ceph/ceph/pull/6590">pr#6590</a>, Ilya Dryomov)</li>
<li>rbd: additional validation for striping parameters (<a class="reference external" href="http://github.com/ceph/ceph/pull/6914">pr#6914</a>, Na Xie)</li>
<li>rbd: add missing command aliases to refactored CLI (<a class="reference external" href="http://tracker.ceph.com/issues/13806">issue#13806</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6606">pr#6606</a>, Jason Dillaman)</li>
<li>rbd: add &#8211;object-size option, deprecate &#8211;order (<a class="reference external" href="http://tracker.ceph.com/issues/12112">issue#12112</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6830">pr#6830</a>, Vikhyat Umrao)</li>
<li>rbd: add pool name to disambiguate rbd admin socket commands (<a class="reference external" href="http://github.com/ceph/ceph/pull/6904">pr#6904</a>, wuxiangwei)</li>
<li>rbd: add RBD pool mirroring configuration API + CLI (<a class="reference external" href="http://github.com/ceph/ceph/pull/6129">pr#6129</a>, Jason Dillaman)</li>
<li>rbd: add support for mirror image promotion/demotion/resync (<a class="reference external" href="http://github.com/ceph/ceph/pull/8138">pr#8138</a>, Jason Dillaman)</li>
<li>rbd: allow librados to prune the command-line for config overrides (<a class="reference external" href="http://tracker.ceph.com/issues/15250">issue#15250</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8282">pr#8282</a>, Jason Dillaman)</li>
<li>rbd: clone operation should default to image format 2 (<a class="reference external" href="http://github.com/ceph/ceph/pull/8119">pr#8119</a>, Jason Dillaman)</li>
<li>rbd: correct an output string for merge-diff (<a class="reference external" href="http://github.com/ceph/ceph/pull/7046">pr#7046</a>, Kongming Wu)</li>
<li>rbd: deprecate image format 1 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7841">pr#7841</a>, Jason Dillaman)</li>
<li>rbd: dynamically generated bash completion (<a class="reference external" href="http://tracker.ceph.com/issues/13494">issue#13494</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6316">pr#6316</a>, Jason Dillaman)</li>
<li>rbd: fix build with &#8220;&#8211;without-rbd&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/14058">issue#14058</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6899">pr#6899</a>, Piotr Dałek)</li>
<li>rbd: fix clone isssue (<a class="reference external" href="http://tracker.ceph.com/issues/13553">issue#13553</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6334">pr#6334</a>, xinxin shu)</li>
<li>rbd: fixes for refactored CLI and related tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/6738">pr#6738</a>, Ilya Dryomov)</li>
<li>rbd: fix init-rbdmap CMDPARAMS (<a class="reference external" href="http://tracker.ceph.com/issues/13214">issue#13214</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6109">pr#6109</a>, Sage Weil)</li>
<li>rbd: fix static initialization ordering issues (<a class="reference external" href="http://github.com/ceph/ceph/pull/6978">pr#6978</a>, Mykola Golub)</li>
<li>rbd-fuse: image name can not include snap name (<a class="reference external" href="http://github.com/ceph/ceph/pull/7044">pr#7044</a>, Yongqiang He)</li>
<li>rbd-fuse: implement mv operation (<a class="reference external" href="http://github.com/ceph/ceph/pull/6938">pr#6938</a>, wuxiangwei)</li>
<li>rbd: journal: configuration via conf, cli, api and some fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6665">pr#6665</a>, Mykola Golub)</li>
<li>rbd: journal reset should disable/re-enable journaling feature (<a class="reference external" href="http://tracker.ceph.com/issues/15097">issue#15097</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8490">pr#8490</a>, Jason Dillaman)</li>
<li>rbd: loosen image spec validation requirements (<a class="reference external" href="http://github.com/ceph/ceph/pull/8606">pr#8606</a>, Jason Dillaman)</li>
<li>rbd: make config changes actually apply (<a class="reference external" href="http://github.com/ceph/ceph/pull/6520">pr#6520</a>, Mykola Golub)</li>
<li>rbdmap: add manpage (<a class="reference external" href="http://tracker.ceph.com/issues/15212">issue#15212</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8224">pr#8224</a>, Nathan Cutler)</li>
<li>rbdmap: systemd support (<a class="reference external" href="http://tracker.ceph.com/issues/13374">issue#13374</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6479">pr#6479</a>, Boris Ranto)</li>
<li>rbd: merge_diff test should use new &#8211;object-size parameter instead of &#8211;order (<a class="reference external" href="http://tracker.ceph.com/issues/14106">issue#14106</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6972">pr#6972</a>, Na Xie, Jason Dillaman)</li>
<li>rbd-mirror: asok commands to get status and flush on Mirror and Replayer level (<a class="reference external" href="http://github.com/ceph/ceph/pull/8235">pr#8235</a>, Mykola Golub)</li>
<li>rbd-mirror: enabling/disabling pool mirroring should update the mirroring directory (<a class="reference external" href="http://tracker.ceph.com/issues/15217">issue#15217</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8261">pr#8261</a>, Ricardo Dias)</li>
<li>rbd-mirror: fix image replay test failures (<a class="reference external" href="http://github.com/ceph/ceph/pull/8158">pr#8158</a>, Jason Dillaman)</li>
<li>rbd-mirror: fix long termination due to 30sec wait in main loop (<a class="reference external" href="http://github.com/ceph/ceph/pull/8185">pr#8185</a>, Mykola Golub)</li>
<li>rbd-mirror: fix missing increment for iterators (<a class="reference external" href="http://github.com/ceph/ceph/pull/8352">pr#8352</a>, runsisi)</li>
<li>rbd-mirror: ImageReplayer async start/stop (<a class="reference external" href="http://github.com/ceph/ceph/pull/7944">pr#7944</a>, Mykola Golub)</li>
<li>rbd-mirror: ImageReplayer improvements (<a class="reference external" href="http://github.com/ceph/ceph/pull/7759">pr#7759</a>, Mykola Golub)</li>
<li>rbd-mirror: implement ImageReplayer (<a class="reference external" href="http://github.com/ceph/ceph/pull/7614">pr#7614</a>, Mykola Golub)</li>
<li>rbd-mirror: initial failover / failback support (<a class="reference external" href="http://github.com/ceph/ceph/pull/8287">pr#8287</a>, Jason Dillaman)</li>
<li>rbd-mirror: integrate with image sync state machine (<a class="reference external" href="http://github.com/ceph/ceph/pull/8079">pr#8079</a>, Jason Dillaman)</li>
<li>rbd-mirror: make remote context respect env and argv config params (<a class="reference external" href="http://github.com/ceph/ceph/pull/8182">pr#8182</a>, Mykola Golub)</li>
<li>rbd-mirror: minor fix-ups for initial skeleton implementation (<a class="reference external" href="http://github.com/ceph/ceph/pull/7958">pr#7958</a>, Mykola Golub)</li>
<li>rbd-mirror: prevent enabling/disabling an image&#8217;s mirroring when not in image mode (<a class="reference external" href="http://tracker.ceph.com/issues/15267">issue#15267</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8332">pr#8332</a>, Ricardo Dias)</li>
<li>rbd-mirror: remote to local cluster image sync (<a class="reference external" href="http://github.com/ceph/ceph/pull/7979">pr#7979</a>, Jason Dillaman)</li>
<li>rbd-mirror: switch fsid over to mirror uuid (<a class="reference external" href="http://tracker.ceph.com/issues/15238">issue#15238</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8280">pr#8280</a>, Ricardo Dias)</li>
<li>rbd-mirror: use pool/image names in asok commands (<a class="reference external" href="http://github.com/ceph/ceph/pull/8159">pr#8159</a>, Mykola Golub)</li>
<li>rbd-mirror: use the mirroring directory to detect candidate images (<a class="reference external" href="http://tracker.ceph.com/issues/15142">issue#15142</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8162">pr#8162</a>, Ricardo Dias)</li>
<li>rbd-mirror: workaround for intermingled lockdep singletons (<a class="reference external" href="http://github.com/ceph/ceph/pull/8476">pr#8476</a>, Jason Dillaman)</li>
<li>rbd: must specify both of stripe-unit and stripe-count when specifying stripingv2 feature (<a class="reference external" href="http://github.com/ceph/ceph/pull/7026">pr#7026</a>, Donghai Xu)</li>
<li>rbd-nbd: add copyright (<a class="reference external" href="http://github.com/ceph/ceph/pull/7166">pr#7166</a>, Li Wang)</li>
<li>rbd-nbd: fix up return code handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7215">pr#7215</a>, Mykola Golub)</li>
<li>rbd-nbd: network block device (NBD) support for RBD  (<a class="reference external" href="http://github.com/ceph/ceph/pull/6657">pr#6657</a>, Yunchuan Wen, Li Wang)</li>
<li>rbd-nbd: small improvements in logging and forking (<a class="reference external" href="http://github.com/ceph/ceph/pull/7127">pr#7127</a>, Mykola Golub)</li>
<li>rbd: output formatter may not be closed upon error (<a class="reference external" href="http://tracker.ceph.com/issues/13711">issue#13711</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6706">pr#6706</a>, xie xingguo)</li>
<li>rbd: rbdmap improvements (<a class="reference external" href="http://github.com/ceph/ceph/pull/6445">pr#6445</a>, Boris Ranto)</li>
<li>rbd: rbd order will be place in 22, when set to 0 in the config_opt (<a class="reference external" href="http://tracker.ceph.com/issues/14139">issue#14139</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14047">issue#14047</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6886">pr#6886</a>, huanwen ren)</li>
<li>rbd: refactor cli command handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/5987">pr#5987</a>, Jason Dillaman)</li>
<li>rbd/run_cli_tests.sh: Reflect test failures (<a class="reference external" href="http://tracker.ceph.com/issues/14825">issue#14825</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7781">pr#7781</a>, Zack Cerza)</li>
<li>rbd: stripe unit/count set incorrectly from config (<a class="reference external" href="http://github.com/ceph/ceph/pull/6593">pr#6593</a>, Mykola Golub)</li>
<li>rbd: striping parameters should support 64bit integers (<a class="reference external" href="http://github.com/ceph/ceph/pull/6942">pr#6942</a>, Na Xie)</li>
<li>rbd: support for enabling/disabling mirroring on specific images (<a class="reference external" href="http://tracker.ceph.com/issues/13296">issue#13296</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8056">pr#8056</a>, Ricardo Dias)</li>
<li>rbd: support negative boolean command-line optionals (<a class="reference external" href="http://tracker.ceph.com/issues/13784">issue#13784</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6607">pr#6607</a>, Jason Dillaman)</li>
<li>rbd: unbreak rbd map + cephx_sign_messages option (<a class="reference external" href="http://github.com/ceph/ceph/pull/6583">pr#6583</a>, Ilya Dryomov)</li>
<li>rbd: update default image features (<a class="reference external" href="http://github.com/ceph/ceph/pull/7846">pr#7846</a>, Jason Dillaman)</li>
<li>rbd: use default order from configuration when not specified (<a class="reference external" href="http://github.com/ceph/ceph/pull/6965">pr#6965</a>, Yunchuan Wen)</li>
<li>release-notes: draft v0.94.4 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/5907">pr#5907</a>, Loic Dachary)</li>
<li>release-notes: draft v0.94.4 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6195">pr#6195</a>, Loic Dachary)</li>
<li>release-notes: draft v0.94.4 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6238">pr#6238</a>, Loic Dachary)</li>
<li>release-notes: draft v0.94.6 release notes (<a class="reference external" href="http://tracker.ceph.com/issues/13356">issue#13356</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7689">pr#7689</a>, Abhishek Varshney, Loic Dachary)</li>
<li>release-notes: draft v10.0.3 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7592">pr#7592</a>, Loic Dachary)</li>
<li>release-notes: draft v10.0.4 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7966">pr#7966</a>, Loic Dachary)</li>
<li>release-notes: draft v9.2.1 release notes (<a class="reference external" href="http://tracker.ceph.com/issues/13750">issue#13750</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7694">pr#7694</a>, Abhishek Varshney)</li>
<li>release-notes: v10.1.2 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8594">pr#8594</a>, Loic Dachary)</li>
<li>releases: what is merged where and when ? (<a class="reference external" href="http://github.com/ceph/ceph/pull/8358">pr#8358</a>, Loic Dachary)</li>
<li>rgw: accept data only at the first time in response to a request (<a class="reference external" href="http://github.com/ceph/ceph/pull/8084">pr#8084</a>, sunspot)</li>
<li>rgw: add a few more help options in admin interface (<a class="reference external" href="http://github.com/ceph/ceph/pull/8410">pr#8410</a>, Abhishek Lekshmanan)</li>
<li>rgw: add a method to purge all associate keys when removing a subuser (<a class="reference external" href="http://tracker.ceph.com/issues/12890">issue#12890</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6002">pr#6002</a>, Sangdi Xu)</li>
<li>rgw: add a missing cap type (<a class="reference external" href="http://github.com/ceph/ceph/pull/6774">pr#6774</a>, Yehuda Sadeh)</li>
<li>rgw: add an inspection to the field of type when assigning user caps (<a class="reference external" href="http://github.com/ceph/ceph/pull/6051">pr#6051</a>, Kongming Wu)</li>
<li>rgw: Add a test for multi-tenancy (<a class="reference external" href="http://github.com/ceph/ceph/pull/8592">pr#8592</a>, Pete Zaitcev)</li>
<li>rgw: add bucket request payment feature usage statistics integration (<a class="reference external" href="http://tracker.ceph.com/issues/13834">issue#13834</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6656">pr#6656</a>, Javier M. Mellid)</li>
<li>rgw: add compat header for TEMP_FAILURE_RETRY (<a class="reference external" href="http://github.com/ceph/ceph/pull/6294">pr#6294</a>, John Coyle)</li>
<li>rgw: add default quota config (<a class="reference external" href="http://github.com/ceph/ceph/pull/6400">pr#6400</a>, Daniel Gryniewicz)</li>
<li>rgw: add LifeCycle feature (<a class="reference external" href="http://github.com/ceph/ceph/pull/6331">pr#6331</a>, Ji Chen)</li>
<li>rgw: add missing error code for admin op API (<a class="reference external" href="http://github.com/ceph/ceph/pull/7037">pr#7037</a>, Dunrong Huang)</li>
<li>rgw: adds the radosgw-admin sync status command that gives a human readable status of the sync process at a specific zone (<a class="reference external" href="http://github.com/ceph/ceph/pull/8030">pr#8030</a>, Yehuda Sadeh)</li>
<li>rgw: add support for caching of Keystone admin token. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7630">pr#7630</a>, Radoslaw Zarzynski)</li>
<li>rgw: add support for &#8220;end_marker&#8221; parameter for GET on Swift account. (<a class="reference external" href="http://tracker.ceph.com/issues/10682">issue#10682</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4216">pr#4216</a>, Radoslaw Zarzynski)</li>
<li>rgw: add support for getting Swift&#8217;s DLO without manifest handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/6206">pr#6206</a>, Radoslaw Zarzynski)</li>
<li>rgw: add support for metadata upload during PUT on Swift container. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8002">pr#8002</a>, Radoslaw Zarzynski)</li>
<li>rgw: add support for Static Large Objects of Swift API (<a class="reference external" href="http://tracker.ceph.com/issues/12886">issue#12886</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13452">issue#13452</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6643">pr#6643</a>, Yehuda Sadeh, Radoslaw Zarzynski)</li>
<li>rgw: add support for system requests over Swift API (<a class="reference external" href="http://github.com/ceph/ceph/pull/7666">pr#7666</a>, Radoslaw Zarzynski)</li>
<li>rgw: add zone delete to rgw-admin help (<a class="reference external" href="http://github.com/ceph/ceph/pull/8184">pr#8184</a>, Abhishek Lekshmanan)</li>
<li>rgw: adjust error code when bucket does not exist in copy operation (<a class="reference external" href="http://tracker.ceph.com/issues/14975">issue#14975</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7916">pr#7916</a>, Yehuda Sadeh)</li>
<li>rgw: adjust the request_uri to support absoluteURI of http request (<a class="reference external" href="http://tracker.ceph.com/issues/12917">issue#12917</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7675">pr#7675</a>, Wenjun Huang)</li>
<li>rgw: admin api for retrieving usage info (Ji Chen) (<a class="reference external" href="http://github.com/ceph/ceph/pull/8031">pr#8031</a>, Yehuda Sadeh, Ji Chen)</li>
<li>rgw_admin: improve period update errors (<a class="reference external" href="http://tracker.ceph.com/issues/15251">issue#15251</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8564">pr#8564</a>, Abhishek Lekshmanan)</li>
<li>rgw_admin: orphans finish segfaults (<a class="reference external" href="http://github.com/ceph/ceph/pull/6652">pr#6652</a>, Igor Fedotov)</li>
<li>rgw-admin: remove unused iterator and fix error message (<a class="reference external" href="http://github.com/ceph/ceph/pull/8507">pr#8507</a>, Karol Mroz)</li>
<li>rgw_admin: remove unused parent_period arg (<a class="reference external" href="http://github.com/ceph/ceph/pull/8411">pr#8411</a>, Abhishek Lekshmanan)</li>
<li>rgw: Allow an implicit tenant in case of Keystone (<a class="reference external" href="http://github.com/ceph/ceph/pull/8139">pr#8139</a>, Pete Zaitcev)</li>
<li>rgw: allow authentication keystone with self signed certs  (<a class="reference external" href="http://tracker.ceph.com/issues/14853">issue#14853</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13422">issue#13422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7777">pr#7777</a>, Abhishek Lekshmanan)</li>
<li>rgw: approximate AmazonS3 HostId error field. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7444">pr#7444</a>, Robin H. Johnson)</li>
<li>rgw: aws4: handle UNSIGNED-PAYLOAD under header auth (<a class="reference external" href="http://tracker.ceph.com/issues/15499">issue#15499</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8601">pr#8601</a>, Javier M. Mellid)</li>
<li>rgw: aws4 subdomain calling bugfix (<a class="reference external" href="http://tracker.ceph.com/issues/15369">issue#15369</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8472">pr#8472</a>, Javier M. Mellid)</li>
<li>rgw: bucket link now set the bucket.instance acl (bug fix) (<a class="reference external" href="http://tracker.ceph.com/issues/11076">issue#11076</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8037">pr#8037</a>, Zengran Zhang)</li>
<li>rgw: bucket request payment support (<a class="reference external" href="http://tracker.ceph.com/issues/13427">issue#13427</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6214">pr#6214</a>, Javier M. Mellid)</li>
<li>rgw: Bug fix for mtime anomalies in RadosGW and other places (<a class="reference external" href="http://github.com/ceph/ceph/pull/7328">pr#7328</a>, Adam C. Emerson, Casey Bodley)</li>
<li>rgw: build-related fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8076">pr#8076</a>, Yehuda Sadeh, Matt Benjamin)</li>
<li>rgw: calculate payload hash in RGWPutObj_ObjStore only when necessary. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7869">pr#7869</a>, Radoslaw Zarzynski)</li>
<li>rgw: call rgw_log_usage_finalize() on reconfiguration (<a class="reference external" href="http://github.com/ceph/ceph/pull/8585">pr#8585</a>, Casey Bodley)</li>
<li>rgw: Check return code in RGWFileHandle::write (<a class="reference external" href="http://github.com/ceph/ceph/pull/7875">pr#7875</a>, Brad Hubbard)</li>
<li>rgw: check the return value when call fe-&gt;run() (<a class="reference external" href="http://tracker.ceph.com/issues/14585">issue#14585</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7457">pr#7457</a>, wei qiaomiao)</li>
<li>rgw: clarify the error message when trying to create an existed user (<a class="reference external" href="http://github.com/ceph/ceph/pull/5938">pr#5938</a>, Zeqiang Zhuang)</li>
<li>rgw: cleanups to comments and messages (<a class="reference external" href="http://github.com/ceph/ceph/pull/7633">pr#7633</a>, Pete Zaitcev)</li>
<li>rgw: content length (<a class="reference external" href="http://tracker.ceph.com/issues/13582">issue#13582</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6975">pr#6975</a>, Yehuda Sadeh)</li>
<li>rgw: convert plain object to versioned (with null version) when removing (<a class="reference external" href="http://tracker.ceph.com/issues/15243">issue#15243</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8268">pr#8268</a>, Yehuda Sadeh)</li>
<li>rgw: delete default zone (<a class="reference external" href="http://github.com/ceph/ceph/pull/7005">pr#7005</a>, YankunLi)</li>
<li>rgw: do not abort radowgw server when using admin op API with bad parameters  (<a class="reference external" href="http://tracker.ceph.com/issues/14190">issue#14190</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14191">issue#14191</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7063">pr#7063</a>, Dunrong Huang)</li>
<li>rgw: Do not send a Content-Type on a &#8216;304 Not Modified&#8217; response (<a class="reference external" href="http://tracker.ceph.com/issues/15119">issue#15119</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8253">pr#8253</a>, Wido den Hollander)</li>
<li>rgw: don&#8217;t use s-&gt;bucket for metadata api path entry (<a class="reference external" href="http://tracker.ceph.com/issues/14549">issue#14549</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7408">pr#7408</a>, Yehuda Sadeh)</li>
<li>rgw: Drop a debugging message (<a class="reference external" href="http://github.com/ceph/ceph/pull/7280">pr#7280</a>, Pete Zaitcev)</li>
<li>rgw: drop permissions of rgw/civetweb after startup (<a class="reference external" href="http://tracker.ceph.com/issues/13600">issue#13600</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8019">pr#8019</a>, Karol Mroz)</li>
<li>rgw: Drop unused usage_exit from rgw_admin.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/7632">pr#7632</a>, Pete Zaitcev)</li>
<li>rgw: Ensure xmlns is consistent on S3 responses. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8526">pr#8526</a>, Robin H. Johnson)</li>
<li>rgw: extend rgw_extended_http_attrs to affect Swift accounts and containers as well (<a class="reference external" href="http://github.com/ceph/ceph/pull/5969">pr#5969</a>, Radoslaw Zarzynski)</li>
<li>rgw: fcgi should include acconfig (<a class="reference external" href="http://github.com/ceph/ceph/pull/7760">pr#7760</a>, Abhishek Lekshmanan)</li>
<li>rgw_file: set owner uid, gid, and Unix mode on new objects (<a class="reference external" href="http://github.com/ceph/ceph/pull/8321">pr#8321</a>, Matt Benjamin)</li>
<li>rgw: file unix (<a class="reference external" href="http://github.com/ceph/ceph/pull/8563">pr#8563</a>, Matt Benjamin)</li>
<li>rgw: fix a glaring syntax error (<a class="reference external" href="http://github.com/ceph/ceph/pull/6888">pr#6888</a>, Pavan Rallabhandi)</li>
<li>rgw: fix a typo in error message (<a class="reference external" href="http://github.com/ceph/ceph/pull/8434">pr#8434</a>, Abhishek Lekshmanan)</li>
<li>rgw: fix a typo in init-radosgw (<a class="reference external" href="http://github.com/ceph/ceph/pull/6817">pr#6817</a>, Zhi Zhang)</li>
<li>rgw: fix binfo_cache, RGWShardCollectCR (<a class="reference external" href="http://github.com/ceph/ceph/pull/8619">pr#8619</a>, Yehuda Sadeh)</li>
<li>rgw: fix compilation warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/7160">pr#7160</a>, Yehuda Sadeh)</li>
<li>rgw: fix compiling error (<a class="reference external" href="http://github.com/ceph/ceph/pull/8394">pr#8394</a>, xie xingguo)</li>
<li>rgw: fixes for per-period metadata logs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7827">pr#7827</a>, Casey Bodley)</li>
<li>rgw: fix lockdep false positive (<a class="reference external" href="http://github.com/ceph/ceph/pull/8284">pr#8284</a>, Yehuda Sadeh)</li>
<li>rgw: fix mdlog (<a class="reference external" href="http://github.com/ceph/ceph/pull/8183">pr#8183</a>, Orit Wasserman)</li>
<li>rgw: fix objects can not be displayed which object name does not cont… (<a class="reference external" href="http://tracker.ceph.com/issues/12963">issue#12963</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5738">pr#5738</a>, Weijun Duan)</li>
<li>rgw: fix openssl linkage (<a class="reference external" href="http://github.com/ceph/ceph/pull/6513">pr#6513</a>, Yehuda Sadeh)</li>
<li>rgw: fix partial read issue in rgw_admin and rgw_tools (<a class="reference external" href="http://github.com/ceph/ceph/pull/6761">pr#6761</a>, Jiaying Ren)</li>
<li>rgw: fix problem deleting objects begining with double underscores (<a class="reference external" href="http://tracker.ceph.com/issues/15318">issue#15318</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8488">pr#8488</a>, Orit Wasserman)</li>
<li>rgw: fix reload on non Debian systems. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6482">pr#6482</a>, Hervé Rousseau)</li>
<li>rgw: fix response of delete expired objects (<a class="reference external" href="http://tracker.ceph.com/issues/13469">issue#13469</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6228">pr#6228</a>, Yuan Zhou)</li>
<li>rgw: Fix subuser harder with tenants (<a class="reference external" href="http://github.com/ceph/ceph/pull/7618">pr#7618</a>, Pete Zaitcev)</li>
<li>rgw: fix swift API returning incorrect account metadata (<a class="reference external" href="http://tracker.ceph.com/issues/13140">issue#13140</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6047">pr#6047</a>, Sangdi Xu)</li>
<li>rgw: fix the build failure (<a class="reference external" href="http://github.com/ceph/ceph/pull/6927">pr#6927</a>, Kefu Chai)</li>
<li>rgw: fix typo in RGWHTTPClient::process error message (<a class="reference external" href="http://github.com/ceph/ceph/pull/6424">pr#6424</a>, Brad Hubbard)</li>
<li>rgw: fix unsafe c_str() usage (<a class="reference external" href="http://tracker.ceph.com/issues/15463">issue#15463</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8559">pr#8559</a>, Sage Weil)</li>
<li>rgw: fix wrong check for parse() return (<a class="reference external" href="http://github.com/ceph/ceph/pull/6797">pr#6797</a>, Dunrong Huang)</li>
<li>rgw: fix wrong etag calculation during POST on S3 bucket. (<a class="reference external" href="http://tracker.ceph.com/issues/11241">issue#11241</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6030">pr#6030</a>, Radoslaw Zarzynski)</li>
<li>rgw: fix wrong handling of limit=0 during listing of Swift account. (<a class="reference external" href="http://tracker.ceph.com/issues/14903">issue#14903</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7821">pr#7821</a>, Radoslaw Zarzynski)</li>
<li>rgw: handle no current_period in is_syncing_bucket_meta (<a class="reference external" href="http://github.com/ceph/ceph/pull/8597">pr#8597</a>, Orit Wasserman)</li>
<li>rgw: highres time stamps (<a class="reference external" href="http://github.com/ceph/ceph/pull/8108">pr#8108</a>, Yehuda Sadeh, Adam C. Emerson, Matt Benjamin)</li>
<li>rgw: improve error handling in S3/Keystone integration (<a class="reference external" href="http://github.com/ceph/ceph/pull/7597">pr#7597</a>, Radoslaw Zarzynski)</li>
<li>rgw: increase verbosity level on RGWObjManifest line (<a class="reference external" href="http://github.com/ceph/ceph/pull/7285">pr#7285</a>, magicrobotmonkey)</li>
<li>rgw: indexless (<a class="reference external" href="http://github.com/ceph/ceph/pull/7786">pr#7786</a>, Yehuda Sadeh)</li>
<li>rgw: jewel nfs fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8460">pr#8460</a>, Matt Benjamin)</li>
<li>rgw: keystone v3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7719">pr#7719</a>, Mark Barnes, Radoslaw Zarzynski)</li>
<li>rgw: ldap fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8168">pr#8168</a>, Matt Benjamin)</li>
<li>rgw_ldap: make ldap.h inclusion conditional (<a class="reference external" href="http://github.com/ceph/ceph/pull/8500">pr#8500</a>, Matt Benjamin)</li>
<li>rgw: ldap (Matt Benjamin) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7985">pr#7985</a>, Matt Benjamin)</li>
<li>rgw leaks fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8636">pr#8636</a>, Yehuda Sadeh)</li>
<li>rgw: let radosgw-admin bucket stats return a standard josn (<a class="reference external" href="http://github.com/ceph/ceph/pull/7029">pr#7029</a>, Ruifeng Yang)</li>
<li>rgw: link against system openssl (instead of dlopen at runtime) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6419">pr#6419</a>, Sage Weil)</li>
<li>rgw: link civetweb with openssl (Sage, Marcus Watts) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7825">pr#7825</a>, Marcus Watts, Sage Weil)</li>
<li>rgw: link payer info to usage logging (<a class="reference external" href="http://github.com/ceph/ceph/pull/7918">pr#7918</a>, Yehuda Sadeh, Javier M. Mellid)</li>
<li>rgw: mdlog trim add usage prompt (<a class="reference external" href="http://github.com/ceph/ceph/pull/6059">pr#6059</a>, Weijun Duan)</li>
<li>rgw: modify command stucking when operating radosgw-admin metadata list user (<a class="reference external" href="http://github.com/ceph/ceph/pull/7032">pr#7032</a>, Peiyang Liu)</li>
<li>rgw: modify documents and help infos&#8217; descriptions to the usage of option date when executing command &#8220;log show&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6080">pr#6080</a>, Kongming Wu)</li>
<li>rgw: modify the conditional statement in parse_metadata_key method. (<a class="reference external" href="http://github.com/ceph/ceph/pull/5875">pr#5875</a>, Zengran Zhang)</li>
<li>rgw: move signal.h dependency from rgw_front.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/7678">pr#7678</a>, Matt Benjamin)</li>
<li>rgw: Multipart ListPartsResult ETag quotes (<a class="reference external" href="http://tracker.ceph.com/issues/15334">issue#15334</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8387">pr#8387</a>, Robin H. Johnson)</li>
<li>rgw: multiple improvements regarding etag calculation for SLO/DLO of Swift API. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7764">pr#7764</a>, Radoslaw Zarzynski)</li>
<li>rgw: multiple Swift API compliance improvements for TempURL (Radoslaw Zarzynsk) (<a class="reference external" href="http://tracker.ceph.com/issues/14806">issue#14806</a>, <a class="reference external" href="http://tracker.ceph.com/issues/11163">issue#11163</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7891">pr#7891</a>, Radoslaw Zarzynski)</li>
<li>rgw: multisite fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8013">pr#8013</a>, Yehuda Sadeh)</li>
<li>rgw: multitenancy support (<a class="reference external" href="http://github.com/ceph/ceph/pull/6784">pr#6784</a>, Yehuda Sadeh, Pete Zaitcev)</li>
<li>rgw: new multisite merge (<a class="reference external" href="http://tracker.ceph.com/issues/14549">issue#14549</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7709">pr#7709</a>, Yehuda Sadeh, Orit Wasserman, Casey Bodley, Daniel Gryniewicz)</li>
<li>rgw: Parse &#8211;subuser better (<a class="reference external" href="http://github.com/ceph/ceph/pull/7279">pr#7279</a>, Pete Zaitcev)</li>
<li>rgw: prevent anonymous user from reading bucket with authenticated read ACL (<a class="reference external" href="http://tracker.ceph.com/issues/13207">issue#13207</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6057">pr#6057</a>, root)</li>
<li>rgw: radosgw-admin bucket check &#8211;fix not work (<a class="reference external" href="http://github.com/ceph/ceph/pull/7093">pr#7093</a>, Weijun Duan)</li>
<li>rgw-rados: return RGWSystemMetaObj init directly (<a class="reference external" href="http://github.com/ceph/ceph/pull/8534">pr#8534</a>, Karol Mroz)</li>
<li>rgw: refuse to calculate digest when the s3 secret key is empty (<a class="reference external" href="http://tracker.ceph.com/issues/13133">issue#13133</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6045">pr#6045</a>, Sangdi Xu)</li>
<li>rgw : region to zonegroup related fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8620">pr#8620</a>, Yehuda Sadeh)</li>
<li>rgw: remove duplicated code in RGWRados::get_bucket_info() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7413">pr#7413</a>, liyankun)</li>
<li>rgw: remove extra check in RGWGetObj::execute (<a class="reference external" href="http://tracker.ceph.com/issues/12352">issue#12352</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5262">pr#5262</a>, Javier M. Mellid)</li>
<li>rgw: Remove unused code in PutMetadataAccount:execute (<a class="reference external" href="http://github.com/ceph/ceph/pull/6668">pr#6668</a>, Pete Zaitcev)</li>
<li>rgw: remove unused variable in RGWPutMetadataBucket::execute (<a class="reference external" href="http://github.com/ceph/ceph/pull/6735">pr#6735</a>, Radoslaw Zarzynski)</li>
<li>rgw: remove unused vector (<a class="reference external" href="http://github.com/ceph/ceph/pull/7990">pr#7990</a>, Na Xie)</li>
<li>rgw: reset return code in when iterating over the bucket the objects (<a class="reference external" href="http://tracker.ceph.com/issues/14826">issue#14826</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7803">pr#7803</a>, Orit Wasserman)</li>
<li>rgw: retry RGWRemoteMetaLog::read_log_info() while master is down (<a class="reference external" href="http://github.com/ceph/ceph/pull/8453">pr#8453</a>, Casey Bodley)</li>
<li>rgw: Revert &#8220;rgw ldap&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/8075">pr#8075</a>, Yehuda Sadeh)</li>
<li>rgw/rgw_admin:fix bug about list and stats command (<a class="reference external" href="http://github.com/ceph/ceph/pull/8200">pr#8200</a>, Qiankun Zheng)</li>
<li>rgw/rgw_common.h: fix the RGWBucketInfo decoding (<a class="reference external" href="http://github.com/ceph/ceph/pull/8154">pr#8154</a>, Kefu Chai)</li>
<li>rgw/rgw_common.h: fix the RGWBucketInfo decoding (<a class="reference external" href="http://github.com/ceph/ceph/pull/8165">pr#8165</a>, Kefu Chai)</li>
<li>rgw: RGWLib::env is not used so remove it (<a class="reference external" href="http://github.com/ceph/ceph/pull/7874">pr#7874</a>, Brad Hubbard)</li>
<li>rgw/rgw_orphan: check the return value of save_state (<a class="reference external" href="http://github.com/ceph/ceph/pull/7544">pr#7544</a>, Boris Ranto)</li>
<li>rgw: RGWPeriod::reflect() sets master zonegroup as default (<a class="reference external" href="http://github.com/ceph/ceph/pull/8566">pr#8566</a>, Casey Bodley)</li>
<li>rgw/rgw_resolve: fallback to res_query when res_nquery not implemented (<a class="reference external" href="http://github.com/ceph/ceph/pull/6292">pr#6292</a>, John Coyle)</li>
<li>rgw: RGWZoneParams::create should not handle -EEXIST error (<a class="reference external" href="http://github.com/ceph/ceph/pull/7927">pr#7927</a>, Orit Wasserman)</li>
<li>rgw: S3: set EncodingType in ListBucketResult (<a class="reference external" href="http://github.com/ceph/ceph/pull/7712">pr#7712</a>, Victor Makarov)</li>
<li>rgw: signature mismatch with escaped characters in url query portion (<a class="reference external" href="http://tracker.ceph.com/issues/15358">issue#15358</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8445">pr#8445</a>, Javier M. Mellid)</li>
<li>rgw: static large objects (Radoslaw Zarzynski, Yehuda Sadeh)</li>
<li>rgw: store system object meta in cache when creating it (<a class="reference external" href="http://tracker.ceph.com/issues/14678">issue#14678</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7615">pr#7615</a>, Yehuda Sadeh)</li>
<li>rgw: support core file limit for radosgw daemon (<a class="reference external" href="http://github.com/ceph/ceph/pull/6346">pr#6346</a>, Guang Yang)</li>
<li>rgw: support for aws authentication v4 (Javier M. Mellid) (<a class="reference external" href="http://tracker.ceph.com/issues/10333">issue#10333</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7720">pr#7720</a>, Yehuda Sadeh, Javier M. Mellid)</li>
<li>rgw: support json format for admin policy API (Dunrong Huang) (<a class="reference external" href="http://tracker.ceph.com/issues/14090">issue#14090</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8036">pr#8036</a>, Yehuda Sadeh, Dunrong Huang)</li>
<li>rgw: swift bulk delete (Radoslaw Zarzynski)</li>
<li>rgw: swift use Civetweb ssl can not get right url (<a class="reference external" href="http://tracker.ceph.com/issues/13628">issue#13628</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6408">pr#6408</a>, Weijun Duan)</li>
<li>rgw: swift versioning disabled (<a class="reference external" href="http://github.com/ceph/ceph/pull/8066">pr#8066</a>, Yehuda Sadeh, Radoslaw Zarzynski)</li>
<li>rgw: sync fixes 3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/8170">pr#8170</a>, Yehuda Sadeh)</li>
<li>rgw: sync fixes 4 (<a class="reference external" href="http://github.com/ceph/ceph/pull/8190">pr#8190</a>, Yehuda Sadeh)</li>
<li>rgw sync fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8095">pr#8095</a>, Yehuda Sadeh)</li>
<li>rgw: the map &#8216;headers&#8217; is assigned a wrong value (<a class="reference external" href="http://github.com/ceph/ceph/pull/8481">pr#8481</a>, weiqiaomiao)</li>
<li>rgw: try to parse Keystone token in order appropriate to configuration. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7822">pr#7822</a>, Radoslaw Zarzynski)</li>
<li>rgw: try to use current period id in a few more cases (<a class="reference external" href="http://github.com/ceph/ceph/pull/8588">pr#8588</a>, Yehuda Sadeh)</li>
<li>rgw:Use count fn in RGWUserBuckets for quota check (<a class="reference external" href="http://github.com/ceph/ceph/pull/8294">pr#8294</a>, Abhishek Lekshmanan)</li>
<li>rgw: use pimpl pattern for RGWPeriodHistory (<a class="reference external" href="http://github.com/ceph/ceph/pull/7809">pr#7809</a>, Casey Bodley)</li>
<li>rgw: user quota may not adjust on bucket removal (<a class="reference external" href="http://tracker.ceph.com/issues/14507">issue#14507</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7586">pr#7586</a>, root)</li>
<li>rgw: use smart pointer for C_Reinitwatch (<a class="reference external" href="http://github.com/ceph/ceph/pull/6767">pr#6767</a>, Orit Wasserman)</li>
<li>rgw: warn on suspicious civetweb frontend parameters (<a class="reference external" href="http://github.com/ceph/ceph/pull/6944">pr#6944</a>, Matt Benjamin)</li>
<li>rocksdb: build with PORTABLE=1 (<a class="reference external" href="http://github.com/ceph/ceph/pull/6311">pr#6311</a>, Sage Weil)</li>
<li>rocksdb: remove rdb source files from dist tarball (<a class="reference external" href="http://tracker.ceph.com/issues/13554">issue#13554</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6379">pr#6379</a>, Kefu Chai)</li>
<li>rocksdb: remove rdb sources from dist tarball (<a class="reference external" href="http://tracker.ceph.com/issues/13554">issue#13554</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7105">pr#7105</a>, Venky Shankar)</li>
<li>rocksdb: use native rocksdb makefile (and our autotools) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6290">pr#6290</a>, Sage Weil)</li>
<li>rpm: ceph.spec.in: correctly declare systemd dependency for SLE/openSUSE (<a class="reference external" href="http://github.com/ceph/ceph/pull/6114">pr#6114</a>, Nathan Cutler)</li>
<li>rpm: ceph.spec.in: fix libs-compat / devel-compat conditional (<a class="reference external" href="http://tracker.ceph.com/issues/12315">issue#12315</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5219">pr#5219</a>, Ken Dreyer)</li>
<li>rpm,deb: remove conditional BuildRequires for btrfs-progs (<a class="reference external" href="http://tracker.ceph.com/issues/15042">issue#15042</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8016">pr#8016</a>, Erwan Velu)</li>
<li>rpm: move %post(un) ldconfig calls to ceph-base (<a class="reference external" href="http://tracker.ceph.com/issues/14940">issue#14940</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7867">pr#7867</a>, Nathan Cutler)</li>
<li>rpm: move runtime dependencies to ceph-base and fix other packaging issues (<a class="reference external" href="http://tracker.ceph.com/issues/14864">issue#14864</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7826">pr#7826</a>, Nathan Cutler)</li>
<li>rpm: prefer UID/GID 167 when creating ceph user/group (<a class="reference external" href="http://tracker.ceph.com/issues/15246">issue#15246</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8277">pr#8277</a>, Nathan Cutler)</li>
<li>rpm: remove sub-package dependencies on &#8220;ceph&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/15146">issue#15146</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8137">pr#8137</a>, Ken Dreyer)</li>
<li>rpm: rhel 5.9 librados compile fix, moved blkid to RBD check/compilation (<a class="reference external" href="http://tracker.ceph.com/issues/13177">issue#13177</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5954">pr#5954</a>, Rohan Mars)</li>
<li>script: add missing stop_rgw variable to stop.sh script (<a class="reference external" href="http://github.com/ceph/ceph/pull/7959">pr#7959</a>, Karol Mroz)</li>
<li>scripts: adjust mstart and mstop script to run with cmake build (<a class="reference external" href="http://github.com/ceph/ceph/pull/6920">pr#6920</a>, Orit Wasserman)</li>
<li>scripts: release_notes can track original issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/6009">pr#6009</a>, Abhishek Lekshmanan)</li>
<li>script: subscription-manager support (<a class="reference external" href="http://tracker.ceph.com/issues/14972">issue#14972</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7907">pr#7907</a>, Loic Dachary)</li>
<li>selinux: allow log files to be located in /var/log/radosgw (<a class="reference external" href="http://github.com/ceph/ceph/pull/7604">pr#7604</a>, Boris Ranto)</li>
<li>selinux: Update policy to grant additional access (<a class="reference external" href="http://tracker.ceph.com/issues/14870">issue#14870</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7971">pr#7971</a>, Boris Ranto)</li>
<li>set 128MB tcmalloc cache size by bytes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8427">pr#8427</a>, Star Guo)</li>
<li>stringify outputted error code and fix unmatched parentheses. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6998">pr#6998</a>, xie.xingguo, xie xingguo)</li>
<li>submodules: revert an accidental change (<a class="reference external" href="http://github.com/ceph/ceph/pull/7929">pr#7929</a>, Yehuda Sadeh)</li>
<li>systemd: correctly escape block device paths (<a class="reference external" href="http://tracker.ceph.com/issues/14706">issue#14706</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7579">pr#7579</a>, James Page)</li>
<li>systemd: drop any systemd imposed process/thread limits (<a class="reference external" href="http://github.com/ceph/ceph/pull/8450">pr#8450</a>, James Page)</li>
<li>systemd: fix typos (<a class="reference external" href="http://github.com/ceph/ceph/pull/6679">pr#6679</a>, Tobias Suckow)</li>
<li>systemd: set up environment in rbdmap unit file (<a class="reference external" href="http://tracker.ceph.com/issues/14984">issue#14984</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8222">pr#8222</a>, Nathan Cutler)</li>
<li>systemd: start/stop/restart ceph services by daemon type (<a class="reference external" href="http://tracker.ceph.com/issues/13497">issue#13497</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6276">pr#6276</a>, Zhi Zhang)</li>
<li>systemd: Use the same restart limits as upstart (<a class="reference external" href="http://github.com/ceph/ceph/pull/8188">pr#8188</a>, Boris Ranto)</li>
<li>sysvinit: allow custom cluster names (<a class="reference external" href="http://github.com/ceph/ceph/pull/6732">pr#6732</a>, Richard Chan)</li>
<li>test: add missing shut_down mock method (<a class="reference external" href="http://github.com/ceph/ceph/pull/8125">pr#8125</a>, Jason Dillaman)</li>
<li>test/bufferlist: Avoid false-positive tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/7955">pr#7955</a>, Erwan Velu)</li>
<li>test: ceph_test_rados: use less CPU (<a class="reference external" href="http://github.com/ceph/ceph/pull/7513">pr#7513</a>, Samuel Just)</li>
<li>test/cli-integration/rbd: disable progress output (<a class="reference external" href="http://tracker.ceph.com/issues/14931">issue#14931</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7858">pr#7858</a>, Josh Durgin)</li>
<li>test: correct librbd errors discovered with unoptimized cmake build (<a class="reference external" href="http://github.com/ceph/ceph/pull/7914">pr#7914</a>, Jason Dillaman)</li>
<li>test: create pools for rbd tests with different prefix (<a class="reference external" href="http://github.com/ceph/ceph/pull/7738">pr#7738</a>, Mykola Golub)</li>
<li>test: enable test for bug #2339 which has been resolved. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7743">pr#7743</a>, You Ji)</li>
<li>test/encoding/readable.sh fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/6714">pr#6714</a>, Igor Podoski)</li>
<li>test/encoding/readable: use [ for &#8220;test&#8221; not (( (<a class="reference external" href="http://github.com/ceph/ceph/pull/8574">pr#8574</a>, Kefu Chai)</li>
<li>test: fix issues discovered via the rbd permissions test case (<a class="reference external" href="http://github.com/ceph/ceph/pull/8129">pr#8129</a>, Jason Dillaman)</li>
<li>test: fix osd-scrub-snaps.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/6697">pr#6697</a>, Xinze Chi)</li>
<li>test: Fix test to run with btrfs which has snap_### dirs (<a class="reference external" href="http://tracker.ceph.com/issues/15347">issue#15347</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8420">pr#8420</a>, David Zafman)</li>
<li>test: fixup and improvements for rbd-mirror test (<a class="reference external" href="http://github.com/ceph/ceph/pull/8090">pr#8090</a>, Mykola Golub)</li>
<li>test: fix ut test failure caused by lfn change (<a class="reference external" href="http://tracker.ceph.com/issues/15464">issue#15464</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8544">pr#8544</a>, xie xingguo)</li>
<li>test: fix valgrind memcheck issues for rbd-mirror test cases (<a class="reference external" href="http://tracker.ceph.com/issues/15354">issue#15354</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8493">pr#8493</a>, Jason Dillaman)</li>
<li>test: handle exception thrown from close during rbd lock test (<a class="reference external" href="http://github.com/ceph/ceph/pull/8124">pr#8124</a>, Jason Dillaman)</li>
<li>test: image replayer needs dummy remote mirror peer uuid (<a class="reference external" href="http://github.com/ceph/ceph/pull/8584">pr#8584</a>, Jason Dillaman)</li>
<li>test/libcephfs/flock: add sys/file.h include for flock operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6310">pr#6310</a>, John Coyle)</li>
<li>test/librados/test.cc: clean up EC pools&#8217; crush rules too (<a class="reference external" href="http://tracker.ceph.com/issues/13878">issue#13878</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6788">pr#6788</a>, Loic Dachary, Dan Mick)</li>
<li>test/librbd/fsx: Use c++11 std::mt19937 generator instead of random_r() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6332">pr#6332</a>, John Coyle)</li>
<li>test/mon/osd-erasure-code-profile: pick new mon port (<a class="reference external" href="http://github.com/ceph/ceph/pull/7161">pr#7161</a>, Sage Weil)</li>
<li>test: more debug logging for TestWatchNotify (<a class="reference external" href="http://github.com/ceph/ceph/pull/7737">pr#7737</a>, Mykola Golub)</li>
<li>test: new librbd flatten test case (<a class="reference external" href="http://github.com/ceph/ceph/pull/7609">pr#7609</a>, Jason Dillaman)</li>
<li>test/osd: Relax the timing intervals in osd-markdown.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/7899">pr#7899</a>, Dan Mick)</li>
<li>test_pool_create.sh: put test files in the test dir so they are cleaned up (<a class="reference external" href="http://github.com/ceph/ceph/pull/8219">pr#8219</a>, Josh Durgin)</li>
<li>test/pybind/test_ceph_argparse: fix reweight-by-utilization tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/8027">pr#8027</a>, Kefu Chai, Sage Weil)</li>
<li>test/radosgw-admin: update the expected usage outputs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7723">pr#7723</a>, Kefu Chai)</li>
<li>test: rbd-mirror: add &#8220;switch to the next tag&#8221; test (<a class="reference external" href="http://github.com/ceph/ceph/pull/8149">pr#8149</a>, Mykola Golub)</li>
<li>test: rbd-mirror: compare positions using all fields (<a class="reference external" href="http://github.com/ceph/ceph/pull/8172">pr#8172</a>, Mykola Golub)</li>
<li>test: rbd-mirror: script improvements for manual testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/8325">pr#8325</a>, Mykola Golub)</li>
<li>test: reproducer for writeback CoW deadlock (<a class="reference external" href="http://github.com/ceph/ceph/pull/8009">pr#8009</a>, Jason Dillaman)</li>
<li>test/rgw: add multisite test for meta sync across periods (<a class="reference external" href="http://github.com/ceph/ceph/pull/7887">pr#7887</a>, Casey Bodley)</li>
<li>test_rgw_admin: use freopen for output redirection. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6303">pr#6303</a>, John Coyle)</li>
<li>tests: add const for ec test (<a class="reference external" href="http://github.com/ceph/ceph/pull/6911">pr#6911</a>, Michal Jarzabek)</li>
<li>tests: add Ubuntu 16.04 xenial dockerfile (<a class="reference external" href="http://github.com/ceph/ceph/pull/8519">pr#8519</a>, Loic Dachary)</li>
<li>tests: allow docker-test.sh to run under root (<a class="reference external" href="http://tracker.ceph.com/issues/13355">issue#13355</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6173">pr#6173</a>, Loic Dachary)</li>
<li>tests: allow object corpus readable test to skip specific incompat instances (<a class="reference external" href="http://github.com/ceph/ceph/pull/6932">pr#6932</a>, Igor Podoski)</li>
<li>tests: centos7 needs the Continuous Release (CR) Repository enabled for (<a class="reference external" href="http://tracker.ceph.com/issues/13997">issue#13997</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6842">pr#6842</a>, Brad Hubbard)</li>
<li>tests: ceph-disk.sh: should use &#8220;readlink -f&#8221; instead (<a class="reference external" href="http://github.com/ceph/ceph/pull/7594">pr#7594</a>, Kefu Chai)</li>
<li>tests: ceph-disk.sh: use &#8220;readlink -f&#8221; instead for fullpath (<a class="reference external" href="http://github.com/ceph/ceph/pull/7606">pr#7606</a>, Kefu Chai)</li>
<li>tests: ceph-disk workunit uses configobj  (<a class="reference external" href="http://github.com/ceph/ceph/pull/6342">pr#6342</a>, Loic Dachary)</li>
<li>tests: ceph-helpers assert success getting backfills (<a class="reference external" href="http://github.com/ceph/ceph/pull/6699">pr#6699</a>, Loic Dachary)</li>
<li>tests: ceph_test_keyvaluedb_iterators: fix broken test (<a class="reference external" href="http://github.com/ceph/ceph/pull/6597">pr#6597</a>, Haomai Wang)</li>
<li>tests: concatenate test_rados_test_tool from src and qa (<a class="reference external" href="http://tracker.ceph.com/issues/13691">issue#13691</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6464">pr#6464</a>, Loic Dachary)</li>
<li>tests: configure with rocksdb by default (<a class="reference external" href="http://tracker.ceph.com/issues/14220">issue#14220</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7100">pr#7100</a>, Loic Dachary)</li>
<li>tests: destroy testprofile before creating one (<a class="reference external" href="http://tracker.ceph.com/issues/13664">issue#13664</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6446">pr#6446</a>, Loic Dachary)</li>
<li>test: set a default $CEPH_ROOT env variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/8645">pr#8645</a>, Kefu Chai)</li>
<li>tests: fix a few build warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7608">pr#7608</a>, Sage Weil)</li>
<li>tests: fix failure for osd-scrub-snap.sh (<a class="reference external" href="http://tracker.ceph.com/issues/13986">issue#13986</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6890">pr#6890</a>, Loic Dachary, Ning Yao)</li>
<li>tests: Fix for make check. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7102">pr#7102</a>, David Zafman)</li>
<li>tests: Fixing broken test/cephtool-test-mon.sh test (<a class="reference external" href="http://github.com/ceph/ceph/pull/8429">pr#8429</a>, Erwan Velu)</li>
<li>tests: fix race condition testing auto scrub (<a class="reference external" href="http://tracker.ceph.com/issues/13592">issue#13592</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6724">pr#6724</a>, Xinze Chi, Loic Dachary)</li>
<li>tests: fix test_rados_tools.sh rados lookup (<a class="reference external" href="http://tracker.ceph.com/issues/13691">issue#13691</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6502">pr#6502</a>, Loic Dachary)</li>
<li>tests: fix typo in TestClsRbd.snapshots test case (<a class="reference external" href="http://tracker.ceph.com/issues/13727">issue#13727</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6504">pr#6504</a>, Jason Dillaman)</li>
<li>tests: flush op work queue prior to destroying MockImageCtx (<a class="reference external" href="http://tracker.ceph.com/issues/14092">issue#14092</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7002">pr#7002</a>, Jason Dillaman)</li>
<li>tests: ignore test-suite.log (<a class="reference external" href="http://github.com/ceph/ceph/pull/6584">pr#6584</a>, Loic Dachary)</li>
<li>tests: Improving &#8216;make check&#8217; execution time (<a class="reference external" href="http://github.com/ceph/ceph/pull/8131">pr#8131</a>, Erwan Velu)</li>
<li>tests: notification slave needs to wait for master (<a class="reference external" href="http://tracker.ceph.com/issues/13810">issue#13810</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7220">pr#7220</a>, Jason Dillaman)</li>
<li>tests: &#8211;osd-scrub-load-threshold=2000 for more consistency (<a class="reference external" href="http://tracker.ceph.com/issues/14027">issue#14027</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6871">pr#6871</a>, Loic Dachary)</li>
<li>tests: osd-scrub-snaps.sh to display full osd logs on error (<a class="reference external" href="http://tracker.ceph.com/issues/13986">issue#13986</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6857">pr#6857</a>, Loic Dachary)</li>
<li>tests: port uniqueness reminder (<a class="reference external" href="http://github.com/ceph/ceph/pull/6387">pr#6387</a>, Loic Dachary)</li>
<li>tests: restore run-cli-tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/6571">pr#6571</a>, Loic Dachary, Sage Weil, Jason Dillaman)</li>
<li>tests: snap rename and rebuild object map in client update test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7224">pr#7224</a>, Jason Dillaman)</li>
<li>tests: sync ceph-erasure-code-corpus for mktemp -d (<a class="reference external" href="http://github.com/ceph/ceph/pull/7596">pr#7596</a>, Loic Dachary)</li>
<li>tests: test/librados/test.cc must create profile (<a class="reference external" href="http://tracker.ceph.com/issues/13664">issue#13664</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6452">pr#6452</a>, Loic Dachary)</li>
<li>tests: test_pidfile.sh lingering processes (<a class="reference external" href="http://tracker.ceph.com/issues/14834">issue#14834</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7734">pr#7734</a>, Loic Dachary)</li>
<li>tests: unittest_bufferlist: fix hexdump test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7152">pr#7152</a>, Sage Weil)</li>
<li>tests: unittest_ipaddr: fix segv (<a class="reference external" href="http://github.com/ceph/ceph/pull/7154">pr#7154</a>, Sage Weil)</li>
<li>test/system/rados_list_parallel: print oid if rados_write fails (<a class="reference external" href="http://tracker.ceph.com/issues/15240">issue#15240</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8309">pr#8309</a>, Kefu Chai)</li>
<li>test/system/<a href="#id485"><span class="problematic" id="id486">*</span></a>: use dynamically generated pool name (<a class="reference external" href="http://tracker.ceph.com/issues/15240">issue#15240</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8318">pr#8318</a>, Kefu Chai)</li>
<li>test/test-erasure-code.sh: disable pg_temp priming (<a class="reference external" href="http://tracker.ceph.com/issues/15211">issue#15211</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8260">pr#8260</a>, Sage Weil)</li>
<li>test: TestMirroringWatcher test cases were not closing images (<a class="reference external" href="http://github.com/ceph/ceph/pull/8435">pr#8435</a>, Jason Dillaman)</li>
<li>test/TestPGLog: fix the FTBFS (<a class="reference external" href="http://tracker.ceph.com/issues/14930">issue#14930</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7855">pr#7855</a>, Kefu Chai)</li>
<li>test/test_pool_create.sh: fix port (<a class="reference external" href="http://github.com/ceph/ceph/pull/8361">pr#8361</a>, Sage Weil)</li>
<li>test/time: no need to abs(uint64_t) for comparing (<a class="reference external" href="http://github.com/ceph/ceph/pull/7726">pr#7726</a>, Kefu Chai)</li>
<li>test: update rbd integration cram tests for new default features (<a class="reference external" href="http://github.com/ceph/ceph/pull/8001">pr#8001</a>, Jason Dillaman)</li>
<li>test: use sequential journal_tid for object cacher test (<a class="reference external" href="http://tracker.ceph.com/issues/13877">issue#13877</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6710">pr#6710</a>, Josh Durgin)</li>
<li>tools: add cephfs-table-tool &#8216;take_inos&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6655">pr#6655</a>, John Spray)</li>
<li>tools/cephfs: add tmap_upgrade (<a class="reference external" href="http://github.com/ceph/ceph/pull/7003">pr#7003</a>, John Spray)</li>
<li>tools/cephfs: fix overflow writing header to fixed size buffer (#13816) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6617">pr#6617</a>, John Spray)</li>
<li>tools/cephfs: fix overflow writing header to fixed size buffer (#13816) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6617">pr#6617</a>, John Spray)</li>
<li>tools/cephfs: fix tmap_upgrade (<a class="reference external" href="http://tracker.ceph.com/issues/15135">issue#15135</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8128">pr#8128</a>, John Spray)</li>
<li>tools: ceph_monstore_tool: add inflate-pgmap command (<a class="reference external" href="http://tracker.ceph.com/issues/14217">issue#14217</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7097">pr#7097</a>, Kefu Chai)</li>
<li>tools: ceph-monstore-update-crush: add &#8220;&#8211;test&#8221; when testing crushmap (<a class="reference external" href="http://github.com/ceph/ceph/pull/6418">pr#6418</a>, Kefu Chai)</li>
<li>tools: Fix layout handing in cephfs-data-scan (#13898) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6719">pr#6719</a>, John Spray)</li>
<li>tools: monstore: add &#8216;show-versions&#8217; command. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7073">pr#7073</a>, Cilang Zhao)</li>
<li>tools/rados: reduce &#8220;rados put&#8221; memory usage by op_size (<a class="reference external" href="http://github.com/ceph/ceph/pull/7928">pr#7928</a>, Piotr Dałek)</li>
<li>tools:remove duplicate references (<a class="reference external" href="http://github.com/ceph/ceph/pull/5917">pr#5917</a>, Bo Cai)</li>
<li>tools: support printing part cluster map in readable fashion (<a class="reference external" href="http://tracker.ceph.com/issues/13079">issue#13079</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5921">pr#5921</a>, Bo Cai)</li>
<li>unittest_compression_zlib: do not assume buffer will be null terminated (<a class="reference external" href="http://github.com/ceph/ceph/pull/8064">pr#8064</a>, Sage Weil)</li>
<li>unittest_erasure_code_plugin: fix deadlock (Alpine) (<a class="reference external" href="http://github.com/ceph/ceph/pull/8314">pr#8314</a>, John Coyle)</li>
<li>unittest_osdmap: default crush tunables now firefly (<a class="reference external" href="http://github.com/ceph/ceph/pull/8098">pr#8098</a>, Sage Weil)</li>
<li>vstart: fix up cmake paths when VSTART_DEST is given (<a class="reference external" href="http://github.com/ceph/ceph/pull/8363">pr#8363</a>, Casey Bodley)</li>
<li>vstart: grant full access to Swift testing account (<a class="reference external" href="http://github.com/ceph/ceph/pull/6239">pr#6239</a>, Yuan Zhou)</li>
<li>vstart: make -k with optional mon_num. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8251">pr#8251</a>, Jianpeng Ma)</li>
<li>vstart: set cephfs root uid/gid to caller (<a class="reference external" href="http://github.com/ceph/ceph/pull/6255">pr#6255</a>, John Spray)</li>
<li>vstart.sh: add mstart, mstop, mrun wrappers for running multiple vstart-style test clusters out of src tree (<a class="reference external" href="http://github.com/ceph/ceph/pull/6901">pr#6901</a>, Yehuda Sadeh)</li>
<li>vstart.sh: avoid race condition starting rgw via vstart.sh (<a class="reference external" href="http://tracker.ceph.com/issues/14829">issue#14829</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7727">pr#7727</a>, Javier M. Mellid)</li>
<li>vstart.sh: silence a harmless msg where btrfs is not found (<a class="reference external" href="http://github.com/ceph/ceph/pull/7640">pr#7640</a>, Patrick Donnelly)</li>
<li>xio: add prefix to xio msgr logs (<a class="reference external" href="http://github.com/ceph/ceph/pull/8148">pr#8148</a>, Roi Dayan)</li>
<li>xio: fix compilation against latest accelio (<a class="reference external" href="http://github.com/ceph/ceph/pull/8022">pr#8022</a>, Roi Dayan)</li>
<li>xio: fix incorrect ip being assigned in case of multiple RDMA ports (<a class="reference external" href="http://github.com/ceph/ceph/pull/7747">pr#7747</a>, Subramanyam Varanasi)</li>
<li>xio: remove duplicate assignment of peer addr (<a class="reference external" href="http://github.com/ceph/ceph/pull/8025">pr#8025</a>, Roi Dayan)</li>
<li>xio: remove redundant magic methods (<a class="reference external" href="http://github.com/ceph/ceph/pull/7773">pr#7773</a>, Roi Dayan)</li>
<li>xio: remove unused variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/8023">pr#8023</a>, Roi Dayan)</li>
<li>xio: xio_init needs to be called before any other xio function (<a class="reference external" href="http://github.com/ceph/ceph/pull/8227">pr#8227</a>, Roi Dayan)</li>
<li>xxhash: use clone of xxhash.git; add .gitignore (<a class="reference external" href="http://github.com/ceph/ceph/pull/7986">pr#7986</a>, Sage Weil)</li>
</ul>
</div>
<div class="section" id="notable-changes-since-hammer">
<h3>Notable Changes since Hammer<a class="headerlink" href="#notable-changes-since-hammer" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>aarch64: add optimized version of crc32c (Yazen Ghannam, Steve Capper)</li>
<li>auth: cache/reuse crypto lib key objects, optimize msg signature check (Sage Weil)</li>
<li>auth: reinit NSS after fork() (#11128 Yan, Zheng)</li>
<li>autotools: fix out of tree build (Krxysztof Kosinski)</li>
<li>autotools: improve make check output (Loic Dachary)</li>
<li>buffer: add invalidate_crc() (Piotr Dalek)</li>
<li>buffer: fix zero bug (#12252 Haomai Wang)</li>
<li>buffer: some cleanup (Michal Jarzabek)</li>
<li>build: allow tcmalloc-minimal (Thorsten Behrens)</li>
<li>build: C++11 now supported</li>
<li>build: cmake: fix nss linking (Danny Al-Gaaf)</li>
<li>build: cmake: misc fixes (Orit Wasserman, Casey Bodley)</li>
<li>build: disable LTTNG by default (#11333 Josh Durgin)</li>
<li>build: do not build ceph-dencoder with tcmalloc (#10691 Boris Ranto)</li>
<li>build: fix junit detection on Fedora 22 (Ira Cooper)</li>
<li>build: fix pg ref disabling (William A. Kennington III)</li>
<li>build: fix ppc build (James Page)</li>
<li>build: install-deps: misc fixes (Loic Dachary)</li>
<li>build: install-deps.sh improvements (Loic Dachary)</li>
<li>build: install-deps: support OpenSUSE (Loic Dachary)</li>
<li>build: make_dist_tarball.sh (Sage Weil)</li>
<li>build: many cmake improvements</li>
<li>build: misc cmake fixes (Matt Benjamin)</li>
<li>build: misc fixes (Boris Ranto, Ken Dreyer, Owen Synge)</li>
<li>build: OSX build fixes (Yan, Zheng)</li>
<li>build: remove rest-bench</li>
<li>ceph-authtool: fix return code on error (Gerhard Muntingh)</li>
<li>ceph-detect-init: added Linux Mint (Michal Jarzabek)</li>
<li>ceph-detect-init: robust init system detection (Owen Synge)</li>
<li>ceph-disk: ensure &#8216;zap&#8217; only operates on a full disk (#11272 Loic Dachary)</li>
<li>ceph-disk: fix zap sgdisk invocation (Owen Synge, Thorsten Behrens)</li>
<li>ceph-disk: follow ceph-osd hints when creating journal (#9580 Sage Weil)</li>
<li>ceph-disk: handle re-using existing partition (#10987 Loic Dachary)</li>
<li>ceph-disk: improve parted output parsing (#10983 Loic Dachary)</li>
<li>ceph-disk: install pip &gt; 6.1 (#11952 Loic Dachary)</li>
<li>ceph-disk: make suppression work for activate-all and activate-journal (Dan van der Ster)</li>
<li>ceph-disk: many fixes (Loic Dachary, Alfredo Deza)</li>
<li>ceph-disk: fixes to respect init system (Loic Dachary, Owen Synge)</li>
<li>ceph-disk: pass &#8211;cluster arg on prepare subcommand (Kefu Chai)</li>
<li>ceph-disk: support for multipath devices (Loic Dachary)</li>
<li>ceph-disk: support NVMe device partitions (#11612 Ilja Slepnev)</li>
<li>ceph: fix &#8216;df&#8217; units (Zhe Zhang)</li>
<li>ceph: fix parsing in interactive cli mode (#11279 Kefu Chai)</li>
<li>cephfs-data-scan: many additions, improvements (John Spray)</li>
<li>ceph-fuse: do not require successful remount when unmounting (#10982 Greg Farnum)</li>
<li>ceph-fuse, libcephfs: don&#8217;t clear COMPLETE when trimming null (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: drop inode when rmdir finishes (#11339 Yan, Zheng)</li>
<li>ceph-fuse,libcephfs: fix uninline (#11356 Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: hold exclusive caps on dirs we &#8220;own&#8221; (#11226 Greg Farnum)</li>
<li>ceph-fuse: mostly behave on 32-bit hosts (Yan, Zheng)</li>
<li>ceph: improve error output for &#8216;tell&#8217; (#11101 Kefu Chai)</li>
<li>ceph-monstore-tool: fix store-copy (Huangjun)</li>
<li>ceph: new &#8216;ceph daemonperf&#8217; command (John Spray, Mykola Golub)</li>
<li>ceph-objectstore-tool: many many improvements (David Zafman)</li>
<li>ceph-objectstore-tool: refactoring and cleanup (John Spray)</li>
<li>ceph-post-file: misc fixes (Joey McDonald, Sage Weil)</li>
<li>ceph_test_rados: test pipelined reads (Zhiqiang Wang)</li>
<li>client: avoid sending unnecessary FLUSHSNAP messages (Yan, Zheng)</li>
<li>client: exclude setfilelock when calculating oldest tid (Yan, Zheng)</li>
<li>client: fix error handling in check_pool_perm (John Spray)</li>
<li>client: fsync waits only for inode&#8217;s caps to flush (Yan, Zheng)</li>
<li>client: invalidate kernel dcache when cache size exceeds limits (Yan, Zheng)</li>
<li>client: make fsync wait for unsafe dir operations (Yan, Zheng)</li>
<li>client: pin lookup dentry to avoid inode being freed (Yan, Zheng)</li>
<li>common: add descriptions to perfcounters (Kiseleva Alyona)</li>
<li>common: add perf counter descriptions (Alyona Kiseleva)</li>
<li>common: bufferlist performance tuning (Piotr Dalek, Sage Weil)</li>
<li>common: detect overflow of int config values (#11484 Kefu Chai)</li>
<li>common: fix bit_vector extent calc (#12611 Jason Dillaman)</li>
<li>common: fix json parsing of utf8 (#7387 Tim Serong)</li>
<li>common: fix leak of pthread_mutexattr (#11762 Ketor Meng)</li>
<li>common: fix LTTNG vs fork issue (Josh Durgin)</li>
<li>common: fix throttle max change (Henry Chang)</li>
<li>common: make mutex more efficient</li>
<li>common: make work queue addition/removal thread safe (#12662 Jason Dillaman)</li>
<li>common: optracker improvements (Zhiqiang Wang, Jianpeng Ma)</li>
<li>common: PriorityQueue tests (Kefu Chai)</li>
<li>common: some async compression infrastructure (Haomai Wang)</li>
<li>crush: add &#8211;check to validate dangling names, max osd id (Kefu Chai)</li>
<li>crush: cleanup, sync with kernel (Ilya Dryomov)</li>
<li>crush: fix crash from invalid &#8216;take&#8217; argument (#11602 Shiva Rkreddy, Sage Weil)</li>
<li>crush: fix divide-by-2 in straw2 (#11357 Yann Dupont, Sage Weil)</li>
<li>crush: fix has_v4_buckets (#11364 Sage Weil)</li>
<li>crush: fix subtree base weight on adjust_subtree_weight (#11855 Sage Weil)</li>
<li>crush: respect default replicated ruleset config on map creation (Ilya Dryomov)</li>
<li>crushtool: fix order of operations, usage (Sage Weil)</li>
<li>crypto: fix NSS leak (Jason Dillaman)</li>
<li>crypto: fix unbalanced init/shutdown (#12598 Zheng Yan)</li>
<li>deb: fix rest-bench-dbg and ceph-test-dbg dependendies (Ken Dreyer)</li>
<li>debian: minor package reorg (Ken Dreyer)</li>
<li>deb, rpm: move ceph-objectstore-tool to ceph (Ken Dreyer)</li>
<li>doc: docuemnt object corpus generation (#11099 Alexis Normand)</li>
<li>doc: document region hostnames (Robin H. Johnson)</li>
<li>doc: fix gender neutrality (Alexandre Maragone)</li>
<li>doc: fix install doc (#10957 Kefu Chai)</li>
<li>doc: fix sphinx issues (Kefu Chai)</li>
<li>doc: man page updates (Kefu Chai)</li>
<li>doc: mds data structure docs (Yan, Zheng)</li>
<li>doc: misc updates (Fracois Lafont, Ken Dreyer, Kefu Chai, Owen Synge, Gael Fenet-Garde, Loic Dachary, Yannick Atchy-Dalama, Jiaying Ren, Kevin Caradant, Robert Maxime, Nicolas Yong, Germain Chipaux, Arthur Gorjux, Gabriel Sentucq, Clement Lebrun, Jean-Remi Deveaux, Clair Massot, Robin Tang, Thomas Laumondais, Jordan Dorne, Yuan Zhou, Valentin Thomas, Pierre Chaumont, Benjamin Troquereau, Benjamin Sesia, Vikhyat Umrao, Nilamdyuti Goswami, Vartika Rai, Florian Haas, Loic Dachary, Simon Guinot, Andy Allan, Alistair Israel, Ken Dreyer, Robin Rehu, Lee Revell, Florian Marsylle, Thomas Johnson, Bosse Klykken, Travis Rhoden, Ian Kelling)</li>
<li>doc: swift tempurls (#10184 Abhishek Lekshmanan)</li>
<li>doc: switch doxygen integration back to breathe (#6115 Kefu Chai)</li>
<li>doc: update release schedule docs (Loic Dachary)</li>
<li>erasure-code: cleanup (Kefu Chai)</li>
<li>erasure-code: improve tests (Loic Dachary)</li>
<li>erasure-code: shec: fix recovery bugs (Takanori Nakao, Shotaro Kawaguchi)</li>
<li>erasure-code: update ISA-L to 2.13 (Yuan Zhou)</li>
<li>gmock: switch to submodule (Danny Al-Gaaf, Loic Dachary)</li>
<li>hadoop: add terasort test (Noah Watkins)</li>
<li>init-radosgw: merge with sysv version; fix enumeration (Sage Weil)</li>
<li>java: fix libcephfs bindings (Noah Watkins)</li>
<li>libcephfs: add pread, pwrite (Jevon Qiao)</li>
<li>libcephfs,ceph-fuse: cache cleanup (Zheng Yan)</li>
<li>libcephfs,ceph-fuse: fix request resend on cap reconnect (#10912 Yan, Zheng)</li>
<li>librados: add config observer (Alistair Strachan)</li>
<li>librados: add FULL_TRY and FULL_FORCE flags for dealing with full clusters or pools (Sage Weil)</li>
<li>librados: add src_fadvise_flags for copy-from (Jianpeng Ma)</li>
<li>librados: define C++ flags from C constants (Josh Durgin)</li>
<li>librados: fadvise flags per op (Jianpeng Ma)</li>
<li>librados: fix last_force_resent handling (#11026 Jianpeng Ma)</li>
<li>librados: fix memory leak from C_TwoContexts (Xiong Yiliang)</li>
<li>librados: fix notify completion race (#13114 Sage Weil)</li>
<li>librados: fix striper when stripe_count = 1 and stripe_unit != object_size (#11120 Yan, Zheng)</li>
<li>librados, libcephfs: randomize client nonces (Josh Durgin)</li>
<li>librados: op perf counters (John Spray)</li>
<li>librados: pybind: fix binary omap values (Robin H. Johnson)</li>
<li>librados: pybind: fix write() method return code (Javier Guerra)</li>
<li>librados: respect default_crush_ruleset on pool_create (#11640 Yuan Zhou)</li>
<li>libradosstriper: fix leak (Danny Al-Gaaf)</li>
<li>librbd: add const for single-client-only features (Josh Durgin)</li>
<li>librbd: add deep-flatten operation (Jason Dillaman)</li>
<li>librbd: add purge_on_error cache behavior (Jianpeng Ma)</li>
<li>librbd: allow additional metadata to be stored with the image (Haomai Wang)</li>
<li>librbd: avoid blocking aio API methods (#11056 Jason Dillaman)</li>
<li>librbd: better handling for dup flatten requests (#11370 Jason Dillaman)</li>
<li>librbd: cancel in-flight ops on watch error (#11363 Jason Dillaman)</li>
<li>librbd: default new images to format 2 (#11348 Jason Dillaman)</li>
<li>librbd: fadvise for copy, export, import (Jianpeng Ma)</li>
<li>librbd: fast diff implementation that leverages object map (Jason Dillaman)</li>
<li>librbd: fix fast diff bugs (#11553 Jason Dillaman)</li>
<li>librbd: fix image format detection (Zhiqiang Wang)</li>
<li>librbd: fix lock ordering issue (#11577 Jason Dillaman)</li>
<li>librbd: fix reads larger than the cache size (Lu Shi)</li>
<li>librbd: fix snapshot creation when other snap is active (#11475 Jason Dillaman)</li>
<li>librbd: flatten/copyup fixes (Jason Dillaman)</li>
<li>librbd: handle NOCACHE fadvise flag (Jinapeng Ma)</li>
<li>librbd: lockdep, helgrind validation (Jason Dillaman, Josh Durgin)</li>
<li>librbd: metadata filter fixes (Haomai Wang)</li>
<li>librbd: misc aio fixes (#5488 Jason Dillaman)</li>
<li>librbd: misc rbd fixes (#11478 #11113 #11342 #11380 Jason Dillaman, Zhiqiang Wang)</li>
<li>librbd: new diff_iterate2 API (Jason Dillaman)</li>
<li>librbd: object map rebuild support (Jason Dillaman)</li>
<li>librbd: only update image flags while hold exclusive lock (#11791 Jason Dillaman)</li>
<li>librbd: optionally disable allocation hint (Haomai Wang)</li>
<li>librbd: prevent race between resize requests (#12664 Jason Dillaman)</li>
<li>librbd: readahead fixes (Zhiqiang Wang)</li>
<li>librbd: return result code from close (#12069 Jason Dillaman)</li>
<li>librbd: store metadata, including config options, in image (Haomai Wang)</li>
<li>librbd: tolerate old osds when getting image metadata (#11549 Jason Dillaman)</li>
<li>librbd: use write_full when possible (Zhiqiang Wang)</li>
<li>log: fix data corruption race resulting from log rotation (#12465 Samuel Just)</li>
<li>logrotate.d: prefer service over invoke-rc.d (#11330 Win Hierman, Sage Weil)</li>
<li>mds: add &#8216;damaged&#8217; state to MDSMap (John Spray)</li>
<li>mds: add nicknames for perfcounters (John Spray)</li>
<li>mds: avoid emitting cap warnigns before evicting session (John Spray)</li>
<li>mds: avoid getting stuck in XLOCKDONE (#11254 Yan, Zheng)</li>
<li>mds: disable problematic rstat propagation into snap parents (Yan, Zheng)</li>
<li>mds: do not add snapped items to bloom filter (Yan, Zheng)</li>
<li>mds: expose frags via asok (John Spray)</li>
<li>mds: fix expected holes in journal objects (#13167 Yan, Zheng)</li>
<li>mds: fix handling for missing mydir dirfrag (#11641 John Spray)</li>
<li>mds: fix integer truncateion on large client ids (Henry Chang)</li>
<li>mds: fix mydir replica issue with shutdown (#10743 John Spray)</li>
<li>mds: fix out-of-order messages (#11258 Yan, Zheng)</li>
<li>mds: fix rejoin (Yan, Zheng)</li>
<li>mds: fix setting entire file layout in one setxattr (John Spray)</li>
<li>mds: fix shutdown (John Spray)</li>
<li>mds: fix shutdown with strays (#10744 John Spray)</li>
<li>mds: fix SnapServer crash on deleted pool (John Spray)</li>
<li>mds: fix snapshot bugs (Yan, Zheng)</li>
<li>mds: fix stray reintegration (Yan, Zheng)</li>
<li>mds: fix stray handling (John Spray)</li>
<li>mds: fix suicide beacon (John Spray)</li>
<li>mds: flush immediately in do_open_truncate (#11011 John Spray)</li>
<li>mds: handle misc corruption issues (John Spray)</li>
<li>mds: improve dump methods (John Spray)</li>
<li>mds: many fixes (Yan, Zheng, John Spray, Greg Farnum)</li>
<li>mds: many snapshot and stray fixes (Yan, Zheng)</li>
<li>mds: misc fixes (Jianpeng Ma, Dan van der Ster, Zhang Zhi)</li>
<li>mds: misc journal cleanups and fixes (#10368 John Spray)</li>
<li>mds: misc repair improvements (John Spray)</li>
<li>mds: misc snap fixes (Zheng Yan)</li>
<li>mds: misc snapshot fixes (Yan, Zheng)</li>
<li>mds: new SessionMap storage using omap (#10649 John Spray)</li>
<li>mds: persist completed_requests reliably (#11048 John Spray)</li>
<li>mds: reduce memory consumption (Yan, Zheng)</li>
<li>mds: respawn instead of suicide on blacklist (John Spray)</li>
<li>mds: separate safe_pos in Journaler (#10368 John Spray)</li>
<li>mds: snapshot rename support (#3645 Yan, Zheng)</li>
<li>mds: store layout on header object (#4161 John Spray)</li>
<li>mds: throttle purge stray operations (#10390 John Spray)</li>
<li>mds: tolerate clock jumping backwards (#11053 Yan, Zheng)</li>
<li>mds: warn when clients fail to advance oldest_client_tid (#10657 Yan, Zheng)</li>
<li>misc cleanups and fixes (Danny Al-Gaaf)</li>
<li>misc coverity fixes (Danny Al-Gaaf)</li>
<li>misc performance and cleanup (Nathan Cutler, Xinxin Shu)</li>
<li>mon: add cache over MonitorDBStore (Kefu Chai)</li>
<li>mon: add &#8216;mon_metadata &lt;id&gt;&#8217; command (Kefu Chai)</li>
<li>mon: add &#8216;node ls ...&#8217; command (Kefu Chai)</li>
<li>mon: add NOFORWARD, OBSOLETE, DEPRECATE flags for mon commands (Joao Eduardo Luis)</li>
<li>mon: add PG count to &#8216;ceph osd df&#8217; output (Michal Jarzabek)</li>
<li>mon: &#8216;ceph osd metadata&#8217; can dump all osds (Haomai Wang)</li>
<li>mon: clean up, reorg some mon commands (Joao Eduardo Luis)</li>
<li>monclient: flush_log (John Spray)</li>
<li>mon: detect kv backend failures (Sage Weil)</li>
<li>mon: disallow &gt;2 tiers (#11840 Kefu Chai)</li>
<li>mon: disallow ec pools as tiers (#11650 Samuel Just)</li>
<li>mon: do not deactivate last mds (#10862 John Spray)</li>
<li>mon: fix average utilization calc for &#8216;osd df&#8217; (Mykola Golub)</li>
<li>mon: fix CRUSH map test for new pools (Sage Weil)</li>
<li>mon: fix log dump crash when debugging (Mykola Golub)</li>
<li>mon: fix mds beacon replies (#11590 Kefu Chai)</li>
<li>mon: fix metadata update race (Mykola Golub)</li>
<li>mon: fix min_last_epoch_clean tracking (Kefu Chai)</li>
<li>mon: fix &#8216;pg ls&#8217; sort order, state names (#11569 Kefu Chai)</li>
<li>mon: fix refresh (#11470 Joao Eduardo Luis)</li>
<li>mon: fix variance calc in &#8216;osd df&#8217; (Sage Weil)</li>
<li>mon: improve callout to crushtool (Mykola Golub)</li>
<li>mon: make blocked op messages more readable (Jianpeng Ma)</li>
<li>mon: make osd get pool &#8216;all&#8217; only return applicable fields (#10891 Michal Jarzabek)</li>
<li>mon: misc scaling fixes (Sage Weil)</li>
<li>mon: normalize erasure-code profile for storage and comparison (Loic Dachary)</li>
<li>mon: only send mon metadata to supporting peers (Sage Weil)</li>
<li>mon: optionally specify osd id on &#8216;osd create&#8217; (Mykola Golub)</li>
<li>mon: &#8216;osd tree&#8217; fixes (Kefu Chai)</li>
<li>mon: periodic background scrub (Joao Eduardo Luis)</li>
<li>mon: prevent bucket deletion when referenced by a crush rule (#11602 Sage Weil)</li>
<li>mon: prevent pgp_num &gt; pg_num (#12025 Xinxin Shu)</li>
<li>mon: prevent pool with snapshot state from being used as a tier (#11493 Sage Weil)</li>
<li>mon: prime pg_temp when CRUSH map changes (Sage Weil)</li>
<li>mon: refine check_remove_tier checks (#11504 John Spray)</li>
<li>mon: reject large max_mds values (#12222 John Spray)</li>
<li>mon: remove spurious who arg from &#8216;mds rm ...&#8217; (John Spray)</li>
<li>mon: streamline session handling, fix memory leaks (Sage Weil)</li>
<li>mon: upgrades must pass through hammer (Sage Weil)</li>
<li>mon: warn on bogus cache tier config (Jianpeng Ma)</li>
<li>msgr: add ceph_perf_msgr tool (Hoamai Wang)</li>
<li>msgr: async: fix seq handling (Haomai Wang)</li>
<li>msgr: async: many many fixes (Haomai Wang)</li>
<li>msgr: simple: fix clear_pipe (#11381 Haomai Wang)</li>
<li>msgr: simple: fix connect_seq assert (Haomai Wang)</li>
<li>msgr: xio: fastpath improvements (Raju Kurunkad)</li>
<li>msgr: xio: fix ip and nonce (Raju Kurunkad)</li>
<li>msgr: xio: improve lane assignment (Vu Pham)</li>
<li>msgr: xio: sync with accellio v1.4 (Vu Pham)</li>
<li>msgr: xio: misc fixes (#10735 Matt Benjamin, Kefu Chai, Danny Al-Gaaf, Raju Kurunkad, Vu Pham, Casey Bodley)</li>
<li>msg: unit tests (Haomai Wang)</li>
<li>objectcacher: misc bug fixes (Jianpeng Ma)</li>
<li>osd: add latency perf counters for tier operations (Xinze Chi)</li>
<li>osd: add misc perfcounters (Xinze Chi)</li>
<li>osd: add simple sleep injection in recovery (Sage Weil)</li>
<li>osd: allow SEEK_HOLE/SEEK_DATA for sparse read (Zhiqiang Wang)</li>
<li>osd: avoid dup omap sets for in pg metadata (Sage Weil)</li>
<li>osd: avoid multiple hit set insertions (Zhiqiang Wang)</li>
<li>osd: avoid transaction append in some cases (Sage Weil)</li>
<li>osd: break PG removal into multiple iterations (#10198 Guang Yang)</li>
<li>osd: cache proxy-write support (Zhiqiang Wang, Samuel Just)</li>
<li>osd: check scrub state when handling map (Jianpeng Ma)</li>
<li>osd: clean up some constness, privateness (Kefu Chai)</li>
<li>osd: clean up temp object if promotion fails (Jianpeng Ma)</li>
<li>osd: configure promotion based on write recency (Zhiqiang Wang)</li>
<li>osd: constrain collections to meta and PGs (normal and temp) (Sage Weil)</li>
<li>osd: don&#8217;t send dup MMonGetOSDMap requests (Sage Weil, Kefu Chai)</li>
<li>osd: EIO injection (David Zhang)</li>
<li>osd: elminiate txn apend, ECSubWrite copy (Samuel Just)</li>
<li>osd: erasure-code: drop entries according to LRU (Andreas-Joachim Peters)</li>
<li>osd: erasure-code: fix SHEC floating point bug (#12936 Loic Dachary)</li>
<li>osd: erasure-code: update to ISA-L 2.14 (Yuan Zhou)</li>
<li>osd: filejournal: cleanup (David Zafman)</li>
<li>osd: filestore: clone using splice (Jianpeng Ma)</li>
<li>osd: filestore: fix recursive lock (Xinxin Shu)</li>
<li>osd: fix check_for_full (Henry Chang)</li>
<li>osd: fix dirty accounting in make_writeable (Zhiqiang Wang)</li>
<li>osd: fix dup promotion lost op bug (Zhiqiang Wang)</li>
<li>osd: fix endless repair when object is unrecoverable (Jianpeng Ma, Kefu Chai)</li>
<li>osd: fix hitset object naming to use GMT (Kefu Chai)</li>
<li>osd: fix misc memory leaks (Sage Weil)</li>
<li>osd: fix negative degraded stats during backfill (Guang Yang)</li>
<li>osd: fix osdmap dump of blacklist items (John Spray)</li>
<li>osd: fix peek_queue locking in FileStore (Xinze Chi)</li>
<li>osd: fix pg resurrection (#11429 Samuel Just)</li>
<li>osd: fix promotion vs full cache tier (Samuel Just)</li>
<li>osd: fix replay requeue when pg is still activating (#13116 Samuel Just)</li>
<li>osd: fix scrub stat bugs (Sage Weil, Samuel Just)</li>
<li>osd: fix snap flushing from cache tier (again) (#11787 Samuel Just)</li>
<li>osd: fix snap handling on promotion (#11296 Sam Just)</li>
<li>osd: fix temp-clearing (David Zafman)</li>
<li>osd: force promotion for ops EC can&#8217;t handle (Zhiqiang Wang)</li>
<li>osd: handle log split with overlapping entries (#11358 Samuel Just)</li>
<li>osd: ignore non-existent osds in unfound calc (#10976 Mykola Golub)</li>
<li>osd: improve behavior on machines with large memory pages (Steve Capper)</li>
<li>osd: include a temp namespace within each collection/pgid (Sage Weil)</li>
<li>osd: increase default max open files (Owen Synge)</li>
<li>osd: keyvaluestore: misc fixes (Varada Kari)</li>
<li>osd: low and high speed flush modes (Mingxin Liu)</li>
<li>osd: make suicide timeouts individually configurable (Samuel Just)</li>
<li>osd: merge multiple setattr calls into a setattrs call (Xinxin Shu)</li>
<li>osd: misc fixes (Ning Yao, Kefu Chai, Xinze Chi, Zhiqiang Wang, Jianpeng Ma)</li>
<li>osd: move scrub in OpWQ (Samuel Just)</li>
<li>osd: newstore prototype (Sage Weil)</li>
<li>osd: ObjectStore internal API refactor (Sage Weil)</li>
<li>osd: peer_features includes self (David Zafman)</li>
<li>osd: pool size change triggers new interval (#11771 Samuel Just)</li>
<li>osd: prepopulate needs_recovery_map when only one peer has missing (#9558 Guang Yang)</li>
<li>osd: randomize scrub times (#10973 Kefu Chai)</li>
<li>osd: recovery, peering fixes (#11687 Samuel Just)</li>
<li>osd: refactor scrub and digest recording (Sage Weil)</li>
<li>osd: refuse first write to EC object at non-zero offset (Jianpeng Ma)</li>
<li>osd: relax reply order on proxy read (#11211 Zhiqiang Wang)</li>
<li>osd: require firefly features (David Zafman)</li>
<li>osd: set initial crush weight with more precision (Sage Weil)</li>
<li>osd: SHEC no longer experimental</li>
<li>osd: skip promotion for flush/evict op (Zhiqiang Wang)</li>
<li>osd: stripe over small xattrs to fit in XFS&#8217;s 255 byte inline limit (Sage Weil, Ning Yao)</li>
<li>osd: sync object_map on syncfs (Samuel Just)</li>
<li>osd: take excl lock of op is rw (Samuel Just)</li>
<li>osd: throttle evict ops (Yunchuan Wen)</li>
<li>osd: upgrades must pass through hammer (Sage Weil)</li>
<li>osd: use a temp object for recovery (Sage Weil)</li>
<li>osd: use blkid to collection partition information (Joseph Handzik)</li>
<li>osd: use SEEK_HOLE / SEEK_DATA for sparse copy (Xinxin Shu)</li>
<li>osd: WBThrottle cleanups (Jianpeng Ma)</li>
<li>osd: write journal header on clean shutdown (Xinze Chi)</li>
<li>osdc/Objecter: allow per-pool calls to op_cancel_writes (John Spray)</li>
<li>os/filestore: enlarge getxattr buffer size (Jianpeng Ma)</li>
<li>pybind: pep8 cleanups (Danny Al-Gaaf)</li>
<li>pycephfs: many fixes for bindings (Haomai Wang)</li>
<li>qa: fix filelock_interrupt.py test (Yan, Zheng)</li>
<li>qa: improve ceph-disk tests (Loic Dachary)</li>
<li>qa: improve docker build layers (Loic Dachary)</li>
<li>qa: run-make-check.sh script (Loic Dachary)</li>
<li>rados: add &#8211;striper option to use libradosstriper (#10759 Sebastien Ponce)</li>
<li>rados: bench: add &#8211;no-verify option to improve performance (Piotr Dalek)</li>
<li>rados bench: misc fixes (Dmitry Yatsushkevich)</li>
<li>rados: fix error message on failed pool removal (Wido den Hollander)</li>
<li>radosgw-admin: add &#8216;bucket check&#8217; function to repair bucket index (Yehuda Sadeh)</li>
<li>radosgw-admin: fix subuser modify output (#12286 Guce)</li>
<li>rados: handle &#8211;snapid arg properly (Abhishek Lekshmanan)</li>
<li>rados: improve bench buffer handling, performance (Piotr Dalek)</li>
<li>rados: misc bench fixes (Dmitry Yatsushkevich)</li>
<li>rados: new pool import implementation (John Spray)</li>
<li>rados: translate errno to string in CLI (#10877 Kefu Chai)</li>
<li>rbd: accept map options config option (Ilya Dryomov)</li>
<li>rbd: add disk usage tool (#7746 Jason Dillaman)</li>
<li>rbd: allow unmapping by spec (Ilya Dryomov)</li>
<li>rbd: cli: fix arg parsing with &#8211;io-pattern (Dmitry Yatsushkevich)</li>
<li>rbd: deprecate &#8211;new-format option (Jason Dillman)</li>
<li>rbd: fix error messages (#2862 Rajesh Nambiar)</li>
<li>rbd: fix link issues (Jason Dillaman)</li>
<li>rbd: improve CLI arg parsing, usage (Ilya Dryomov)</li>
<li>rbd: rbd-replay-prep and rbd-replay improvements (Jason Dillaman)</li>
<li>rbd: recognize queue_depth kernel option (Ilya Dryomov)</li>
<li>rbd: support G and T units for CLI (Abhishek Lekshmanan)</li>
<li>rbd: update rbd man page (Ilya Dryomov)</li>
<li>rbd: update xfstests tests (Douglas Fuller)</li>
<li>rbd: use image-spec and snap-spec in help (Vikhyat Umrao, Ilya Dryomov)</li>
<li>rest-bench: misc fixes (Shawn Chen)</li>
<li>rest-bench: support https (#3968 Yuan Zhou)</li>
<li>rgw: add max multipart upload parts (#12146 Abshishek Dixit)</li>
<li>rgw: add missing headers to Swift container details (#10666 Ahmad Faheem, Dmytro Iurchenko)</li>
<li>rgw: add stats to headers for account GET (#10684 Yuan Zhou)</li>
<li>rgw: add Trasnaction-Id to response (Abhishek Dixit)</li>
<li>rgw: add X-Timestamp for Swift containers (#10938 Radoslaw Zarzynski)</li>
<li>rgw: always check if token is expired (#11367 Anton Aksola, Riku Lehto)</li>
<li>rgw: conversion tool to repair broken multipart objects (#12079 Yehuda Sadeh)</li>
<li>rgw: document layout of pools and objects (Pete Zaitcev)</li>
<li>rgw: do not enclose bucket header in quotes (#11860 Wido den Hollander)</li>
<li>rgw: do not prefetch data for HEAD requests (Guang Yang)</li>
<li>rgw: do not preserve ACLs when copying object (#12370 Yehuda Sadeh)</li>
<li>rgw: do not set content-type if length is 0 (#11091 Orit Wasserman)</li>
<li>rgw: don&#8217;t clobber bucket/object owner when setting ACLs (#10978 Yehuda Sadeh)</li>
<li>rgw: don&#8217;t use end_marker for namespaced object listing (#11437 Yehuda Sadeh)</li>
<li>rgw: don&#8217;t use rgw_socket_path if frontend is configured (#11160 Yehuda Sadeh)</li>
<li>rgw: enforce Content-Length for POST on Swift cont/obj (#10661 Radoslaw Zarzynski)</li>
<li>rgw: error out if frontend did not send all data (#11851 Yehuda Sadeh)</li>
<li>rgw: expose the number of unhealthy workers through admin socket (Guang Yang)</li>
<li>rgw: fail if parts not specified on multipart upload (#11435 Yehuda Sadeh)</li>
<li>rgw: fix assignment of copy obj attributes (#11563 Yehuda Sadeh)</li>
<li>rgw: fix broken stats in container listing (#11285 Radoslaw Zarzynski)</li>
<li>rgw: fix bug in domain/subdomain splitting (Robin H. Johnson)</li>
<li>rgw: fix casing of Content-Type header (Robin H. Johnson)</li>
<li>rgw: fix civetweb max threads (#10243 Yehuda Sadeh)</li>
<li>rgw: fix Connection: header handling (#12298 Wido den Hollander)</li>
<li>rgw: fix copy metadata, support X-Copied-From for swift (#10663 Radoslaw Zarzynski)</li>
<li>rgw: fix data corruptions race condition (#11749 Wuxingyi)</li>
<li>rgw: fix decoding of X-Object-Manifest from GET on Swift DLO (Radslow Rzarzynski)</li>
<li>rgw: fix GET on swift account when limit == 0 (#10683 Radoslaw Zarzynski)</li>
<li>rgw: fix handling empty metadata items on Swift container (#11088 Radoslaw Zarzynski)</li>
<li>rgw: fix JSON response when getting user quota (#12117 Wuxingyi)</li>
<li>rgw: fix locator for objects starting with _ (#11442 Yehuda Sadeh)</li>
<li>rgw: fix log rotation (Wuxingyi)</li>
<li>rgw: fix mulitipart upload in retry path (#11604 Yehuda Sadeh)</li>
<li>rgw: fix quota enforcement on POST (#11323 Sergey Arkhipov)</li>
<li>rgw: fix reset_loc (#11974 Yehuda Sadeh)</li>
<li>rgw: fix return code on missing upload (#11436 Yehuda Sadeh)</li>
<li>rgw: fix sysvinit script</li>
<li>rgw: fix sysvinit script w/ multiple instances (Sage Weil, Pavan Rallabhandi)</li>
<li>rgw: force content_type for swift bucket stats requests (#12095 Orit Wasserman)</li>
<li>rgw: force content type header on responses with no body (#11438 Orit Wasserman)</li>
<li>rgw: generate Date header for civetweb (#10873 Radoslaw Zarzynski)</li>
<li>rgw: generate new object tag when setting attrs (#11256 Yehuda Sadeh)</li>
<li>rgw: improve content-length env var handling (#11419 Robin H. Johnson)</li>
<li>rgw: improved support for swift account metadata (Radoslaw Zarzynski)</li>
<li>rgw: improve handling of already removed buckets in expirer (Radoslaw Rzarzynski)</li>
<li>rgw: issue aio for first chunk before flush cached data (#11322 Guang Yang)</li>
<li>rgw: log to /var/log/ceph instead of /var/log/radosgw</li>
<li>rgw: make init script wait for radosgw to stop (#11140 Dmitry Yatsushkevich)</li>
<li>rgw: make max put size configurable (#6999 Yuan Zhou)</li>
<li>rgw: make quota/gc threads configurable (#11047 Guang Yang)</li>
<li>rgw: make read user buckets backward compat (#10683 Radoslaw Zarzynski)</li>
<li>rgw: merge manifests properly with prefix override (#11622 Yehuda Sadeh)</li>
<li>rgw: only scan for objects not in a namespace (#11984 Yehuda Sadeh)</li>
<li>rgw: orphan detection tool (Yehuda Sadeh)</li>
<li>rgw: pass in civetweb configurables (#10907 Yehuda Sadeh)</li>
<li>rgw: rectify 202 Accepted in PUT response (#11148 Radoslaw Zarzynski)</li>
<li>rgw: remove meta file after deleting bucket (#11149 Orit Wasserman)</li>
<li>rgw: remove trailing :port from HTTP_HOST header (Sage Weil)</li>
<li>rgw: return 412 on bad limit when listing buckets (#11613 Yehuda Sadeh)</li>
<li>rgw: rework X-Trans-Id header to conform with Swift API (Radoslaw Rzarzynski)</li>
<li>rgw: s3 encoding-type for get bucket (Jeff Weber)</li>
<li>rgw: send ETag, Last-Modified for swift (#11087 Radoslaw Zarzynski)</li>
<li>rgw: set content length on container GET, PUT, DELETE, HEAD (#10971, #11036 Radoslaw Zarzynski)</li>
<li>rgw: set max buckets per user in ceph.conf (Vikhyat Umrao)</li>
<li>rgw: shard work over multiple librados instances (Pavan Rallabhandi)</li>
<li>rgw: support end marker on swift container GET (#10682 Radoslaw Zarzynski)</li>
<li>rgw: support for Swift expiration API (Radoslaw Rzarzynski, Yehuda Sadeh)</li>
<li>rgw: swift: allow setting attributes with COPY (#10662 Ahmad Faheem, Dmytro Iurchenko)</li>
<li>rgw: swift: do not override sent content type (#12363 Orit Wasserman)</li>
<li>rgw: swift: enforce Content-Type in response (#12157 Radoslaw Zarzynski)</li>
<li>rgw: swift: fix account listing (#11501 Radoslaw Zarzynski)</li>
<li>rgw: swift: fix metadata handling on copy (#10645 Radoslaw Zarzynski)</li>
<li>rgw: swift: send Last-Modified header (#10650 Radoslaw Zarzynski)</li>
<li>rgw: swift: set Content-Length for account GET (#12158 Radoslav Zarzynski)</li>
<li>rgw: swift: set content-length on keystone tokens (#11473 Herv Rousseau)</li>
<li>rgw: update keystone cache with token info (#11125 Yehuda Sadeh)</li>
<li>rgw: update to latest civetweb, enable config for IPv6 (#10965 Yehuda Sadeh)</li>
<li>rgw: use attrs from source bucket on copy (#11639 Javier M. Mellid)</li>
<li>rgw: use correct oid for gc chains (#11447 Yehuda Sadeh)</li>
<li>rgw: user rm is idempotent (Orit Wasserman)</li>
<li>rgw: use unique request id for civetweb (#10295 Orit Wasserman)</li>
<li>rocksdb: add perf counters for get/put latency (Xinxin Shu)</li>
<li>rocksdb, leveldb: fix compact_on_mount (Xiaoxi Chen)</li>
<li>rocksdb: pass options as single string (Xiaoxi Chen)</li>
<li>rocksdb: update to latest (Xiaoxi Chen)</li>
<li>rpm: add suse firewall files (Tim Serong)</li>
<li>rpm: always rebuild and install man pages for rpm (Owen Synge)</li>
<li>rpm: loosen ceph-test dependencies (Ken Dreyer)</li>
<li>rpm: many spec file fixes (Owen Synge, Ken Dreyer)</li>
<li>rpm: misc fixes (Boris Ranto, Owen Synge, Ken Dreyer, Ira Cooper)</li>
<li>rpm: misc systemd and SUSE fixes (Owen Synge, Nathan Cutler)</li>
<li>selinux policy (Boris Ranto, Milan Broz)</li>
<li>systemd: logrotate fixes (Tim Serong, Lars Marowsky-Bree, Nathan Cutler)</li>
<li>systemd: many fixes (Sage Weil, Owen Synge, Boris Ranto, Dan van der Ster)</li>
<li>systemd: run daemons as user ceph</li>
<li>sysvinit compat: misc fixes (Owen Synge)</li>
<li>test: misc fs test improvements (John Spray, Loic Dachary)</li>
<li>test: python tests, linter cleanup (Alfredo Deza)</li>
<li>tests: fixes for rbd xstests (Douglas Fuller)</li>
<li>tests: fix tiering health checks (Loic Dachary)</li>
<li>tests for low-level performance (Haomai Wang)</li>
<li>tests: many ec non-regression improvements (Loic Dachary)</li>
<li>tests: many many ec test improvements (Loic Dachary)</li>
<li>upstart: throttle restarts (#11798 Sage Weil, Greg Farnum)</li>
</ul>
</div>
</div>
<div class="section" id="v10-1-2-jewel-release-candidate">
<h2>v10.1.2 Jewel (release candidate)<a class="headerlink" href="#v10-1-2-jewel-release-candidate" title="Permalink to this headline">¶</a></h2>
<p>This is the third (and likely final) release candidate for Jewel.</p>
<div class="section" id="notable-changes-since-v10-1-1">
<h3>Notable Changes since v10.1.1<a class="headerlink" href="#notable-changes-since-v10-1-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>rgw: Jewel nfs fixes 3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/8460">pr#8460</a>, Matt Benjamin)</li>
<li>osd/PG: set epoch_created and parent_split_bits for child pg (<a class="reference external" href="http://tracker.ceph.com/issues/15426">issue#15426</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8552">pr#8552</a>, Kefu Chai)</li>
<li>rgw: signature mismatch with escaped characters in url query portion (<a class="reference external" href="http://tracker.ceph.com/issues/15358">issue#15358</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8445">pr#8445</a>, Javier M. Mellid)</li>
<li>authtool: update &#8211;help and manpage to match code. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8456">pr#8456</a>, Robin H. Johnson)</li>
<li>build: Respect TMPDIR for virtualenv. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8457">pr#8457</a>, Robin H. Johnson)</li>
<li>ceph-disk: do not always fail when re-using a partition (<a class="reference external" href="http://github.com/ceph/ceph/pull/8508">pr#8508</a>, You Ji)</li>
<li>ceph-fuse: rotate log file (<a class="reference external" href="http://github.com/ceph/ceph/pull/8485">pr#8485</a>, Sage Weil)</li>
<li>ceph-rest-api: fix fs/flag/set (<a class="reference external" href="http://github.com/ceph/ceph/pull/8428">pr#8428</a>, Sage Weil)</li>
<li>check-generated.sh: can&#8217;t source bash from sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/8521">pr#8521</a>, Michal Jarzabek)</li>
<li>common: buffer: put a guard for stat() syscall during read_file (<a class="reference external" href="http://github.com/ceph/ceph/pull/7956">pr#7956</a>, xie xingguo)</li>
<li>common: fix time_t cast in decode (<a class="reference external" href="http://tracker.ceph.com/issues/15330">issue#15330</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8419">pr#8419</a>, Adam C. Emerson)</li>
<li>crush: fix typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/8518">pr#8518</a>, Wei Jin)</li>
<li>doc: rgw admin uses &#8220;region list&#8221; not &#8220;regions list&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/8517">pr#8517</a>, Kris Jurka)</li>
<li>journal: fix final result for JournalTrimmer::C_RemoveSet (<a class="reference external" href="http://github.com/ceph/ceph/pull/8516">pr#8516</a>, runsisi)</li>
<li>journal: fix race condition between Future and journal shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/15364">issue#15364</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8477">pr#8477</a>, Jason Dillaman)</li>
<li>librados: Revert &#8220;rados: Add new field flags for ceph_osd_op.copy_get.&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/8486">pr#8486</a>, Sage Weil)</li>
<li>librbd: disallow unsafe rbd_op_threads values (<a class="reference external" href="http://tracker.ceph.com/issues/15034">issue#15034</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8459">pr#8459</a>, Josh Durgin)</li>
<li>mailmap update (<a class="reference external" href="http://github.com/ceph/ceph/pull/8522">pr#8522</a>, M Ranga Swami Reddy)</li>
<li>mds: Add cmapv to ESessions default constructor initializer list (<a class="reference external" href="http://github.com/ceph/ceph/pull/8403">pr#8403</a>, John Coyle)</li>
<li>mds: fix file_layout_t legacy encoding snafu (<a class="reference external" href="http://github.com/ceph/ceph/pull/8455">pr#8455</a>, Sage Weil)</li>
<li>mds: Protect a number of unstable/experimental features behind durable flags (<a class="reference external" href="https://github.com/ceph/ceph/pull/8383">pr#8383</a>, Greg Farnum)</li>
<li>mds: Extend the existing pool access checking to include specific RADOS namespacse. (<a class="reference external" href="https://github.com/ceph/ceph/pull/8444">pr#8444</a>, Yan, Zheng)</li>
<li>os/ObjectStore: make device uuid probe output something friendly (<a class="reference external" href="http://github.com/ceph/ceph/pull/8418">pr#8418</a>, Sage Weil)</li>
<li>os/bluestore: revamp BlueFS bdev management and add perfcounters (<a class="reference external" href="http://tracker.ceph.com/issues/15376">issue#15376</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8431">pr#8431</a>, Sage Weil)</li>
<li>os/filestore: force lfn attrs to be written atomically, restructure name length limits (<a class="reference external" href="http://github.com/ceph/ceph/pull/8496">pr#8496</a>, Samuel Just)</li>
<li>osd/ReplicatedPG::_rollback_to: update the OMAP flag (<a class="reference external" href="http://tracker.ceph.com/issues/14777">issue#14777</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8495">pr#8495</a>, Samuel Just)</li>
<li>osd: clean up temp object if copy-from fails (<a class="reference external" href="http://github.com/ceph/ceph/pull/8487">pr#8487</a>, Sage Weil)</li>
<li>osd: fix two scrub relevant issues (<a class="reference external" href="http://github.com/ceph/ceph/pull/8462">pr#8462</a>, xie xingguo)</li>
<li>osd: fix/clean up full map request handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/8446">pr#8446</a>, Sage Weil)</li>
<li>osdc/Objecter: fix narrow race with tid assignment (<a class="reference external" href="http://tracker.ceph.com/issues/14364">issue#14364</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7981">pr#7981</a>, Sage Weil)</li>
<li>radosgw-admin: allow (<a class="reference external" href="http://github.com/ceph/ceph/pull/8529">pr#8529</a>, Orit Wasserman)</li>
<li>rbd-mirror: workaround for intermingled lockdep singletons (<a class="reference external" href="http://github.com/ceph/ceph/pull/8476">pr#8476</a>, Jason Dillaman)</li>
<li>rbd: journal reset should disable/re-enable journaling feature (<a class="reference external" href="http://tracker.ceph.com/issues/15097">issue#15097</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8490">pr#8490</a>, Jason Dillaman)</li>
<li>rgw-admin: remove unused iterator and fix error message (<a class="reference external" href="http://github.com/ceph/ceph/pull/8507">pr#8507</a>, Karol Mroz)</li>
<li>rgw: aws4 subdomain calling bugfix (<a class="reference external" href="http://tracker.ceph.com/issues/15369">issue#15369</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8472">pr#8472</a>, Javier M. Mellid)</li>
<li>rgw: fix a typo in error message (<a class="reference external" href="http://github.com/ceph/ceph/pull/8434">pr#8434</a>, Abhishek Lekshmanan)</li>
<li>rgw: fix problem deleting objects begining with double underscores (<a class="reference external" href="http://tracker.ceph.com/issues/15318">issue#15318</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8488">pr#8488</a>, Orit Wasserman)</li>
<li>rgw: retry RGWRemoteMetaLog::read_log_info() while master is down (<a class="reference external" href="http://github.com/ceph/ceph/pull/8453">pr#8453</a>, Casey Bodley)</li>
<li>rgw: the map &#8216;headers&#8217; is assigned a wrong value (<a class="reference external" href="http://github.com/ceph/ceph/pull/8481">pr#8481</a>, weiqiaomiao)</li>
<li>rgw_ldap: make ldap.h inclusion conditional (<a class="reference external" href="http://github.com/ceph/ceph/pull/8500">pr#8500</a>, Matt Benjamin)</li>
<li>systemd: drop any systemd imposed process/thread limits (<a class="reference external" href="http://github.com/ceph/ceph/pull/8450">pr#8450</a>, James Page)</li>
<li>test: fix ut test failure caused by lfn change (<a class="reference external" href="http://tracker.ceph.com/issues/15464">issue#15464</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8544">pr#8544</a>, xie xingguo)</li>
<li>test: fix valgrind memcheck issues for rbd-mirror test cases (<a class="reference external" href="http://tracker.ceph.com/issues/15354">issue#15354</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8493">pr#8493</a>, Jason Dillaman)</li>
<li>tests: add Ubuntu 16.04 xenial dockerfile (<a class="reference external" href="http://github.com/ceph/ceph/pull/8519">pr#8519</a>, Loic Dachary)</li>
</ul>
</div>
</div>
<div class="section" id="v10-1-1-jewel-release-candidate">
<h2>v10.1.1 Jewel (release candidate)<a class="headerlink" href="#v10-1-1-jewel-release-candidate" title="Permalink to this headline">¶</a></h2>
<p>This is the first release build that includes arm64/aarch64 packages
for Ubuntu Xenial 16.04.</p>
<div class="section" id="know-issues-with-this-release-candidate">
<h3>Know issues with this release candidate<a class="headerlink" href="#know-issues-with-this-release-candidate" title="Permalink to this headline">¶</a></h3>
<p>There are a few known issues to watch out for:</p>
<blockquote>
<div><ul class="simple">
<li>Old CephFS clusters will mangle the layouts with this release; the
fix was committed just after it was cut.  Wait for the next RC or the
release if you&#8217;re upgrading a cluster that has a CephFS data pool as
pool 0.</li>
<li>The upstart ceph-mds-all.conf file is missing.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="notable-changes-since-v10-1-0">
<h3>Notable Changes since v10.1.0<a class="headerlink" href="#notable-changes-since-v10-1-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Adding documentation on how to use new dynamic throttle scheme (<a class="reference external" href="http://github.com/ceph/ceph/pull/8069">pr#8069</a>, Somnath Roy)</li>
<li>Be more careful about directory fragmentation and scrubbing (<a class="reference external" href="http://tracker.ceph.com/issues/15167">issue#15167</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8180">pr#8180</a>, Yan, Zheng)</li>
<li>CMake: For CMake version &lt;= 2.8.11, use LINK_PRIVATE (<a class="reference external" href="http://github.com/ceph/ceph/pull/8422">pr#8422</a>, Haomai Wang)</li>
<li>Makefile-env.am: set a default for CEPH_BUILD_VIRTUALENV (part 2) (<a class="reference external" href="http://github.com/ceph/ceph/pull/8320">pr#8320</a>, Loic Dachary)</li>
<li>Minor fixes around data scan in some scenarios (<a class="reference external" href="http://github.com/ceph/ceph/pull/8115">pr#8115</a>, Yan, Zheng)</li>
<li>PG: pg down state blocked by osd.x, lost osd.x cannot solve peering stuck (<a class="reference external" href="http://tracker.ceph.com/issues/13531">issue#13531</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6317">pr#6317</a>, Xiaowei Chen)</li>
<li>osd/PG: indicate in pg query output whether ignore_history_les would help (<a class="reference external" href="http://github.com/ceph/ceph/pull/8156">pr#8156</a>, Sage Weil)</li>
<li>Striper: reduce assemble_result log level (<a class="reference external" href="http://github.com/ceph/ceph/pull/8426">pr#8426</a>, Jason Dillaman)</li>
<li>Test exit values on test.sh, fix tier.cc (<a class="reference external" href="http://tracker.ceph.com/issues/15165">issue#15165</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8266">pr#8266</a>, Samuel Just)</li>
<li>ceph.in: correct dev python path for automake builds (<a class="reference external" href="http://github.com/ceph/ceph/pull/8360">pr#8360</a>, Josh Durgin)</li>
<li>osd/OSD: fix build_past_intervals_parallel (<a class="reference external" href="http://github.com/ceph/ceph/pull/8215">pr#8215</a>, David Zafman)</li>
<li>rgw: sync fixes 4 (<a class="reference external" href="http://github.com/ceph/ceph/pull/8190">pr#8190</a>, Yehuda Sadeh)</li>
<li>[rgw] Check return code in RGWFileHandle::write (<a class="reference external" href="http://github.com/ceph/ceph/pull/7875">pr#7875</a>, Brad Hubbard)</li>
<li>build: fix compiling warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/8366">pr#8366</a>, Dongsheng Yang)</li>
<li>ceph-detect-init/run-tox.sh: FreeBSD: No init detect (<a class="reference external" href="http://github.com/ceph/ceph/pull/8373">pr#8373</a>, Willem Jan Withagen)</li>
<li>ceph.in: fix python libpath for automake as well (<a class="reference external" href="http://github.com/ceph/ceph/pull/8362">pr#8362</a>, Josh Durgin)</li>
<li>ceph: bash auto complete for CLI based on mon command descriptions (<a class="reference external" href="http://github.com/ceph/ceph/pull/7693">pr#7693</a>, Adam Kupczyk)</li>
<li>cls_journal: fix -EEXIST checking (<a class="reference external" href="http://github.com/ceph/ceph/pull/8413">pr#8413</a>, runsisi)</li>
<li>cls_rbd: fix -EEXIST checking in cls::rbd::image_set (<a class="reference external" href="http://github.com/ceph/ceph/pull/8371">pr#8371</a>, runsisi)</li>
<li>cls_rbd: mirror_image_list should return global image id (<a class="reference external" href="http://github.com/ceph/ceph/pull/8297">pr#8297</a>, Jason Dillaman)</li>
<li>cls_rbd: pass WILLNEED fadvise flags during object map update (<a class="reference external" href="http://tracker.ceph.com/issues/15332">issue#15332</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8380">pr#8380</a>, Jason Dillaman)</li>
<li>cls_rbd: read_peers: update last_read on next cls_cxx_map_get_vals (<a class="reference external" href="http://github.com/ceph/ceph/pull/8374">pr#8374</a>, Mykola Golub)</li>
<li>cmake: Build cython modules and change paths to bin/, lib/ (<a class="reference external" href="http://github.com/ceph/ceph/pull/8351">pr#8351</a>, John Spray, Ali Maredia)</li>
<li>cmake: add FindOpenSSL.cmake (<a class="reference external" href="http://github.com/ceph/ceph/pull/8106">pr#8106</a>, Marcus Watts, Matt Benjamin)</li>
<li>cmake: add StandardPolicy.cc to librbd (<a class="reference external" href="http://github.com/ceph/ceph/pull/8368">pr#8368</a>, Kefu Chai)</li>
<li>cmake: add missing librbd/MirrorWatcher.cc and librd/ObjectWatcher.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/8399">pr#8399</a>, Orit Wasserman)</li>
<li>cmake: fix mrun to handle cmake build structure (<a class="reference external" href="http://github.com/ceph/ceph/pull/8237">pr#8237</a>, Orit Wasserman)</li>
<li>cmake: fix the build of test_rados_api_list (<a class="reference external" href="http://github.com/ceph/ceph/pull/8438">pr#8438</a>, Kefu Chai)</li>
<li>common: fix race during optracker switches between enabled/disabled mode (<a class="reference external" href="http://github.com/ceph/ceph/pull/8330">pr#8330</a>, xie xingguo)</li>
<li>config_opts: disable filestore throttle soft backoff by default (<a class="reference external" href="http://github.com/ceph/ceph/pull/8265">pr#8265</a>, Samuel Just)</li>
<li>configure: Add -D_LARGEFILE64_SOURCE to Linux build. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8402">pr#8402</a>, Ira Cooper)</li>
<li>crush: fix error log (<a class="reference external" href="http://github.com/ceph/ceph/pull/8430">pr#8430</a>, Wei Jin)</li>
<li>crushtool: Don&#8217;t crash when called on a file that isn&#8217;t a crushmap (<a class="reference external" href="http://tracker.ceph.com/issues/8286">issue#8286</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8038">pr#8038</a>, Brad Hubbard)</li>
<li>debian/rules: put init-ceph in /etc/init.d/ceph, not ceph-base (<a class="reference external" href="http://tracker.ceph.com/issues/15329">issue#15329</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8406">pr#8406</a>, Dan Mick)</li>
<li>doc/dev: add &#8220;Deploy a cluster for manual testing&#8221; section (<a class="reference external" href="http://tracker.ceph.com/issues/15218">issue#15218</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8228">pr#8228</a>, Nathan Cutler)</li>
<li>doc/rados/operations/crush: fix the formatting (<a class="reference external" href="http://github.com/ceph/ceph/pull/8306">pr#8306</a>, Kefu Chai)</li>
<li>doc/release-notes: fix indents (<a class="reference external" href="http://github.com/ceph/ceph/pull/8345">pr#8345</a>, Kefu Chai)</li>
<li>doc: Fixes headline different font size and type (<a class="reference external" href="http://github.com/ceph/ceph/pull/8328">pr#8328</a>, scienceluo)</li>
<li>doc: Remove Ceph Monitors do lots of fsync() (<a class="reference external" href="http://tracker.ceph.com/issues/15288">issue#15288</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8327">pr#8327</a>, Vikhyat Umrao)</li>
<li>doc: Updated CloudStack RBD documentation (<a class="reference external" href="http://github.com/ceph/ceph/pull/8308">pr#8308</a>, Wido den Hollander)</li>
<li>doc: amend Fixes instructions in SubmittingPatches (<a class="reference external" href="http://github.com/ceph/ceph/pull/8312">pr#8312</a>, Nathan Cutler)</li>
<li>doc: draft notes for jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/8211">pr#8211</a>, Loic Dachary, Sage Weil)</li>
<li>doc: fix typo, duplicated content etc. for Jewel release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8342">pr#8342</a>, xie xingguo)</li>
<li>doc: fix wrong type of hyphen (<a class="reference external" href="http://github.com/ceph/ceph/pull/8252">pr#8252</a>, xie xingguo)</li>
<li>doc: rgw_region_root_pool option should be in [global] (<a class="reference external" href="http://tracker.ceph.com/issues/15244">issue#15244</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8271">pr#8271</a>, Vikhyat Umrao)</li>
<li>doc: very basic doc on mstart (<a class="reference external" href="http://github.com/ceph/ceph/pull/8207">pr#8207</a>, Abhishek Lekshmanan)</li>
<li>global/global_init: expand metavariables in setuser_match_path (<a class="reference external" href="http://tracker.ceph.com/issues/15365">issue#15365</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8433">pr#8433</a>, Sage Weil)</li>
<li>global/signal_handler: print thread name in signal handler (<a class="reference external" href="http://github.com/ceph/ceph/pull/8177">pr#8177</a>, Jianpeng Ma)</li>
<li>libcephfs: fix python tests and fix getcwd on missing dir (<a class="reference external" href="http://github.com/ceph/ceph/pull/7901">pr#7901</a>, John Spray)</li>
<li>librbd: avoid throwing error if mirroring is unsupported (<a class="reference external" href="http://github.com/ceph/ceph/pull/8417">pr#8417</a>, Jason Dillaman)</li>
<li>librbd: disable image mirroring when image is removed (<a class="reference external" href="http://tracker.ceph.com/issues/15265">issue#15265</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8375">pr#8375</a>, Ricardo Dias)</li>
<li>librbd: send notifications for mirroring status updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/8355">pr#8355</a>, Jason Dillaman)</li>
<li>mailmap updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/8256">pr#8256</a>, Loic Dachary)</li>
<li>makefile: fix rbdmap manpage (<a class="reference external" href="http://github.com/ceph/ceph/pull/8310">pr#8310</a>, Kefu Chai)</li>
<li>mds: allow client to request caps when opening file (<a class="reference external" href="http://tracker.ceph.com/issues/14360">issue#14360</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7952">pr#7952</a>, Yan, Zheng)</li>
<li>messages/MOSDOp: clear reqid inc for v6 encoding (<a class="reference external" href="http://tracker.ceph.com/issues/15230">issue#15230</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8299">pr#8299</a>, Sage Weil)</li>
<li>mon/MonClient: fix shutdown race (<a class="reference external" href="http://tracker.ceph.com/issues/13992">issue#13992</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8335">pr#8335</a>, Sage Weil)</li>
<li>mon: do not send useless pg_create messages for split pgs (<a class="reference external" href="http://github.com/ceph/ceph/pull/8247">pr#8247</a>, Sage Weil)</li>
<li>mon: mark_down_pgs in lockstep with pg_map&#8217;s osdmap epoch (<a class="reference external" href="http://github.com/ceph/ceph/pull/8208">pr#8208</a>, Sage Weil)</li>
<li>mon: remove remove_legacy_versions() (<a class="reference external" href="http://github.com/ceph/ceph/pull/8324">pr#8324</a>, Kefu Chai)</li>
<li>mon: remove unnecessary comment for update_from_paxos (<a class="reference external" href="http://github.com/ceph/ceph/pull/8400">pr#8400</a>, Qinghua Jin)</li>
<li>mon: remove unused variable (<a class="reference external" href="http://tracker.ceph.com/issues/15292">issue#15292</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8337">pr#8337</a>, Javier M. Mellid)</li>
<li>mon: show the pool quota info on ceph df detail command (<a class="reference external" href="http://tracker.ceph.com/issues/14216">issue#14216</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7094">pr#7094</a>, song baisen)</li>
<li>monclient: avoid key renew storm on clock skew (<a class="reference external" href="http://tracker.ceph.com/issues/12065">issue#12065</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8258">pr#8258</a>, Alexey Sheplyakov)</li>
<li>mrun: update path to cmake binaries (<a class="reference external" href="http://github.com/ceph/ceph/pull/8447">pr#8447</a>, Casey Bodley)</li>
<li>msg/async: avoid log spam on throttle (<a class="reference external" href="http://tracker.ceph.com/issues/15031">issue#15031</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8263">pr#8263</a>, Kefu Chai)</li>
<li>msg/async: remove experiment feature (<a class="reference external" href="http://github.com/ceph/ceph/pull/7820">pr#7820</a>, Haomai Wang)</li>
<li>os/ObjectStore: add noexcept to ensure move ctor is used (<a class="reference external" href="http://github.com/ceph/ceph/pull/8421">pr#8421</a>, Kefu Chai)</li>
<li>os/ObjectStore: fix _update_op for split dest_cid (<a class="reference external" href="http://github.com/ceph/ceph/pull/8364">pr#8364</a>, Sage Weil)</li>
<li>os/ObjectStore: try_move_rename in transaction append and add coverage to store_test (<a class="reference external" href="http://tracker.ceph.com/issues/15205">issue#15205</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8359">pr#8359</a>, Samuel Just)</li>
<li>os/bluestore: a few fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8193">pr#8193</a>, Sage Weil)</li>
<li>os/bluestore: ceph-bluefs-tool fixes (<a class="reference external" href="http://tracker.ceph.com/issues/15261">issue#15261</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8292">pr#8292</a>, Venky Shankar)</li>
<li>osd/ClassHandler: only dlclose() the classes not missing (<a class="reference external" href="http://github.com/ceph/ceph/pull/8354">pr#8354</a>, Kefu Chai)</li>
<li>osd/OSD.cc: finish full_map_request every MOSDMap message. (<a class="reference external" href="http://tracker.ceph.com/issues/15130">issue#15130</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8147">pr#8147</a>, Xiaoxi Chen)</li>
<li>osd: add &#8216;proxy&#8217; cache mode (<a class="reference external" href="http://tracker.ceph.com/issues/12814">issue#12814</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8210">pr#8210</a>, Sage Weil)</li>
<li>osd: add the support of per pool scrub priority (<a class="reference external" href="http://github.com/ceph/ceph/pull/7062">pr#7062</a>, Zhiqiang Wang)</li>
<li>osd: bail out of _committed_osd_maps if we are shutting down (<a class="reference external" href="http://github.com/ceph/ceph/pull/8267">pr#8267</a>, Samuel Just)</li>
<li>osd: duplicated clear for peer_missing (<a class="reference external" href="http://github.com/ceph/ceph/pull/8315">pr#8315</a>, Ning Yao)</li>
<li>osd: fix bugs for omap ops (<a class="reference external" href="http://github.com/ceph/ceph/pull/8230">pr#8230</a>, Jianpeng Ma)</li>
<li>osd: fix dirtying info without correctly setting drity_info field (<a class="reference external" href="http://github.com/ceph/ceph/pull/8275">pr#8275</a>, xie xingguo)</li>
<li>osd: fix dump_ops_in_flight races (<a class="reference external" href="http://tracker.ceph.com/issues/8885">issue#8885</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8044">pr#8044</a>, David Zafman)</li>
<li>osd: fix epoch check in handle_pg_create (<a class="reference external" href="http://github.com/ceph/ceph/pull/8382">pr#8382</a>, Samuel Just)</li>
<li>osd: fix failure report handling during ms_handle_connect() (<a class="reference external" href="http://github.com/ceph/ceph/pull/8348">pr#8348</a>, xie xingguo)</li>
<li>osd: fix log info (<a class="reference external" href="http://github.com/ceph/ceph/pull/8273">pr#8273</a>, Wei Jin)</li>
<li>osd: fix reference count, rare race condition etc. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8254">pr#8254</a>, xie xingguo)</li>
<li>osd: fix tick relevant issues (<a class="reference external" href="http://github.com/ceph/ceph/pull/8369">pr#8369</a>, xie xingguo)</li>
<li>osd: more fixes for incorrectly dirtying info; resend reply for duplicated scrub-reserve req (<a class="reference external" href="http://github.com/ceph/ceph/pull/8291">pr#8291</a>, xie xingguo)</li>
<li>osdc/Objecter: dout log after assign tid (<a class="reference external" href="http://github.com/ceph/ceph/pull/8202">pr#8202</a>, Xinze Chi)</li>
<li>osdc/Objecter: use full pgid hash in PGNLS ops (<a class="reference external" href="http://github.com/ceph/ceph/pull/8378">pr#8378</a>, Sage Weil)</li>
<li>osdmap: rm nonused variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/8423">pr#8423</a>, Wei Jin)</li>
<li>pybind/Makefile.am: Prevent race creating CYTHON_BUILD_DIR (<a class="reference external" href="http://tracker.ceph.com/issues/15276">issue#15276</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8356">pr#8356</a>, Dan Mick)</li>
<li>pybind/rados: python3 fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/8331">pr#8331</a>, Mehdi Abaakouk)</li>
<li>pybind: add flock to libcephfs python bindings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7902">pr#7902</a>, John Spray)</li>
<li>qa: update rest test cephfs calls (<a class="reference external" href="http://tracker.ceph.com/issues/15309">issue#15309</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8372">pr#8372</a>, John Spray)</li>
<li>qa: update rest test cephfs calls (part 2) (<a class="reference external" href="http://tracker.ceph.com/issues/15309">issue#15309</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8393">pr#8393</a>, John Spray)</li>
<li>radosgw-admin: &#8216;period commit&#8217; supplies user-readable error messages (<a class="reference external" href="http://github.com/ceph/ceph/pull/8264">pr#8264</a>, Casey Bodley)</li>
<li>radosgw-admin: fix for &#8216;realm pull&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/8404">pr#8404</a>, Casey Bodley)</li>
<li>rbd-mirror: asok commands to get status and flush on Mirror and Replayer level (<a class="reference external" href="http://github.com/ceph/ceph/pull/8235">pr#8235</a>, Mykola Golub)</li>
<li>rbd-mirror: enabling/disabling pool mirroring should update the mirroring directory (<a class="reference external" href="http://tracker.ceph.com/issues/15217">issue#15217</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8261">pr#8261</a>, Ricardo Dias)</li>
<li>rbd-mirror: fix missing increment for iterators (<a class="reference external" href="http://github.com/ceph/ceph/pull/8352">pr#8352</a>, runsisi)</li>
<li>rbd-mirror: initial failover / failback support (<a class="reference external" href="http://github.com/ceph/ceph/pull/8287">pr#8287</a>, Jason Dillaman)</li>
<li>rbd-mirror: prevent enabling/disabling an image&#8217;s mirroring when not in image mode (<a class="reference external" href="http://tracker.ceph.com/issues/15267">issue#15267</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8332">pr#8332</a>, Ricardo Dias)</li>
<li>rbd-mirror: switch fsid over to mirror uuid (<a class="reference external" href="http://tracker.ceph.com/issues/15238">issue#15238</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8280">pr#8280</a>, Ricardo Dias)</li>
<li>rbd: allow librados to prune the command-line for config overrides (<a class="reference external" href="http://tracker.ceph.com/issues/15250">issue#15250</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8282">pr#8282</a>, Jason Dillaman)</li>
<li>rbdmap: add manpage (<a class="reference external" href="http://tracker.ceph.com/issues/15212">issue#15212</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8224">pr#8224</a>, Nathan Cutler)</li>
<li>releases: what is merged where and when ? (<a class="reference external" href="http://github.com/ceph/ceph/pull/8358">pr#8358</a>, Loic Dachary)</li>
<li>rgw/rgw_admin:fix bug about list and stats command (<a class="reference external" href="http://github.com/ceph/ceph/pull/8200">pr#8200</a>, Qiankun Zheng)</li>
<li>rgw: Do not send a Content-Type on a &#8216;304 Not Modified&#8217; response (<a class="reference external" href="http://tracker.ceph.com/issues/15119">issue#15119</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8253">pr#8253</a>, Wido den Hollander)</li>
<li>rgw: Multipart ListPartsResult ETag quotes (<a class="reference external" href="http://tracker.ceph.com/issues/15334">issue#15334</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8387">pr#8387</a>, Robin H. Johnson)</li>
<li>rgw: S3: set EncodingType in ListBucketResult (<a class="reference external" href="http://github.com/ceph/ceph/pull/7712">pr#7712</a>, Victor Makarov)</li>
<li>rgw: accept data only at the first time in response to a request (<a class="reference external" href="http://github.com/ceph/ceph/pull/8084">pr#8084</a>, sunspot)</li>
<li>rgw: add a few more help options in admin interface (<a class="reference external" href="http://github.com/ceph/ceph/pull/8410">pr#8410</a>, Abhishek Lekshmanan)</li>
<li>rgw: add zone delete to rgw-admin help (<a class="reference external" href="http://github.com/ceph/ceph/pull/8184">pr#8184</a>, Abhishek Lekshmanan)</li>
<li>rgw: convert plain object to versioned (with null version) when removing (<a class="reference external" href="http://tracker.ceph.com/issues/15243">issue#15243</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8268">pr#8268</a>, Yehuda Sadeh)</li>
<li>rgw: fix compiling error (<a class="reference external" href="http://github.com/ceph/ceph/pull/8394">pr#8394</a>, xie xingguo)</li>
<li>rgw: fix lockdep false positive (<a class="reference external" href="http://github.com/ceph/ceph/pull/8284">pr#8284</a>, Yehuda Sadeh)</li>
<li>rgw:Use count fn in RGWUserBuckets for quota check (<a class="reference external" href="http://github.com/ceph/ceph/pull/8294">pr#8294</a>, Abhishek Lekshmanan)</li>
<li>rgw_admin: remove unused parent_period arg (<a class="reference external" href="http://github.com/ceph/ceph/pull/8411">pr#8411</a>, Abhishek Lekshmanan)</li>
<li>rgw_file: set owner uid, gid, and Unix mode on new objects (<a class="reference external" href="http://github.com/ceph/ceph/pull/8321">pr#8321</a>, Matt Benjamin)</li>
<li>rpm: prefer UID/GID 167 when creating ceph user/group (<a class="reference external" href="http://tracker.ceph.com/issues/15246">issue#15246</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8277">pr#8277</a>, Nathan Cutler)</li>
<li>script: subscription-manager support (<a class="reference external" href="http://tracker.ceph.com/issues/14972">issue#14972</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7907">pr#7907</a>, Loic Dachary)</li>
<li>set 128MB tcmalloc cache size by bytes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8427">pr#8427</a>, Star Guo)</li>
<li>systemd: set up environment in rbdmap unit file (<a class="reference external" href="http://tracker.ceph.com/issues/14984">issue#14984</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8222">pr#8222</a>, Nathan Cutler)</li>
<li>test/system/<a href="#id704"><span class="problematic" id="id705">*</span></a>: use dynamically generated pool name (<a class="reference external" href="http://tracker.ceph.com/issues/15240">issue#15240</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8318">pr#8318</a>, Kefu Chai)</li>
<li>test/system/rados_list_parallel: print oid if rados_write fails (<a class="reference external" href="http://tracker.ceph.com/issues/15240">issue#15240</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8309">pr#8309</a>, Kefu Chai)</li>
<li>test/test-erasure-code.sh: disable pg_temp priming (<a class="reference external" href="http://tracker.ceph.com/issues/15211">issue#15211</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8260">pr#8260</a>, Sage Weil)</li>
<li>test/test_pool_create.sh: fix port (<a class="reference external" href="http://github.com/ceph/ceph/pull/8361">pr#8361</a>, Sage Weil)</li>
<li>test: Fix test to run with btrfs which has snap_### dirs (<a class="reference external" href="http://tracker.ceph.com/issues/15347">issue#15347</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8420">pr#8420</a>, David Zafman)</li>
<li>test: TestMirroringWatcher test cases were not closing images (<a class="reference external" href="http://github.com/ceph/ceph/pull/8435">pr#8435</a>, Jason Dillaman)</li>
<li>test: rbd-mirror: script improvements for manual testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/8325">pr#8325</a>, Mykola Golub)</li>
<li>tests: Fixing broken test/cephtool-test-mon.sh test (<a class="reference external" href="http://github.com/ceph/ceph/pull/8429">pr#8429</a>, Erwan Velu)</li>
<li>tests: Improving &#8216;make check&#8217; execution time (<a class="reference external" href="http://github.com/ceph/ceph/pull/8131">pr#8131</a>, Erwan Velu)</li>
<li>unittest_erasure_code_plugin: fix deadlock (Alpine) (<a class="reference external" href="http://github.com/ceph/ceph/pull/8314">pr#8314</a>, John Coyle)</li>
<li>vstart: fix up cmake paths when VSTART_DEST is given (<a class="reference external" href="http://github.com/ceph/ceph/pull/8363">pr#8363</a>, Casey Bodley)</li>
<li>vstart: make -k with optional mon_num. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8251">pr#8251</a>, Jianpeng Ma)</li>
<li>xio: add prefix to xio msgr logs (<a class="reference external" href="http://github.com/ceph/ceph/pull/8148">pr#8148</a>, Roi Dayan)</li>
<li>xio: fix compilation against latest accelio (<a class="reference external" href="http://github.com/ceph/ceph/pull/8022">pr#8022</a>, Roi Dayan)</li>
<li>xio: xio_init needs to be called before any other xio function (<a class="reference external" href="http://github.com/ceph/ceph/pull/8227">pr#8227</a>, Roi Dayan)</li>
<li>ceph.spec.in: disable lttng and babeltrace explicitly (<a class="reference external" href="http://tracker.ceph.com/issues/14844">issue#14844</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7857">pr#7857</a>, Kefu Chai)</li>
</ul>
</div>
</div>
<div class="section" id="v10-1-0-jewel-release-candidate">
<h2>v10.1.0 Jewel (release candidate)<a class="headerlink" href="#v10-1-0-jewel-release-candidate" title="Permalink to this headline">¶</a></h2>
<p>There are a few known issues with this release candidate; see below.</p>
<div class="section" id="known-issues-with-v10-1-0">
<h3>Known Issues with v10.1.0<a class="headerlink" href="#known-issues-with-v10-1-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>While running a mixed version cluster of jewel and infernalis or
hammer monitors, any MDSMap updates will cause the pre-jewel
monitors to crash.  Workaround is to simply upgrde all monitors.
There is a fix but it is still being tested.</li>
<li>Some of the rbd-mirror functionality for switching between active
and replica images is not yet merged.</li>
</ul>
</div>
<div class="section" id="notable-changes-since-v10-0-4">
<h3>Notable Changes since v10.0.4<a class="headerlink" href="#notable-changes-since-v10-0-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph.spec.in: do not install Ceph RA on systemd platforms (<a class="reference external" href="http://tracker.ceph.com/issues/14828">issue#14828</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7894">pr#7894</a>, Nathan Cutler)</li>
<li>mdsa: A few more snapshot fixes, mostly around snapshotted inode/dentry tracking (<a class="reference external" href="http://github.com/ceph/ceph/pull/7798">pr#7798</a>, Yan, Zheng)</li>
<li>AUTHORS: update email (<a class="reference external" href="http://github.com/ceph/ceph/pull/7854">pr#7854</a>, Yehuda Sadeh)</li>
<li>ceph-disk: Add &#8211;setuser and &#8211;setgroup options for ceph-disk (<a class="reference external" href="http://github.com/ceph/ceph/pull/7351">pr#7351</a>, Mike Shuey)</li>
<li>build: Adding build requires (<a class="reference external" href="http://github.com/ceph/ceph/pull/7742">pr#7742</a>, Erwan Velu)</li>
<li>msg/async: AsyncMessenger: fix several bugs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7831">pr#7831</a>, Haomai Wang)</li>
<li>msg/async: AsyncMessenger: fix valgrind leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/7725">pr#7725</a>, Haomai Wang)</li>
<li>doc: Clarify usage on starting single osd/mds/mon. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7641">pr#7641</a>, Patrick Donnelly)</li>
<li>common: Deprecate or free up a bunch of feature bits (<a class="reference external" href="http://github.com/ceph/ceph/pull/8214">pr#8214</a>, Samuel Just)</li>
<li>msg/async: Event: fix clock skew problem (<a class="reference external" href="http://github.com/ceph/ceph/pull/7949">pr#7949</a>, Wei Jin)</li>
<li>osd: FileStore: Added O_DSYNC write scheme (<a class="reference external" href="http://github.com/ceph/ceph/pull/7752">pr#7752</a>, Somnath Roy)</li>
<li>osd: FileStore: fix initialization order for m_disable_wbthrottle (<a class="reference external" href="http://github.com/ceph/ceph/pull/8067">pr#8067</a>, Samuel Just)</li>
<li>build: Fixing BTRFS issue at &#8216;make check&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/7805">pr#7805</a>, Erwan Velu)</li>
<li>build: FreeBSD related fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7170">pr#7170</a>, Mykola Golub)</li>
<li>ceph-disk: Improving &#8216;make check&#8217; for ceph-disk (<a class="reference external" href="http://github.com/ceph/ceph/pull/7762">pr#7762</a>, Erwan Velu)</li>
<li>rgw: increase verbosity level on RGWObjManifest line (<a class="reference external" href="http://github.com/ceph/ceph/pull/7285">pr#7285</a>, magicrobotmonkey)</li>
<li>build: workaround an automake bug for &#8220;make check&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/14723">issue#14723</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7626">pr#7626</a>, Kefu Chai)</li>
<li>ceph-fuse,libcephfs: Fix client handling of &#8220;lost&#8221; open directories on shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/14996">issue#14996</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7994">pr#7994</a>, Yan, Zheng)</li>
<li>mds: Multi-filesystem support (<a class="reference external" href="http://tracker.ceph.com/issues/14952">issue#14952</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6953">pr#6953</a>, John Spray, Sage Weil)</li>
<li>os/bluestore/NVMEDevice: refactor probe/attach codes and support zero command (<a class="reference external" href="http://github.com/ceph/ceph/pull/7647">pr#7647</a>, Haomai Wang)</li>
<li>librados: detect laggy ops with objecter_timeout, not osd_timeout (<a class="reference external" href="http://github.com/ceph/ceph/pull/7629">pr#7629</a>, Greg Farnum)</li>
<li>ceph.spec.in: fix openldap and openssl build dependencies for SUSE (<a class="reference external" href="http://tracker.ceph.com/issues/15138">issue#15138</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8120">pr#8120</a>, Nathan Cutler)</li>
<li>osd: repop and lost-unfound overhaul (<a class="reference external" href="http://github.com/ceph/ceph/pull/7765">pr#7765</a>, Samuel Just)</li>
<li>librbd: Revert &#8220;librbd: use task finisher per CephContext&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/14780">issue#14780</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7667">pr#7667</a>, Josh Durgin)</li>
<li>rgw: Fix subuser harder with tenants (<a class="reference external" href="http://github.com/ceph/ceph/pull/7618">pr#7618</a>, Pete Zaitcev)</li>
<li>rgw: ldap fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8168">pr#8168</a>, Matt Benjamin)</li>
<li>rgw: check the return value when call fe-&gt;run() (<a class="reference external" href="http://tracker.ceph.com/issues/14585">issue#14585</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7457">pr#7457</a>, wei qiaomiao)</li>
<li>rgw: Revert &#8220;rgw ldap&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/8075">pr#8075</a>, Yehuda Sadeh)</li>
<li>librados: Striper: Fix incorrect push_front -&gt; append_zero change (<a class="reference external" href="http://github.com/ceph/ceph/pull/7578">pr#7578</a>, Haomai Wang)</li>
<li>rgw: build-related fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8076">pr#8076</a>, Yehuda Sadeh, Matt Benjamin)</li>
<li>mirrors: Updated scripts and documentation for mirrors (<a class="reference external" href="http://github.com/ceph/ceph/pull/7847">pr#7847</a>, Wido den Hollander)</li>
<li>misc: use make_shared while creating shared_ptr (<a class="reference external" href="http://github.com/ceph/ceph/pull/7769">pr#7769</a>, Somnath Roy)</li>
<li>cmake (<a class="reference external" href="http://github.com/ceph/ceph/pull/7849">pr#7849</a>, Ali Maredia)</li>
<li>mds: filelock deadlock (<a class="reference external" href="http://github.com/ceph/ceph/pull/7713">pr#7713</a>, Yan, Zheng)</li>
<li>mds: fix fsmap decode (<a class="reference external" href="http://github.com/ceph/ceph/pull/8063">pr#8063</a>, Greg Farnum)</li>
<li>rgw: fix mdlog (<a class="reference external" href="http://github.com/ceph/ceph/pull/8183">pr#8183</a>, Orit Wasserman)</li>
<li>rgw: highres time stamps (<a class="reference external" href="http://github.com/ceph/ceph/pull/8108">pr#8108</a>, Yehuda Sadeh, Adam C. Emerson, Matt Benjamin)</li>
<li>rgw: swift versioning disabled (<a class="reference external" href="http://github.com/ceph/ceph/pull/8066">pr#8066</a>, Yehuda Sadeh, Radoslaw Zarzynski)</li>
<li>rgw: sync fixes 3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/8170">pr#8170</a>, Yehuda Sadeh)</li>
<li>msg/xio: fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7603">pr#7603</a>, Roi Dayan)</li>
<li>ceph-fuse,libcephfs: fix free fds being exhausted eventually because freed fds are never put back (<a class="reference external" href="http://tracker.ceph.com/issues/14798">issue#14798</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7685">pr#7685</a>, Zhi Zhang)</li>
<li>rgw: RGWLib::env is not used so remove it (<a class="reference external" href="http://github.com/ceph/ceph/pull/7874">pr#7874</a>, Brad Hubbard)</li>
<li>build: a few armhf (32-bit build) fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7999">pr#7999</a>, Eric Lee, Sage Weil)</li>
<li>osd: add scrub persist/query API (<a class="reference external" href="http://tracker.ceph.com/issues/13505">issue#13505</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6898">pr#6898</a>, Kefu Chai, Samuel Just)</li>
<li>rgw: adds the radosgw-admin sync status command that gives a human readable status of the sync process at a specific zone (<a class="reference external" href="http://github.com/ceph/ceph/pull/8030">pr#8030</a>, Yehuda Sadeh)</li>
<li>scripts: adjust mstart and mstop script to run with cmake build (<a class="reference external" href="http://github.com/ceph/ceph/pull/6920">pr#6920</a>, Orit Wasserman)</li>
<li>buffer: add symmetry operator==() and operator!=() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7974">pr#7974</a>, Kefu Chai)</li>
<li>buffer: hide iterator_impl symbols (<a class="reference external" href="http://tracker.ceph.com/issues/14788">issue#14788</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7688">pr#7688</a>, Kefu Chai)</li>
<li>buffer: increment history alloc as well in raw_combined (<a class="reference external" href="http://tracker.ceph.com/issues/14955">issue#14955</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7910">pr#7910</a>, Samuel Just)</li>
<li>buffer: raw_combined allocations buffer and ref count together (<a class="reference external" href="http://github.com/ceph/ceph/pull/7612">pr#7612</a>, Sage Weil)</li>
<li>ceph-detect-init: add debian/jessie test (<a class="reference external" href="http://github.com/ceph/ceph/pull/8074">pr#8074</a>, Kefu Chai)</li>
<li>ceph-detect-init: add missing test case (<a class="reference external" href="http://github.com/ceph/ceph/pull/8105">pr#8105</a>, Nathan Cutler)</li>
<li>ceph-detect-init: fix py3 test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7243">pr#7243</a>, Kefu Chai)</li>
<li>ceph-detect-init: return correct value on recent SUSE distros (<a class="reference external" href="http://tracker.ceph.com/issues/14770">issue#14770</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7909">pr#7909</a>, Nathan Cutler)</li>
<li>ceph-disk: deactivate / destroy PATH arg are optional (<a class="reference external" href="http://github.com/ceph/ceph/pull/7756">pr#7756</a>, Loic Dachary)</li>
<li>ceph-disk: fix prepare &#8211;help (<a class="reference external" href="http://github.com/ceph/ceph/pull/7758">pr#7758</a>, Loic Dachary)</li>
<li>ceph-disk: flake8 fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7646">pr#7646</a>, Loic Dachary)</li>
<li>ceph-disk: key management support (<a class="reference external" href="http://tracker.ceph.com/issues/14669">issue#14669</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7552">pr#7552</a>, Loic Dachary)</li>
<li>ceph-disk: make some arguments as required if necessary (<a class="reference external" href="http://github.com/ceph/ceph/pull/7687">pr#7687</a>, Dongsheng Yang)</li>
<li>ceph-disk: s/dmcrpyt/dmcrypt/ (<a class="reference external" href="http://tracker.ceph.com/issues/14838">issue#14838</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7744">pr#7744</a>, Loic Dachary, Frode Sandholtbraaten)</li>
<li>ceph-fuse: Fix potential filehandle ref leak at umount (<a class="reference external" href="http://tracker.ceph.com/issues/14800">issue#14800</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7686">pr#7686</a>, Zhi Zhang)</li>
<li>ceph.in: Minor python3 specific changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7947">pr#7947</a>, Sarthak Munshi)</li>
<li>ceph_daemon.py: Resolved ImportError to work with python3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7937">pr#7937</a>, Sarthak Munshi)</li>
<li>ceph_detect_init/__init__.py: remove shebang (<a class="reference external" href="http://github.com/ceph/ceph/pull/7731">pr#7731</a>, Nathan Cutler)</li>
<li>ceph_test_msgr: reduce test size to fix memory size (<a class="reference external" href="http://github.com/ceph/ceph/pull/8127">pr#8127</a>, Haomai Wang)</li>
<li>ceph_test_rados_misc: shorten mount timeout (<a class="reference external" href="http://github.com/ceph/ceph/pull/8209">pr#8209</a>, Sage Weil)</li>
<li>cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/8058">pr#8058</a>, Yehuda Sadeh, Orit Wasserman)</li>
<li>client: flush kernel pagecache before creating snapshot (<a class="reference external" href="http://tracker.ceph.com/issues/10436">issue#10436</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7495">pr#7495</a>, Yan, Zheng)</li>
<li>client: removed unused Mutex from MetaRequest (<a class="reference external" href="http://github.com/ceph/ceph/pull/7655">pr#7655</a>, Greg Farnum)</li>
<li>cls/rgw: fix FTBFS (<a class="reference external" href="http://github.com/ceph/ceph/pull/8142">pr#8142</a>, Kefu Chai)</li>
<li>cls/rgw: fix use of timespan (<a class="reference external" href="http://tracker.ceph.com/issues/15181">issue#15181</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8212">pr#8212</a>, Yehuda Sadeh)</li>
<li>cls_hello: Fix grammatical error in description comment (<a class="reference external" href="http://github.com/ceph/ceph/pull/7951">pr#7951</a>, Brad Hubbard)</li>
<li>cls_rbd: fix the test for ceph-dencoder (<a class="reference external" href="http://github.com/ceph/ceph/pull/7793">pr#7793</a>, Kefu Chai)</li>
<li>cls_rbd: mirroring directory (<a class="reference external" href="http://tracker.ceph.com/issues/14419">issue#14419</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7620">pr#7620</a>, Josh Durgin)</li>
<li>cls_rbd: protect against excessively large object maps (<a class="reference external" href="http://tracker.ceph.com/issues/15121">issue#15121</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8099">pr#8099</a>, Jason Dillaman)</li>
<li>cmake: Remove duplicate find_package libcurl line. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7972">pr#7972</a>, Brad Hubbard)</li>
<li>cmake: add ErasureCode.cc to jerasure plugins (<a class="reference external" href="http://github.com/ceph/ceph/pull/7808">pr#7808</a>, Casey Bodley)</li>
<li>cmake: add common/fs_types.cc to libcommon (<a class="reference external" href="http://github.com/ceph/ceph/pull/7898">pr#7898</a>, Orit Wasserman)</li>
<li>cmake: add missing librbd image_watcher sources (<a class="reference external" href="http://tracker.ceph.com/issues/14823">issue#14823</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7717">pr#7717</a>, Casey Bodley)</li>
<li>cmake: avoid false-positive LDAP header detect (<a class="reference external" href="http://github.com/ceph/ceph/pull/8100">pr#8100</a>, Matt Benjamin)</li>
<li>cmake: fix paths to various EC source files (<a class="reference external" href="http://github.com/ceph/ceph/pull/7748">pr#7748</a>, Ali Maredia, Matt Benjamin)</li>
<li>cmake: fix the build of tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/7523">pr#7523</a>, Kefu Chai)</li>
<li>common/TrackedOp: fix inaccurate counting for slow requests (<a class="reference external" href="http://tracker.ceph.com/issues/14804">issue#14804</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7690">pr#7690</a>, xie xingguo)</li>
<li>common/bit_vector: use hard-coded value for block size (<a class="reference external" href="http://tracker.ceph.com/issues/14747">issue#14747</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7610">pr#7610</a>, Jason Dillaman)</li>
<li>common/obj_bencher.cc: bump the precision of bandwidth field (<a class="reference external" href="http://github.com/ceph/ceph/pull/8021">pr#8021</a>, Piotr Dałek)</li>
<li>common/obj_bencher.cc: faster object name generation (<a class="reference external" href="http://github.com/ceph/ceph/pull/7863">pr#7863</a>, Piotr Dałek)</li>
<li>common/obj_bencher.cc: make verify error fatal (<a class="reference external" href="http://tracker.ceph.com/issues/14971">issue#14971</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7897">pr#7897</a>, Piotr Dałek)</li>
<li>common/page.cc: _page_mask has too many bits (<a class="reference external" href="http://github.com/ceph/ceph/pull/7588">pr#7588</a>, Dan Mick)</li>
<li>common/strtol.cc: fix the coverity warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7967">pr#7967</a>, Kefu Chai)</li>
<li>common: Do not use non-portable constants in mutex_debug (<a class="reference external" href="http://github.com/ceph/ceph/pull/7766">pr#7766</a>, Adam C. Emerson)</li>
<li>common: SubProcess: Avoid buffer corruption when calling err() (<a class="reference external" href="http://tracker.ceph.com/issues/15011">issue#15011</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8054">pr#8054</a>, Erwan Velu)</li>
<li>common: default cluster name to config file prefix (<a class="reference external" href="http://github.com/ceph/ceph/pull/7364">pr#7364</a>, Javen Wu)</li>
<li>common: set thread name from correct thread (<a class="reference external" href="http://github.com/ceph/ceph/pull/7845">pr#7845</a>, Igor Podoski)</li>
<li>common: various fixes from SCA runs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7680">pr#7680</a>, Danny Al-Gaaf)</li>
<li>config: fix osd_crush_initial_weight (<a class="reference external" href="http://github.com/ceph/ceph/pull/7975">pr#7975</a>, You Ji)</li>
<li>config: increase default async op threads (<a class="reference external" href="http://github.com/ceph/ceph/pull/7802">pr#7802</a>, Piotr Dałek)</li>
<li>configure.ac: boost_iostreams is required, not optional (<a class="reference external" href="http://github.com/ceph/ceph/pull/7816">pr#7816</a>, Hector Martin)</li>
<li>configure.ac: update help strings for cython (<a class="reference external" href="http://github.com/ceph/ceph/pull/7856">pr#7856</a>, Josh Durgin)</li>
<li>crush/CrushTester: workaround a bug in boost::icl (<a class="reference external" href="http://github.com/ceph/ceph/pull/7560">pr#7560</a>, Kefu Chai)</li>
<li>crush: fix cli tests for new crush tunables (<a class="reference external" href="http://github.com/ceph/ceph/pull/8107">pr#8107</a>, Sage Weil)</li>
<li>crush: update tunable docs.  change default profile to jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/7964">pr#7964</a>, Sage Weil)</li>
<li>debian/changelog: Remove stray &#8216;v&#8217; in version (<a class="reference external" href="http://github.com/ceph/ceph/pull/7936">pr#7936</a>, Dan Mick)</li>
<li>debian/changelog: Remove stray &#8216;v&#8217; in version (<a class="reference external" href="http://github.com/ceph/ceph/pull/7938">pr#7938</a>, Dan Mick)</li>
<li>debian: include cpio in build-requiers (<a class="reference external" href="http://github.com/ceph/ceph/pull/7533">pr#7533</a>, Rémi BUISSON)</li>
<li>debian: package librgw_file* tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/7930">pr#7930</a>, Ken Dreyer)</li>
<li>doc/architecture.rst: remove redundant word &#8220;across&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/8179">pr#8179</a>, Zhao Junwang)</li>
<li>doc/dev: add section on interrupting a running suite (<a class="reference external" href="http://github.com/ceph/ceph/pull/8116">pr#8116</a>, Nathan Cutler)</li>
<li>doc/dev: continue writing Testing in the cloud chapter (<a class="reference external" href="http://github.com/ceph/ceph/pull/7960">pr#7960</a>, Nathan Cutler)</li>
<li>doc/dev: integrate testing into the narrative (<a class="reference external" href="http://github.com/ceph/ceph/pull/7946">pr#7946</a>, Nathan Cutler)</li>
<li>doc/dev: various refinements (<a class="reference external" href="http://github.com/ceph/ceph/pull/7954">pr#7954</a>, Nathan Cutler)</li>
<li>doc/rados/api/librados-intro.rst: fix typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/7879">pr#7879</a>, xie xingguo)</li>
<li>doc: add ceph-detect-init(8) source to dist tarball (<a class="reference external" href="http://github.com/ceph/ceph/pull/7933">pr#7933</a>, Ken Dreyer)</li>
<li>doc: add cinder backend section to rbd-openstack.rst (<a class="reference external" href="http://github.com/ceph/ceph/pull/7923">pr#7923</a>, RustShen)</li>
<li>doc: detailed description of bugfixing workflow (<a class="reference external" href="http://github.com/ceph/ceph/pull/7941">pr#7941</a>, Nathan Cutler)</li>
<li>doc: fix 0.94.4 and 0.94.5 ordering (<a class="reference external" href="http://github.com/ceph/ceph/pull/7763">pr#7763</a>, Loic Dachary)</li>
<li>doc: fix typo, indention etc. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7829">pr#7829</a>, xie xingguo)</li>
<li>doc: initial draft of RBD mirroring admin documentation (<a class="reference external" href="http://tracker.ceph.com/issues/15041">issue#15041</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8169">pr#8169</a>, Jason Dillaman)</li>
<li>doc: osd-config Add Configuration Options for op queue. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7837">pr#7837</a>, Robert LeBlanc)</li>
<li>doc: rgw explain keystone&#8217;s verify ssl switch (<a class="reference external" href="http://github.com/ceph/ceph/pull/7862">pr#7862</a>, Abhishek Lekshmanan)</li>
<li>doc: small fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7813">pr#7813</a>, xiexingguo)</li>
<li>doc: standardize &#64;param (not &#64;parma, &#64;parmam, &#64;params) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7714">pr#7714</a>, Nathan Cutler)</li>
<li>fix FTBFS introduced by d0af316 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7792">pr#7792</a>, Kefu Chai)</li>
<li>ghobject_t: use # instead of ! as a separator (<a class="reference external" href="http://github.com/ceph/ceph/pull/8055">pr#8055</a>, Sage Weil)</li>
<li>include/encoding: do not try to be clever with list encoding (<a class="reference external" href="http://github.com/ceph/ceph/pull/7913">pr#7913</a>, Sage Weil)</li>
<li>init-ceph.in: allow case-insensitive true in <a class="reference external" href="http://github.com/ceph/ceph/pull/7943">osd crush update on start&#8217; (`pr#7943</a>, Eric Cook)</li>
<li>init-ceph.in: skip ceph-disk if it is not present (<a class="reference external" href="http://tracker.ceph.com/issues/10587">issue#10587</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7286">pr#7286</a>, Ken Dreyer)</li>
<li>journal: async methods to (un)register and update client (<a class="reference external" href="http://github.com/ceph/ceph/pull/7832">pr#7832</a>, Mykola Golub)</li>
<li>journal: improve commit position tracking (<a class="reference external" href="http://github.com/ceph/ceph/pull/7776">pr#7776</a>, Jason Dillaman)</li>
<li>journal: prevent race injecting new records into overflowed object (<a class="reference external" href="http://tracker.ceph.com/issues/15202">issue#15202</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8220">pr#8220</a>, Jason Dillaman)</li>
<li>librados: cancel aio notification linger op upon completion (<a class="reference external" href="http://github.com/ceph/ceph/pull/8102">pr#8102</a>, Jason Dillaman)</li>
<li>librados: check connection state in rados_monitor_log (<a class="reference external" href="http://tracker.ceph.com/issues/14499">issue#14499</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7350">pr#7350</a>, David Disseldorp)</li>
<li>librados: do not clear handle for aio_watch() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7771">pr#7771</a>, xie xingguo)</li>
<li>librados: fix test failure with new aio watch/unwatch API  (<a class="reference external" href="http://github.com/ceph/ceph/pull/7824">pr#7824</a>, Jason Dillaman)</li>
<li>librados: implement async watch/unwatch (<a class="reference external" href="http://github.com/ceph/ceph/pull/7649">pr#7649</a>, Haomai Wang)</li>
<li>librados: mix lock cycle (un)registering asok commands (<a class="reference external" href="http://github.com/ceph/ceph/pull/7581">pr#7581</a>, John Spray)</li>
<li>librados: race condition on aio_notify completion handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7864">pr#7864</a>, Jason Dillaman)</li>
<li>librados: stat2 with higher time precision (<a class="reference external" href="http://github.com/ceph/ceph/pull/7915">pr#7915</a>, Yehuda Sadeh, Matt Benjamin)</li>
<li>librbd: allocate new journal tag after acquiring exclusive lock (<a class="reference external" href="http://github.com/ceph/ceph/pull/7884">pr#7884</a>, Jason Dillaman)</li>
<li>librbd: block read requests until journal replayed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7627">pr#7627</a>, Jason Dillaman)</li>
<li>librbd: correct issues discovered via valgrind memcheck (<a class="reference external" href="http://github.com/ceph/ceph/pull/8132">pr#8132</a>, Jason Dillaman)</li>
<li>librbd: differentiate journal replay flush vs shut down (<a class="reference external" href="http://github.com/ceph/ceph/pull/7698">pr#7698</a>, Jason Dillaman)</li>
<li>librbd: enable/disable image mirroring automatically for pool mode (<a class="reference external" href="http://tracker.ceph.com/issues/15143">issue#15143</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8204">pr#8204</a>, Ricardo Dias)</li>
<li>librbd: fix state machine race conditions during shut down (<a class="reference external" href="http://github.com/ceph/ceph/pull/7761">pr#7761</a>, Jason Dillaman)</li>
<li>librbd: handle unregistering the image watcher when disconnected (<a class="reference external" href="http://github.com/ceph/ceph/pull/8094">pr#8094</a>, Jason Dillaman)</li>
<li>librbd: integrate journal replay with fsx testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/7583">pr#7583</a>, Jason Dillaman)</li>
<li>librbd: journal replay needs to support re-executing maintenance ops (<a class="reference external" href="http://tracker.ceph.com/issues/14822">issue#14822</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7785">pr#7785</a>, Jason Dillaman)</li>
<li>librbd: reduce mem copies to user-buffer during read (<a class="reference external" href="http://github.com/ceph/ceph/pull/7548">pr#7548</a>, Jianpeng Ma)</li>
<li>librbd: refresh image if required before replaying journal ops (<a class="reference external" href="http://tracker.ceph.com/issues/14908">issue#14908</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7978">pr#7978</a>, Jason Dillaman)</li>
<li>librbd: remove last synchronous librados calls from open/close state machine (<a class="reference external" href="http://github.com/ceph/ceph/pull/7839">pr#7839</a>, Jason Dillaman)</li>
<li>librbd: replaying a journal op post-refresh requires locking (<a class="reference external" href="http://github.com/ceph/ceph/pull/8028">pr#8028</a>, Jason Dillaman)</li>
<li>librbd: retrieve image name when opening by id (<a class="reference external" href="http://github.com/ceph/ceph/pull/7736">pr#7736</a>, Mykola Golub)</li>
<li>librbd: several race conditions discovered under single CPU environment (<a class="reference external" href="http://github.com/ceph/ceph/pull/7653">pr#7653</a>, Jason Dillaman)</li>
<li>librbd: truncate does not need to mark the object as existing in the object map (<a class="reference external" href="http://tracker.ceph.com/issues/14789">issue#14789</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7772">pr#7772</a>, xinxin shu)</li>
<li>librbd: update of mirror pool mode and mirror peer handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7718">pr#7718</a>, Jason Dillaman)</li>
<li>librbd: use async librados notifications (<a class="reference external" href="http://github.com/ceph/ceph/pull/7668">pr#7668</a>, Jason Dillaman)</li>
<li>log: do not repeat errors to stderr (<a class="reference external" href="http://tracker.ceph.com/issues/14616">issue#14616</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7983">pr#7983</a>, Sage Weil)</li>
<li>log: fix stack overflow when flushing large log lines (<a class="reference external" href="http://tracker.ceph.com/issues/14707">issue#14707</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7599">pr#7599</a>, Igor Fedotov)</li>
<li>log: segv in a portable way (<a class="reference external" href="http://tracker.ceph.com/issues/14856">issue#14856</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7790">pr#7790</a>, Kefu Chai)</li>
<li>log: use delete[] (<a class="reference external" href="http://github.com/ceph/ceph/pull/7904">pr#7904</a>, Sage Weil)</li>
<li>mailmap for 10.0.4 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7932">pr#7932</a>, Abhishek Lekshmanan)</li>
<li>mailmap updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/7528">pr#7528</a>, Yann Dupont)</li>
<li>man/8/ceph-disk: fix formatting issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/8012">pr#8012</a>, Sage Weil)</li>
<li>man/8/ceph-disk: fix formatting issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/8003">pr#8003</a>, Sage Weil)</li>
<li>mds, client: add namespace to file_layout_t (previously ceph_file_layout) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7098">pr#7098</a>, Yan, Zheng, Sage Weil)</li>
<li>mds: don&#8217;t double-shutdown the timer when suiciding (<a class="reference external" href="http://tracker.ceph.com/issues/14697">issue#14697</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7616">pr#7616</a>, Greg Farnum)</li>
<li>mds: fix FSMap upgrade with daemons in the map (<a class="reference external" href="http://github.com/ceph/ceph/pull/8073">pr#8073</a>, John Spray, Greg Farnum)</li>
<li>mds: fix inode_t::compare() (<a class="reference external" href="http://tracker.ceph.com/issues/15038">issue#15038</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8014">pr#8014</a>, Yan, Zheng)</li>
<li>mds: fix stray purging in &#8216;stripe_count &gt; 1&#8217; case (<a class="reference external" href="http://tracker.ceph.com/issues/15050">issue#15050</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8040">pr#8040</a>, Yan, Zheng)</li>
<li>mds: function parameter &#8216;df&#8217; should be passed by reference (<a class="reference external" href="http://github.com/ceph/ceph/pull/7490">pr#7490</a>, Na Xie)</li>
<li>mirrors: Change contact e-mail address for se.ceph.com (<a class="reference external" href="http://github.com/ceph/ceph/pull/8007">pr#8007</a>, Wido den Hollander)</li>
<li>mon/PGMonitor: reliably mark PGs state (<a class="reference external" href="http://github.com/ceph/ceph/pull/8089">pr#8089</a>, Sage Weil)</li>
<li>mon/monitor: some clean up (<a class="reference external" href="http://github.com/ceph/ceph/pull/7520">pr#7520</a>, huanwen ren)</li>
<li>mon/pgmonitor: use appropriate forced conversions in get_rule_avail (<a class="reference external" href="http://github.com/ceph/ceph/pull/7705">pr#7705</a>, huanwen ren)</li>
<li>mon: cleanup set-quota error msg (<a class="reference external" href="http://github.com/ceph/ceph/pull/7371">pr#7371</a>, Abhishek Lekshmanan)</li>
<li>mon: consider pool size when creating pool (<a class="reference external" href="http://tracker.ceph.com/issues/14509">issue#14509</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7359">pr#7359</a>, songbaisen)</li>
<li>mon: enable &#8216;mon osd prime pg temp&#8217; by default (<a class="reference external" href="http://github.com/ceph/ceph/pull/7838">pr#7838</a>, Robert LeBlanc)</li>
<li>mon: fix calculation of %USED (<a class="reference external" href="http://github.com/ceph/ceph/pull/7881">pr#7881</a>, Adam Kupczyk)</li>
<li>mon: fix keyring permissions (<a class="reference external" href="http://tracker.ceph.com/issues/14950">issue#14950</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7880">pr#7880</a>, Owen Synge)</li>
<li>mon: initialize last_* timestamps on new pgs to creation time (<a class="reference external" href="http://tracker.ceph.com/issues/14952">issue#14952</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7980">pr#7980</a>, Sage Weil)</li>
<li>mon: make clock skew checks sane (<a class="reference external" href="http://tracker.ceph.com/issues/14175">issue#14175</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7141">pr#7141</a>, Joao Eduardo Luis)</li>
<li>mon: osd [test-]reweight-by-{pg,utilization} command updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/7890">pr#7890</a>, Dan van der Ster, Sage Weil)</li>
<li>mon: remove &#8216;mds setmap&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/15136">issue#15136</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8121">pr#8121</a>, Sage Weil)</li>
<li>mon: standardize Ceph removal commands (<a class="reference external" href="http://github.com/ceph/ceph/pull/7939">pr#7939</a>, Dongsheng Yang)</li>
<li>mon: unconfuse object count skew message (<a class="reference external" href="http://github.com/ceph/ceph/pull/7882">pr#7882</a>, Piotr Dałek)</li>
<li>mon: unregister command on shutdown (<a class="reference external" href="http://github.com/ceph/ceph/pull/7504">pr#7504</a>, huanwen ren)</li>
<li>mount.fuse.ceph: better parsing of arguments passed to mount.fuse.ceph by mount command (<a class="reference external" href="http://tracker.ceph.com/issues/14735">issue#14735</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7607">pr#7607</a>, Florent Bautista)</li>
<li>msg/async: _try_send trim already sent for outcoming_bl more efficient (<a class="reference external" href="http://github.com/ceph/ceph/pull/7970">pr#7970</a>, Yan Jun)</li>
<li>msg/async: don&#8217;t calculate msg header crc when not needed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7815">pr#7815</a>, Piotr Dałek)</li>
<li>msg/async: smarter MSG_MORE (<a class="reference external" href="http://github.com/ceph/ceph/pull/7625">pr#7625</a>, Piotr Dałek)</li>
<li>msg: add thread safety for &#8220;random&#8221; Messenger + fix wrong usage of random functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/7650">pr#7650</a>, Avner BenHanoch)</li>
<li>msg: async: fix perf counter description and simplify _send_keepalive_or_ack (<a class="reference external" href="http://github.com/ceph/ceph/pull/8046">pr#8046</a>, xie xingguo)</li>
<li>msg: async: small cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/7871">pr#7871</a>, xie xingguo)</li>
<li>msg: async: start over after failing to bind a port in specified range (<a class="reference external" href="http://tracker.ceph.com/issues/14928">issue#14928</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13002">issue#13002</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7852">pr#7852</a>, xie xingguo)</li>
<li>msg: remove duplicated code - local_delivery will now call &#8216;enqueue&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/7948">pr#7948</a>, Avner BenHanoch)</li>
<li>msg: significantly reduce minimal memory usage of connections (<a class="reference external" href="http://github.com/ceph/ceph/pull/7567">pr#7567</a>, Piotr Dałek)</li>
<li>mstart: start rgw on different ports as well (<a class="reference external" href="http://github.com/ceph/ceph/pull/8167">pr#8167</a>, Abhishek Lekshmanan)</li>
<li>nfs for rgw (Matt Benjamin, Orit Wasserman) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7634">pr#7634</a>, Yehuda Sadeh, Matt Benjamin)</li>
<li>os/ObjectStore: implement more efficient get_encoded_bytes()  (<a class="reference external" href="http://github.com/ceph/ceph/pull/7775">pr#7775</a>, Piotr Dałek)</li>
<li>os/bluestore/BlueFS: Before reap ioct, it should wait io complete (<a class="reference external" href="http://github.com/ceph/ceph/pull/8178">pr#8178</a>, Jianpeng Ma)</li>
<li>os/bluestore/BlueStore: Don&#8217;t leak trim overlay data before write. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7895">pr#7895</a>, Jianpeng Ma)</li>
<li>os/bluestore/KernelDevice: force block size (<a class="reference external" href="http://github.com/ceph/ceph/pull/8006">pr#8006</a>, Sage Weil)</li>
<li>os/bluestore/NVMEDevice: make IO thread using dpdk launch (<a class="reference external" href="http://github.com/ceph/ceph/pull/8160">pr#8160</a>, Haomai Wang)</li>
<li>os/bluestore: clone overlay data (<a class="reference external" href="http://github.com/ceph/ceph/pull/7860">pr#7860</a>, Jianpeng Ma)</li>
<li>os/bluestore: fix a typo in SPDK path parsing (<a class="reference external" href="http://github.com/ceph/ceph/pull/7601">pr#7601</a>, Jianjian Huo)</li>
<li>os/bluestore: make bluestore_sync_transaction = true can work. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7674">pr#7674</a>, Jianpeng Ma)</li>
<li>os/bluestore: small fixes in bluestore StupidAllocator (<a class="reference external" href="http://github.com/ceph/ceph/pull/8101">pr#8101</a>, Jianjian Huo)</li>
<li>os/filestore/FileJournal: set block size via config option (<a class="reference external" href="http://github.com/ceph/ceph/pull/7628">pr#7628</a>, Sage Weil)</li>
<li>os/filestore: fix punch hole usage in _zero (<a class="reference external" href="http://github.com/ceph/ceph/pull/8050">pr#8050</a>, Sage Weil)</li>
<li>os/filestore: fix result handling logic of destroy_collection (<a class="reference external" href="http://github.com/ceph/ceph/pull/7721">pr#7721</a>, xie xingguo)</li>
<li>os/filestore: require offset == length == 0 for full object read; add test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7957">pr#7957</a>, Jianpeng Ma)</li>
<li>osd/OSDMap: fix typo in summarize_mapping_stats (<a class="reference external" href="http://github.com/ceph/ceph/pull/8088">pr#8088</a>, Sage Weil)</li>
<li>osd/PGLog: fix warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/8057">pr#8057</a>, Sage Weil)</li>
<li>osd/ReplicatedPG: be more careful about calling publish_stats_to_osd() (<a class="reference external" href="http://tracker.ceph.com/issues/14962">issue#14962</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8039">pr#8039</a>, Greg Farnum)</li>
<li>osd/ReplicatedPG: clear watches on change after applying repops (<a class="reference external" href="http://tracker.ceph.com/issues/15151">issue#15151</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8163">pr#8163</a>, Sage Weil)</li>
<li>osd/ScrubStore: remove unused function (<a class="reference external" href="http://github.com/ceph/ceph/pull/8045">pr#8045</a>, Kefu Chai)</li>
<li>osd: BlueStore/NVMEDevice: fix compiling and fd leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/7496">pr#7496</a>, xie xingguo)</li>
<li>osd: FileStore: use pwritev instead of lseek+writev (<a class="reference external" href="http://github.com/ceph/ceph/pull/7349">pr#7349</a>, Haomai Wang, Tao Chang)</li>
<li>osd: OSDMap: reset osd_primary_affinity shared_ptr when deepish_copy_from (<a class="reference external" href="http://tracker.ceph.com/issues/14686">issue#14686</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7553">pr#7553</a>, Xinze Chi)</li>
<li>osd: Replace snprintf with faster implementation in eversion_t::get_key_name (<a class="reference external" href="http://github.com/ceph/ceph/pull/7121">pr#7121</a>, Evgeniy Firsov)</li>
<li>osd: WeightedPriorityQueue: move to intrusive containers (<a class="reference external" href="http://github.com/ceph/ceph/pull/7654">pr#7654</a>, Robert LeBlanc)</li>
<li>osd: a fix for HeartbeatDispatcher and cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/7550">pr#7550</a>, Kefu Chai)</li>
<li>osd: add missing newline to usage message (<a class="reference external" href="http://github.com/ceph/ceph/pull/7613">pr#7613</a>, Willem Jan Withagen)</li>
<li>osd: avoid FORCE updating digest been overwritten by MAYBE when comparing scrub map (<a class="reference external" href="http://github.com/ceph/ceph/pull/7051">pr#7051</a>, Zhiqiang Wang)</li>
<li>osd: bluefs: fix alignment for odd page sizes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7900">pr#7900</a>, Dan Mick)</li>
<li>osd: bluestore updates, scrub fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8035">pr#8035</a>, Sage Weil)</li>
<li>osd: bluestore/blockdevice: use std::mutex et al (<a class="reference external" href="http://github.com/ceph/ceph/pull/7568">pr#7568</a>, Sage Weil)</li>
<li>osd: bluestore: NVMEDevice: fix error handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7799">pr#7799</a>, xie xingguo)</li>
<li>osd: bluestore: Revert NVMEDevice task cstor and refresh interface changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7729">pr#7729</a>, Haomai Wang)</li>
<li>osd: bluestore: add &#8216;override&#8217; to virtual functions (<a class="reference external" href="http://github.com/ceph/ceph/pull/7886">pr#7886</a>, Michal Jarzabek)</li>
<li>osd: bluestore: allow _dump_onode dynamic accept log level (<a class="reference external" href="http://github.com/ceph/ceph/pull/7995">pr#7995</a>, Jianpeng Ma)</li>
<li>osd: bluestore: fix check for write falling within the same extent (<a class="reference external" href="http://tracker.ceph.com/issues/14954">issue#14954</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7892">pr#7892</a>, Jianpeng Ma)</li>
<li>osd: bluestore: for overwrite a extent, allocate new extent on min_alloc_size write (<a class="reference external" href="http://github.com/ceph/ceph/pull/7996">pr#7996</a>, Jianpeng Ma)</li>
<li>osd: bluestore: improve fs-type verification and tidy up (<a class="reference external" href="http://github.com/ceph/ceph/pull/7651">pr#7651</a>, xie xingguo)</li>
<li>osd: bluestore: misc fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7658">pr#7658</a>, Jianpeng Ma)</li>
<li>osd: bluestore: remove unneeded includes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7870">pr#7870</a>, Michal Jarzabek)</li>
<li>osd: clean up CMPXATTR checks (<a class="reference external" href="http://github.com/ceph/ceph/pull/5961">pr#5961</a>, Jianpeng Ma)</li>
<li>osd: consider high/low mode when putting agent to sleep (<a class="reference external" href="http://tracker.ceph.com/issues/14752">issue#14752</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7631">pr#7631</a>, Sage Weil)</li>
<li>osd: ensure new osdmaps commit before publishing them to pgs (<a class="reference external" href="http://tracker.ceph.com/issues/15073">issue#15073</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8096">pr#8096</a>, Sage Weil)</li>
<li>osd: filejournal: report journal entry count (<a class="reference external" href="http://github.com/ceph/ceph/pull/7643">pr#7643</a>, tianqing)</li>
<li>osd: filestore: FALLOC_FL_PUNCH_HOLE must be used with FALLOC_FL_KEEP_SIZE (<a class="reference external" href="http://github.com/ceph/ceph/pull/7768">pr#7768</a>, xinxin shu)</li>
<li>osd: filestore: fast abort if statfs encounters ENOENT (<a class="reference external" href="http://github.com/ceph/ceph/pull/7703">pr#7703</a>, xie xingguo)</li>
<li>osd: filestore: fix race condition with split vs collection_move_rename and long object names (<a class="reference external" href="http://tracker.ceph.com/issues/14766">issue#14766</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8136">pr#8136</a>, Samuel Just)</li>
<li>osd: filestore: fix result code overwritten for clone (<a class="reference external" href="http://tracker.ceph.com/issues/14817">issue#14817</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14827">issue#14827</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7711">pr#7711</a>, xie xingguo)</li>
<li>osd: filestore: fix wrong scope of result code for error cases during mkfs (<a class="reference external" href="http://tracker.ceph.com/issues/14814">issue#14814</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7704">pr#7704</a>, xie xingguo)</li>
<li>osd: filestore: fix wrong scope of result code for error cases during mount (<a class="reference external" href="http://tracker.ceph.com/issues/14815">issue#14815</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7707">pr#7707</a>, xie xingguo)</li>
<li>osd: filestore: restructure journal and op queue throttling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7767">pr#7767</a>, Samuel Just)</li>
<li>osd: fix forced prmootion for CALL ops (<a class="reference external" href="http://tracker.ceph.com/issues/14745">issue#14745</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7617">pr#7617</a>, Sage Weil)</li>
<li>osd: fix fusestore hanging during stop/quit (<a class="reference external" href="http://tracker.ceph.com/issues/14786">issue#14786</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7677">pr#7677</a>, xie xingguo)</li>
<li>osd: fix inaccurate counter and skip over queueing an empty transaction (<a class="reference external" href="http://github.com/ceph/ceph/pull/7754">pr#7754</a>, xie xingguo)</li>
<li>osd: fix lack of object unblock when flush fails (<a class="reference external" href="http://tracker.ceph.com/issues/14511">issue#14511</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7584">pr#7584</a>, Igor Fedotov)</li>
<li>osd: fix overload of &#8216;==&#8217; operator for pg_stat_t (<a class="reference external" href="http://tracker.ceph.com/issues/14921">issue#14921</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7842">pr#7842</a>, xie xingguo)</li>
<li>osd: fix race condition for heartbeat_need_update (<a class="reference external" href="http://tracker.ceph.com/issues/14387">issue#14387</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7739">pr#7739</a>, xie xingguo)</li>
<li>osd: fix return value from maybe_handle_cache_detail() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7593">pr#7593</a>, Igor Fedotov)</li>
<li>osd: fix unnecessary object promotion when deleting from cache pool (<a class="reference external" href="http://tracker.ceph.com/issues/13894">issue#13894</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7537">pr#7537</a>, Igor Fedotov)</li>
<li>osd: fix wrong return type of find_osd_on_ip() (<a class="reference external" href="http://tracker.ceph.com/issues/14872">issue#14872</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7812">pr#7812</a>, xie xingguo)</li>
<li>osd: ghobject_t: use ! instead of &#64; as a separator (<a class="reference external" href="http://github.com/ceph/ceph/pull/7595">pr#7595</a>, Sage Weil)</li>
<li>osd: handle dup pg_create that races with pg deletion (<a class="reference external" href="http://github.com/ceph/ceph/pull/8033">pr#8033</a>, Sage Weil)</li>
<li>osd: initialize last_recalibrate field at construction (<a class="reference external" href="http://github.com/ceph/ceph/pull/8071">pr#8071</a>, xie xingguo)</li>
<li>osd: kstore: fix a race condition in _txc_finish() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7804">pr#7804</a>, Jianjian Huo)</li>
<li>osd: kstore: latency breakdown (<a class="reference external" href="http://github.com/ceph/ceph/pull/7850">pr#7850</a>, James Liu)</li>
<li>osd: kstore: sync up kstore with recent bluestore updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/7681">pr#7681</a>, Jianjian Huo)</li>
<li>osd: memstore: fix alignment of Page for test_pageset (<a class="reference external" href="http://github.com/ceph/ceph/pull/7587">pr#7587</a>, Casey Bodley)</li>
<li>osd: min_write_recency_for_promote &amp; min_read_recency_for_promote are tiering only (<a class="reference external" href="http://github.com/ceph/ceph/pull/8081">pr#8081</a>, huanwen ren)</li>
<li>osd: probabilistic cache tier promotion throttling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7465">pr#7465</a>, Sage Weil)</li>
<li>osd: remove up_thru_pending field, which is never used (<a class="reference external" href="http://github.com/ceph/ceph/pull/7991">pr#7991</a>, xie xingguo)</li>
<li>osd: replicatedpg: break out loop if we encounter fatal error during do_pg_op() (<a class="reference external" href="http://tracker.ceph.com/issues/14922">issue#14922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7844">pr#7844</a>, xie xingguo)</li>
<li>osd: resolve boot vs NOUP set + clear race (<a class="reference external" href="http://github.com/ceph/ceph/pull/7483">pr#7483</a>, Sage Weil)</li>
<li>packaging: make infernalis -&gt; jewel upgrade work (<a class="reference external" href="http://tracker.ceph.com/issues/15047">issue#15047</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8034">pr#8034</a>, Nathan Cutler)</li>
<li>packaging: move cephfs repair tools to ceph-common (<a class="reference external" href="http://tracker.ceph.com/issues/15145">issue#15145</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8133">pr#8133</a>, Boris Ranto, Ken Dreyer)</li>
<li>pybind/rados: fix object lifetime issues and other bugs in aio (<a class="reference external" href="http://github.com/ceph/ceph/pull/7778">pr#7778</a>, Hector Martin)</li>
<li>pybind/rados: use __dealloc__ since __del__ is ignored by cython (<a class="reference external" href="http://github.com/ceph/ceph/pull/7692">pr#7692</a>, Mehdi Abaakouk)</li>
<li>pybind: Ensure correct python flags are passed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7663">pr#7663</a>, James Page)</li>
<li>pybind: flag an RBD image as closed regardless of result code (<a class="reference external" href="http://github.com/ceph/ceph/pull/8005">pr#8005</a>, Jason Dillaman)</li>
<li>pybind: move cephfs to Cython (<a class="reference external" href="http://github.com/ceph/ceph/pull/7745">pr#7745</a>, John Spray, Mehdi Abaakouk)</li>
<li>pybind: remove next() on iterators (<a class="reference external" href="http://github.com/ceph/ceph/pull/7706">pr#7706</a>, Mehdi Abaakouk)</li>
<li>pybind: replace __del__ with __dealloc__ for rbd (<a class="reference external" href="http://github.com/ceph/ceph/pull/7708">pr#7708</a>, Josh Durgin)</li>
<li>pybind: use correct subdir for rados install-exec rule (<a class="reference external" href="http://github.com/ceph/ceph/pull/7684">pr#7684</a>, Josh Durgin)</li>
<li>python binding of librados with cython (<a class="reference external" href="http://github.com/ceph/ceph/pull/7621">pr#7621</a>, Mehdi Abaakouk)</li>
<li>python: use pip instead of python setup.py (<a class="reference external" href="http://github.com/ceph/ceph/pull/7605">pr#7605</a>, Loic Dachary)</li>
<li>qa/workunits/cephtool/test.sh: wait longer in ceph_watch_start() (<a class="reference external" href="http://tracker.ceph.com/issues/14910">issue#14910</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7861">pr#7861</a>, Kefu Chai)</li>
<li>qa/workunits/rados/test.sh: capture stderr too (<a class="reference external" href="http://github.com/ceph/ceph/pull/8004">pr#8004</a>, Sage Weil)</li>
<li>qa/workunits/rados/test.sh: test tmap_migrate (<a class="reference external" href="http://github.com/ceph/ceph/pull/8114">pr#8114</a>, Sage Weil)</li>
<li>qa/workunits/rbd: do not use object map during read flag testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/8104">pr#8104</a>, Jason Dillaman)</li>
<li>qa/workunits/rbd: new online maintenance op tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/8216">pr#8216</a>, Jason Dillaman)</li>
<li>qa/workunits/rbd: use POSIX function definition (<a class="reference external" href="http://tracker.ceph.com/issues/15104">issue#15104</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8068">pr#8068</a>, Nathan Cutler)</li>
<li>qa/workunits/rest/test.py: add confirmation to &#8216;mds setmap&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/14606">issue#14606</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7982">pr#7982</a>, Sage Weil)</li>
<li>qa/workunits/rest/test.py: don&#8217;t use newfs (<a class="reference external" href="http://github.com/ceph/ceph/pull/8191">pr#8191</a>, Sage Weil)</li>
<li>qa: add workunit to run ceph_test_rbd_mirror (<a class="reference external" href="http://github.com/ceph/ceph/pull/8221">pr#8221</a>, Josh Durgin)</li>
<li>rados: add ceph:: namespace to bufferlist type (<a class="reference external" href="http://github.com/ceph/ceph/pull/8059">pr#8059</a>, Noah Watkins)</li>
<li>rados: fix bug for write bench (<a class="reference external" href="http://github.com/ceph/ceph/pull/7851">pr#7851</a>, James Liu)</li>
<li>rbd-mirror: ImageReplayer async start/stop (<a class="reference external" href="http://github.com/ceph/ceph/pull/7944">pr#7944</a>, Mykola Golub)</li>
<li>rbd-mirror: ImageReplayer improvements (<a class="reference external" href="http://github.com/ceph/ceph/pull/7759">pr#7759</a>, Mykola Golub)</li>
<li>rbd-mirror: fix image replay test failures (<a class="reference external" href="http://github.com/ceph/ceph/pull/8158">pr#8158</a>, Jason Dillaman)</li>
<li>rbd-mirror: fix long termination due to 30sec wait in main loop (<a class="reference external" href="http://github.com/ceph/ceph/pull/8185">pr#8185</a>, Mykola Golub)</li>
<li>rbd-mirror: implement ImageReplayer (<a class="reference external" href="http://github.com/ceph/ceph/pull/7614">pr#7614</a>, Mykola Golub)</li>
<li>rbd-mirror: integrate with image sync state machine (<a class="reference external" href="http://github.com/ceph/ceph/pull/8079">pr#8079</a>, Jason Dillaman)</li>
<li>rbd-mirror: minor fix-ups for initial skeleton implementation (<a class="reference external" href="http://github.com/ceph/ceph/pull/7958">pr#7958</a>, Mykola Golub)</li>
<li>rbd-mirror: remote to local cluster image sync (<a class="reference external" href="http://github.com/ceph/ceph/pull/7979">pr#7979</a>, Jason Dillaman)</li>
<li>rbd-mirror: use pool/image names in asok commands (<a class="reference external" href="http://github.com/ceph/ceph/pull/8159">pr#8159</a>, Mykola Golub)</li>
<li>rbd-mirror: use the mirroring directory to detect candidate images (<a class="reference external" href="http://tracker.ceph.com/issues/15142">issue#15142</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8162">pr#8162</a>, Ricardo Dias)</li>
<li>rbd/run_cli_tests.sh: Reflect test failures (<a class="reference external" href="http://tracker.ceph.com/issues/14825">issue#14825</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7781">pr#7781</a>, Zack Cerza)</li>
<li>rbd: add support for mirror image promotion/demotion/resync (<a class="reference external" href="http://github.com/ceph/ceph/pull/8138">pr#8138</a>, Jason Dillaman)</li>
<li>rbd: clone operation should default to image format 2 (<a class="reference external" href="http://github.com/ceph/ceph/pull/8119">pr#8119</a>, Jason Dillaman)</li>
<li>rbd: deprecate image format 1 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7841">pr#7841</a>, Jason Dillaman)</li>
<li>rbd: support for enabling/disabling mirroring on specific images (<a class="reference external" href="http://tracker.ceph.com/issues/13296">issue#13296</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8056">pr#8056</a>, Ricardo Dias)</li>
<li>release-notes: draft v0.94.6 release notes (<a class="reference external" href="http://tracker.ceph.com/issues/13356">issue#13356</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7689">pr#7689</a>, Abhishek Varshney, Loic Dachary)</li>
<li>release-notes: draft v10.0.3 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7592">pr#7592</a>, Loic Dachary)</li>
<li>release-notes: draft v10.0.4 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7966">pr#7966</a>, Loic Dachary)</li>
<li>release-notes: draft v9.2.1 release notes (<a class="reference external" href="http://tracker.ceph.com/issues/13750">issue#13750</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7694">pr#7694</a>, Abhishek Varshney)</li>
<li>rgw: ldap (Matt Benjamin) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7985">pr#7985</a>, Matt Benjamin)</li>
<li>rgw: multisite fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8013">pr#8013</a>, Yehuda Sadeh)</li>
<li>rgw: support for aws authentication v4 (Javier M. Mellid) (<a class="reference external" href="http://tracker.ceph.com/issues/10333">issue#10333</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7720">pr#7720</a>, Yehuda Sadeh, Javier M. Mellid)</li>
<li>rgw sync fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/8095">pr#8095</a>, Yehuda Sadeh)</li>
<li>rgw/rgw_common.h: fix the RGWBucketInfo decoding (<a class="reference external" href="http://github.com/ceph/ceph/pull/8165">pr#8165</a>, Kefu Chai)</li>
<li>rgw/rgw_common.h: fix the RGWBucketInfo decoding (<a class="reference external" href="http://github.com/ceph/ceph/pull/8154">pr#8154</a>, Kefu Chai)</li>
<li>rgw/rgw_orphan: check the return value of save_state (<a class="reference external" href="http://github.com/ceph/ceph/pull/7544">pr#7544</a>, Boris Ranto)</li>
<li>rgw: Allow an implicit tenant in case of Keystone (<a class="reference external" href="http://github.com/ceph/ceph/pull/8139">pr#8139</a>, Pete Zaitcev)</li>
<li>rgw: Drop unused usage_exit from rgw_admin.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/7632">pr#7632</a>, Pete Zaitcev)</li>
<li>rgw: RGWZoneParams::create should not handle -EEXIST error (<a class="reference external" href="http://github.com/ceph/ceph/pull/7927">pr#7927</a>, Orit Wasserman)</li>
<li>rgw: add bucket request payment feature usage statistics integration (<a class="reference external" href="http://tracker.ceph.com/issues/13834">issue#13834</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6656">pr#6656</a>, Javier M. Mellid)</li>
<li>rgw: add support for caching of Keystone admin token. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7630">pr#7630</a>, Radoslaw Zarzynski)</li>
<li>rgw: add support for metadata upload during PUT on Swift container. (<a class="reference external" href="http://github.com/ceph/ceph/pull/8002">pr#8002</a>, Radoslaw Zarzynski)</li>
<li>rgw: add support for system requests over Swift API (<a class="reference external" href="http://github.com/ceph/ceph/pull/7666">pr#7666</a>, Radoslaw Zarzynski)</li>
<li>rgw: adjust the request_uri to support absoluteURI of http request (<a class="reference external" href="http://tracker.ceph.com/issues/12917">issue#12917</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7675">pr#7675</a>, Wenjun Huang)</li>
<li>rgw: admin api for retrieving usage info (Ji Chen) (<a class="reference external" href="http://github.com/ceph/ceph/pull/8031">pr#8031</a>, Yehuda Sadeh, Ji Chen)</li>
<li>rgw: allow authentication keystone with self signed certs  (<a class="reference external" href="http://tracker.ceph.com/issues/14853">issue#14853</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13422">issue#13422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7777">pr#7777</a>, Abhishek Lekshmanan)</li>
<li>rgw: approximate AmazonS3 HostId error field. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7444">pr#7444</a>, Robin H. Johnson)</li>
<li>rgw: calculate payload hash in RGWPutObj_ObjStore only when necessary. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7869">pr#7869</a>, Radoslaw Zarzynski)</li>
<li>rgw: cleanups to comments and messages (<a class="reference external" href="http://github.com/ceph/ceph/pull/7633">pr#7633</a>, Pete Zaitcev)</li>
<li>rgw: don&#8217;t use s-&gt;bucket for metadata api path entry (<a class="reference external" href="http://tracker.ceph.com/issues/14549">issue#14549</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7408">pr#7408</a>, Yehuda Sadeh)</li>
<li>rgw: drop permissions of rgw/civetweb after startup (<a class="reference external" href="http://tracker.ceph.com/issues/13600">issue#13600</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8019">pr#8019</a>, Karol Mroz)</li>
<li>rgw: fcgi should include acconfig (<a class="reference external" href="http://github.com/ceph/ceph/pull/7760">pr#7760</a>, Abhishek Lekshmanan)</li>
<li>rgw: fix wrong handling of limit=0 during listing of Swift account. (<a class="reference external" href="http://tracker.ceph.com/issues/14903">issue#14903</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7821">pr#7821</a>, Radoslaw Zarzynski)</li>
<li>rgw: fixes for per-period metadata logs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7827">pr#7827</a>, Casey Bodley)</li>
<li>rgw: improve error handling in S3/Keystone integration (<a class="reference external" href="http://github.com/ceph/ceph/pull/7597">pr#7597</a>, Radoslaw Zarzynski)</li>
<li>rgw: link civetweb with openssl (Sage, Marcus Watts) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7825">pr#7825</a>, Marcus Watts, Sage Weil)</li>
<li>rgw: link payer info to usage logging (<a class="reference external" href="http://github.com/ceph/ceph/pull/7918">pr#7918</a>, Yehuda Sadeh, Javier M. Mellid)</li>
<li>rgw: move signal.h dependency from rgw_front.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/7678">pr#7678</a>, Matt Benjamin)</li>
<li>rgw: multiple Swift API compliance improvements for TempURL (Radoslaw Zarzynsk) (<a class="reference external" href="http://tracker.ceph.com/issues/14806">issue#14806</a>, <a class="reference external" href="http://tracker.ceph.com/issues/11163">issue#11163</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7891">pr#7891</a>, Radoslaw Zarzynski)</li>
<li>rgw: multiple improvements regarding etag calculation for SLO/DLO of Swift API. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7764">pr#7764</a>, Radoslaw Zarzynski)</li>
<li>rgw: remove duplicated code in RGWRados::get_bucket_info() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7413">pr#7413</a>, liyankun)</li>
<li>rgw: remove unused vector (<a class="reference external" href="http://github.com/ceph/ceph/pull/7990">pr#7990</a>, Na Xie)</li>
<li>rgw: reset return code in when iterating over the bucket the objects (<a class="reference external" href="http://tracker.ceph.com/issues/14826">issue#14826</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7803">pr#7803</a>, Orit Wasserman)</li>
<li>rgw: store system object meta in cache when creating it (<a class="reference external" href="http://tracker.ceph.com/issues/14678">issue#14678</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7615">pr#7615</a>, Yehuda Sadeh)</li>
<li>rgw: support json format for admin policy API (Dunrong Huang) (<a class="reference external" href="http://tracker.ceph.com/issues/14090">issue#14090</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8036">pr#8036</a>, Yehuda Sadeh, Dunrong Huang)</li>
<li>rgw: try to parse Keystone token in order appropriate to configuration. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7822">pr#7822</a>, Radoslaw Zarzynski)</li>
<li>rgw: use pimpl pattern for RGWPeriodHistory (<a class="reference external" href="http://github.com/ceph/ceph/pull/7809">pr#7809</a>, Casey Bodley)</li>
<li>rgw: user quota may not adjust on bucket removal (<a class="reference external" href="http://tracker.ceph.com/issues/14507">issue#14507</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7586">pr#7586</a>, root)</li>
<li>rgw:bucket link now set the bucket.instance acl (bug fix) (<a class="reference external" href="http://tracker.ceph.com/issues/11076">issue#11076</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8037">pr#8037</a>, Zengran Zhang)</li>
<li>rpm,deb: remove conditional BuildRequires for btrfs-progs (<a class="reference external" href="http://tracker.ceph.com/issues/15042">issue#15042</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8016">pr#8016</a>, Erwan Velu)</li>
<li>rpm: remove sub-package dependencies on &#8220;ceph&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/15146">issue#15146</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8137">pr#8137</a>, Ken Dreyer)</li>
<li>script: add missing stop_rgw variable to stop.sh script (<a class="reference external" href="http://github.com/ceph/ceph/pull/7959">pr#7959</a>, Karol Mroz)</li>
<li>selinux: Update policy to grant additional access (<a class="reference external" href="http://tracker.ceph.com/issues/14870">issue#14870</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7971">pr#7971</a>, Boris Ranto)</li>
<li>selinux: allow log files to be located in /var/log/radosgw (<a class="reference external" href="http://github.com/ceph/ceph/pull/7604">pr#7604</a>, Boris Ranto)</li>
<li>sstring.hh: return type from str_len(...) need not be const (<a class="reference external" href="http://github.com/ceph/ceph/pull/7679">pr#7679</a>, Matt Benjamin)</li>
<li>submodules: revert an accidental change (<a class="reference external" href="http://github.com/ceph/ceph/pull/7929">pr#7929</a>, Yehuda Sadeh)</li>
<li>systemd: correctly escape block device paths (<a class="reference external" href="http://tracker.ceph.com/issues/14706">issue#14706</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7579">pr#7579</a>, James Page)</li>
<li>test/TestPGLog: fix the FTBFS (<a class="reference external" href="http://tracker.ceph.com/issues/14930">issue#14930</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7855">pr#7855</a>, Kefu Chai)</li>
<li>test/bufferlist: Avoid false-positive tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/7955">pr#7955</a>, Erwan Velu)</li>
<li>test/cli-integration/rbd: disable progress output (<a class="reference external" href="http://tracker.ceph.com/issues/14931">issue#14931</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7858">pr#7858</a>, Josh Durgin)</li>
<li>test/osd: Relax the timing intervals in osd-markdown.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/7899">pr#7899</a>, Dan Mick)</li>
<li>test/pybind/test_ceph_argparse: fix reweight-by-utilization tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/8027">pr#8027</a>, Kefu Chai, Sage Weil)</li>
<li>test/radosgw-admin: update the expected usage outputs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7723">pr#7723</a>, Kefu Chai)</li>
<li>test/rgw: add multisite test for meta sync across periods (<a class="reference external" href="http://github.com/ceph/ceph/pull/7887">pr#7887</a>, Casey Bodley)</li>
<li>test/time: no need to abs(uint64_t) for comparing (<a class="reference external" href="http://github.com/ceph/ceph/pull/7726">pr#7726</a>, Kefu Chai)</li>
<li>test: add missing shut_down mock method (<a class="reference external" href="http://github.com/ceph/ceph/pull/8125">pr#8125</a>, Jason Dillaman)</li>
<li>test: correct librbd errors discovered with unoptimized cmake build (<a class="reference external" href="http://github.com/ceph/ceph/pull/7914">pr#7914</a>, Jason Dillaman)</li>
<li>test: create pools for rbd tests with different prefix (<a class="reference external" href="http://github.com/ceph/ceph/pull/7738">pr#7738</a>, Mykola Golub)</li>
<li>test: enable test for bug #2339 which has been resolved. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7743">pr#7743</a>, You Ji)</li>
<li>test: fix issues discovered via the rbd permissions test case (<a class="reference external" href="http://github.com/ceph/ceph/pull/8129">pr#8129</a>, Jason Dillaman)</li>
<li>test: fixup and improvements for rbd-mirror test (<a class="reference external" href="http://github.com/ceph/ceph/pull/8090">pr#8090</a>, Mykola Golub)</li>
<li>test: handle exception thrown from close during rbd lock test (<a class="reference external" href="http://github.com/ceph/ceph/pull/8124">pr#8124</a>, Jason Dillaman)</li>
<li>test: more debug logging for TestWatchNotify (<a class="reference external" href="http://github.com/ceph/ceph/pull/7737">pr#7737</a>, Mykola Golub)</li>
<li>test: new librbd flatten test case (<a class="reference external" href="http://github.com/ceph/ceph/pull/7609">pr#7609</a>, Jason Dillaman)</li>
<li>test: rbd-mirror: add &#8220;switch to the next tag&#8221; test (<a class="reference external" href="http://github.com/ceph/ceph/pull/8149">pr#8149</a>, Mykola Golub)</li>
<li>test: rbd-mirror: compare positions using all fields (<a class="reference external" href="http://github.com/ceph/ceph/pull/8172">pr#8172</a>, Mykola Golub)</li>
<li>test: reproducer for writeback CoW deadlock (<a class="reference external" href="http://github.com/ceph/ceph/pull/8009">pr#8009</a>, Jason Dillaman)</li>
<li>test: update rbd integration cram tests for new default features (<a class="reference external" href="http://github.com/ceph/ceph/pull/8001">pr#8001</a>, Jason Dillaman)</li>
<li>test_pool_create.sh: put test files in the test dir so they are cleaned up (<a class="reference external" href="http://github.com/ceph/ceph/pull/8219">pr#8219</a>, Josh Durgin)</li>
<li>tests: ceph-disk.sh: should use &#8220;readlink -f&#8221; instead (<a class="reference external" href="http://github.com/ceph/ceph/pull/7594">pr#7594</a>, Kefu Chai)</li>
<li>tests: ceph-disk.sh: use &#8220;readlink -f&#8221; instead for fullpath (<a class="reference external" href="http://github.com/ceph/ceph/pull/7606">pr#7606</a>, Kefu Chai)</li>
<li>tests: fix a few build warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7608">pr#7608</a>, Sage Weil)</li>
<li>tests: sync ceph-erasure-code-corpus for mktemp -d (<a class="reference external" href="http://github.com/ceph/ceph/pull/7596">pr#7596</a>, Loic Dachary)</li>
<li>tests: test_pidfile.sh lingering processes (<a class="reference external" href="http://tracker.ceph.com/issues/14834">issue#14834</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7734">pr#7734</a>, Loic Dachary)</li>
<li>tools/cephfs: add tmap_upgrade (<a class="reference external" href="http://github.com/ceph/ceph/pull/7003">pr#7003</a>, John Spray)</li>
<li>tools/cephfs: fix tmap_upgrade (<a class="reference external" href="http://tracker.ceph.com/issues/15135">issue#15135</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8128">pr#8128</a>, John Spray)</li>
<li>tools/rados: reduce &#8220;rados put&#8221; memory usage by op_size (<a class="reference external" href="http://github.com/ceph/ceph/pull/7928">pr#7928</a>, Piotr Dałek)</li>
<li>unittest_compression_zlib: do not assume buffer will be null terminated (<a class="reference external" href="http://github.com/ceph/ceph/pull/8064">pr#8064</a>, Sage Weil)</li>
<li>unittest_osdmap: default crush tunables now firefly (<a class="reference external" href="http://github.com/ceph/ceph/pull/8098">pr#8098</a>, Sage Weil)</li>
<li>vstart.sh: avoid race condition starting rgw via vstart.sh (<a class="reference external" href="http://tracker.ceph.com/issues/14829">issue#14829</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7727">pr#7727</a>, Javier M. Mellid)</li>
<li>vstart.sh: silence a harmless msg where btrfs is not found (<a class="reference external" href="http://github.com/ceph/ceph/pull/7640">pr#7640</a>, Patrick Donnelly)</li>
<li>xio: fix incorrect ip being assigned in case of multiple RDMA ports (<a class="reference external" href="http://github.com/ceph/ceph/pull/7747">pr#7747</a>, Subramanyam Varanasi)</li>
<li>xio: remove duplicate assignment of peer addr (<a class="reference external" href="http://github.com/ceph/ceph/pull/8025">pr#8025</a>, Roi Dayan)</li>
<li>xio: remove redundant magic methods (<a class="reference external" href="http://github.com/ceph/ceph/pull/7773">pr#7773</a>, Roi Dayan)</li>
<li>xio: remove unused variable (<a class="reference external" href="http://github.com/ceph/ceph/pull/8023">pr#8023</a>, Roi Dayan)</li>
<li>xxhash: use clone of xxhash.git; add .gitignore (<a class="reference external" href="http://github.com/ceph/ceph/pull/7986">pr#7986</a>, Sage Weil)</li>
<li>rbd: update default image features (<a class="reference external" href="http://github.com/ceph/ceph/pull/7846">pr#7846</a>, Jason Dillaman)</li>
<li>rbd-mirror: make remote context respect env and argv config params (<a class="reference external" href="http://github.com/ceph/ceph/pull/8182">pr#8182</a>, Mykola Golub)</li>
<li>journal: re-use common threads between journalers (<a class="reference external" href="http://github.com/ceph/ceph/pull/7906">pr#7906</a>, Jason Dillaman)</li>
<li>client: add option to control how directory size is calculated (<a class="reference external" href="http://github.com/ceph/ceph/pull/7323">pr#7323</a>, Yan, Zheng)</li>
<li>rgw: keystone v3 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7719">pr#7719</a>, Mark Barnes, Radoslaw Zarzynski)</li>
<li>rgw: new multisite merge (<a class="reference external" href="http://tracker.ceph.com/issues/14549">issue#14549</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7709">pr#7709</a>, Yehuda Sadeh, Orit Wasserman, Casey Bodley, Daniel Gryniewicz)</li>
<li>rgw: adjust error code when bucket does not exist in copy operation (<a class="reference external" href="http://tracker.ceph.com/issues/14975">issue#14975</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7916">pr#7916</a>, Yehuda Sadeh)</li>
<li>rgw: indexless (<a class="reference external" href="http://github.com/ceph/ceph/pull/7786">pr#7786</a>, Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v10-0-5">
<h2>v10.0.5<a class="headerlink" href="#v10-0-5" title="Permalink to this headline">¶</a></h2>
<p>This is identical to v10.0.4 and was only created because of a git tagging mistake.</p>
</div>
<div class="section" id="v10-0-4">
<h2>v10.0.4<a class="headerlink" href="#v10-0-4" title="Permalink to this headline">¶</a></h2>
<p>This is the fifth and last development release before Jewel.  The next release
will be a release candidate with the final set of features.  Big items include
RGW static website support, librbd journal framework, fixed mon sync of config-key
data, C++11 updates, and bluestore/kstore.</p>
<div class="section" id="id1232">
<h3>Notable Changes<a class="headerlink" href="#id1232" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>admin/build-doc: depend on zlib1g-dev and graphviz (<a class="reference external" href="http://github.com/ceph/ceph/pull/7522">pr#7522</a>, Ken Dreyer)</li>
<li>buffer: use move construct to append/push_back/push_front (<a class="reference external" href="http://github.com/ceph/ceph/pull/7455">pr#7455</a>, Haomai Wang)</li>
<li>build: allow jemalloc with rocksdb-static (<a class="reference external" href="http://github.com/ceph/ceph/pull/7368">pr#7368</a>, Somnath Roy)</li>
<li>build: fix the autotools and cmake build (the new fusestore needs libfuse) (<a class="reference external" href="http://github.com/ceph/ceph/pull/7393">pr#7393</a>, Kefu Chai)</li>
<li>build: fix warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7197">pr#7197</a>, Kefu Chai, xie xingguo)</li>
<li>build: fix warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7315">pr#7315</a>, Kefu Chai)</li>
<li>build: kill warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/7397">pr#7397</a>, Kefu Chai)</li>
<li>build: move libexec scripts to standardize across distros (<a class="reference external" href="http://tracker.ceph.com/issues/14687">issue#14687</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14705">issue#14705</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14723">issue#14723</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7636">pr#7636</a>, Nathan Cutler, Kefu Chai)</li>
<li>build: Refrain from versioning and packaging EC testing plugins (<a class="reference external" href="http://tracker.ceph.com/issues/14756">issue#14756</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14723">issue#14723</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7637">pr#7637</a>, Nathan Cutler, Kefu Chai)</li>
<li>build: spdk submodule; cmake (<a class="reference external" href="http://github.com/ceph/ceph/pull/7503">pr#7503</a>, Kefu Chai)</li>
<li>ceph-disk: support bluestore (<a class="reference external" href="http://tracker.ceph.com/issues/13422">issue#13422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7218">pr#7218</a>, Loic Dachary, Sage Weil)</li>
<li>ceph-disk/test: fix test_prepare.py::TestPrepare tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/7549">pr#7549</a>, Kefu Chai)</li>
<li>cleanup: remove misc dead code (<a class="reference external" href="http://github.com/ceph/ceph/pull/7201">pr#7201</a>, Erwan Velu)</li>
<li>cls/cls_rbd: pass string by reference (<a class="reference external" href="http://github.com/ceph/ceph/pull/7232">pr#7232</a>, Jeffrey Lu)</li>
<li>cmake: Added new unittests to make check (<a class="reference external" href="http://github.com/ceph/ceph/pull/7572">pr#7572</a>, Ali Maredia)</li>
<li>cmake: add KernelDevice.cc to libos_srcs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7507">pr#7507</a>, Kefu Chai)</li>
<li>cmake: check for libsnappy in default path also (<a class="reference external" href="http://github.com/ceph/ceph/pull/7366">pr#7366</a>, Kefu Chai)</li>
<li>cmake: feb5 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7541">pr#7541</a>, Matt Benjamin)</li>
<li>cmake: For CMake version &lt;= 2.8.11, use LINK_PRIVATE and LINK_PUBLIC (<a class="reference external" href="http://github.com/ceph/ceph/pull/7474">pr#7474</a>, Tao Chang)</li>
<li>cmake: let ceph-client-debug link with tcmalloc (<a class="reference external" href="http://github.com/ceph/ceph/pull/7314">pr#7314</a>, Kefu Chai)</li>
<li>cmake: support ccache via a WITH_CCACHE build option (<a class="reference external" href="http://github.com/ceph/ceph/pull/6875">pr#6875</a>, John Coyle)</li>
<li>common: add zlib compression plugin (<a class="reference external" href="http://github.com/ceph/ceph/pull/7437">pr#7437</a>, Alyona Kiseleva, Kiseleva Alyona)</li>
<li>common: admin socket commands for tcmalloc heap get/set operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/7512">pr#7512</a>, Samuel Just)</li>
<li>common: ake ceph_time clocks work under BSD (<a class="reference external" href="http://github.com/ceph/ceph/pull/7340">pr#7340</a>, Adam C. Emerson)</li>
<li>common: Allow OPT_INT settings with negative values (<a class="reference external" href="http://tracker.ceph.com/issues/13829">issue#13829</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7390">pr#7390</a>, Brad Hubbard, Kefu Chai)</li>
<li>common/buffer: replace RWLock with spinlocks (<a class="reference external" href="http://github.com/ceph/ceph/pull/7294">pr#7294</a>, Piotr Dałek)</li>
<li>common: change the type of counter total/unhealthy_workers (<a class="reference external" href="http://github.com/ceph/ceph/pull/7254">pr#7254</a>, Guang Yang)</li>
<li>common: snappy decompressor may assert when handling segmented input bufferlist (<a class="reference external" href="http://tracker.ceph.com/issues/14400">issue#14400</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7268">pr#7268</a>, Igor Fedotov)</li>
<li>common/str_map: cleanup: replaced get_str_map() function overloading by using default parameters for delimiters (<a class="reference external" href="http://github.com/ceph/ceph/pull/7266">pr#7266</a>, Sahithi R V)</li>
<li>common: time: have skewing-now call non-skewing now (<a class="reference external" href="http://github.com/ceph/ceph/pull/7466">pr#7466</a>, Adam C. Emerson)</li>
<li>common: unit test for interval_set implementations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6">pr#6</a>, Igor Fedotov)</li>
<li>config: add $data_dir/config to config search path (<a class="reference external" href="http://github.com/ceph/ceph/pull/7377">pr#7377</a>, Sage Weil)</li>
<li>configure.ac: make &#8220;&#8211;with-librocksdb-static&#8221; default to &#8216;check&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/14463">issue#14463</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7317">pr#7317</a>, Dan Mick)</li>
<li>crush: add safety assert (<a class="reference external" href="http://tracker.ceph.com/issues/14496">issue#14496</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7344">pr#7344</a>, songbaisen)</li>
<li>crush: reply quickly from get_immediate_parent (<a class="reference external" href="http://tracker.ceph.com/issues/14334">issue#14334</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7181">pr#7181</a>, song baisen)</li>
<li>debian: packaging fixes for jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/7807">pr#7807</a>, Ken Dreyer, Ali Maredia)</li>
<li>debian/rpm split servers (<a class="reference external" href="http://tracker.ceph.com/issues/10587">issue#10587</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7746">pr#7746</a>, Ken Dreyer)</li>
<li>doc: add orphans commands to radosgw-admin(8) (<a class="reference external" href="http://tracker.ceph.com/issues/14637">issue#14637</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7518">pr#7518</a>, Ken Dreyer)</li>
<li>doc: amend the rados.8 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7251">pr#7251</a>, Kefu Chai)</li>
<li>doc: Fixes a CRUSH map step take argument (<a class="reference external" href="http://github.com/ceph/ceph/pull/7327">pr#7327</a>, Ivan Grcic)</li>
<li>doc: fixing image in section ERASURE CODING (<a class="reference external" href="http://github.com/ceph/ceph/pull/7298">pr#7298</a>, Rachana Patel)</li>
<li>doc: fix misleading configuration guide on cache tiering (<a class="reference external" href="http://github.com/ceph/ceph/pull/7000">pr#7000</a>, Yuan Zhou)</li>
<li>doc: fix S3 C# example (<a class="reference external" href="http://github.com/ceph/ceph/pull/7027">pr#7027</a>, Dunrong Huang)</li>
<li>doc: remove redundant space in ceph-authtool/monmaptool doc (<a class="reference external" href="http://github.com/ceph/ceph/pull/7244">pr#7244</a>, Jiaying Ren)</li>
<li>doc: revise SubmittingPatches (<a class="reference external" href="http://github.com/ceph/ceph/pull/7292">pr#7292</a>, Kefu Chai)</li>
<li>doc: rgw: port changes from downstream to upstream (<a class="reference external" href="http://github.com/ceph/ceph/pull/7264">pr#7264</a>, Bara Ancincova)</li>
<li>doc: script and guidelines for mirroring Ceph (<a class="reference external" href="http://github.com/ceph/ceph/pull/7384">pr#7384</a>, Wido den Hollander)</li>
<li>doc: use &#8216;ceph auth get-or-create&#8217; for creating RGW keyring (<a class="reference external" href="http://github.com/ceph/ceph/pull/6930">pr#6930</a>, Wido den Hollander)</li>
<li>global: do not start two daemons with a single pid-file (<a class="reference external" href="http://tracker.ceph.com/issues/13422">issue#13422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7075">pr#7075</a>, shun song)</li>
<li>global: do not start two daemons with a single pid-file (part 2) (<a class="reference external" href="http://tracker.ceph.com/issues/13422">issue#13422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7463">pr#7463</a>, Loic Dachary)</li>
<li>journal: flush commit position on metadata shutdown (<a class="reference external" href="http://github.com/ceph/ceph/pull/7385">pr#7385</a>, Mykola Golub)</li>
<li>journal: reset commit_position_task_ctx pointer after task complete (<a class="reference external" href="http://github.com/ceph/ceph/pull/7480">pr#7480</a>, Mykola Golub)</li>
<li>libcephfs: update LIBCEPHFS_VERSION to indicate the interface was changed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7551">pr#7551</a>, Jevon Qiao)</li>
<li>librados: move to c++11 concurrency types (<a class="reference external" href="http://github.com/ceph/ceph/pull/5931">pr#5931</a>, Adam C. Emerson)</li>
<li>librados: remove duplicate definitions for rados pool_stat_t and cluster_stat_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/7330">pr#7330</a>, Igor Fedotov)</li>
<li>librados: shutdown finisher in a more graceful way (<a class="reference external" href="http://github.com/ceph/ceph/pull/7519">pr#7519</a>, xie xingguo)</li>
<li>librados_test_stub: protect against notify/unwatch race (<a class="reference external" href="http://github.com/ceph/ceph/pull/7540">pr#7540</a>, Jason Dillaman)</li>
<li>librbd: API: async open and close (<a class="reference external" href="http://tracker.ceph.com/issues/14264">issue#14264</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7259">pr#7259</a>, Mykola Golub)</li>
<li>librbd: Avoid create two threads per image (<a class="reference external" href="http://github.com/ceph/ceph/pull/7400">pr#7400</a>, Haomai Wang)</li>
<li>librbd: block maintenance ops until after journal is ready (<a class="reference external" href="http://tracker.ceph.com/issues/14510">issue#14510</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7382">pr#7382</a>, Jason Dillaman)</li>
<li>librbd: fix internal handling of dynamic feature updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/7299">pr#7299</a>, Jason Dillaman)</li>
<li>librbd: journal framework for tracking exclusive lock transitions (<a class="reference external" href="http://tracker.ceph.com/issues/13298">issue#13298</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7529">pr#7529</a>, Jason Dillaman)</li>
<li>librbd: journal shut down flush race condition (<a class="reference external" href="http://tracker.ceph.com/issues/14434">issue#14434</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7302">pr#7302</a>, Jason Dillaman)</li>
<li>librbd: remove canceled tasks from timer thread (<a class="reference external" href="http://tracker.ceph.com/issues/14476">issue#14476</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7329">pr#7329</a>, Douglas Fuller)</li>
<li>makefile: remove libedit from libclient.la (<a class="reference external" href="http://github.com/ceph/ceph/pull/7284">pr#7284</a>, Kefu Chai)</li>
<li>mds, client: fix locking around handle_conf_change (<a class="reference external" href="http://tracker.ceph.com/issues/14365">issue#14365</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14374">issue#14374</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7312">pr#7312</a>, John Spray)</li>
<li>mds: judgment added to avoid the risk of visiting the NULL pointer (<a class="reference external" href="http://github.com/ceph/ceph/pull/7358">pr#7358</a>, Kongming Wu)</li>
<li>mon: add an independent option for max election time (<a class="reference external" href="http://github.com/ceph/ceph/pull/7245">pr#7245</a>, Sangdi Xu)</li>
<li>mon: compact full epochs also (<a class="reference external" href="http://tracker.ceph.com/issues/14537">issue#14537</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7396">pr#7396</a>, Kefu Chai)</li>
<li>mon: consider the pool size when setting pool crush rule (<a class="reference external" href="http://tracker.ceph.com/issues/14495">issue#14495</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7341">pr#7341</a>, song baisen)</li>
<li>mon: drop useless rank init assignment (<a class="reference external" href="http://tracker.ceph.com/issues/14508">issue#14508</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7321">pr#7321</a>, huanwen ren)</li>
<li>mon: fix locking in preinit error paths (<a class="reference external" href="http://tracker.ceph.com/issues/14473">issue#14473</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7353">pr#7353</a>, huanwen ren)</li>
<li>mon: fix monmap creation stamp (<a class="reference external" href="http://github.com/ceph/ceph/pull/7459">pr#7459</a>, duanweijun)</li>
<li>mon: fix sync of config-key data (<a class="reference external" href="http://github.com/ceph/ceph/pull/7363">pr#7363</a>, Xiaowei Chen)</li>
<li>mon: go into ERR state if multiple PGs are stuck inactive (<a class="reference external" href="http://tracker.ceph.com/issues/13923">issue#13923</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7253">pr#7253</a>, Wido den Hollander)</li>
<li>mon/MDSMonitor.cc: properly note beacon when health metrics changes (<a class="reference external" href="http://tracker.ceph.com/issues/14684">issue#14684</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7757">pr#7757</a>, Yan, Zheng)</li>
<li>mon/MonClient: avoid null pointer error when configured incorrectly (<a class="reference external" href="http://tracker.ceph.com/issues/14405">issue#14405</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7276">pr#7276</a>, Bo Cai)</li>
<li>mon: PG Monitor should report waiting for backfill (<a class="reference external" href="http://tracker.ceph.com/issues/12744">issue#12744</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7398">pr#7398</a>, Abhishek Lekshmanan)</li>
<li>mon: reduce CPU and memory manager pressure of pg health check (<a class="reference external" href="http://github.com/ceph/ceph/pull/7482">pr#7482</a>, Piotr Dałek)</li>
<li>mon: some cleanup in MonmapMonitor.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/7418">pr#7418</a>, huanwen ren)</li>
<li>mon: warn if pg(s) not scrubbed (<a class="reference external" href="http://tracker.ceph.com/issues/13142">issue#13142</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6440">pr#6440</a>, Michal Jarzabek)</li>
<li>msg/async: AsyncConnection: avoid debug log in cleanup_handler (<a class="reference external" href="http://github.com/ceph/ceph/pull/7547">pr#7547</a>, Haomai Wang)</li>
<li>msg/async: bunch of fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7379">pr#7379</a>, Piotr Dałek)</li>
<li>msg/async: fix array boundary (<a class="reference external" href="http://github.com/ceph/ceph/pull/7451">pr#7451</a>, Wei Jin)</li>
<li>msg/async: fix potential race condition (<a class="reference external" href="http://github.com/ceph/ceph/pull/7453">pr#7453</a>, Haomai Wang)</li>
<li>msg/async: fix send closed local_connection message problem (<a class="reference external" href="http://github.com/ceph/ceph/pull/7255">pr#7255</a>, Haomai Wang)</li>
<li>msg/async: reduce extra tcp packet for message ack (<a class="reference external" href="http://github.com/ceph/ceph/pull/7380">pr#7380</a>, Haomai Wang)</li>
<li>msg/xio: fix compilation (<a class="reference external" href="http://github.com/ceph/ceph/pull/7479">pr#7479</a>, Roi Dayan)</li>
<li>organizationmap: modify org mail info. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7240">pr#7240</a>, Xiaowei Chen)</li>
<li>os/bluestore: fix assert (<a class="reference external" href="http://tracker.ceph.com/issues/14436">issue#14436</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7293">pr#7293</a>, xie xingguo)</li>
<li>os/bluestore: fix bluestore_wal_transaction_t encoding test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7342">pr#7342</a>, Kefu Chai)</li>
<li>os/bluestore: insert new onode to the front position of onode LRU (<a class="reference external" href="http://github.com/ceph/ceph/pull/7492">pr#7492</a>, Jianjian Huo)</li>
<li>os/bluestore: use intrusive_ptr for Dir (<a class="reference external" href="http://github.com/ceph/ceph/pull/7247">pr#7247</a>, Igor Fedotov)</li>
<li>osd: blockdevice: avoid implicit cast and add guard (<a class="reference external" href="http://github.com/ceph/ceph/pull/7460">pr#7460</a>, xie xingguo)</li>
<li>osd: bluestore/BlueFS: initialize super block_size earlier in mkfs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7535">pr#7535</a>, Sage Weil)</li>
<li>osd: BlueStore: fix fsck and blockdevice read-relevant issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/7362">pr#7362</a>, xie xingguo)</li>
<li>osd: BlueStore: fix null pointer access (<a class="reference external" href="http://tracker.ceph.com/issues/14561">issue#14561</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7435">pr#7435</a>, xie xingguo)</li>
<li>osd: bluestore, kstore: fix nid overwritten logic (<a class="reference external" href="http://tracker.ceph.com/issues/14407">issue#14407</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14433">issue#14433</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7283">pr#7283</a>, xie xingguo)</li>
<li>osd: bluestore: use btree_map for allocator (<a class="reference external" href="http://github.com/ceph/ceph/pull/7269">pr#7269</a>, Igor Fedotov, Sage Weil)</li>
<li>osd: drop fiemap len=0 logic (<a class="reference external" href="http://github.com/ceph/ceph/pull/7267">pr#7267</a>, Sage Weil)</li>
<li>osd: FileStore: add error check for object_map-&gt;sync() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7281">pr#7281</a>, Chendi Xue)</li>
<li>osd: FileStore: cleanup: remove obsolete option &#8220;filestore_xattr_use_omap&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/14356">issue#14356</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7217">pr#7217</a>, Vikhyat Umrao)</li>
<li>osd: FileStore: modify the format of colon (<a class="reference external" href="http://github.com/ceph/ceph/pull/7333">pr#7333</a>, Donghai Xu)</li>
<li>osd: FileStore: print file name before osd assert if read file failed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7111">pr#7111</a>, Ji Chen)</li>
<li>osd: fix invalid list traversal in process_copy_chunk (<a class="reference external" href="http://github.com/ceph/ceph/pull/7511">pr#7511</a>, Samuel Just)</li>
<li>osd, mon: fix exit issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/7420">pr#7420</a>, Jiaying Ren)</li>
<li>osd: PG::activate(): handle unexpected cached_removed_snaps more gracefully (<a class="reference external" href="http://tracker.ceph.com/issues/14428">issue#14428</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7309">pr#7309</a>, Alexey Sheplyakov)</li>
<li>os/fs: fix io_getevents argument (<a class="reference external" href="http://github.com/ceph/ceph/pull/7355">pr#7355</a>, Jingkai Yuan)</li>
<li>os/fusestore: add error handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7395">pr#7395</a>, xie xingguo)</li>
<li>os/keyvaluestore: kill KeyValueStore (<a class="reference external" href="http://github.com/ceph/ceph/pull/7320">pr#7320</a>, Haomai Wang)</li>
<li>os/kstore: insert new onode to the front position of onode LRU (<a class="reference external" href="http://github.com/ceph/ceph/pull/7505">pr#7505</a>, xie xingguo)</li>
<li>os/ObjectStore: add custom move operations for ObjectStore::Transaction (<a class="reference external" href="http://github.com/ceph/ceph/pull/7303">pr#7303</a>, Casey Bodley)</li>
<li>rgw: Bug fix for mtime anomalies in RadosGW and other places (<a class="reference external" href="http://github.com/ceph/ceph/pull/7328">pr#7328</a>, Adam C. Emerson, Casey Bodley)</li>
<li>rpm: move %post(un) ldconfig calls to ceph-base (<a class="reference external" href="http://tracker.ceph.com/issues/14940">issue#14940</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7867">pr#7867</a>, Nathan Cutler)</li>
<li>rpm: move runtime dependencies to ceph-base and fix other packaging issues (<a class="reference external" href="http://tracker.ceph.com/issues/14864">issue#14864</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7826">pr#7826</a>, Nathan Cutler)</li>
<li>test: ceph_test_rados: use less CPU (<a class="reference external" href="http://github.com/ceph/ceph/pull/7513">pr#7513</a>, Samuel Just)</li>
</ul>
</div>
</div>
<div class="section" id="v10-0-3">
<h2>v10.0.3<a class="headerlink" href="#v10-0-3" title="Permalink to this headline">¶</a></h2>
<p>This is the fourth development release for Jewel.  Several big pieces
have been added this release, including BlueStore (a new backend for
OSD to replace FileStore), many ceph-disk fixes, a new CRUSH tunable
that improves mapping stability, a new librados object enumeration API,
and a whole slew of OSD and RADOS optimizations.</p>
<p>Note that, due to general developer busyness, we aren&#8217;t building official
release packages for this dev release.  You can fetch autobuilt gitbuilder
packages from the usual location (gitbuilder.ceph.com).</p>
<div class="section" id="id1388">
<h3>Notable Changes<a class="headerlink" href="#id1388" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bluestore: latest and greatest (<a class="reference external" href="http://tracker.ceph.com/issues/14210">issue#14210</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13801">issue#13801</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6896">pr#6896</a>, xie.xingguo, Jianpeng Ma, YiQiang Chen, Sage Weil, Ning Yao)</li>
<li>buffer: fix internal iterator invalidation on rebuild, get_contiguous (<a class="reference external" href="http://github.com/ceph/ceph/pull/6962">pr#6962</a>, Sage Weil)</li>
<li>build: fix a few warnings (<a class="reference external" href="http://github.com/ceph/ceph/pull/6847">pr#6847</a>, Orit Wasserman)</li>
<li>build: misc make check fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7153">pr#7153</a>, Sage Weil)</li>
<li>ceph-detect-init: fix py3 test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7025">pr#7025</a>, Kefu Chai)</li>
<li>ceph-disk: add -f flag for btrfs mkfs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7222">pr#7222</a>, Darrell Enns)</li>
<li>ceph-disk: ceph-disk list fails on /dev/cciss!c0d0 (<a class="reference external" href="http://tracker.ceph.com/issues/13970">issue#13970</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14233">issue#14233</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14230">issue#14230</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6879">pr#6879</a>, Loic Dachary)</li>
<li>ceph-disk: fix failures when preparing disks with udev &gt; 214 (<a class="reference external" href="http://tracker.ceph.com/issues/14080">issue#14080</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14094">issue#14094</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6926">pr#6926</a>, Loic Dachary, Ilya Dryomov)</li>
<li>ceph-disk: Fix trivial typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/7472">pr#7472</a>, Brad Hubbard)</li>
<li>ceph-disk: warn for prepare partitions with bad GUIDs (<a class="reference external" href="http://tracker.ceph.com/issues/13943">issue#13943</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6760">pr#6760</a>, David Disseldorp)</li>
<li>ceph-fuse: fix double decreasing the count to trim caps (<a class="reference external" href="http://tracker.ceph.com/issues/14319">issue#14319</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7229">pr#7229</a>, Zhi Zhang)</li>
<li>ceph-fuse: fix double free of args (<a class="reference external" href="http://github.com/ceph/ceph/pull/7015">pr#7015</a>, Ilya Shipitsin)</li>
<li>ceph-fuse: fix fsync() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6388">pr#6388</a>, Yan, Zheng)</li>
<li>ceph-fuse:print usage information when no parameter specified (<a class="reference external" href="http://github.com/ceph/ceph/pull/6868">pr#6868</a>, Bo Cai)</li>
<li>ceph: improve the error message (<a class="reference external" href="http://tracker.ceph.com/issues/11101">issue#11101</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7106">pr#7106</a>, Kefu Chai)</li>
<li>ceph.in: avoid a broken pipe error when use ceph command (<a class="reference external" href="http://tracker.ceph.com/issues/14354">issue#14354</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7212">pr#7212</a>, Bo Cai)</li>
<li>ceph.spec.in: add copyright notice (<a class="reference external" href="http://tracker.ceph.com/issues/14694">issue#14694</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7569">pr#7569</a>, Nathan Cutler)</li>
<li>ceph.spec.in: add license declaration (<a class="reference external" href="http://github.com/ceph/ceph/pull/7574">pr#7574</a>, Nathan Cutler)</li>
<li>ceph_test_libcephfs: tolerate duplicated entries in readdir (<a class="reference external" href="http://tracker.ceph.com/issues/14377">issue#14377</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7246">pr#7246</a>, Yan, Zheng)</li>
<li>client: check if Fh is readable when processing a read (<a class="reference external" href="http://tracker.ceph.com/issues/11517">issue#11517</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7209">pr#7209</a>, Yan, Zheng)</li>
<li>client: properly trim unlinked inode (<a class="reference external" href="http://tracker.ceph.com/issues/13903">issue#13903</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7297">pr#7297</a>, Yan, Zheng)</li>
<li>cls_rbd: add guards for error cases (<a class="reference external" href="http://tracker.ceph.com/issues/14316">issue#14316</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14317">issue#14317</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7165">pr#7165</a>, xie xingguo)</li>
<li>cls_rbd: enable object map checksums for object_map_save (<a class="reference external" href="http://tracker.ceph.com/issues/14280">issue#14280</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7149">pr#7149</a>, Douglas Fuller)</li>
<li>cmake: Add ENABLE_GIT_VERSION to avoid rebuilding (<a class="reference external" href="http://github.com/ceph/ceph/pull/7171">pr#7171</a>, Kefu Chai)</li>
<li>cmake: add missing check for HAVE_EXECINFO_H (<a class="reference external" href="http://github.com/ceph/ceph/pull/7270">pr#7270</a>, Casey Bodley)</li>
<li>cmake: cleanups and more features from automake (<a class="reference external" href="http://github.com/ceph/ceph/pull/7103">pr#7103</a>, Casey Bodley, Ali Maredia)</li>
<li>cmake: detect bzip2 and lz4 (<a class="reference external" href="http://github.com/ceph/ceph/pull/7126">pr#7126</a>, Kefu Chai)</li>
<li>cmake: fix build with bluestore (<a class="reference external" href="http://github.com/ceph/ceph/pull/7099">pr#7099</a>, John Spray)</li>
<li>cmake: fix the build on trusty (<a class="reference external" href="http://github.com/ceph/ceph/pull/7249">pr#7249</a>, Kefu Chai)</li>
<li>cmake: made rocksdb an imported library (<a class="reference external" href="http://github.com/ceph/ceph/pull/7131">pr#7131</a>, Ali Maredia)</li>
<li>cmake: no need to run configure from run-cmake-check.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/6959">pr#6959</a>, Orit Wasserman)</li>
<li>cmake: test_build_libcephfs needs ${ALLOC_LIBS} (<a class="reference external" href="http://github.com/ceph/ceph/pull/7300">pr#7300</a>, Ali Maredia)</li>
<li>common/address_help.cc: fix the leak in entity_addr_from_url() (<a class="reference external" href="http://tracker.ceph.com/issues/14132">issue#14132</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6987">pr#6987</a>, Qiankun Zheng)</li>
<li>common: add thread names (<a class="reference external" href="http://github.com/ceph/ceph/pull/5882">pr#5882</a>, Igor Podoski)</li>
<li>common: assert: abort() rather than throw (<a class="reference external" href="http://github.com/ceph/ceph/pull/6804">pr#6804</a>, Adam C. Emerson)</li>
<li>common: buffer/assert minor fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6990">pr#6990</a>, Matt Benjamin)</li>
<li>common/Formatter: avoid newline if there is no output (<a class="reference external" href="http://github.com/ceph/ceph/pull/5351">pr#5351</a>, Aran85)</li>
<li>common: improve shared_cache and simple_cache efficiency with hash table (<a class="reference external" href="http://github.com/ceph/ceph/pull/6909">pr#6909</a>, Ning Yao)</li>
<li>common/lockdep: increase max lock names (<a class="reference external" href="http://github.com/ceph/ceph/pull/6961">pr#6961</a>, Sage Weil)</li>
<li>common: new timekeeping common code, and Objecter conversion (<a class="reference external" href="http://github.com/ceph/ceph/pull/5782">pr#5782</a>, Adam C. Emerson)</li>
<li>common: signal_handler: added support for using reentrant strsignal() implementations vs. sys_siglist[] (<a class="reference external" href="http://github.com/ceph/ceph/pull/6796">pr#6796</a>, John Coyle)</li>
<li>config: complains when a setting is not tracked (<a class="reference external" href="http://tracker.ceph.com/issues/11692">issue#11692</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7085">pr#7085</a>, Kefu Chai)</li>
<li>configure: detect bz2 and lz4 (<a class="reference external" href="http://tracker.ceph.com/issues/13850">issue#13850</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13981">issue#13981</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7030">pr#7030</a>, Kefu Chai)</li>
<li>correct radosgw-admin command (<a class="reference external" href="http://github.com/ceph/ceph/pull/7006">pr#7006</a>, YankunLi)</li>
<li>crush: add chooseleaf_stable tunable (<a class="reference external" href="http://github.com/ceph/ceph/pull/6572">pr#6572</a>, Sangdi Xu, Sage Weil)</li>
<li>crush: clean up whitespace removal (<a class="reference external" href="http://tracker.ceph.com/issues/14302">issue#14302</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7157">pr#7157</a>, songbaisen)</li>
<li>crush/CrushTester: check for overlapped rules (<a class="reference external" href="http://github.com/ceph/ceph/pull/7139">pr#7139</a>, Kefu Chai)</li>
<li>crushtool: improve usage/tip messages (<a class="reference external" href="http://github.com/ceph/ceph/pull/7142">pr#7142</a>, xie xingguo)</li>
<li>crushtool: set type 0 name &#8220;device&#8221; for &#8211;build option (<a class="reference external" href="http://github.com/ceph/ceph/pull/6824">pr#6824</a>, Sangdi Xu)</li>
<li>doc: adding &#8220;&#8211;allow-shrink&#8221; in decreasing the size of the rbd block to distinguish from the increasing option (<a class="reference external" href="http://github.com/ceph/ceph/pull/7020">pr#7020</a>, Yehua)</li>
<li>doc: admin/build-doc: make paths absolute (<a class="reference external" href="http://github.com/ceph/ceph/pull/7119">pr#7119</a>, Dan Mick)</li>
<li>doc: dev: document ceph-qa-suite (<a class="reference external" href="http://github.com/ceph/ceph/pull/6955">pr#6955</a>, Loic Dachary)</li>
<li>doc: document &#8220;readforward&#8221; and &#8220;readproxy&#8221; cache mode (<a class="reference external" href="http://github.com/ceph/ceph/pull/7023">pr#7023</a>, Kefu Chai)</li>
<li>doc: fix &#8220;mon osd down out subtree limit&#8221; option name (<a class="reference external" href="http://github.com/ceph/ceph/pull/7164">pr#7164</a>, François Lafont)</li>
<li>doc: fix typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/7004">pr#7004</a>, tianqing)</li>
<li>doc: Updated the rados command man page to include the &#8211;run-name opt… (<a class="reference external" href="http://tracker.ceph.com/issues/12899">issue#12899</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5900">pr#5900</a>, ritz303)</li>
<li>fs: be more careful about the &#8220;mds setmap&#8221; command to prevent breakage (<a class="reference external" href="http://tracker.ceph.com/issues/14380">issue#14380</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7262">pr#7262</a>, Yan, Zheng)</li>
<li>helgrind: additional race conditionslibrbd: journal replay should honor inter-event dependencies (<a class="reference external" href="http://github.com/ceph/ceph/pull/7274">pr#7274</a>, Jason Dillaman)</li>
<li>helgrind: fix real (and imaginary) race conditions (<a class="reference external" href="http://tracker.ceph.com/issues/14163">issue#14163</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7208">pr#7208</a>, Jason Dillaman)</li>
<li>kv: implement value_as_ptr() and use it in .get() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7052">pr#7052</a>, Piotr Dałek)</li>
<li>librados: add c++ style osd/pg command interface (<a class="reference external" href="http://github.com/ceph/ceph/pull/6893">pr#6893</a>, Yunchuan Wen)</li>
<li>librados: fix several flaws introduced by the enumeration_objects API (<a class="reference external" href="http://tracker.ceph.com/issues/14299">issue#14299</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14301">issue#14301</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14300">issue#14300</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7156">pr#7156</a>, xie xingguo)</li>
<li>librados: new style (sharded) object listing (<a class="reference external" href="http://github.com/ceph/ceph/pull/6405">pr#6405</a>, John Spray, Sage Weil)</li>
<li>librados: potential null pointer access in list_(n)objects (<a class="reference external" href="http://tracker.ceph.com/issues/13822">issue#13822</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6639">pr#6639</a>, xie xingguo)</li>
<li>librbd: exit if parent&#8217;s snap is gone during clone (<a class="reference external" href="http://tracker.ceph.com/issues/14118">issue#14118</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6968">pr#6968</a>, xie xingguo)</li>
<li>librbd: fix potential memory leak (<a class="reference external" href="http://tracker.ceph.com/issues/14332">issue#14332</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14333">issue#14333</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7174">pr#7174</a>, xie xingguo)</li>
<li>librbd: fix snap_exists API return code overflow (<a class="reference external" href="http://tracker.ceph.com/issues/14129">issue#14129</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6986">pr#6986</a>, xie xingguo)</li>
<li>librbd: journal replay should honor inter-event dependencies (<a class="reference external" href="http://github.com/ceph/ceph/pull/7019">pr#7019</a>, Jason Dillaman)</li>
<li>librbd: return error if we fail to delete object_map head object (<a class="reference external" href="http://tracker.ceph.com/issues/14098">issue#14098</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6958">pr#6958</a>, xie xingguo)</li>
<li>librbd: small fixes for error messages and readahead counter (<a class="reference external" href="http://tracker.ceph.com/issues/14127">issue#14127</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6983">pr#6983</a>, xie xingguo)</li>
<li>librbd: uninitialized state in snap remove state machine (<a class="reference external" href="http://github.com/ceph/ceph/pull/6982">pr#6982</a>, Jason Dillaman)</li>
<li>mailmap: hange organization for Dongmao Zhang (<a class="reference external" href="http://github.com/ceph/ceph/pull/7173">pr#7173</a>, Dongmao Zhang)</li>
<li>mailmap: Igor Podoski affiliation (<a class="reference external" href="http://github.com/ceph/ceph/pull/7219">pr#7219</a>, Igor Podoski)</li>
<li>mailmap update (<a class="reference external" href="http://github.com/ceph/ceph/pull/7210">pr#7210</a>, M Ranga Swami Reddy)</li>
<li>mailmap updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/6992">pr#6992</a>, Loic Dachary)</li>
<li>mailmap updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/7189">pr#7189</a>, Loic Dachary)</li>
<li>man: document listwatchers cmd in &#8220;rados&#8221; manpage (<a class="reference external" href="http://github.com/ceph/ceph/pull/7021">pr#7021</a>, Kefu Chai)</li>
<li>mds: advance clientreplay when replying (<a class="reference external" href="http://tracker.ceph.com/issues/14357">issue#14357</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7216">pr#7216</a>, John Spray)</li>
<li>mds: expose state of recovery to status ASOK command (<a class="reference external" href="http://tracker.ceph.com/issues/14146">issue#14146</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7068">pr#7068</a>, Yan, Zheng)</li>
<li>mds: fix client cap/message replay order on restart (<a class="reference external" href="http://tracker.ceph.com/issues/14254">issue#14254</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13546">issue#13546</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7199">pr#7199</a>, Yan, Zheng)</li>
<li>mds: fix standby replay thread creation (<a class="reference external" href="http://tracker.ceph.com/issues/14144">issue#14144</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7132">pr#7132</a>, John Spray)</li>
<li>mds: we should wait messenger when MDSDaemon suicide (<a class="reference external" href="http://github.com/ceph/ceph/pull/6996">pr#6996</a>, Wei Feng)</li>
<li>mon: add <cite>osd blacklist clear</cite> (<a class="reference external" href="http://github.com/ceph/ceph/pull/6945">pr#6945</a>, John Spray)</li>
<li>mon: add RAW USED column to ceph df detail (<a class="reference external" href="http://github.com/ceph/ceph/pull/7087">pr#7087</a>, Ruifeng Yang)</li>
<li>mon: degrade a log message to level 2 (<a class="reference external" href="http://github.com/ceph/ceph/pull/6929">pr#6929</a>, Kongming Wu)</li>
<li>mon: fix coding-style on PG related Monitor files (<a class="reference external" href="http://github.com/ceph/ceph/pull/6881">pr#6881</a>, Wido den Hollander)</li>
<li>mon: fixes related to mondbstore-&gt;get() changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6564">pr#6564</a>, Piotr Dałek)</li>
<li>mon: fix reuse of osd ids (clear osd info on osd deletion) (<a class="reference external" href="http://tracker.ceph.com/issues/13988">issue#13988</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6900">pr#6900</a>, Loic Dachary, Sage Weil)</li>
<li>mon: fix the can&#8217;t change subscribe level bug in monitoring log (<a class="reference external" href="http://github.com/ceph/ceph/pull/7031">pr#7031</a>, Zhiqiang Wang)</li>
<li>mon/MDSMonitor: add confirmation to &#8220;ceph mds rmfailed&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/14379">issue#14379</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7248">pr#7248</a>, Yan, Zheng)</li>
<li>mon: modify a dout level in OSDMonitor.cc (<a class="reference external" href="http://github.com/ceph/ceph/pull/6928">pr#6928</a>, Yongqiang He)</li>
<li>mon: MonmapMonitor: don&#8217;t expose uncommitted state to client (<a class="reference external" href="http://github.com/ceph/ceph/pull/6854">pr#6854</a>, Joao Eduardo Luis)</li>
<li>mon/OSDMonitor: osdmap laggy set a maximum limit for interval (<a class="reference external" href="http://github.com/ceph/ceph/pull/7109">pr#7109</a>, Zengran Zhang)</li>
<li>mon: paxos is_recovering calc error (<a class="reference external" href="http://github.com/ceph/ceph/pull/7227">pr#7227</a>, Weijun Duan)</li>
<li>mon/PGMap: show rd/wr iops separately in status reports (<a class="reference external" href="http://github.com/ceph/ceph/pull/7072">pr#7072</a>, Cilang Zhao)</li>
<li>mon: PGMonitor: acting primary diff with cur_stat, should not set pg to stale (<a class="reference external" href="http://github.com/ceph/ceph/pull/7083">pr#7083</a>, Xiaowei Chen)</li>
<li>msg: add override to virutal methods (<a class="reference external" href="http://github.com/ceph/ceph/pull/6977">pr#6977</a>, Michal Jarzabek)</li>
<li>msg/async: cleanup dead connection and misc things (<a class="reference external" href="http://github.com/ceph/ceph/pull/7158">pr#7158</a>, Haomai Wang)</li>
<li>msg/async: don&#8217;t use shared_ptr to manage EventCallback (<a class="reference external" href="http://github.com/ceph/ceph/pull/7028">pr#7028</a>, Haomai Wang)</li>
<li>msg: filter out lo addr when bind osd addr (<a class="reference external" href="http://github.com/ceph/ceph/pull/7012">pr#7012</a>, Ji Chen)</li>
<li>msg: removed unneeded includes from Dispatcher (<a class="reference external" href="http://github.com/ceph/ceph/pull/6814">pr#6814</a>, Michal Jarzabek)</li>
<li>msg: remove unneeded inline (<a class="reference external" href="http://github.com/ceph/ceph/pull/6989">pr#6989</a>, Michal Jarzabek)</li>
<li>msgr:  fix large message data content length causing overflow (<a class="reference external" href="http://github.com/ceph/ceph/pull/6809">pr#6809</a>, Jun Huang, Haomai Wang)</li>
<li>msg/simple: pipe: memory leak when signature check failed (<a class="reference external" href="http://github.com/ceph/ceph/pull/7096">pr#7096</a>, Ruifeng Yang)</li>
<li>msg/simple: remove unneeded friend declarations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6924">pr#6924</a>, Michal Jarzabek)</li>
<li>objecter: avoid recursive lock of Objecter::rwlock (<a class="reference external" href="http://github.com/ceph/ceph/pull/7343">pr#7343</a>, Yan, Zheng)</li>
<li>os/bluestore: fix bluestore_wal_transaction_t encoding test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7419">pr#7419</a>, Kefu Chai, Brad Hubbard)</li>
<li>osd: add cache hint when pushing raw clone during recovery (<a class="reference external" href="http://github.com/ceph/ceph/pull/7069">pr#7069</a>, Zhiqiang Wang)</li>
<li>osd: avoid debug std::string initialization in PG::get/put (<a class="reference external" href="http://github.com/ceph/ceph/pull/7117">pr#7117</a>, Evgeniy Firsov)</li>
<li>osd: avoid osd_op_thread suicide because osd_scrub_sleep (<a class="reference external" href="http://github.com/ceph/ceph/pull/7009">pr#7009</a>, Jianpeng Ma)</li>
<li>osd: bluestore: bluefs: fix several small bugs (<a class="reference external" href="http://tracker.ceph.com/issues/14344">issue#14344</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14343">issue#14343</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7200">pr#7200</a>, xie xingguo)</li>
<li>osd: bluestore: don&#8217;t include when building without libaio (<a class="reference external" href="http://tracker.ceph.com/issues/14207">issue#14207</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7169">pr#7169</a>, Mykola Golub)</li>
<li>osd: bluestore: fix bluestore onode_t attr leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/7125">pr#7125</a>, Ning Yao)</li>
<li>osd: bluestore: fix bluestore_wal_transaction_t encoding test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7168">pr#7168</a>, Kefu Chai)</li>
<li>osd: bluestore: fix several bugs (<a class="reference external" href="http://tracker.ceph.com/issues/14259">issue#14259</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14353">issue#14353</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14260">issue#14260</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14261">issue#14261</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7122">pr#7122</a>, xie xingguo)</li>
<li>osd: bluestore: fix space rebalancing, collection split, buffered reads (<a class="reference external" href="http://github.com/ceph/ceph/pull/7196">pr#7196</a>, Sage Weil)</li>
<li>osd: bluestore: more fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/7130">pr#7130</a>, Sage Weil)</li>
<li>osd: cache tier: add config option for eviction check list size (<a class="reference external" href="http://github.com/ceph/ceph/pull/6997">pr#6997</a>, Yuan Zhou)</li>
<li>osdc: Fix race condition with tick_event and shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/14256">issue#14256</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7151">pr#7151</a>, Adam C. Emerson)</li>
<li>osd: check health state before pre_booting (<a class="reference external" href="http://tracker.ceph.com/issues/14181">issue#14181</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7053">pr#7053</a>, Xiaoxi Chen)</li>
<li>osd: clear pg_stat_queue after stopping pgs (<a class="reference external" href="http://tracker.ceph.com/issues/14212">issue#14212</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7091">pr#7091</a>, Sage Weil)</li>
<li>osd: delay populating in-memory PG log hashmaps (<a class="reference external" href="http://github.com/ceph/ceph/pull/6425">pr#6425</a>, Piotr Dałek)</li>
<li>osd: disable filestore_xfs_extsize by default (<a class="reference external" href="http://tracker.ceph.com/issues/14397">issue#14397</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7265">pr#7265</a>, Ken Dreyer)</li>
<li>osd: do not keep ref of old osdmap in pg (<a class="reference external" href="http://tracker.ceph.com/issues/13990">issue#13990</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7007">pr#7007</a>, Kefu Chai)</li>
<li>osd: drop deprecated removal pg type (<a class="reference external" href="http://github.com/ceph/ceph/pull/6970">pr#6970</a>, Igor Podoski)</li>
<li>osd: FileJournal: fix return code of create method (<a class="reference external" href="http://tracker.ceph.com/issues/14134">issue#14134</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6988">pr#6988</a>, xie xingguo)</li>
<li>osd: FileJournal: support batch peak and pop from writeq (<a class="reference external" href="http://github.com/ceph/ceph/pull/6701">pr#6701</a>, Xinze Chi)</li>
<li>osd: FileStore: conditional collection of drive metadata (<a class="reference external" href="http://github.com/ceph/ceph/pull/6956">pr#6956</a>, Somnath Roy)</li>
<li>osd: FileStore:: optimize lfn_unlink (<a class="reference external" href="http://github.com/ceph/ceph/pull/6649">pr#6649</a>, Jianpeng Ma)</li>
<li>osd: fix null pointer access and race condition (<a class="reference external" href="http://tracker.ceph.com/issues/14072">issue#14072</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6916">pr#6916</a>, xie xingguo)</li>
<li>osd: fix scrub start hobject (<a class="reference external" href="http://github.com/ceph/ceph/pull/7467">pr#7467</a>, Sage Weil)</li>
<li>osd: fix sparse-read result code checking logic (<a class="reference external" href="http://tracker.ceph.com/issues/14151">issue#14151</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7016">pr#7016</a>, xie xingguo)</li>
<li>osd: fix temp object removal after upgrade (<a class="reference external" href="http://tracker.ceph.com/issues/13862">issue#13862</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6976">pr#6976</a>, David Zafman)</li>
<li>osd: fix wip (l_osd_op_wip) perf counter and remove repop_map (<a class="reference external" href="http://github.com/ceph/ceph/pull/7077">pr#7077</a>, Xinze Chi)</li>
<li>osd: fix wrongly placed assert and some cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/6766">pr#6766</a>, xiexingguo, xie xingguo)</li>
<li>osd: KeyValueStore: fix return code of mkfs (<a class="reference external" href="http://github.com/ceph/ceph/pull/7036">pr#7036</a>, xie xingguo)</li>
<li>osd: KeyValueStore: fix wrongly placed assert (<a class="reference external" href="http://tracker.ceph.com/issues/14176">issue#14176</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14178">issue#14178</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7047">pr#7047</a>, xie xingguo)</li>
<li>osd: kstore: several small fixes (<a class="reference external" href="http://tracker.ceph.com/issues/14351">issue#14351</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14352">issue#14352</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7213">pr#7213</a>, xie xingguo)</li>
<li>osd: kstore: small fixes to kstore (<a class="reference external" href="http://tracker.ceph.com/issues/14204">issue#14204</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7095">pr#7095</a>, xie xingguo)</li>
<li>osd: make list_missing query missing_loc.needs_recovery_map (<a class="reference external" href="http://github.com/ceph/ceph/pull/6298">pr#6298</a>, Guang Yang)</li>
<li>osdmap: remove unused local variables (<a class="reference external" href="http://github.com/ceph/ceph/pull/6864">pr#6864</a>, luo kexue)</li>
<li>osd: memstore: fix two bugs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6963">pr#6963</a>, Casey Bodley, Sage Weil)</li>
<li>osd: misc FileStore fixes (<a class="reference external" href="http://tracker.ceph.com/issues/14192">issue#14192</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14188">issue#14188</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14194">issue#14194</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14187">issue#14187</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14186">issue#14186</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7059">pr#7059</a>, xie xingguo)</li>
<li>osd: misc optimization for map utilization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6950">pr#6950</a>, Ning Yao)</li>
<li>osd,mon: log leveldb and rocksdb to ceph log (<a class="reference external" href="http://github.com/ceph/ceph/pull/6921">pr#6921</a>, Sage Weil)</li>
<li>osd: Omap small bugs adapted (<a class="reference external" href="http://github.com/ceph/ceph/pull/6669">pr#6669</a>, Jianpeng Ma, David Zafman)</li>
<li>osd: optimize the session_handle_reset function (<a class="reference external" href="http://tracker.ceph.com/issues/14182">issue#14182</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7054">pr#7054</a>, songbaisen)</li>
<li>osd: OSDService: Fix typo in osdmap comment (<a class="reference external" href="http://github.com/ceph/ceph/pull/7275">pr#7275</a>, Brad Hubbard)</li>
<li>osd: os: skip checking pg_meta object existance in FileStore (<a class="reference external" href="http://github.com/ceph/ceph/pull/6870">pr#6870</a>, Ning Yao)</li>
<li>osd: PGLog: clean up read_log (<a class="reference external" href="http://github.com/ceph/ceph/pull/7092">pr#7092</a>, Jie Wang)</li>
<li>osd: prevent osd_recovery_sleep from causing recovery-thread suicide (<a class="reference external" href="http://github.com/ceph/ceph/pull/7065">pr#7065</a>, Jianpeng Ma)</li>
<li>osd: reduce string use in coll_t::calc_str() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6505">pr#6505</a>, Igor Podoski)</li>
<li>osd: release related sources when scrub is interrupted (<a class="reference external" href="http://github.com/ceph/ceph/pull/6744">pr#6744</a>, Jianpeng Ma)</li>
<li>osd: remove unused OSDMap::set_weightf() (<a class="reference external" href="http://tracker.ceph.com/issues/14369">issue#14369</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7231">pr#7231</a>, huanwen ren)</li>
<li>osd: ReplicatedPG: clean up unused function (<a class="reference external" href="http://github.com/ceph/ceph/pull/7211">pr#7211</a>, Xiaowei Chen)</li>
<li>osd/ReplicatedPG: fix promotion recency logic (<a class="reference external" href="http://tracker.ceph.com/issues/14320">issue#14320</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6702">pr#6702</a>, Sage Weil)</li>
<li>osd: several small cleanups (<a class="reference external" href="http://github.com/ceph/ceph/pull/7055">pr#7055</a>, xie xingguo)</li>
<li>osd: shut down if we flap too many times in a short period (<a class="reference external" href="http://github.com/ceph/ceph/pull/6708">pr#6708</a>, Xiaoxi Chen)</li>
<li>osd: skip promote for writefull w/ FADVISE_DONTNEED/NOCACHE (<a class="reference external" href="http://github.com/ceph/ceph/pull/7010">pr#7010</a>, Jianpeng Ma)</li>
<li>osd: small fixes to memstore (<a class="reference external" href="http://tracker.ceph.com/issues/14228">issue#14228</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14229">issue#14229</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14227">issue#14227</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7107">pr#7107</a>, xie xingguo)</li>
<li>osd: try evicting after flushing is done (<a class="reference external" href="http://github.com/ceph/ceph/pull/5630">pr#5630</a>, Zhiqiang Wang)</li>
<li>osd: use atomic to generate ceph_tid (<a class="reference external" href="http://github.com/ceph/ceph/pull/7017">pr#7017</a>, Evgeniy Firsov)</li>
<li>osd: use optimized is_zero in object_stat_sum_t.is_zero() (<a class="reference external" href="http://github.com/ceph/ceph/pull/7203">pr#7203</a>, Piotr Dałek)</li>
<li>osd: utime_t, eversion_t, osd_stat_sum_t encoding optimization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6902">pr#6902</a>, Xinze Chi)</li>
<li>pybind: add ceph_volume_client interface for Manila and similar frameworks (<a class="reference external" href="http://github.com/ceph/ceph/pull/6205">pr#6205</a>, John Spray)</li>
<li>pybind: fix build failure, remove extraneous semicolon in method (<a class="reference external" href="http://tracker.ceph.com/issues/14371">issue#14371</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7235">pr#7235</a>, Abhishek Lekshmanan)</li>
<li>pybind/test_rbd: fix test_create_defaults (<a class="reference external" href="http://tracker.ceph.com/issues/14279">issue#14279</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7155">pr#7155</a>, Josh Durgin)</li>
<li>qa: disable rbd/qemu-iotests test case 055 on RHEL/CentOSlibrbd: journal replay should honor inter-event dependencies (<a class="reference external" href="http://tracker.ceph.com/issues/14385">issue#14385</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7272">pr#7272</a>, Jason Dillaman)</li>
<li>qa/workunits: merge_diff shouldn&#8217;t attempt to use striping (<a class="reference external" href="http://tracker.ceph.com/issues/14165">issue#14165</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7041">pr#7041</a>, Jason Dillaman)</li>
<li>qa/workunits/snaps: move snap tests into fs sub-directory (<a class="reference external" href="http://github.com/ceph/ceph/pull/6496">pr#6496</a>, Yan, Zheng)</li>
<li>rados: implement rm &#8211;force option to force remove when full (<a class="reference external" href="http://github.com/ceph/ceph/pull/6202">pr#6202</a>, Xiaowei Chen)</li>
<li>rbd: additional validation for striping parameters (<a class="reference external" href="http://github.com/ceph/ceph/pull/6914">pr#6914</a>, Na Xie)</li>
<li>rbd: add pool name to disambiguate rbd admin socket commands (<a class="reference external" href="http://github.com/ceph/ceph/pull/6904">pr#6904</a>, wuxiangwei)</li>
<li>rbd: correct an output string for merge-diff (<a class="reference external" href="http://github.com/ceph/ceph/pull/7046">pr#7046</a>, Kongming Wu)</li>
<li>rbd: fix static initialization ordering issues (<a class="reference external" href="http://github.com/ceph/ceph/pull/6978">pr#6978</a>, Mykola Golub)</li>
<li>rbd-fuse: image name can not include snap name (<a class="reference external" href="http://github.com/ceph/ceph/pull/7044">pr#7044</a>, Yongqiang He)</li>
<li>rbd-fuse: implement mv operation (<a class="reference external" href="http://github.com/ceph/ceph/pull/6938">pr#6938</a>, wuxiangwei)</li>
<li>rbd: must specify both of stripe-unit and stripe-count when specifying stripingv2 feature (<a class="reference external" href="http://github.com/ceph/ceph/pull/7026">pr#7026</a>, Donghai Xu)</li>
<li>rbd-nbd: add copyright (<a class="reference external" href="http://github.com/ceph/ceph/pull/7166">pr#7166</a>, Li Wang)</li>
<li>rbd-nbd: fix up return code handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/7215">pr#7215</a>, Mykola Golub)</li>
<li>rbd-nbd: small improvements in logging and forking (<a class="reference external" href="http://github.com/ceph/ceph/pull/7127">pr#7127</a>, Mykola Golub)</li>
<li>rbd: rbd order will be place in 22, when set to 0 in the config_opt (<a class="reference external" href="http://tracker.ceph.com/issues/14139">issue#14139</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14047">issue#14047</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6886">pr#6886</a>, huanwen ren)</li>
<li>rbd: striping parameters should support 64bit integers (<a class="reference external" href="http://github.com/ceph/ceph/pull/6942">pr#6942</a>, Na Xie)</li>
<li>rbd: use default order from configuration when not specified (<a class="reference external" href="http://github.com/ceph/ceph/pull/6965">pr#6965</a>, Yunchuan Wen)</li>
<li>rgw: add a method to purge all associate keys when removing a subuser (<a class="reference external" href="http://tracker.ceph.com/issues/12890">issue#12890</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6002">pr#6002</a>, Sangdi Xu)</li>
<li>rgw: add missing error code for admin op API (<a class="reference external" href="http://github.com/ceph/ceph/pull/7037">pr#7037</a>, Dunrong Huang)</li>
<li>rgw: add support for &#8220;end_marker&#8221; parameter for GET on Swift account. (<a class="reference external" href="http://tracker.ceph.com/issues/10682">issue#10682</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4216">pr#4216</a>, Radoslaw Zarzynski)</li>
<li>rgw_admin: orphans finish segfaults (<a class="reference external" href="http://github.com/ceph/ceph/pull/6652">pr#6652</a>, Igor Fedotov)</li>
<li>rgw: content length (<a class="reference external" href="http://tracker.ceph.com/issues/13582">issue#13582</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6975">pr#6975</a>, Yehuda Sadeh)</li>
<li>rgw: delete default zone (<a class="reference external" href="http://github.com/ceph/ceph/pull/7005">pr#7005</a>, YankunLi)</li>
<li>rgw: do not abort radowgw server when using admin op API with bad parameters  (<a class="reference external" href="http://tracker.ceph.com/issues/14190">issue#14190</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14191">issue#14191</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7063">pr#7063</a>, Dunrong Huang)</li>
<li>rgw: Drop a debugging message (<a class="reference external" href="http://github.com/ceph/ceph/pull/7280">pr#7280</a>, Pete Zaitcev)</li>
<li>rgw: fix a typo in init-radosgw (<a class="reference external" href="http://github.com/ceph/ceph/pull/6817">pr#6817</a>, Zhi Zhang)</li>
<li>rgw: fix compilation warning (<a class="reference external" href="http://github.com/ceph/ceph/pull/7160">pr#7160</a>, Yehuda Sadeh)</li>
<li>rgw: fix wrong check for parse() return (<a class="reference external" href="http://github.com/ceph/ceph/pull/6797">pr#6797</a>, Dunrong Huang)</li>
<li>rgw: let radosgw-admin bucket stats return a standard josn (<a class="reference external" href="http://github.com/ceph/ceph/pull/7029">pr#7029</a>, Ruifeng Yang)</li>
<li>rgw: modify command stucking when operating radosgw-admin metadata list user (<a class="reference external" href="http://github.com/ceph/ceph/pull/7032">pr#7032</a>, Peiyang Liu)</li>
<li>rgw: modify documents and help infos&#8217; descriptions to the usage of option date when executing command &#8220;log show&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6080">pr#6080</a>, Kongming Wu)</li>
<li>rgw: Parse &#8211;subuser better (<a class="reference external" href="http://github.com/ceph/ceph/pull/7279">pr#7279</a>, Pete Zaitcev)</li>
<li>rgw: radosgw-admin bucket check &#8211;fix not work (<a class="reference external" href="http://github.com/ceph/ceph/pull/7093">pr#7093</a>, Weijun Duan)</li>
<li>rgw: warn on suspicious civetweb frontend parameters (<a class="reference external" href="http://github.com/ceph/ceph/pull/6944">pr#6944</a>, Matt Benjamin)</li>
<li>rocksdb: remove rdb sources from dist tarball (<a class="reference external" href="http://tracker.ceph.com/issues/13554">issue#13554</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7105">pr#7105</a>, Venky Shankar)</li>
<li>stringify outputted error code and fix unmatched parentheses. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6998">pr#6998</a>, xie.xingguo, xie xingguo)</li>
<li>test/librbd/fsx: Use c++11 std::mt19937 generator instead of random_r() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6332">pr#6332</a>, John Coyle)</li>
<li>test/mon/osd-erasure-code-profile: pick new mon port (<a class="reference external" href="http://github.com/ceph/ceph/pull/7161">pr#7161</a>, Sage Weil)</li>
<li>tests: add const for ec test (<a class="reference external" href="http://github.com/ceph/ceph/pull/6911">pr#6911</a>, Michal Jarzabek)</li>
<li>tests: configure with rocksdb by default (<a class="reference external" href="http://tracker.ceph.com/issues/14220">issue#14220</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7100">pr#7100</a>, Loic Dachary)</li>
<li>tests: Fix for make check. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7102">pr#7102</a>, David Zafman)</li>
<li>tests: notification slave needs to wait for master (<a class="reference external" href="http://tracker.ceph.com/issues/13810">issue#13810</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7220">pr#7220</a>, Jason Dillaman)</li>
<li>tests: snap rename and rebuild object map in client update test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7224">pr#7224</a>, Jason Dillaman)</li>
<li>tests: unittest_bufferlist: fix hexdump test (<a class="reference external" href="http://github.com/ceph/ceph/pull/7152">pr#7152</a>, Sage Weil)</li>
<li>tests: unittest_ipaddr: fix segv (<a class="reference external" href="http://github.com/ceph/ceph/pull/7154">pr#7154</a>, Sage Weil)</li>
<li>tools: ceph_monstore_tool: add inflate-pgmap command (<a class="reference external" href="http://tracker.ceph.com/issues/14217">issue#14217</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7097">pr#7097</a>, Kefu Chai)</li>
<li>tools: monstore: add &#8216;show-versions&#8217; command. (<a class="reference external" href="http://github.com/ceph/ceph/pull/7073">pr#7073</a>, Cilang Zhao)</li>
</ul>
</div>
</div>
<div class="section" id="v10-0-2">
<h2>v10.0.2<a class="headerlink" href="#v10-0-2" title="Permalink to this headline">¶</a></h2>
<p>This development release includes a raft of changes and improvements
for Jewel.  Key additions include CephFS scrub/repair improvements, an
AIX and Solaris port of librados, many librbd journaling additions and
fixes, extended per-pool options, and NBD driver for RBD (rbd-nbd)
that allows librbd to present a kernel-level block device on Linux,
multitenancy support for RGW, RGW bucket lifecycle support, RGW
support for Swift static large objects (SLO), and RGW support for
Swift bulk delete.</p>
<p>There are also lots of smaller optimizations and performance fixes
going in all over the tree, particular in the OSD and common code.</p>
<div class="section" id="id1693">
<h3>Notable Changes<a class="headerlink" href="#id1693" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>auth: fail if rotating key is missing (do not spam log) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6473">pr#6473</a>, Qiankun Zheng)</li>
<li>auth: fix crash when bad keyring is passed (<a class="reference external" href="http://github.com/ceph/ceph/pull/6698">pr#6698</a>, Dunrong Huang)</li>
<li>auth: make keyring without mon entity type return -EACCES (<a class="reference external" href="http://github.com/ceph/ceph/pull/5734">pr#5734</a>, Xiaowei Chen)</li>
<li>buffer: make usable outside of ceph source again (<a class="reference external" href="http://github.com/ceph/ceph/pull/6863">pr#6863</a>, Josh Durgin)</li>
<li>build: cmake check fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6787">pr#6787</a>, Orit Wasserman)</li>
<li>build: fix bz2-dev dependency (<a class="reference external" href="http://github.com/ceph/ceph/pull/6948">pr#6948</a>, Samuel Just)</li>
<li>build: Gentoo: _FORTIFY_SOURCE fix. (<a class="reference external" href="http://tracker.ceph.com/issues/13920">issue#13920</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6739">pr#6739</a>, Robin H. Johnson)</li>
<li>build/ops: systemd ceph-disk unit must not assume /bin/flock (<a class="reference external" href="http://tracker.ceph.com/issues/13975">issue#13975</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6803">pr#6803</a>, Loic Dachary)</li>
<li>ceph-detect-init: Ubuntu &gt;= 15.04 uses systemd (<a class="reference external" href="http://github.com/ceph/ceph/pull/6873">pr#6873</a>, James Page)</li>
<li>cephfs-data-scan: scan_frags (<a class="reference external" href="http://github.com/ceph/ceph/pull/5941">pr#5941</a>, John Spray)</li>
<li>cephfs-data-scan: scrub tag filtering (#12133 and #12145) (<a class="reference external" href="http://tracker.ceph.com/issues/12133">issue#12133</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12145">issue#12145</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5685">pr#5685</a>, John Spray)</li>
<li>ceph-fuse: add process to ceph-fuse &#8211;help (<a class="reference external" href="http://github.com/ceph/ceph/pull/6821">pr#6821</a>, Wei Feng)</li>
<li>ceph-kvstore-tool: handle bad out file on command line (<a class="reference external" href="http://github.com/ceph/ceph/pull/6093">pr#6093</a>, Kefu Chai)</li>
<li>ceph-mds:add &#8211;help/-h (<a class="reference external" href="http://github.com/ceph/ceph/pull/6850">pr#6850</a>, Cilang Zhao)</li>
<li>ceph_objectstore_bench: fix race condition, bugs (<a class="reference external" href="http://tracker.ceph.com/issues/13516">issue#13516</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6681">pr#6681</a>, Igor Fedotov)</li>
<li>ceph.spec.in: add BuildRequires: systemd (<a class="reference external" href="http://tracker.ceph.com/issues/13860">issue#13860</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6692">pr#6692</a>, Nathan Cutler)</li>
<li>client: a better check for MDS availability (<a class="reference external" href="http://github.com/ceph/ceph/pull/6253">pr#6253</a>, John Spray)</li>
<li>client: close mds sessions in shutdown() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6269">pr#6269</a>, John Spray)</li>
<li>client: don&#8217;t invalidate page cache when inode is no longer used (<a class="reference external" href="http://github.com/ceph/ceph/pull/6380">pr#6380</a>, Yan, Zheng)</li>
<li>client: modify a word in log (<a class="reference external" href="http://github.com/ceph/ceph/pull/6906">pr#6906</a>, YongQiang He)</li>
<li>cls/cls_rbd.cc: fix misused metadata_name_from_key (<a class="reference external" href="http://tracker.ceph.com/issues/13922">issue#13922</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6661">pr#6661</a>, Xiaoxi Chen)</li>
<li>cmake: Add common/PluginRegistry.cc to CMakeLists.txt (<a class="reference external" href="http://github.com/ceph/ceph/pull/6805">pr#6805</a>, Pete Zaitcev)</li>
<li>cmake: add rgw_basic_types.cc to librgw.a (<a class="reference external" href="http://github.com/ceph/ceph/pull/6786">pr#6786</a>, Orit Wasserman)</li>
<li>cmake: add TracepointProvider.cc to libcommon (<a class="reference external" href="http://github.com/ceph/ceph/pull/6823">pr#6823</a>, Orit Wasserman)</li>
<li>cmake: define STRERROR_R_CHAR_P for GNU-specific strerror_r (<a class="reference external" href="http://github.com/ceph/ceph/pull/6751">pr#6751</a>, Ilya Dryomov)</li>
<li>cmake: update for recent librbd changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6715">pr#6715</a>, John Spray)</li>
<li>cmake: update for recent rbd changes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6818">pr#6818</a>, Mykola Golub)</li>
<li>common: add generic plugin infrastructure (<a class="reference external" href="http://github.com/ceph/ceph/pull/6696">pr#6696</a>, Sage Weil)</li>
<li>common: add latency perf counter for finisher (<a class="reference external" href="http://github.com/ceph/ceph/pull/6175">pr#6175</a>, Xinze Chi)</li>
<li>common: buffer: add cached_crc and cached_crc_adjust counts to perf dump (<a class="reference external" href="http://github.com/ceph/ceph/pull/6535">pr#6535</a>, Ning Yao)</li>
<li>common: buffer: remove unneeded list destructor (<a class="reference external" href="http://github.com/ceph/ceph/pull/6456">pr#6456</a>, Michal Jarzabek)</li>
<li>common/ceph_context.cc:fix order of initialisers (<a class="reference external" href="http://github.com/ceph/ceph/pull/6838">pr#6838</a>, Michal Jarzabek)</li>
<li>common: don&#8217;t reverse hobject_t hash bits when zero (<a class="reference external" href="http://github.com/ceph/ceph/pull/6653">pr#6653</a>, Piotr Dałek)</li>
<li>common: log: Assign LOG_DEBUG priority to syslog calls (<a class="reference external" href="http://tracker.ceph.com/issues/13993">issue#13993</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6815">pr#6815</a>, Brad Hubbard)</li>
<li>common: log: predict log message buffer allocation size (<a class="reference external" href="http://github.com/ceph/ceph/pull/6641">pr#6641</a>, Adam Kupczyk)</li>
<li>common: optimize debug logging code (<a class="reference external" href="http://github.com/ceph/ceph/pull/6441">pr#6441</a>, Adam Kupczyk)</li>
<li>common: perf counter for bufferlist history total alloc (<a class="reference external" href="http://github.com/ceph/ceph/pull/6198">pr#6198</a>, Xinze Chi)</li>
<li>common: reduce CPU usage by making stringstream in stringify function thread local (<a class="reference external" href="http://github.com/ceph/ceph/pull/6543">pr#6543</a>, Evgeniy Firsov)</li>
<li>common: re-enable backtrace support (<a class="reference external" href="http://github.com/ceph/ceph/pull/6771">pr#6771</a>, Jason Dillaman)</li>
<li>common: SubProcess: fix multiple definition bug (<a class="reference external" href="http://github.com/ceph/ceph/pull/6790">pr#6790</a>, Yunchuan Wen)</li>
<li>common: use namespace instead of subclasses for buffer (<a class="reference external" href="http://github.com/ceph/ceph/pull/6686">pr#6686</a>, Michal Jarzabek)</li>
<li>configure.ac: macro fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/6769">pr#6769</a>, Igor Podoski)</li>
<li>doc: admin/build-doc: add lxml dependencies on debian (<a class="reference external" href="http://github.com/ceph/ceph/pull/6610">pr#6610</a>, Ken Dreyer)</li>
<li>doc/cephfs/posix: update (<a class="reference external" href="http://github.com/ceph/ceph/pull/6922">pr#6922</a>, Sage Weil)</li>
<li>doc: CodingStyle: fix broken URLs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6733">pr#6733</a>, Kefu Chai)</li>
<li>doc: correct typo &#8216;restared&#8217; to &#8216;restarted&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6734">pr#6734</a>, Yilong Zhao)</li>
<li>doc/dev/index: refactor/reorg (<a class="reference external" href="http://github.com/ceph/ceph/pull/6792">pr#6792</a>, Nathan Cutler)</li>
<li>doc/dev/index.rst: begin writing Contributing to Ceph (<a class="reference external" href="http://github.com/ceph/ceph/pull/6727">pr#6727</a>, Nathan Cutler)</li>
<li>doc/dev/index.rst: fix headings (<a class="reference external" href="http://github.com/ceph/ceph/pull/6780">pr#6780</a>, Nathan Cutler)</li>
<li>doc: dev: introduction to tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/6910">pr#6910</a>, Loic Dachary)</li>
<li>doc: file must be empty when writing layout fields of file use &#8220;setfattr&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6848">pr#6848</a>, Cilang Zhao)</li>
<li>doc: Fixed incorrect name of a &#8220;List Multipart Upload Parts&#8221; Response Entity (<a class="reference external" href="http://tracker.ceph.com/issues/14003">issue#14003</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6829">pr#6829</a>, Lenz Grimmer)</li>
<li>doc: Fixes a spelling error (<a class="reference external" href="http://github.com/ceph/ceph/pull/6705">pr#6705</a>, Jeremy Qian)</li>
<li>doc: fix typo in cephfs/quota (<a class="reference external" href="http://github.com/ceph/ceph/pull/6745">pr#6745</a>, Drunkard Zhang)</li>
<li>doc: fix typo in developer guide (<a class="reference external" href="http://github.com/ceph/ceph/pull/6943">pr#6943</a>, Nathan Cutler)</li>
<li>doc: INSTALL redirect to online documentation (<a class="reference external" href="http://github.com/ceph/ceph/pull/6749">pr#6749</a>, Loic Dachary)</li>
<li>doc: little improvements for troubleshooting scrub issues (<a class="reference external" href="http://github.com/ceph/ceph/pull/6827">pr#6827</a>, Mykola Golub)</li>
<li>doc: Modified a note section in rbd-snapshot doc. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6908">pr#6908</a>, Nilamdyuti Goswami)</li>
<li>doc: note that cephfs auth stuff is new in jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/6858">pr#6858</a>, John Spray)</li>
<li>doc: osd: s/schedued/scheduled/ (<a class="reference external" href="http://github.com/ceph/ceph/pull/6872">pr#6872</a>, Loic Dachary)</li>
<li>doc: remove unnecessary period in headline (<a class="reference external" href="http://github.com/ceph/ceph/pull/6775">pr#6775</a>, Marc Koderer)</li>
<li>doc: rst style fix for pools document (<a class="reference external" href="http://github.com/ceph/ceph/pull/6816">pr#6816</a>, Drunkard Zhang)</li>
<li>doc: Update list of admin/build-doc dependencies (<a class="reference external" href="http://tracker.ceph.com/issues/14070">issue#14070</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6934">pr#6934</a>, Nathan Cutler)</li>
<li>init-ceph: do umount when the path exists. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6866">pr#6866</a>, Xiaoxi Chen)</li>
<li>journal: disconnect watch after watch error (<a class="reference external" href="http://tracker.ceph.com/issues/14168">issue#14168</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7113">pr#7113</a>, Jason Dillaman)</li>
<li>journal: fire replay complete event after reading last object (<a class="reference external" href="http://tracker.ceph.com/issues/13924">issue#13924</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6762">pr#6762</a>, Jason Dillaman)</li>
<li>journal: support replaying beyond skipped splay objects (<a class="reference external" href="http://github.com/ceph/ceph/pull/6687">pr#6687</a>, Jason Dillaman)</li>
<li>librados: aix gcc librados port (<a class="reference external" href="http://github.com/ceph/ceph/pull/6675">pr#6675</a>, Rohan Mars)</li>
<li>librados: avoid malloc(0) (which can return NULL on some platforms) (<a class="reference external" href="http://tracker.ceph.com/issues/13944">issue#13944</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6779">pr#6779</a>, Dan Mick)</li>
<li>librados: clean up Objecter.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/6731">pr#6731</a>, Jie Wang)</li>
<li>librados: include/rados/librados.h: fix typo (<a class="reference external" href="http://github.com/ceph/ceph/pull/6741">pr#6741</a>, Nathan Cutler)</li>
<li>librbd: automatically flush IO after blocking write operations (<a class="reference external" href="http://tracker.ceph.com/issues/13913">issue#13913</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6742">pr#6742</a>, Jason Dillaman)</li>
<li>librbd: better handling of exclusive lock transition period (<a class="reference external" href="http://github.com/ceph/ceph/pull/7204">pr#7204</a>, Jason Dillaman)</li>
<li>librbd: check for presence of journal before attempting to remove  (<a class="reference external" href="http://tracker.ceph.com/issues/13912">issue#13912</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6737">pr#6737</a>, Jason Dillaman)</li>
<li>librbd: clear error when older OSD doesn&#8217;t support image flags (<a class="reference external" href="http://tracker.ceph.com/issues/14122">issue#14122</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7035">pr#7035</a>, Jason Dillaman)</li>
<li>librbd: correct include guard in RenameRequest.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/7143">pr#7143</a>, Jason Dillaman)</li>
<li>librbd: correct issues discovered during teuthology testing (<a class="reference external" href="http://tracker.ceph.com/issues/14108">issue#14108</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14107">issue#14107</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6974">pr#6974</a>, Jason Dillaman)</li>
<li>librbd: correct issues discovered when cache is disabled (<a class="reference external" href="http://tracker.ceph.com/issues/14123">issue#14123</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6979">pr#6979</a>, Jason Dillaman)</li>
<li>librbd: correct race conditions discovered during unit testing (<a class="reference external" href="http://tracker.ceph.com/issues/14060">issue#14060</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6923">pr#6923</a>, Jason Dillaman)</li>
<li>librbd: disable copy-on-read when not exclusive lock owner (<a class="reference external" href="http://tracker.ceph.com/issues/14167">issue#14167</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7129">pr#7129</a>, Jason Dillaman)</li>
<li>librbd: do not ignore self-managed snapshot release result (<a class="reference external" href="http://tracker.ceph.com/issues/14170">issue#14170</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7043">pr#7043</a>, Jason Dillaman)</li>
<li>librbd: ensure copy-on-read requests are complete prior to closing parent image  (<a class="reference external" href="http://github.com/ceph/ceph/pull/6740">pr#6740</a>, Jason Dillaman)</li>
<li>librbd: ensure librados callbacks are flushed prior to destroying (<a class="reference external" href="http://tracker.ceph.com/issues/14092">issue#14092</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7040">pr#7040</a>, Jason Dillaman)</li>
<li>librbd: fix journal iohint (<a class="reference external" href="http://github.com/ceph/ceph/pull/6917">pr#6917</a>, Jianpeng Ma)</li>
<li>librbd: fix known test case race condition failures (<a class="reference external" href="http://tracker.ceph.com/issues/13969">issue#13969</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6800">pr#6800</a>, Jason Dillaman)</li>
<li>librbd: fix merge-diff for &gt;2GB diff-files (<a class="reference external" href="http://tracker.ceph.com/issues/14030">issue#14030</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6889">pr#6889</a>, Yunchuan Wen)</li>
<li>librbd: fix test case race condition for journaling ops (<a class="reference external" href="http://github.com/ceph/ceph/pull/6877">pr#6877</a>, Jason Dillaman)</li>
<li>librbd: fix tracepoint parameter in diff_iterate (<a class="reference external" href="http://github.com/ceph/ceph/pull/6892">pr#6892</a>, Yunchuan Wen)</li>
<li>librbd: image refresh code paths converted to async state machines (<a class="reference external" href="http://github.com/ceph/ceph/pull/6859">pr#6859</a>, Jason Dillaman)</li>
<li>librbd: include missing header for bool type (<a class="reference external" href="http://github.com/ceph/ceph/pull/6798">pr#6798</a>, Mykola Golub)</li>
<li>librbd: initial collection of state machine unit tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/6703">pr#6703</a>, Jason Dillaman)</li>
<li>librbd: integrate journaling for maintenance operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6625">pr#6625</a>, Jason Dillaman)</li>
<li>librbd: journaling-related lock dependency cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/6777">pr#6777</a>, Jason Dillaman)</li>
<li>librbd: not necessary to hold owner_lock while releasing snap id (<a class="reference external" href="http://tracker.ceph.com/issues/13914">issue#13914</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6736">pr#6736</a>, Jason Dillaman)</li>
<li>librbd: only send signal when AIO completions queue empty (<a class="reference external" href="http://github.com/ceph/ceph/pull/6729">pr#6729</a>, Jianpeng Ma)</li>
<li>librbd: optionally validate new RBD pools for snapshot support (<a class="reference external" href="http://tracker.ceph.com/issues/13633">issue#13633</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6925">pr#6925</a>, Jason Dillaman)</li>
<li>librbd: partial revert of commit 9b0e359 (<a class="reference external" href="http://tracker.ceph.com/issues/13969">issue#13969</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6789">pr#6789</a>, Jason Dillaman)</li>
<li>librbd: properly handle replay of snap remove RPC message (<a class="reference external" href="http://tracker.ceph.com/issues/14164">issue#14164</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7042">pr#7042</a>, Jason Dillaman)</li>
<li>librbd: reduce verbosity of common error condition logging (<a class="reference external" href="http://tracker.ceph.com/issues/14234">issue#14234</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7114">pr#7114</a>, Jason Dillaman)</li>
<li>librbd: simplify IO method signatures for 32bit environments (<a class="reference external" href="http://github.com/ceph/ceph/pull/6700">pr#6700</a>, Jason Dillaman)</li>
<li>librbd: support eventfd for AIO completion notifications (<a class="reference external" href="http://github.com/ceph/ceph/pull/5465">pr#5465</a>, Haomai Wang)</li>
<li>mailmap: add UMCloud affiliation (<a class="reference external" href="http://github.com/ceph/ceph/pull/6820">pr#6820</a>, Jiaying Ren)</li>
<li>mailmap: Jewel updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/6750">pr#6750</a>, Abhishek Lekshmanan)</li>
<li>makefiles: remove bz2-dev from dependencies (<a class="reference external" href="http://tracker.ceph.com/issues/13981">issue#13981</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6939">pr#6939</a>, Piotr Dałek)</li>
<li>mds: add &#8216;p&#8217; flag in auth caps to control setting pool in layout (<a class="reference external" href="http://github.com/ceph/ceph/pull/6567">pr#6567</a>, John Spray)</li>
<li>mds: fix client capabilities during reconnect (client.XXXX isn&#8217;t responding to mclientcaps(revoke)) (<a class="reference external" href="http://tracker.ceph.com/issues/11482">issue#11482</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6432">pr#6432</a>, Yan, Zheng)</li>
<li>mds: fix setvxattr (broken in a536d114) (<a class="reference external" href="http://tracker.ceph.com/issues/14029">issue#14029</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6941">pr#6941</a>, John Spray)</li>
<li>mds: repair the command option &#8220;&#8211;hot-standby&#8221; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6454">pr#6454</a>, Wei Feng)</li>
<li>mds: tear down connections from <cite>tell</cite> commands (<a class="reference external" href="http://tracker.ceph.com/issues/14048">issue#14048</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6933">pr#6933</a>, John Spray)</li>
<li>mon: fix ceph df pool available calculation for 0-weighted OSDs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6660">pr#6660</a>, Chengyuan Li)</li>
<li>mon: fix routed_request_tids leak (<a class="reference external" href="http://github.com/ceph/ceph/pull/6102">pr#6102</a>, Ning Yao)</li>
<li>mon: support min_down_reporter by subtree level (default by host) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6709">pr#6709</a>, Xiaoxi Chen)</li>
<li>mount.ceph: memory leaks (<a class="reference external" href="http://github.com/ceph/ceph/pull/6905">pr#6905</a>, Qiankun Zheng)</li>
<li>osd: add osd op queue latency perfcounter (<a class="reference external" href="http://github.com/ceph/ceph/pull/5793">pr#5793</a>, Haomai Wang)</li>
<li>osd: Allow repair of history.last_epoch_started using config (<a class="reference external" href="http://github.com/ceph/ceph/pull/6793">pr#6793</a>, David Zafman)</li>
<li>osd: avoid duplicate op-&gt;mark_started in ReplicatedBackend (<a class="reference external" href="http://github.com/ceph/ceph/pull/6689">pr#6689</a>, Jacek J. Łakis)</li>
<li>osd: cancel failure reports if we fail to rebind network (<a class="reference external" href="http://github.com/ceph/ceph/pull/6278">pr#6278</a>, Xinze Chi)</li>
<li>osd: correctly handle small osd_scrub_interval_randomize_ratio (<a class="reference external" href="http://github.com/ceph/ceph/pull/7147">pr#7147</a>, Samuel Just)</li>
<li>osd: defer decoding of MOSDRepOp/MOSDRepOpReply (<a class="reference external" href="http://github.com/ceph/ceph/pull/6503">pr#6503</a>, Xinze Chi)</li>
<li>osd: don&#8217;t update epoch and rollback_info objects attrs if there is no need (<a class="reference external" href="http://github.com/ceph/ceph/pull/6555">pr#6555</a>, Ning Yao)</li>
<li>osd: dump number of missing objects for each peer with pg query (<a class="reference external" href="http://github.com/ceph/ceph/pull/6058">pr#6058</a>, Guang Yang)</li>
<li>osd: enable perfcounters on sharded work queue mutexes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6455">pr#6455</a>, Jacek J. Łakis)</li>
<li>osd: FileJournal: reduce locking scope in write_aio_bl (<a class="reference external" href="http://tracker.ceph.com/issues/12789">issue#12789</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5670">pr#5670</a>, Zhi Zhang)</li>
<li>osd: FileStore: remove __SWORD_TYPE dependency (<a class="reference external" href="http://github.com/ceph/ceph/pull/6263">pr#6263</a>, John Coyle)</li>
<li>osd: fix FileStore::_destroy_collection error return code (<a class="reference external" href="http://github.com/ceph/ceph/pull/6612">pr#6612</a>, Ruifeng Yang)</li>
<li>osd: fix incorrect throttle in WBThrottle (<a class="reference external" href="http://github.com/ceph/ceph/pull/6713">pr#6713</a>, Zhang Huan)</li>
<li>osd: fix MOSDRepScrub reference counter in replica_scrub (<a class="reference external" href="http://github.com/ceph/ceph/pull/6730">pr#6730</a>, Jie Wang)</li>
<li>osd: fix rollback_info_trimmed_to before index() (<a class="reference external" href="http://tracker.ceph.com/issues/13965">issue#13965</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6801">pr#6801</a>, Samuel Just)</li>
<li>osd: fix trivial scrub bug (<a class="reference external" href="http://github.com/ceph/ceph/pull/6533">pr#6533</a>, Li Wang)</li>
<li>osd: KeyValueStore: don&#8217;t queue NULL context (<a class="reference external" href="http://github.com/ceph/ceph/pull/6783">pr#6783</a>, Haomai Wang)</li>
<li>osd: make backend and block device code a bit more generic (<a class="reference external" href="http://github.com/ceph/ceph/pull/6759">pr#6759</a>, Sage Weil)</li>
<li>osd: move newest decode version of MOSDOp and MOSDOpReply to the front (<a class="reference external" href="http://github.com/ceph/ceph/pull/6642">pr#6642</a>, Jacek J. Łakis)</li>
<li>osd: pg_pool_t: add dictionary for pool options (<a class="reference external" href="http://tracker.ceph.com/issues/13077">issue#13077</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6081">pr#6081</a>, Mykola Golub)</li>
<li>osd: reduce memory consumption of some structs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6475">pr#6475</a>, Piotr Dałek)</li>
<li>osd: release the message throttle when OpRequest unregistered (<a class="reference external" href="http://tracker.ceph.com/issues/14248">issue#14248</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7148">pr#7148</a>, Samuel Just)</li>
<li>osd: remove __SWORD_TYPE dependency (<a class="reference external" href="http://github.com/ceph/ceph/pull/6262">pr#6262</a>, John Coyle)</li>
<li>osd: slightly reduce actual size of pg_log_entry_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/6690">pr#6690</a>, Piotr Dałek)</li>
<li>osd: support pool level recovery_priority and recovery_op_priority (<a class="reference external" href="http://github.com/ceph/ceph/pull/5953">pr#5953</a>, Guang Yang)</li>
<li>osd: use pg id (without shard) when referring the PG (<a class="reference external" href="http://github.com/ceph/ceph/pull/6236">pr#6236</a>, Guang Yang)</li>
<li>packaging: add build dependency on python devel package (<a class="reference external" href="http://github.com/ceph/ceph/pull/7205">pr#7205</a>, Josh Durgin)</li>
<li>pybind/cephfs: add symlink and its unit test (<a class="reference external" href="http://github.com/ceph/ceph/pull/6323">pr#6323</a>, Shang Ding)</li>
<li>pybind: decode empty string in conf_parse_argv() correctly (<a class="reference external" href="http://github.com/ceph/ceph/pull/6711">pr#6711</a>, Josh Durgin)</li>
<li>pybind: Implementation of rados_ioctx_snapshot_rollback (<a class="reference external" href="http://github.com/ceph/ceph/pull/6878">pr#6878</a>, Florent Manens)</li>
<li>pybind: port the rbd bindings to Cython (<a class="reference external" href="http://tracker.ceph.com/issues/13115">issue#13115</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6768">pr#6768</a>, Hector Martin)</li>
<li>pybind: support ioctx:exec (<a class="reference external" href="http://github.com/ceph/ceph/pull/6795">pr#6795</a>, Noah Watkins)</li>
<li>qa: erasure-code benchmark plugin selection (<a class="reference external" href="http://github.com/ceph/ceph/pull/6685">pr#6685</a>, Loic Dachary)</li>
<li>qa/krbd: Expunge generic/247 (<a class="reference external" href="http://github.com/ceph/ceph/pull/6831">pr#6831</a>, Douglas Fuller)</li>
<li>qa/workunits/cephtool/test.sh: false positive fail on /tmp/obj1. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6837">pr#6837</a>, Robin H. Johnson)</li>
<li>qa/workunits/cephtool/test.sh: no ./ (<a class="reference external" href="http://github.com/ceph/ceph/pull/6748">pr#6748</a>, Sage Weil)</li>
<li>qa/workunits/rbd: rbd-nbd test should use sudo for map/unmap ops (<a class="reference external" href="http://tracker.ceph.com/issues/14221">issue#14221</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7101">pr#7101</a>, Jason Dillaman)</li>
<li>rados: bench: fix off-by-one to avoid writing past object_size (<a class="reference external" href="http://github.com/ceph/ceph/pull/6677">pr#6677</a>, Tao Chang)</li>
<li>rbd: add &#8211;object-size option, deprecate &#8211;order (<a class="reference external" href="http://tracker.ceph.com/issues/12112">issue#12112</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6830">pr#6830</a>, Vikhyat Umrao)</li>
<li>rbd: add RBD pool mirroring configuration API + CLI (<a class="reference external" href="http://github.com/ceph/ceph/pull/6129">pr#6129</a>, Jason Dillaman)</li>
<li>rbd: fix build with &#8220;&#8211;without-rbd&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/14058">issue#14058</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6899">pr#6899</a>, Piotr Dałek)</li>
<li>rbd: journal: configuration via conf, cli, api and some fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6665">pr#6665</a>, Mykola Golub)</li>
<li>rbd: merge_diff test should use new &#8211;object-size parameter instead of &#8211;order (<a class="reference external" href="http://tracker.ceph.com/issues/14106">issue#14106</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6972">pr#6972</a>, Na Xie, Jason Dillaman)</li>
<li>rbd-nbd: network block device (NBD) support for RBD  (<a class="reference external" href="http://github.com/ceph/ceph/pull/6657">pr#6657</a>, Yunchuan Wen, Li Wang)</li>
<li>rbd: output formatter may not be closed upon error (<a class="reference external" href="http://tracker.ceph.com/issues/13711">issue#13711</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6706">pr#6706</a>, xie xingguo)</li>
<li>rgw: add a missing cap type (<a class="reference external" href="http://github.com/ceph/ceph/pull/6774">pr#6774</a>, Yehuda Sadeh)</li>
<li>rgw: add an inspection to the field of type when assigning user caps (<a class="reference external" href="http://github.com/ceph/ceph/pull/6051">pr#6051</a>, Kongming Wu)</li>
<li>rgw: add LifeCycle feature (<a class="reference external" href="http://github.com/ceph/ceph/pull/6331">pr#6331</a>, Ji Chen)</li>
<li>rgw: add support for Static Large Objects of Swift API (<a class="reference external" href="http://tracker.ceph.com/issues/12886">issue#12886</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13452">issue#13452</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6643">pr#6643</a>, Yehuda Sadeh, Radoslaw Zarzynski)</li>
<li>rgw: fix a glaring syntax error (<a class="reference external" href="http://github.com/ceph/ceph/pull/6888">pr#6888</a>, Pavan Rallabhandi)</li>
<li>rgw: fix the build failure (<a class="reference external" href="http://github.com/ceph/ceph/pull/6927">pr#6927</a>, Kefu Chai)</li>
<li>rgw: multitenancy support (<a class="reference external" href="http://github.com/ceph/ceph/pull/6784">pr#6784</a>, Yehuda Sadeh, Pete Zaitcev)</li>
<li>rgw: Remove unused code in PutMetadataAccount:execute (<a class="reference external" href="http://github.com/ceph/ceph/pull/6668">pr#6668</a>, Pete Zaitcev)</li>
<li>rgw: remove unused variable in RGWPutMetadataBucket::execute (<a class="reference external" href="http://github.com/ceph/ceph/pull/6735">pr#6735</a>, Radoslaw Zarzynski)</li>
<li>rgw/rgw_resolve: fallback to res_query when res_nquery not implemented (<a class="reference external" href="http://github.com/ceph/ceph/pull/6292">pr#6292</a>, John Coyle)</li>
<li>rgw: static large objects (Radoslaw Zarzynski, Yehuda Sadeh)</li>
<li>rgw: swift bulk delete (Radoslaw Zarzynski)</li>
<li>systemd: start/stop/restart ceph services by daemon type (<a class="reference external" href="http://tracker.ceph.com/issues/13497">issue#13497</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6276">pr#6276</a>, Zhi Zhang)</li>
<li>sysvinit: allow custom cluster names (<a class="reference external" href="http://github.com/ceph/ceph/pull/6732">pr#6732</a>, Richard Chan)</li>
<li>test/encoding/readable.sh fix (<a class="reference external" href="http://github.com/ceph/ceph/pull/6714">pr#6714</a>, Igor Podoski)</li>
<li>test: fix osd-scrub-snaps.sh (<a class="reference external" href="http://github.com/ceph/ceph/pull/6697">pr#6697</a>, Xinze Chi)</li>
<li>test/librados/test.cc: clean up EC pools&#8217; crush rules too (<a class="reference external" href="http://tracker.ceph.com/issues/13878">issue#13878</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6788">pr#6788</a>, Loic Dachary, Dan Mick)</li>
<li>tests: allow object corpus readable test to skip specific incompat instances (<a class="reference external" href="http://github.com/ceph/ceph/pull/6932">pr#6932</a>, Igor Podoski)</li>
<li>tests: ceph-helpers assert success getting backfills (<a class="reference external" href="http://github.com/ceph/ceph/pull/6699">pr#6699</a>, Loic Dachary)</li>
<li>tests: ceph_test_keyvaluedb_iterators: fix broken test (<a class="reference external" href="http://github.com/ceph/ceph/pull/6597">pr#6597</a>, Haomai Wang)</li>
<li>tests: fix failure for osd-scrub-snap.sh (<a class="reference external" href="http://tracker.ceph.com/issues/13986">issue#13986</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6890">pr#6890</a>, Loic Dachary, Ning Yao)</li>
<li>tests: fix race condition testing auto scrub (<a class="reference external" href="http://tracker.ceph.com/issues/13592">issue#13592</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6724">pr#6724</a>, Xinze Chi, Loic Dachary)</li>
<li>tests: flush op work queue prior to destroying MockImageCtx (<a class="reference external" href="http://tracker.ceph.com/issues/14092">issue#14092</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7002">pr#7002</a>, Jason Dillaman)</li>
<li>tests: &#8211;osd-scrub-load-threshold=2000 for more consistency (<a class="reference external" href="http://tracker.ceph.com/issues/14027">issue#14027</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6871">pr#6871</a>, Loic Dachary)</li>
<li>tests: osd-scrub-snaps.sh to display full osd logs on error (<a class="reference external" href="http://tracker.ceph.com/issues/13986">issue#13986</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6857">pr#6857</a>, Loic Dachary)</li>
<li>test: use sequential journal_tid for object cacher test (<a class="reference external" href="http://tracker.ceph.com/issues/13877">issue#13877</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6710">pr#6710</a>, Josh Durgin)</li>
<li>tools: add cephfs-table-tool &#8216;take_inos&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6655">pr#6655</a>, John Spray)</li>
<li>tools: Fix layout handing in cephfs-data-scan (#13898) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6719">pr#6719</a>, John Spray)</li>
<li>tools: support printing part cluster map in readable fashion (<a class="reference external" href="http://tracker.ceph.com/issues/13079">issue#13079</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5921">pr#5921</a>, Bo Cai)</li>
<li>vstart.sh: add mstart, mstop, mrun wrappers for running multiple vstart-style test clusters out of src tree (<a class="reference external" href="http://github.com/ceph/ceph/pull/6901">pr#6901</a>, Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v10-0-1">
<h2>v10.0.1<a class="headerlink" href="#v10-0-1" title="Permalink to this headline">¶</a></h2>
<p>This is the second development release for the Jewel cycle.
Highlights include some KeyValueDB interface optimizations, initial
journaling support in librbd, MDS scrubbing progress, and a bunch of
OSD optimizations and improvements (removal of an unnecessary CRUSH
calculation in the IO path, sharding for FileStore completions,
improved temperature calculation for cache tiering, fixed
randomization of scrub times, and various optimizations).</p>
<div class="section" id="id1935">
<h3>Notable Changes<a class="headerlink" href="#id1935" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build: build internal plugins and classes as modules (<a class="reference external" href="http://github.com/ceph/ceph/pull/6462">pr#6462</a>, James Page)</li>
<li>build: fix Jenkins make check errors due to deep-scrub randomization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6671">pr#6671</a>, David Zafman)</li>
<li>build/ops: enable CR in CentOS 7 (<a class="reference external" href="http://tracker.ceph.com/issues/13997">issue#13997</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6844">pr#6844</a>, Loic Dachary)</li>
<li>build/ops: rbd-replay moved from ceph-test-dbg to ceph-common-dbg (<a class="reference external" href="http://tracker.ceph.com/issues/13785">issue#13785</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6578">pr#6578</a>, Loic Dachary)</li>
<li>ceph-disk: Add destroy and deactivate option (<a class="reference external" href="http://tracker.ceph.com/issues/7454">issue#7454</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5867">pr#5867</a>, Vicente Cheng)</li>
<li>ceph-disk: compare parted output with the dereferenced path (<a class="reference external" href="http://tracker.ceph.com/issues/13438">issue#13438</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6219">pr#6219</a>, Joe Julian)</li>
<li>ceph-objectstore-tool: fix &#8211;dry-run for many ceph-objectstore-tool operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6545">pr#6545</a>, David Zafman)</li>
<li>ceph.spec.in: limit _smp_mflags when lowmem_builder is set in SUSE&#8217;s OBS (<a class="reference external" href="http://tracker.ceph.com/issues/13858">issue#13858</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6691">pr#6691</a>, Nathan Cutler)</li>
<li>ceph_test_msgr: Use send_message instead of keepalive to wakeup connection (<a class="reference external" href="http://github.com/ceph/ceph/pull/6605">pr#6605</a>, Haomai Wang)</li>
<li>client: avoid creating orphan object in Client::check_pool_perm() (<a class="reference external" href="http://tracker.ceph.com/issues/13782">issue#13782</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6603">pr#6603</a>, Yan, Zheng)</li>
<li>client: use null snapc to check pool permission (<a class="reference external" href="http://tracker.ceph.com/issues/13714">issue#13714</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6497">pr#6497</a>, Yan, Zheng)</li>
<li>cmake: add nss as a suffix for pk11pub.h (<a class="reference external" href="http://github.com/ceph/ceph/pull/6556">pr#6556</a>, Samuel Just)</li>
<li>cmake: fix files list (<a class="reference external" href="http://github.com/ceph/ceph/pull/6539">pr#6539</a>, Yehuda Sadeh)</li>
<li>cmake: librbd and libjournal build fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6557">pr#6557</a>, Ilya Dryomov)</li>
<li>coc: fix typo in the apt-get command (<a class="reference external" href="http://github.com/ceph/ceph/pull/6659">pr#6659</a>, Chris Holcombe)</li>
<li>common: allow enable/disable of optracker at runtime (<a class="reference external" href="http://github.com/ceph/ceph/pull/5168">pr#5168</a>, Jianpeng Ma)</li>
<li>common: fix reset max in Throttle using perf reset command (<a class="reference external" href="http://tracker.ceph.com/issues/13517">issue#13517</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6300">pr#6300</a>, Xinze Chi)</li>
<li>doc: add v0.80.11 to the release timeline (<a class="reference external" href="http://github.com/ceph/ceph/pull/6658">pr#6658</a>, Loic Dachary)</li>
<li>doc: release-notes: draft v0.80.11 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6374">pr#6374</a>, Loic Dachary)</li>
<li>doc: release-notes: draft v10.0.0 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6666">pr#6666</a>, Loic Dachary)</li>
<li>doc: SubmittingPatches: there is no next; only jewel (<a class="reference external" href="http://github.com/ceph/ceph/pull/6811">pr#6811</a>, Nathan Cutler)</li>
<li>doc: Update ceph-disk manual page with new feature deactivate/destroy. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6637">pr#6637</a>, Vicente Cheng)</li>
<li>doc: update infernalis release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6575">pr#6575</a>, vasukulkarni)</li>
<li>fix: use right init_flags to finish CephContext (<a class="reference external" href="http://github.com/ceph/ceph/pull/6549">pr#6549</a>, Yunchuan Wen)</li>
<li>init-ceph: use getopt to make option processing more flexible (<a class="reference external" href="http://tracker.ceph.com/issues/3015">issue#3015</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6089">pr#6089</a>, Nathan Cutler)</li>
<li>journal: incremental improvements and fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6552">pr#6552</a>, Mykola Golub)</li>
<li>krbd: remove deprecated &#8211;quiet param from udevadm (<a class="reference external" href="http://tracker.ceph.com/issues/13560">issue#13560</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6394">pr#6394</a>, Jason Dillaman)</li>
<li>kv: fix bug in kv key optimization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6511">pr#6511</a>, Sage Weil)</li>
<li>kv/KineticStore: fix broken split_key (<a class="reference external" href="http://github.com/ceph/ceph/pull/6574">pr#6574</a>, Haomai Wang)</li>
<li>kv: optimize and clean up internal key/value interface (<a class="reference external" href="http://github.com/ceph/ceph/pull/6312">pr#6312</a>, Piotr Dałek, Sage Weil)</li>
<li>librados: do cleanup (<a class="reference external" href="http://github.com/ceph/ceph/pull/6488">pr#6488</a>, xie xingguo)</li>
<li>librados: fix pool alignment API overflow issue (<a class="reference external" href="http://tracker.ceph.com/issues/13715">issue#13715</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6489">pr#6489</a>, xie xingguo)</li>
<li>librados: fix potential null pointer access when do pool_snap_list (<a class="reference external" href="http://tracker.ceph.com/issues/13639">issue#13639</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6422">pr#6422</a>, xie xingguo)</li>
<li>librados: fix PromoteOn2ndRead test for EC (<a class="reference external" href="http://github.com/ceph/ceph/pull/6373">pr#6373</a>, Sage Weil)</li>
<li>librados: fix rare race where pool op callback may hang forever (<a class="reference external" href="http://tracker.ceph.com/issues/13642">issue#13642</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6426">pr#6426</a>, xie xingguo)</li>
<li>librados: Solaris port (<a class="reference external" href="http://github.com/ceph/ceph/pull/6416">pr#6416</a>, Rohan Mars)</li>
<li>librbd: flush and invalidate cache via admin socket (<a class="reference external" href="http://tracker.ceph.com/issues/2468">issue#2468</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6453">pr#6453</a>, Mykola Golub)</li>
<li>librbd: integrate journaling support for IO operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6541">pr#6541</a>, Jason Dillaman)</li>
<li>librbd: perf counters might not be initialized on error (<a class="reference external" href="http://tracker.ceph.com/issues/13740">issue#13740</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6523">pr#6523</a>, Jason Dillaman)</li>
<li>librbd: perf section name: use hyphen to separate components (<a class="reference external" href="http://tracker.ceph.com/issues/13719">issue#13719</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6516">pr#6516</a>, Mykola Golub)</li>
<li>librbd: resize should only update image size within header (<a class="reference external" href="http://tracker.ceph.com/issues/13674">issue#13674</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6447">pr#6447</a>, Jason Dillaman)</li>
<li>librbd: start perf counters after id is initialized (<a class="reference external" href="http://tracker.ceph.com/issues/13720">issue#13720</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6494">pr#6494</a>, Mykola Golub)</li>
<li>mailmap: revise organization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6519">pr#6519</a>, Li Wang)</li>
<li>mailmap: Ubuntu Kylin name changed to Kylin Cloud (<a class="reference external" href="http://github.com/ceph/ceph/pull/6532">pr#6532</a>, Loic Dachary)</li>
<li>mailmap: update .organizationmap (<a class="reference external" href="http://github.com/ceph/ceph/pull/6565">pr#6565</a>, chenji-kael)</li>
<li>mailmap: updates for infernalis. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6495">pr#6495</a>, Yann Dupont)</li>
<li>mailmap: updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/6594">pr#6594</a>, chenji-kael)</li>
<li>mds: fix scrub_path (<a class="reference external" href="http://github.com/ceph/ceph/pull/6684">pr#6684</a>, John Spray)</li>
<li>mds: properly set STATE_STRAY/STATE_ORPHAN for stray dentry/inode (<a class="reference external" href="http://tracker.ceph.com/issues/13777">issue#13777</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6553">pr#6553</a>, Yan, Zheng)</li>
<li>mds: ScrubStack and &#8220;tag path&#8221; command (<a class="reference external" href="http://github.com/ceph/ceph/pull/5662">pr#5662</a>, Yan, Zheng, John Spray, Greg Farnum)</li>
<li>mon: block &#8216;ceph osd pg-temp ...&#8217; if pg_temp update is already pending (<a class="reference external" href="http://github.com/ceph/ceph/pull/6704">pr#6704</a>, Sage Weil)</li>
<li>mon: don&#8217;t require OSD W for MRemoveSnaps (<a class="reference external" href="http://tracker.ceph.com/issues/13777">issue#13777</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6601">pr#6601</a>, John Spray)</li>
<li>mon: initialize recorded election epoch properly even when standalone (<a class="reference external" href="http://tracker.ceph.com/issues/13627">issue#13627</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6407">pr#6407</a>, huanwen ren)</li>
<li>mon: revert MonitorDBStore&#8217;s WholeStoreIteratorImpl::get (<a class="reference external" href="http://tracker.ceph.com/issues/13742">issue#13742</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6522">pr#6522</a>, Piotr Dałek)</li>
<li>msg/async: let receiver ack message ASAP (<a class="reference external" href="http://github.com/ceph/ceph/pull/6478">pr#6478</a>, Haomai Wang)</li>
<li>msg/async: support of non-block connect in async messenger (<a class="reference external" href="http://tracker.ceph.com/issues/12802">issue#12802</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5848">pr#5848</a>, Jianhui Yuan)</li>
<li>msg/async: will crash if enabling async msg because of an assertion (<a class="reference external" href="http://github.com/ceph/ceph/pull/6640">pr#6640</a>, Zhi Zhang)</li>
<li>osd: avoid calculating crush mapping for most ops (<a class="reference external" href="http://github.com/ceph/ceph/pull/6371">pr#6371</a>, Sage Weil)</li>
<li>osd: avoid double-check for replaying and can_checkpoint() in FileStore::_check_replay_guard (<a class="reference external" href="http://github.com/ceph/ceph/pull/6471">pr#6471</a>, Ning Yao)</li>
<li>osd: call on_new_interval on newly split child PG (<a class="reference external" href="http://tracker.ceph.com/issues/13962">issue#13962</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6778">pr#6778</a>, Sage Weil)</li>
<li>osd: change mutex to spinlock to optimize thread context switch. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6492">pr#6492</a>, Xiaowei Chen)</li>
<li>osd: check do_shutdown before do_restart (<a class="reference external" href="http://github.com/ceph/ceph/pull/6547">pr#6547</a>, Xiaoxi Chen)</li>
<li>osd: clarify the scrub result report (<a class="reference external" href="http://github.com/ceph/ceph/pull/6534">pr#6534</a>, Li Wang)</li>
<li>osd: don&#8217;t do random deep scrubs for user initiated scrubs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6673">pr#6673</a>, David Zafman)</li>
<li>osd: FileStore: support multiple ondisk finish and apply finishers (<a class="reference external" href="http://github.com/ceph/ceph/pull/6486">pr#6486</a>, Xinze Chi, Haomai Wang)</li>
<li>osd: fix broken balance / localized read handling (<a class="reference external" href="http://tracker.ceph.com/issues/13491">issue#13491</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6364">pr#6364</a>, Jason Dillaman)</li>
<li>osd: fix bug in last_* PG state timestamps (<a class="reference external" href="http://github.com/ceph/ceph/pull/6517">pr#6517</a>, Li Wang)</li>
<li>osd: fix ClassHandler::ClassData::get_filter() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6747">pr#6747</a>, Yan, Zheng)</li>
<li>osd: fixes for several cases where op result code was not checked or set (<a class="reference external" href="http://tracker.ceph.com/issues/13566">issue#13566</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6347">pr#6347</a>, xie xingguo)</li>
<li>osd: fix reactivate (check OSDSuperblock in mkfs() when we already have the superblock) (<a class="reference external" href="http://tracker.ceph.com/issues/13586">issue#13586</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6385">pr#6385</a>, Vicente Cheng)</li>
<li>osd: fix wrong use of right parenthesis in localized read logic (<a class="reference external" href="http://github.com/ceph/ceph/pull/6566">pr#6566</a>, Jie Wang)</li>
<li>osd: improve temperature calculation for cache tier agent (<a class="reference external" href="http://github.com/ceph/ceph/pull/4737">pr#4737</a>, MingXin Liu)</li>
<li>osd: merge local_t and op_t txn to single one (<a class="reference external" href="http://github.com/ceph/ceph/pull/6439">pr#6439</a>, Xinze Chi)</li>
<li>osd: newstore: misc updates (including kv and os/fs stuff) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6609">pr#6609</a>, Sage Weil)</li>
<li>osd: note down the number of missing clones (<a class="reference external" href="http://github.com/ceph/ceph/pull/6654">pr#6654</a>, Kefu Chai)</li>
<li>osd: optimize clone write path if object-map is enabled (<a class="reference external" href="http://github.com/ceph/ceph/pull/6403">pr#6403</a>, xinxin shu)</li>
<li>osd: optimize scrub subset_last_update calculation (<a class="reference external" href="http://github.com/ceph/ceph/pull/6518">pr#6518</a>, Li Wang)</li>
<li>osd: partial revert of &#8220;ReplicatedPG: result code not correctly set in some cases.&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/13796">issue#13796</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6622">pr#6622</a>, Sage Weil)</li>
<li>osd: randomize deep scrubbing (<a class="reference external" href="http://github.com/ceph/ceph/pull/6550">pr#6550</a>, Dan van der Ster, Herve Rousseau)</li>
<li>osd: scrub: do not assign value if read error (<a class="reference external" href="http://github.com/ceph/ceph/pull/6568">pr#6568</a>, Li Wang)</li>
<li>osd: write file journal optimization (<a class="reference external" href="http://github.com/ceph/ceph/pull/6484">pr#6484</a>, Xinze Chi)</li>
<li>rbd: accept &#8211;user, refuse -i command-line optionals (<a class="reference external" href="http://github.com/ceph/ceph/pull/6590">pr#6590</a>, Ilya Dryomov)</li>
<li>rbd: add missing command aliases to refactored CLI (<a class="reference external" href="http://tracker.ceph.com/issues/13806">issue#13806</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6606">pr#6606</a>, Jason Dillaman)</li>
<li>rbd: dynamically generated bash completion (<a class="reference external" href="http://tracker.ceph.com/issues/13494">issue#13494</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6316">pr#6316</a>, Jason Dillaman)</li>
<li>rbd: fixes for refactored CLI and related tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/6738">pr#6738</a>, Ilya Dryomov)</li>
<li>rbd: make config changes actually apply (<a class="reference external" href="http://github.com/ceph/ceph/pull/6520">pr#6520</a>, Mykola Golub)</li>
<li>rbd: refactor cli command handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/5987">pr#5987</a>, Jason Dillaman)</li>
<li>rbd: stripe unit/count set incorrectly from config (<a class="reference external" href="http://github.com/ceph/ceph/pull/6593">pr#6593</a>, Mykola Golub)</li>
<li>rbd: support negative boolean command-line optionals (<a class="reference external" href="http://tracker.ceph.com/issues/13784">issue#13784</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6607">pr#6607</a>, Jason Dillaman)</li>
<li>rbd: unbreak rbd map + cephx_sign_messages option (<a class="reference external" href="http://github.com/ceph/ceph/pull/6583">pr#6583</a>, Ilya Dryomov)</li>
<li>rgw: bucket request payment support (<a class="reference external" href="http://tracker.ceph.com/issues/13427">issue#13427</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6214">pr#6214</a>, Javier M. Mellid)</li>
<li>rgw: extend rgw_extended_http_attrs to affect Swift accounts and containers as well (<a class="reference external" href="http://github.com/ceph/ceph/pull/5969">pr#5969</a>, Radoslaw Zarzynski)</li>
<li>rgw: fix openssl linkage (<a class="reference external" href="http://github.com/ceph/ceph/pull/6513">pr#6513</a>, Yehuda Sadeh)</li>
<li>rgw: fix partial read issue in rgw_admin and rgw_tools (<a class="reference external" href="http://github.com/ceph/ceph/pull/6761">pr#6761</a>, Jiaying Ren)</li>
<li>rgw: fix reload on non Debian systems. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6482">pr#6482</a>, Hervé Rousseau)</li>
<li>rgw: fix response of delete expired objects (<a class="reference external" href="http://tracker.ceph.com/issues/13469">issue#13469</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6228">pr#6228</a>, Yuan Zhou)</li>
<li>rgw: fix swift API returning incorrect account metadata (<a class="reference external" href="http://tracker.ceph.com/issues/13140">issue#13140</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6047">pr#6047</a>, Sangdi Xu)</li>
<li>rgw: link against system openssl (instead of dlopen at runtime) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6419">pr#6419</a>, Sage Weil)</li>
<li>rgw: prevent anonymous user from reading bucket with authenticated read ACL (<a class="reference external" href="http://tracker.ceph.com/issues/13207">issue#13207</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6057">pr#6057</a>, root)</li>
<li>rgw: use smart pointer for C_Reinitwatch (<a class="reference external" href="http://github.com/ceph/ceph/pull/6767">pr#6767</a>, Orit Wasserman)</li>
<li>systemd: fix typos (<a class="reference external" href="http://github.com/ceph/ceph/pull/6679">pr#6679</a>, Tobias Suckow)</li>
<li>tests: centos7 needs the Continuous Release (CR) Repository enabled for (<a class="reference external" href="http://tracker.ceph.com/issues/13997">issue#13997</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6842">pr#6842</a>, Brad Hubbard)</li>
<li>tests: concatenate test_rados_test_tool from src and qa (<a class="reference external" href="http://tracker.ceph.com/issues/13691">issue#13691</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6464">pr#6464</a>, Loic Dachary)</li>
<li>tests: fix test_rados_tools.sh rados lookup (<a class="reference external" href="http://tracker.ceph.com/issues/13691">issue#13691</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6502">pr#6502</a>, Loic Dachary)</li>
<li>tests: fix typo in TestClsRbd.snapshots test case (<a class="reference external" href="http://tracker.ceph.com/issues/13727">issue#13727</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6504">pr#6504</a>, Jason Dillaman)</li>
<li>tests: ignore test-suite.log (<a class="reference external" href="http://github.com/ceph/ceph/pull/6584">pr#6584</a>, Loic Dachary)</li>
<li>tests: restore run-cli-tests (<a class="reference external" href="http://github.com/ceph/ceph/pull/6571">pr#6571</a>, Loic Dachary, Sage Weil, Jason Dillaman)</li>
<li>tools/cephfs: fix overflow writing header to fixed size buffer (#13816) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6617">pr#6617</a>, John Spray)</li>
</ul>
</div>
</div>
<div class="section" id="v10-0-0">
<h2>v10.0.0<a class="headerlink" href="#v10-0-0" title="Permalink to this headline">¶</a></h2>
<p>This is the first development release for the Jewel cycle.</p>
<div class="section" id="id2083">
<h3>Notable Changes<a class="headerlink" href="#id2083" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build: cmake tweaks (<a class="reference external" href="http://github.com/ceph/ceph/pull/6254">pr#6254</a>, John Spray)</li>
<li>build: more CMake package check fixes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6108">pr#6108</a>, Daniel Gryniewicz)</li>
<li>ceph-disk: get Nonetype when ceph-disk list with &#8211;format plain on single device. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6410">pr#6410</a>, Vicente Cheng)</li>
<li>ceph: fix tell behavior (<a class="reference external" href="http://github.com/ceph/ceph/pull/6329">pr#6329</a>, David Zafman)</li>
<li>ceph-fuse: While starting ceph-fuse, start the log thread first (<a class="reference external" href="http://tracker.ceph.com/issues/13443">issue#13443</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6224">pr#6224</a>, Wenjun Huang)</li>
<li>client: don&#8217;t mark_down on command reply (<a class="reference external" href="http://github.com/ceph/ceph/pull/6204">pr#6204</a>, John Spray)</li>
<li>client: drop prefix from ints (<a class="reference external" href="http://github.com/ceph/ceph/pull/6275">pr#6275</a>, John Coyle)</li>
<li>client: sys/file.h includes for flock operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6282">pr#6282</a>, John Coyle)</li>
<li>cls_rbd: change object_map_update to return 0 on success, add logging (<a class="reference external" href="http://github.com/ceph/ceph/pull/6467">pr#6467</a>, Douglas Fuller)</li>
<li>cmake: Use uname instead of arch. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6358">pr#6358</a>, John Coyle)</li>
<li>common: assert: __STRING macro is not defined by musl libc. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6210">pr#6210</a>, John Coyle)</li>
<li>common: fix OpTracker age histogram calculation (<a class="reference external" href="http://github.com/ceph/ceph/pull/5065">pr#5065</a>, Zhiqiang Wang)</li>
<li>common/MemoryModel: Added explicit feature check for mallinfo(). (<a class="reference external" href="http://github.com/ceph/ceph/pull/6252">pr#6252</a>, John Coyle)</li>
<li>common/obj_bencher.cc: fix verification crashing when there&#8217;s no objects (<a class="reference external" href="http://github.com/ceph/ceph/pull/5853">pr#5853</a>, Piotr Dałek)</li>
<li>common: optimize debug logging (<a class="reference external" href="http://github.com/ceph/ceph/pull/6307">pr#6307</a>, Adam Kupczyk)</li>
<li>common: Thread: move copy constructor and assignment op (<a class="reference external" href="http://github.com/ceph/ceph/pull/5133">pr#5133</a>, Michal Jarzabek)</li>
<li>common: WorkQueue: new PointerWQ base class for ContextWQ (<a class="reference external" href="http://tracker.ceph.com/issues/13636">issue#13636</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6525">pr#6525</a>, Jason Dillaman)</li>
<li>compat: use prefixed typeof extension (<a class="reference external" href="http://github.com/ceph/ceph/pull/6216">pr#6216</a>, John Coyle)</li>
<li>crush: validate bucket id before indexing buckets array (<a class="reference external" href="http://tracker.ceph.com/issues/13477">issue#13477</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6246">pr#6246</a>, Sage Weil)</li>
<li>doc: download GPG key from download.ceph.com (<a class="reference external" href="http://tracker.ceph.com/issues/13603">issue#13603</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6384">pr#6384</a>, Ken Dreyer)</li>
<li>doc: fix outdated content in cache tier (<a class="reference external" href="http://github.com/ceph/ceph/pull/6272">pr#6272</a>, Yuan Zhou)</li>
<li>doc/release-notes: v9.1.0 (<a class="reference external" href="http://github.com/ceph/ceph/pull/6281">pr#6281</a>, Loic Dachary)</li>
<li>doc/releases-notes: fix build error (<a class="reference external" href="http://github.com/ceph/ceph/pull/6483">pr#6483</a>, Kefu Chai)</li>
<li>doc: remove toctree items under Create CephFS (<a class="reference external" href="http://github.com/ceph/ceph/pull/6241">pr#6241</a>, Jevon Qiao)</li>
<li>doc: rename the &#8220;Create a Ceph User&#8221; section and add verbage about… (<a class="reference external" href="http://tracker.ceph.com/issues/13502">issue#13502</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6297">pr#6297</a>, ritz303)</li>
<li>docs: Fix styling of newly added mirror docs (<a class="reference external" href="http://github.com/ceph/ceph/pull/6127">pr#6127</a>, Wido den Hollander)</li>
<li>doc, tests: update all <a class="reference external" href="http://ceph.com/">http://ceph.com/</a> to download.ceph.com (<a class="reference external" href="http://github.com/ceph/ceph/pull/6435">pr#6435</a>, Alfredo Deza)</li>
<li>doc: update doc for with new pool settings (<a class="reference external" href="http://github.com/ceph/ceph/pull/5951">pr#5951</a>, Guang Yang)</li>
<li>doc: update radosgw-admin example (<a class="reference external" href="http://github.com/ceph/ceph/pull/6256">pr#6256</a>, YankunLi)</li>
<li>doc: update the OS recommendations for newer Ceph releases (<a class="reference external" href="http://github.com/ceph/ceph/pull/6355">pr#6355</a>, ritz303)</li>
<li>drop envz.h includes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6285">pr#6285</a>, John Coyle)</li>
<li>libcephfs: Improve portability by replacing loff_t type usage with off_t (<a class="reference external" href="http://github.com/ceph/ceph/pull/6301">pr#6301</a>, John Coyle)</li>
<li>libcephfs: only check file offset on glibc platforms (<a class="reference external" href="http://github.com/ceph/ceph/pull/6288">pr#6288</a>, John Coyle)</li>
<li>librados: fix examples/librados/Makefile error. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6320">pr#6320</a>, You Ji)</li>
<li>librados: init crush_location from config file. (<a class="reference external" href="http://tracker.ceph.com/issues/13473">issue#13473</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6243">pr#6243</a>, Wei Luo)</li>
<li>librados: wrongly passed in argument for stat command (<a class="reference external" href="http://tracker.ceph.com/issues/13703">issue#13703</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6476">pr#6476</a>, xie xingguo)</li>
<li>librbd: deadlock while attempting to flush AIO requests (<a class="reference external" href="http://tracker.ceph.com/issues/13726">issue#13726</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6508">pr#6508</a>, Jason Dillaman)</li>
<li>librbd: fix enable objectmap feature issue (<a class="reference external" href="http://tracker.ceph.com/issues/13558">issue#13558</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6339">pr#6339</a>, xinxin shu)</li>
<li>librbd: remove duplicate read_only test in librbd::async_flatten (<a class="reference external" href="http://github.com/ceph/ceph/pull/5856">pr#5856</a>, runsisi)</li>
<li>mailmap: modify member info  (<a class="reference external" href="http://github.com/ceph/ceph/pull/6468">pr#6468</a>, Xiaowei Chen)</li>
<li>mailmap: updates (<a class="reference external" href="http://github.com/ceph/ceph/pull/6258">pr#6258</a>, M Ranga Swami Reddy)</li>
<li>mailmap: Xie Xingguo affiliation (<a class="reference external" href="http://github.com/ceph/ceph/pull/6409">pr#6409</a>, Loic Dachary)</li>
<li>mds: implement snapshot rename (<a class="reference external" href="http://github.com/ceph/ceph/pull/5645">pr#5645</a>, xinxin shu)</li>
<li>mds: messages/MOSDOp: cast in assert to eliminate warnings (<a class="reference external" href="http://tracker.ceph.com/issues/13625">issue#13625</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6414">pr#6414</a>, David Zafman)</li>
<li>mds: new filtered MDS tell commands for sessions (<a class="reference external" href="http://github.com/ceph/ceph/pull/6180">pr#6180</a>, John Spray)</li>
<li>mds/Session: use projected parent for auth path check (<a class="reference external" href="http://tracker.ceph.com/issues/13364">issue#13364</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6200">pr#6200</a>, Sage Weil)</li>
<li>mon: should not set isvalid = true when cephx_verify_authorizer return false (<a class="reference external" href="http://tracker.ceph.com/issues/13525">issue#13525</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6306">pr#6306</a>, Ruifeng Yang)</li>
<li>osd: Add config option osd_read_ec_check_for_errors for testing (<a class="reference external" href="http://github.com/ceph/ceph/pull/5865">pr#5865</a>, David Zafman)</li>
<li>osd: add pin/unpin support to cache tier (11066) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6326">pr#6326</a>, Zhiqiang Wang)</li>
<li>osd: auto repair EC pool (<a class="reference external" href="http://tracker.ceph.com/issues/12754">issue#12754</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6196">pr#6196</a>, Guang Yang)</li>
<li>osd: drop the interim set from load_pgs() (<a class="reference external" href="http://github.com/ceph/ceph/pull/6277">pr#6277</a>, Piotr Dałek)</li>
<li>osd: FileJournal: _fdump wrongly returns if journal is currently unreadable. (<a class="reference external" href="http://tracker.ceph.com/issues/13626">issue#13626</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6406">pr#6406</a>, xie xingguo)</li>
<li>osd: FileStore: add a field indicate xattr only one chunk for set xattr. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6244">pr#6244</a>, Jianpeng Ma)</li>
<li>osd: FileStore: LFNIndex: remove redundant local variable &#8216;obj&#8217;. (<a class="reference external" href="http://tracker.ceph.com/issues/13552">issue#13552</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6333">pr#6333</a>, xiexingguo)</li>
<li>osd: FileStore: potential memory leak if _fgetattrs fails (<a class="reference external" href="http://tracker.ceph.com/issues/13597">issue#13597</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6377">pr#6377</a>, xie xingguo)</li>
<li>osd: FileStore: remove unused local variable &#8216;handle&#8217; (<a class="reference external" href="http://github.com/ceph/ceph/pull/6381">pr#6381</a>, xie xingguo)</li>
<li>osd: fix bogus scrub results when missing a clone (<a class="reference external" href="http://tracker.ceph.com/issues/12738">issue#12738</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12740">issue#12740</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5783">pr#5783</a>, David Zafman)</li>
<li>osd: fix debug message in OSD::is_healthy (<a class="reference external" href="http://github.com/ceph/ceph/pull/6226">pr#6226</a>, Xiaoxi Chen)</li>
<li>osd: fix MOSDOp encoding (<a class="reference external" href="http://github.com/ceph/ceph/pull/6174">pr#6174</a>, Sage Weil)</li>
<li>osd: init started to 0 (<a class="reference external" href="http://tracker.ceph.com/issues/13206">issue#13206</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6107">pr#6107</a>, Sage Weil)</li>
<li>osd: KeyValueStore: fix the name&#8217;s typo of keyvaluestore_default_strip_size (<a class="reference external" href="http://github.com/ceph/ceph/pull/6375">pr#6375</a>, Zhi Zhang)</li>
<li>osd: new and delete ObjectStore::Transaction in a function is not necessary (<a class="reference external" href="http://github.com/ceph/ceph/pull/6299">pr#6299</a>, Ruifeng Yang)</li>
<li>osd: optimize get_object_context (<a class="reference external" href="http://github.com/ceph/ceph/pull/6305">pr#6305</a>, Jianpeng Ma)</li>
<li>osd: optimize MOSDOp/do_op/handle_op (<a class="reference external" href="http://github.com/ceph/ceph/pull/5211">pr#5211</a>, Jacek J. Lakis)</li>
<li>osd: os/chain_xattr: On linux use linux/limits.h for XATTR_NAME_MAX. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6343">pr#6343</a>, John Coyle)</li>
<li>osd: reorder bool fields in PGLog struct (<a class="reference external" href="http://github.com/ceph/ceph/pull/6279">pr#6279</a>, Piotr Dałek)</li>
<li>osd: ReplicatedPG: remove unused local variables (<a class="reference external" href="http://tracker.ceph.com/issues/13575">issue#13575</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6360">pr#6360</a>, xiexingguo)</li>
<li>osd: reset primary and up_primary when building a new past_interval. (<a class="reference external" href="http://tracker.ceph.com/issues/13471">issue#13471</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6240">pr#6240</a>, xiexingguo)</li>
<li>radosgw-admin: Checking the legality of the parameters (<a class="reference external" href="http://tracker.ceph.com/issues/13018">issue#13018</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5879">pr#5879</a>, Qiankun Zheng)</li>
<li>radosgw-admin: Create &#8211;secret-key alias for &#8211;secret (<a class="reference external" href="http://tracker.ceph.com/issues/5821">issue#5821</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5335">pr#5335</a>, Yuan Zhou)</li>
<li>radosgw-admin: metadata list user should return an empty list when user pool is empty (<a class="reference external" href="http://tracker.ceph.com/issues/13596">issue#13596</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6465">pr#6465</a>, Orit Wasserman)</li>
<li>rados: new options for write benchmark (<a class="reference external" href="http://github.com/ceph/ceph/pull/6340">pr#6340</a>, Joaquim Rocha)</li>
<li>rbd: fix clone isssue (<a class="reference external" href="http://tracker.ceph.com/issues/13553">issue#13553</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6334">pr#6334</a>, xinxin shu)</li>
<li>rbd: fix init-rbdmap CMDPARAMS (<a class="reference external" href="http://tracker.ceph.com/issues/13214">issue#13214</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6109">pr#6109</a>, Sage Weil)</li>
<li>rbdmap: systemd support (<a class="reference external" href="http://tracker.ceph.com/issues/13374">issue#13374</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6479">pr#6479</a>, Boris Ranto)</li>
<li>rbd: rbdmap improvements (<a class="reference external" href="http://github.com/ceph/ceph/pull/6445">pr#6445</a>, Boris Ranto)</li>
<li>release-notes: draft v0.94.4 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/5907">pr#5907</a>, Loic Dachary)</li>
<li>release-notes: draft v0.94.4 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6195">pr#6195</a>, Loic Dachary)</li>
<li>release-notes: draft v0.94.4 release notes (<a class="reference external" href="http://github.com/ceph/ceph/pull/6238">pr#6238</a>, Loic Dachary)</li>
<li>rgw: add compat header for TEMP_FAILURE_RETRY (<a class="reference external" href="http://github.com/ceph/ceph/pull/6294">pr#6294</a>, John Coyle)</li>
<li>rgw: add default quota config (<a class="reference external" href="http://github.com/ceph/ceph/pull/6400">pr#6400</a>, Daniel Gryniewicz)</li>
<li>rgw: add support for getting Swift&#8217;s DLO without manifest handling (<a class="reference external" href="http://github.com/ceph/ceph/pull/6206">pr#6206</a>, Radoslaw Zarzynski)</li>
<li>rgw: clarify the error message when trying to create an existed user (<a class="reference external" href="http://github.com/ceph/ceph/pull/5938">pr#5938</a>, Zeqiang Zhuang)</li>
<li>rgw: fix objects can not be displayed which object name does not cont… (<a class="reference external" href="http://tracker.ceph.com/issues/12963">issue#12963</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5738">pr#5738</a>, Weijun Duan)</li>
<li>rgw: fix typo in RGWHTTPClient::process error message (<a class="reference external" href="http://github.com/ceph/ceph/pull/6424">pr#6424</a>, Brad Hubbard)</li>
<li>rgw: fix wrong etag calculation during POST on S3 bucket. (<a class="reference external" href="http://tracker.ceph.com/issues/11241">issue#11241</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6030">pr#6030</a>, Radoslaw Zarzynski)</li>
<li>rgw: mdlog trim add usage prompt (<a class="reference external" href="http://github.com/ceph/ceph/pull/6059">pr#6059</a>, Weijun Duan)</li>
<li>rgw: modify the conditional statement in parse_metadata_key method. (<a class="reference external" href="http://github.com/ceph/ceph/pull/5875">pr#5875</a>, Zengran Zhang)</li>
<li>rgw: refuse to calculate digest when the s3 secret key is empty (<a class="reference external" href="http://tracker.ceph.com/issues/13133">issue#13133</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6045">pr#6045</a>, Sangdi Xu)</li>
<li>rgw: remove extra check in RGWGetObj::execute (<a class="reference external" href="http://tracker.ceph.com/issues/12352">issue#12352</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5262">pr#5262</a>, Javier M. Mellid)</li>
<li>rgw: support core file limit for radosgw daemon (<a class="reference external" href="http://github.com/ceph/ceph/pull/6346">pr#6346</a>, Guang Yang)</li>
<li>rgw: swift use Civetweb ssl can not get right url (<a class="reference external" href="http://tracker.ceph.com/issues/13628">issue#13628</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6408">pr#6408</a>, Weijun Duan)</li>
<li>rocksdb: build with PORTABLE=1 (<a class="reference external" href="http://github.com/ceph/ceph/pull/6311">pr#6311</a>, Sage Weil)</li>
<li>rocksdb: remove rdb source files from dist tarball (<a class="reference external" href="http://tracker.ceph.com/issues/13554">issue#13554</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6379">pr#6379</a>, Kefu Chai)</li>
<li>rocksdb: use native rocksdb makefile (and our autotools) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6290">pr#6290</a>, Sage Weil)</li>
<li>rpm: ceph.spec.in: correctly declare systemd dependency for SLE/openSUSE (<a class="reference external" href="http://github.com/ceph/ceph/pull/6114">pr#6114</a>, Nathan Cutler)</li>
<li>rpm: ceph.spec.in: fix libs-compat / devel-compat conditional (<a class="reference external" href="http://tracker.ceph.com/issues/12315">issue#12315</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5219">pr#5219</a>, Ken Dreyer)</li>
<li>rpm: rhel 5.9 librados compile fix, moved blkid to RBD check/compilation (<a class="reference external" href="http://tracker.ceph.com/issues/13177">issue#13177</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5954">pr#5954</a>, Rohan Mars)</li>
<li>scripts: release_notes can track original issue (<a class="reference external" href="http://github.com/ceph/ceph/pull/6009">pr#6009</a>, Abhishek Lekshmanan)</li>
<li>test/libcephfs/flock: add sys/file.h include for flock operations (<a class="reference external" href="http://github.com/ceph/ceph/pull/6310">pr#6310</a>, John Coyle)</li>
<li>test_rgw_admin: use freopen for output redirection. (<a class="reference external" href="http://github.com/ceph/ceph/pull/6303">pr#6303</a>, John Coyle)</li>
<li>tests: allow docker-test.sh to run under root (<a class="reference external" href="http://tracker.ceph.com/issues/13355">issue#13355</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6173">pr#6173</a>, Loic Dachary)</li>
<li>tests: ceph-disk workunit uses configobj  (<a class="reference external" href="http://github.com/ceph/ceph/pull/6342">pr#6342</a>, Loic Dachary)</li>
<li>tests: destroy testprofile before creating one (<a class="reference external" href="http://tracker.ceph.com/issues/13664">issue#13664</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6446">pr#6446</a>, Loic Dachary)</li>
<li>tests: port uniqueness reminder (<a class="reference external" href="http://github.com/ceph/ceph/pull/6387">pr#6387</a>, Loic Dachary)</li>
<li>tests: test/librados/test.cc must create profile (<a class="reference external" href="http://tracker.ceph.com/issues/13664">issue#13664</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6452">pr#6452</a>, Loic Dachary)</li>
<li>tools/cephfs: fix overflow writing header to fixed size buffer (#13816) (<a class="reference external" href="http://github.com/ceph/ceph/pull/6617">pr#6617</a>, John Spray)</li>
<li>tools: ceph-monstore-update-crush: add &#8220;&#8211;test&#8221; when testing crushmap (<a class="reference external" href="http://github.com/ceph/ceph/pull/6418">pr#6418</a>, Kefu Chai)</li>
<li>tools:remove duplicate references (<a class="reference external" href="http://github.com/ceph/ceph/pull/5917">pr#5917</a>, Bo Cai)</li>
<li>vstart: grant full access to Swift testing account (<a class="reference external" href="http://github.com/ceph/ceph/pull/6239">pr#6239</a>, Yuan Zhou)</li>
<li>vstart: set cephfs root uid/gid to caller (<a class="reference external" href="http://github.com/ceph/ceph/pull/6255">pr#6255</a>, John Spray)</li>
</ul>
</div>
</div>
<div class="section" id="v9-2-1-infernalis">
<h2>v9.2.1 Infernalis<a class="headerlink" href="#v9-2-1-infernalis" title="Permalink to this headline">¶</a></h2>
<p>This Infernalis point release fixes several packagins and init script
issues, enables the librbd objectmap feature by default, a few librbd
bugs, and a range of miscellaneous bug fixes across the system.</p>
<p>We recommend that all infernalis v9.2.0 users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v9.2.1.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="upgrading">
<h3>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Some symbols wrongly exposed by the C++ interface for librados in
v9.1.0 and v9.2.0 were removed.  If you compiled your own
application against librados shipped with these releases, it is very
likely referencing these removed symbols. So you will need to
recompile it.</li>
</ul>
</div>
<div class="section" id="id2233">
<h3>Notable Changes<a class="headerlink" href="#id2233" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build/ops: Ceph daemon failed to start, because the service name was already used. (<a class="reference external" href="http://tracker.ceph.com/issues/13474">issue#13474</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6833">pr#6833</a>, Chuanhong Wang)</li>
<li>build/ops: ceph upstart script rbdmap.conf incorrectly processes parameters (<a class="reference external" href="http://tracker.ceph.com/issues/13214">issue#13214</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6396">pr#6396</a>, Sage Weil)</li>
<li>build/ops: libunwind package missing on CentOS 7 (<a class="reference external" href="http://tracker.ceph.com/issues/13997">issue#13997</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6845">pr#6845</a>, Loic Dachary)</li>
<li>build/ops: rbd-replay-* moved from ceph-test-dbg to ceph-common-dbg as well (<a class="reference external" href="http://tracker.ceph.com/issues/13785">issue#13785</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6628">pr#6628</a>, Loic Dachary)</li>
<li>build/ops: systemd/ceph-disk&#64;.service assumes /bin/flock (<a class="reference external" href="http://tracker.ceph.com/issues/13975">issue#13975</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6852">pr#6852</a>, Loic Dachary)</li>
<li>build/ops: systemd: no rbdmap systemd unit file (<a class="reference external" href="http://tracker.ceph.com/issues/13374">issue#13374</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6500">pr#6500</a>, Boris Ranto)</li>
<li>common: auth/cephx: large amounts of log are produced by osd (<a class="reference external" href="http://tracker.ceph.com/issues/13610">issue#13610</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6836">pr#6836</a>, Qiankun Zheng)</li>
<li>common: log: Log.cc: Assign LOG_DEBUG priority to syslog calls (<a class="reference external" href="http://tracker.ceph.com/issues/13993">issue#13993</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6993">pr#6993</a>, Brad Hubbard)</li>
<li>crush: crash if we see CRUSH_ITEM_NONE in early rule step (<a class="reference external" href="http://tracker.ceph.com/issues/13477">issue#13477</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6626">pr#6626</a>, Sage Weil)</li>
<li>fs: Ceph file system is not freeing space (<a class="reference external" href="http://tracker.ceph.com/issues/13777">issue#13777</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7431">pr#7431</a>, Yan, Zheng, John Spray)</li>
<li>fs: Ceph-fuse won&#8217;t start correctly when the option log_max_new in ceph.conf set to zero (<a class="reference external" href="http://tracker.ceph.com/issues/13443">issue#13443</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6395">pr#6395</a>, Wenjun Huang)</li>
<li>fs: Segmentation fault accessing file using fuse mount (<a class="reference external" href="http://tracker.ceph.com/issues/13714">issue#13714</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6853">pr#6853</a>, Yan, Zheng)</li>
<li>librbd: Avoid re-writing old-format image header on resize (<a class="reference external" href="http://tracker.ceph.com/issues/13674">issue#13674</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6630">pr#6630</a>, Jason Dillaman)</li>
<li>librbd: ImageWatcher shouldn&#8217;t block the notification thread (<a class="reference external" href="http://tracker.ceph.com/issues/14373">issue#14373</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7406">pr#7406</a>, Jason Dillaman)</li>
<li>librbd: QEMU hangs after creating snapshot and stopping VM (<a class="reference external" href="http://tracker.ceph.com/issues/13726">issue#13726</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6632">pr#6632</a>, Jason Dillaman)</li>
<li>librbd: Verify self-managed snapshot functionality on image create (<a class="reference external" href="http://tracker.ceph.com/issues/13633">issue#13633</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7080">pr#7080</a>, Jason Dillaman)</li>
<li>librbd: [ FAILED ] TestLibRBD.SnapRemoveViaLockOwner (<a class="reference external" href="http://tracker.ceph.com/issues/14164">issue#14164</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7079">pr#7079</a>, Jason Dillaman)</li>
<li>librbd: enable feature objectmap (<a class="reference external" href="http://tracker.ceph.com/issues/13558">issue#13558</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6477">pr#6477</a>, xinxin shu)</li>
<li>librbd: fix merge-diff for &gt;2GB diff-files (<a class="reference external" href="http://tracker.ceph.com/issues/14030">issue#14030</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6981">pr#6981</a>, Jason Dillaman)</li>
<li>librbd: flattening an rbd image with active IO can lead to hang (<a class="reference external" href="http://tracker.ceph.com/issues/14092">issue#14092</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14483">issue#14483</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7484">pr#7484</a>, Jason Dillaman)</li>
<li>mds: fix client capabilities during reconnect (client.XXXX isn&#8217;t responding to mclientcaps warning) (<a class="reference external" href="http://tracker.ceph.com/issues/11482">issue#11482</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6752">pr#6752</a>, Yan, Zheng)</li>
<li>mon: Ceph Pools&#8217; MAX AVAIL is 0 if some OSDs&#8217; weight is 0 (<a class="reference external" href="http://tracker.ceph.com/issues/13840">issue#13840</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6907">pr#6907</a>, Chengyuan Li)</li>
<li>mon: should not set isvalid = true when cephx_verify_authorizer retur... (<a class="reference external" href="http://tracker.ceph.com/issues/13525">issue#13525</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6392">pr#6392</a>, Ruifeng Yang)</li>
<li>objecter: pool op callback may hang forever. (<a class="reference external" href="http://tracker.ceph.com/issues/13642">issue#13642</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6627">pr#6627</a>, xie xingguo)</li>
<li>objecter: potential null pointer access when do pool_snap_list. (<a class="reference external" href="http://tracker.ceph.com/issues/13639">issue#13639</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6840">pr#6840</a>, xie xingguo)</li>
<li>osd: FileStore: potential memory leak if getattrs fails. (<a class="reference external" href="http://tracker.ceph.com/issues/13597">issue#13597</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6846">pr#6846</a>, xie xingguo)</li>
<li>osd: OSD::build_past_intervals_parallel() shall reset primary and up_primary when begin a new past_interval. (<a class="reference external" href="http://tracker.ceph.com/issues/13471">issue#13471</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6397">pr#6397</a>, xiexingguo)</li>
<li>osd: call on_new_interval on newly split child PG (<a class="reference external" href="http://tracker.ceph.com/issues/13962">issue#13962</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6849">pr#6849</a>, Sage Weil)</li>
<li>osd: ceph-disk list fails on /dev/cciss!c0d0 (<a class="reference external" href="http://tracker.ceph.com/issues/13970">issue#13970</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14230">issue#14230</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6880">pr#6880</a>, Loic Dachary)</li>
<li>osd: ceph-disk: use blkid instead of sgdisk -i (<a class="reference external" href="http://tracker.ceph.com/issues/14080">issue#14080</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7001">pr#7001</a>, Loic Dachary, Ilya Dryomov)</li>
<li>osd: fix race condition during send_failures (<a class="reference external" href="http://tracker.ceph.com/issues/13821">issue#13821</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6694">pr#6694</a>, Sage Weil)</li>
<li>osd: osd/PG.cc: 288: FAILED assert(info.last_epoch_started &gt;= info.history.last_epoch_started) (<a class="reference external" href="http://tracker.ceph.com/issues/14015">issue#14015</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6851">pr#6851</a>, David Zafman)</li>
<li>osd: pgs stuck inconsistent after infernalis upgrade (<a class="reference external" href="http://tracker.ceph.com/issues/13862">issue#13862</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7421">pr#7421</a>, David Zafman)</li>
<li>rbd: TaskFinisher::cancel should remove event from SafeTimer (<a class="reference external" href="http://tracker.ceph.com/issues/14476">issue#14476</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7426">pr#7426</a>, Douglas Fuller)</li>
<li>rbd: cls_rbd: object_map_save should enable checksums (<a class="reference external" href="http://tracker.ceph.com/issues/14280">issue#14280</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7428">pr#7428</a>, Douglas Fuller)</li>
<li>rbd: misdirected op in rbd balance-reads test (<a class="reference external" href="http://tracker.ceph.com/issues/13491">issue#13491</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6629">pr#6629</a>, Jason Dillaman)</li>
<li>rbd: pure virtual method called (<a class="reference external" href="http://tracker.ceph.com/issues/13636">issue#13636</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6633">pr#6633</a>, Jason Dillaman)</li>
<li>rbd: rbd clone issue (<a class="reference external" href="http://tracker.ceph.com/issues/13553">issue#13553</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6474">pr#6474</a>, xinxin shu)</li>
<li>rbd: rbd-replay does not check for EOF and goes to endless loop (<a class="reference external" href="http://tracker.ceph.com/issues/14452">issue#14452</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7427">pr#7427</a>, Mykola Golub)</li>
<li>rbd: unknown argument &#8211;quiet in udevadm settle (<a class="reference external" href="http://tracker.ceph.com/issues/13560">issue#13560</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6634">pr#6634</a>, Jason Dillaman)</li>
<li>rgw: init script reload doesn&#8217;t work on EL7 (<a class="reference external" href="http://tracker.ceph.com/issues/13709">issue#13709</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6650">pr#6650</a>, Hervé Rousseau)</li>
<li>rgw: radosgw-admin &#8211;help doesn&#8217;t show the orphans find command (<a class="reference external" href="http://tracker.ceph.com/issues/14516">issue#14516</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7543">pr#7543</a>, Yehuda Sadeh)</li>
<li>tests: ceph-disk workunit uses configobj (<a class="reference external" href="http://tracker.ceph.com/issues/14004">issue#14004</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6828">pr#6828</a>, Loic Dachary)</li>
<li>tests: fsx failed to compile (<a class="reference external" href="http://tracker.ceph.com/issues/14384">issue#14384</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7429">pr#7429</a>, Greg Farnum)</li>
<li>tests: notification slave needs to wait for master (<a class="reference external" href="http://tracker.ceph.com/issues/13810">issue#13810</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7225">pr#7225</a>, Jason Dillaman)</li>
<li>tests: rebuild exclusive lock test should acquire exclusive lock (<a class="reference external" href="http://tracker.ceph.com/issues/14121">issue#14121</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7038">pr#7038</a>, Jason Dillaman)</li>
<li>tests: testprofile must be removed before it is re-created (<a class="reference external" href="http://tracker.ceph.com/issues/13664">issue#13664</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6449">pr#6449</a>, Loic Dachary)</li>
<li>tests: verify it is possible to reuse an OSD id (<a class="reference external" href="http://tracker.ceph.com/issues/13988">issue#13988</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6882">pr#6882</a>, Loic Dachary)</li>
</ul>
</div>
</div>
<div class="section" id="v9-2-0-infernalis">
<h2>v9.2.0 Infernalis<a class="headerlink" href="#v9-2-0-infernalis" title="Permalink to this headline">¶</a></h2>
<p>This major release will be the foundation for the next stable series.
There have been some major changes since v0.94.x Hammer, and the
upgrade process is non-trivial.  Please read these release notes carefully.</p>
<div class="section" id="id2271">
<h3>Major Changes from Hammer<a class="headerlink" href="#id2271" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><em>General</em>:<ul>
<li>Ceph daemons are now managed via systemd (with the exception of
Ubuntu Trusty, which still uses upstart).</li>
<li>Ceph daemons run as &#8216;ceph&#8217; user instead root.</li>
<li>On Red Hat distros, there is also an SELinux policy.</li>
</ul>
</li>
<li><em>RADOS</em>:<ul>
<li>The RADOS cache tier can now proxy write operations to the base
tier, allowing writes to be handled without forcing migration of
an object into the cache.</li>
<li>The SHEC erasure coding support is no longer flagged as
experimental. SHEC trades some additional storage space for faster
repair.</li>
<li>There is now a unified queue (and thus prioritization) of client
IO, recovery, scrubbing, and snapshot trimming.</li>
<li>There have been many improvements to low-level repair tooling
(ceph-objectstore-tool).</li>
<li>The internal ObjectStore API has been significantly cleaned up in order
to faciliate new storage backends like NewStore.</li>
</ul>
</li>
<li><em>RGW</em>:<ul>
<li>The Swift API now supports object expiration.</li>
<li>There are many Swift API compatibility improvements.</li>
</ul>
</li>
<li><em>RBD</em>:<ul>
<li>The <tt class="docutils literal"><span class="pre">rbd</span> <span class="pre">du</span></tt> command shows actual usage (quickly, when
object-map is enabled).</li>
<li>The object-map feature has seen many stability improvements.</li>
<li>Object-map and exclusive-lock features can be enabled or disabled
dynamically.</li>
<li>You can now store user metadata and set persistent librbd options
associated with individual images.</li>
<li>The new deep-flatten features allows flattening of a clone and all
of its snapshots.  (Previously snapshots could not be flattened.)</li>
<li>The export-diff command command is now faster (it uses aio).  There is also
a new fast-diff feature.</li>
<li>The &#8211;size argument can be specified with a suffix for units
(e.g., <tt class="docutils literal"><span class="pre">--size</span> <span class="pre">64G</span></tt>).</li>
<li>There is a new <tt class="docutils literal"><span class="pre">rbd</span> <span class="pre">status</span></tt> command that, for now, shows who has
the image open/mapped.</li>
</ul>
</li>
<li><em>CephFS</em>:<ul>
<li>You can now rename snapshots.</li>
<li>There have been ongoing improvements around administration, diagnostics,
and the check and repair tools.</li>
<li>The caching and revocation of client cache state due to unused
inodes has been dramatically improved.</li>
<li>The ceph-fuse client behaves better on 32-bit hosts.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id2272">
<h3>Distro compatibility<a class="headerlink" href="#id2272" title="Permalink to this headline">¶</a></h3>
<p>We have decided to drop support for many older distributions so that we can
move to a newer compiler toolchain (e.g., C++11).  Although it is still possible
to build Ceph on older distributions by installing backported development tools,
we are not building and publishing release packages for ceph.com.</p>
<p>We now build packages for:</p>
<ul class="simple">
<li>CentOS 7 or later.  We have dropped support for CentOS 6 (and other
RHEL 6 derivatives, like Scientific Linux 6).</li>
<li>Debian Jessie 8.x or later.  Debian Wheezy 7.x&#8217;s g++ has incomplete
support for C++11 (and no systemd).</li>
<li>Ubuntu Trusty 14.04 or later.  Ubuntu Precise 12.04 is no longer
supported.</li>
<li>Fedora 22 or later.</li>
</ul>
</div>
<div class="section" id="id2273">
<h3>Upgrading from Firefly<a class="headerlink" href="#id2273" title="Permalink to this headline">¶</a></h3>
<p>Upgrading directly from Firefly v0.80.z is not recommended.  It is
possible to do a direct upgrade, but not without downtime.  We
recommend that clusters are first upgraded to Hammer v0.94.4 or a
later v0.94.z release; only then is it possible to upgrade to
Infernalis 9.2.z for an online upgrade (see below).</p>
<p>To do an offline upgrade directly from Firefly, all Firefly OSDs must
be stopped and marked down before any Infernalis OSDs will be allowed
to start up.  This fencing is enforced by the Infernalis monitor, so
use an upgrade procedure like:</p>
<ol class="arabic">
<li><p class="first">Upgrade Ceph on monitor hosts</p>
</li>
<li><p class="first">Restart all ceph-mon daemons</p>
</li>
<li><p class="first">Upgrade Ceph on all OSD hosts</p>
</li>
<li><p class="first">Stop all ceph-osd daemons</p>
</li>
<li><p class="first">Mark all OSDs down with something like:</p>
<div class="highlight-python"><pre>ceph osd down `seq 0 1000`</pre>
</div>
</li>
<li><p class="first">Start all ceph-osd daemons</p>
</li>
<li><p class="first">Upgrade and restart remaining daemons (ceph-mds, radosgw)</p>
</li>
</ol>
</div>
<div class="section" id="id2274">
<h3>Upgrading from Hammer<a class="headerlink" href="#id2274" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">All cluster nodes must first upgrade to Hammer v0.94.4 or a later v0.94.z release; only
then is it possible to upgrade to Infernalis 9.2.z.</p>
</li>
<li><p class="first">For all distributions that support systemd (CentOS 7, Fedora, Debian
Jessie 8.x, OpenSUSE), ceph daemons are now managed using native systemd
files instead of the legacy sysvinit scripts.  For example,:</p>
<div class="highlight-python"><pre>systemctl start ceph.target       # start all daemons
systemctl status ceph-osd@12      # check status of osd.12</pre>
</div>
<p>The main notable distro that is <em>not</em> yet using systemd is Ubuntu trusty
14.04.  (The next Ubuntu LTS, 16.04, will use systemd instead of upstart.)</p>
</li>
<li><p class="first">Ceph daemons now run as user and group <tt class="docutils literal"><span class="pre">ceph</span></tt> by default.  The
ceph user has a static UID assigned by Fedora and Debian (also used
by derivative distributions like RHEL/CentOS and Ubuntu).  On SUSE
the ceph user will currently get a dynamically assigned UID when the
user is created.</p>
<p>If your systems already have a ceph user, upgrading the package will cause
problems.  We suggest you first remove or rename the existing &#8216;ceph&#8217; user
and &#8216;ceph&#8217; group before upgrading.</p>
<p>When upgrading, administrators have two options:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Add the following line to <tt class="docutils literal"><span class="pre">ceph.conf</span></tt> on all hosts:</p>
<div class="highlight-python"><pre>setuser match path = /var/lib/ceph/$type/$cluster-$id</pre>
</div>
<p>This will make the Ceph daemons run as root (i.e., not drop
privileges and switch to user ceph) if the daemon&#8217;s data
directory is still owned by root.  Newly deployed daemons will
be created with data owned by user ceph and will run with
reduced privileges, but upgraded daemons will continue to run as
root.</p>
</li>
<li><p class="first">Fix the data ownership during the upgrade.  This is the
preferred option, but it is more work and can be very time
consuming.  The process for each host is to:</p>
<ol class="arabic">
<li><p class="first">Upgrade the ceph package.  This creates the ceph user and group.  For
example:</p>
<div class="highlight-python"><pre>ceph-deploy install --stable infernalis HOST</pre>
</div>
</li>
<li><p class="first">Stop the daemon(s).:</p>
<div class="highlight-python"><pre>service ceph stop           # fedora, centos, rhel, debian
stop ceph-all               # ubuntu</pre>
</div>
</li>
<li><p class="first">Fix the ownership:</p>
<div class="highlight-python"><pre>chown -R ceph:ceph /var/lib/ceph
chown -R ceph:ceph /var/log/ceph</pre>
</div>
</li>
<li><p class="first">Restart the daemon(s).:</p>
<div class="highlight-python"><pre>start ceph-all                # ubuntu
systemctl start ceph.target   # debian, centos, fedora, rhel</pre>
</div>
</li>
</ol>
<p>Alternatively, the same process can be done with a single daemon
type, for example by stopping only monitors and chowning only
<tt class="docutils literal"><span class="pre">/var/lib/ceph/mon</span></tt>.</p>
</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">The on-disk format for the experimental KeyValueStore OSD backend has
changed.  You will need to remove any OSDs using that backend before you
upgrade any test clusters that use it.</p>
</li>
<li><p class="first">When a pool quota is reached, librados operations now block indefinitely,
the same way they do when the cluster fills up.  (Previously they would return
-ENOSPC).  By default, a full cluster or pool will now block.  If your
librados application can handle ENOSPC or EDQUOT errors gracefully, you can
get error returns instead by using the new librados OPERATION_FULL_TRY flag.</p>
</li>
<li><p class="first">The return code for librbd&#8217;s rbd_aio_read and Image::aio_read API methods no
longer returns the number of bytes read upon success.  Instead, it returns 0
upon success and a negative value upon failure.</p>
</li>
<li><p class="first">&#8216;ceph scrub&#8217;, &#8216;ceph compact&#8217; and &#8216;ceph sync force are now DEPRECATED.  Users
should instead use &#8216;ceph mon scrub&#8217;, &#8216;ceph mon compact&#8217; and
&#8216;ceph mon sync force&#8217;.</p>
</li>
<li><p class="first">&#8216;ceph mon_metadata&#8217; should now be used as &#8216;ceph mon metadata&#8217;. There is no
need to deprecate this command (same major release since it was first
introduced).</p>
</li>
<li><p class="first">The <cite>&#8211;dump-json</cite> option of &#8220;osdmaptool&#8221; is replaced by <cite>&#8211;dump json</cite>.</p>
</li>
<li><p class="first">The commands of &#8220;pg ls-by-{pool,primary,osd}&#8221; and &#8220;pg ls&#8221; now take &#8220;recovering&#8221;
instead of &#8220;recovery&#8221;, to include the recovering pgs in the listed pgs.</p>
</li>
</ul>
</div>
<div class="section" id="id2275">
<h3>Notable Changes since Hammer<a class="headerlink" href="#id2275" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>aarch64: add optimized version of crc32c (Yazen Ghannam, Steve Capper)</li>
<li>auth: cache/reuse crypto lib key objects, optimize msg signature check (Sage Weil)</li>
<li>auth: reinit NSS after fork() (#11128 Yan, Zheng)</li>
<li>autotools: fix out of tree build (Krxysztof Kosinski)</li>
<li>autotools: improve make check output (Loic Dachary)</li>
<li>buffer: add invalidate_crc() (Piotr Dalek)</li>
<li>buffer: fix zero bug (#12252 Haomai Wang)</li>
<li>buffer: some cleanup (Michal Jarzabek)</li>
<li>build: allow tcmalloc-minimal (Thorsten Behrens)</li>
<li>build: C++11 now supported</li>
<li>build: cmake: fix nss linking (Danny Al-Gaaf)</li>
<li>build: cmake: misc fixes (Orit Wasserman, Casey Bodley)</li>
<li>build: disable LTTNG by default (#11333 Josh Durgin)</li>
<li>build: do not build ceph-dencoder with tcmalloc (#10691 Boris Ranto)</li>
<li>build: fix junit detection on Fedora 22 (Ira Cooper)</li>
<li>build: fix pg ref disabling (William A. Kennington III)</li>
<li>build: fix ppc build (James Page)</li>
<li>build: install-deps: misc fixes (Loic Dachary)</li>
<li>build: install-deps.sh improvements (Loic Dachary)</li>
<li>build: install-deps: support OpenSUSE (Loic Dachary)</li>
<li>build: make_dist_tarball.sh (Sage Weil)</li>
<li>build: many cmake improvements</li>
<li>build: misc cmake fixes (Matt Benjamin)</li>
<li>build: misc fixes (Boris Ranto, Ken Dreyer, Owen Synge)</li>
<li>build: OSX build fixes (Yan, Zheng)</li>
<li>build: remove rest-bench</li>
<li>ceph-authtool: fix return code on error (Gerhard Muntingh)</li>
<li>ceph-detect-init: added Linux Mint (Michal Jarzabek)</li>
<li>ceph-detect-init: robust init system detection (Owen Synge)</li>
<li>ceph-disk: ensure &#8216;zap&#8217; only operates on a full disk (#11272 Loic Dachary)</li>
<li>ceph-disk: fix zap sgdisk invocation (Owen Synge, Thorsten Behrens)</li>
<li>ceph-disk: follow ceph-osd hints when creating journal (#9580 Sage Weil)</li>
<li>ceph-disk: handle re-using existing partition (#10987 Loic Dachary)</li>
<li>ceph-disk: improve parted output parsing (#10983 Loic Dachary)</li>
<li>ceph-disk: install pip &gt; 6.1 (#11952 Loic Dachary)</li>
<li>ceph-disk: make suppression work for activate-all and activate-journal (Dan van der Ster)</li>
<li>ceph-disk: many fixes (Loic Dachary, Alfredo Deza)</li>
<li>ceph-disk: fixes to respect init system (Loic Dachary, Owen Synge)</li>
<li>ceph-disk: pass &#8211;cluster arg on prepare subcommand (Kefu Chai)</li>
<li>ceph-disk: support for multipath devices (Loic Dachary)</li>
<li>ceph-disk: support NVMe device partitions (#11612 Ilja Slepnev)</li>
<li>ceph: fix &#8216;df&#8217; units (Zhe Zhang)</li>
<li>ceph: fix parsing in interactive cli mode (#11279 Kefu Chai)</li>
<li>cephfs-data-scan: many additions, improvements (John Spray)</li>
<li>ceph-fuse: do not require successful remount when unmounting (#10982 Greg Farnum)</li>
<li>ceph-fuse, libcephfs: don&#8217;t clear COMPLETE when trimming null (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: drop inode when rmdir finishes (#11339 Yan, Zheng)</li>
<li>ceph-fuse,libcephfs: fix uninline (#11356 Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: hold exclusive caps on dirs we &#8220;own&#8221; (#11226 Greg Farnum)</li>
<li>ceph-fuse: mostly behave on 32-bit hosts (Yan, Zheng)</li>
<li>ceph: improve error output for &#8216;tell&#8217; (#11101 Kefu Chai)</li>
<li>ceph-monstore-tool: fix store-copy (Huangjun)</li>
<li>ceph: new &#8216;ceph daemonperf&#8217; command (John Spray, Mykola Golub)</li>
<li>ceph-objectstore-tool: many many improvements (David Zafman)</li>
<li>ceph-objectstore-tool: refactoring and cleanup (John Spray)</li>
<li>ceph-post-file: misc fixes (Joey McDonald, Sage Weil)</li>
<li>ceph_test_rados: test pipelined reads (Zhiqiang Wang)</li>
<li>client: avoid sending unnecessary FLUSHSNAP messages (Yan, Zheng)</li>
<li>client: exclude setfilelock when calculating oldest tid (Yan, Zheng)</li>
<li>client: fix error handling in check_pool_perm (John Spray)</li>
<li>client: fsync waits only for inode&#8217;s caps to flush (Yan, Zheng)</li>
<li>client: invalidate kernel dcache when cache size exceeds limits (Yan, Zheng)</li>
<li>client: make fsync wait for unsafe dir operations (Yan, Zheng)</li>
<li>client: pin lookup dentry to avoid inode being freed (Yan, Zheng)</li>
<li>common: add descriptions to perfcounters (Kiseleva Alyona)</li>
<li>common: add perf counter descriptions (Alyona Kiseleva)</li>
<li>common: bufferlist performance tuning (Piotr Dalek, Sage Weil)</li>
<li>common: detect overflow of int config values (#11484 Kefu Chai)</li>
<li>common: fix bit_vector extent calc (#12611 Jason Dillaman)</li>
<li>common: fix json parsing of utf8 (#7387 Tim Serong)</li>
<li>common: fix leak of pthread_mutexattr (#11762 Ketor Meng)</li>
<li>common: fix LTTNG vs fork issue (Josh Durgin)</li>
<li>common: fix throttle max change (Henry Chang)</li>
<li>common: make mutex more efficient</li>
<li>common: make work queue addition/removal thread safe (#12662 Jason Dillaman)</li>
<li>common: optracker improvements (Zhiqiang Wang, Jianpeng Ma)</li>
<li>common: PriorityQueue tests (Kefu Chai)</li>
<li>common: some async compression infrastructure (Haomai Wang)</li>
<li>crush: add &#8211;check to validate dangling names, max osd id (Kefu Chai)</li>
<li>crush: cleanup, sync with kernel (Ilya Dryomov)</li>
<li>crush: fix crash from invalid &#8216;take&#8217; argument (#11602 Shiva Rkreddy, Sage Weil)</li>
<li>crush: fix divide-by-2 in straw2 (#11357 Yann Dupont, Sage Weil)</li>
<li>crush: fix has_v4_buckets (#11364 Sage Weil)</li>
<li>crush: fix subtree base weight on adjust_subtree_weight (#11855 Sage Weil)</li>
<li>crush: respect default replicated ruleset config on map creation (Ilya Dryomov)</li>
<li>crushtool: fix order of operations, usage (Sage Weil)</li>
<li>crypto: fix NSS leak (Jason Dillaman)</li>
<li>crypto: fix unbalanced init/shutdown (#12598 Zheng Yan)</li>
<li>deb: fix rest-bench-dbg and ceph-test-dbg dependendies (Ken Dreyer)</li>
<li>debian: minor package reorg (Ken Dreyer)</li>
<li>deb, rpm: move ceph-objectstore-tool to ceph (Ken Dreyer)</li>
<li>doc: docuemnt object corpus generation (#11099 Alexis Normand)</li>
<li>doc: document region hostnames (Robin H. Johnson)</li>
<li>doc: fix gender neutrality (Alexandre Maragone)</li>
<li>doc: fix install doc (#10957 Kefu Chai)</li>
<li>doc: fix sphinx issues (Kefu Chai)</li>
<li>doc: man page updates (Kefu Chai)</li>
<li>doc: mds data structure docs (Yan, Zheng)</li>
<li>doc: misc updates (Fracois Lafont, Ken Dreyer, Kefu Chai, Owen Synge, Gael Fenet-Garde, Loic Dachary, Yannick Atchy-Dalama, Jiaying Ren, Kevin Caradant, Robert Maxime, Nicolas Yong, Germain Chipaux, Arthur Gorjux, Gabriel Sentucq, Clement Lebrun, Jean-Remi Deveaux, Clair Massot, Robin Tang, Thomas Laumondais, Jordan Dorne, Yuan Zhou, Valentin Thomas, Pierre Chaumont, Benjamin Troquereau, Benjamin Sesia, Vikhyat Umrao, Nilamdyuti Goswami, Vartika Rai, Florian Haas, Loic Dachary, Simon Guinot, Andy Allan, Alistair Israel, Ken Dreyer, Robin Rehu, Lee Revell, Florian Marsylle, Thomas Johnson, Bosse Klykken, Travis Rhoden, Ian Kelling)</li>
<li>doc: swift tempurls (#10184 Abhishek Lekshmanan)</li>
<li>doc: switch doxygen integration back to breathe (#6115 Kefu Chai)</li>
<li>doc: update release schedule docs (Loic Dachary)</li>
<li>erasure-code: cleanup (Kefu Chai)</li>
<li>erasure-code: improve tests (Loic Dachary)</li>
<li>erasure-code: shec: fix recovery bugs (Takanori Nakao, Shotaro Kawaguchi)</li>
<li>erasure-code: update ISA-L to 2.13 (Yuan Zhou)</li>
<li>gmock: switch to submodule (Danny Al-Gaaf, Loic Dachary)</li>
<li>hadoop: add terasort test (Noah Watkins)</li>
<li>init-radosgw: merge with sysv version; fix enumeration (Sage Weil)</li>
<li>java: fix libcephfs bindings (Noah Watkins)</li>
<li>libcephfs: add pread, pwrite (Jevon Qiao)</li>
<li>libcephfs,ceph-fuse: cache cleanup (Zheng Yan)</li>
<li>libcephfs,ceph-fuse: fix request resend on cap reconnect (#10912 Yan, Zheng)</li>
<li>librados: add config observer (Alistair Strachan)</li>
<li>librados: add FULL_TRY and FULL_FORCE flags for dealing with full clusters or pools (Sage Weil)</li>
<li>librados: add src_fadvise_flags for copy-from (Jianpeng Ma)</li>
<li>librados: define C++ flags from C constants (Josh Durgin)</li>
<li>librados: fadvise flags per op (Jianpeng Ma)</li>
<li>librados: fix last_force_resent handling (#11026 Jianpeng Ma)</li>
<li>librados: fix memory leak from C_TwoContexts (Xiong Yiliang)</li>
<li>librados: fix notify completion race (#13114 Sage Weil)</li>
<li>librados: fix striper when stripe_count = 1 and stripe_unit != object_size (#11120 Yan, Zheng)</li>
<li>librados, libcephfs: randomize client nonces (Josh Durgin)</li>
<li>librados: op perf counters (John Spray)</li>
<li>librados: pybind: fix binary omap values (Robin H. Johnson)</li>
<li>librados: pybind: fix write() method return code (Javier Guerra)</li>
<li>librados: respect default_crush_ruleset on pool_create (#11640 Yuan Zhou)</li>
<li>libradosstriper: fix leak (Danny Al-Gaaf)</li>
<li>librbd: add const for single-client-only features (Josh Durgin)</li>
<li>librbd: add deep-flatten operation (Jason Dillaman)</li>
<li>librbd: add purge_on_error cache behavior (Jianpeng Ma)</li>
<li>librbd: allow additional metadata to be stored with the image (Haomai Wang)</li>
<li>librbd: avoid blocking aio API methods (#11056 Jason Dillaman)</li>
<li>librbd: better handling for dup flatten requests (#11370 Jason Dillaman)</li>
<li>librbd: cancel in-flight ops on watch error (#11363 Jason Dillaman)</li>
<li>librbd: default new images to format 2 (#11348 Jason Dillaman)</li>
<li>librbd: fadvise for copy, export, import (Jianpeng Ma)</li>
<li>librbd: fast diff implementation that leverages object map (Jason Dillaman)</li>
<li>librbd: fix fast diff bugs (#11553 Jason Dillaman)</li>
<li>librbd: fix image format detection (Zhiqiang Wang)</li>
<li>librbd: fix lock ordering issue (#11577 Jason Dillaman)</li>
<li>librbd: fix reads larger than the cache size (Lu Shi)</li>
<li>librbd: fix snapshot creation when other snap is active (#11475 Jason Dillaman)</li>
<li>librbd: flatten/copyup fixes (Jason Dillaman)</li>
<li>librbd: handle NOCACHE fadvise flag (Jinapeng Ma)</li>
<li>librbd: lockdep, helgrind validation (Jason Dillaman, Josh Durgin)</li>
<li>librbd: metadata filter fixes (Haomai Wang)</li>
<li>librbd: misc aio fixes (#5488 Jason Dillaman)</li>
<li>librbd: misc rbd fixes (#11478 #11113 #11342 #11380 Jason Dillaman, Zhiqiang Wang)</li>
<li>librbd: new diff_iterate2 API (Jason Dillaman)</li>
<li>librbd: object map rebuild support (Jason Dillaman)</li>
<li>librbd: only update image flags while hold exclusive lock (#11791 Jason Dillaman)</li>
<li>librbd: optionally disable allocation hint (Haomai Wang)</li>
<li>librbd: prevent race between resize requests (#12664 Jason Dillaman)</li>
<li>librbd: readahead fixes (Zhiqiang Wang)</li>
<li>librbd: return result code from close (#12069 Jason Dillaman)</li>
<li>librbd: store metadata, including config options, in image (Haomai Wang)</li>
<li>librbd: tolerate old osds when getting image metadata (#11549 Jason Dillaman)</li>
<li>librbd: use write_full when possible (Zhiqiang Wang)</li>
<li>log: fix data corruption race resulting from log rotation (#12465 Samuel Just)</li>
<li>logrotate.d: prefer service over invoke-rc.d (#11330 Win Hierman, Sage Weil)</li>
<li>mds: add &#8216;damaged&#8217; state to MDSMap (John Spray)</li>
<li>mds: add nicknames for perfcounters (John Spray)</li>
<li>mds: avoid emitting cap warnigns before evicting session (John Spray)</li>
<li>mds: avoid getting stuck in XLOCKDONE (#11254 Yan, Zheng)</li>
<li>mds: disable problematic rstat propagation into snap parents (Yan, Zheng)</li>
<li>mds: do not add snapped items to bloom filter (Yan, Zheng)</li>
<li>mds: expose frags via asok (John Spray)</li>
<li>mds: fix expected holes in journal objects (#13167 Yan, Zheng)</li>
<li>mds: fix handling for missing mydir dirfrag (#11641 John Spray)</li>
<li>mds: fix integer truncateion on large client ids (Henry Chang)</li>
<li>mds: fix mydir replica issue with shutdown (#10743 John Spray)</li>
<li>mds: fix out-of-order messages (#11258 Yan, Zheng)</li>
<li>mds: fix rejoin (Yan, Zheng)</li>
<li>mds: fix setting entire file layout in one setxattr (John Spray)</li>
<li>mds: fix shutdown (John Spray)</li>
<li>mds: fix shutdown with strays (#10744 John Spray)</li>
<li>mds: fix SnapServer crash on deleted pool (John Spray)</li>
<li>mds: fix snapshot bugs (Yan, Zheng)</li>
<li>mds: fix stray reintegration (Yan, Zheng)</li>
<li>mds: fix stray handling (John Spray)</li>
<li>mds: fix suicide beacon (John Spray)</li>
<li>mds: flush immediately in do_open_truncate (#11011 John Spray)</li>
<li>mds: handle misc corruption issues (John Spray)</li>
<li>mds: improve dump methods (John Spray)</li>
<li>mds: many fixes (Yan, Zheng, John Spray, Greg Farnum)</li>
<li>mds: many snapshot and stray fixes (Yan, Zheng)</li>
<li>mds: misc fixes (Jianpeng Ma, Dan van der Ster, Zhang Zhi)</li>
<li>mds: misc journal cleanups and fixes (#10368 John Spray)</li>
<li>mds: misc repair improvements (John Spray)</li>
<li>mds: misc snap fixes (Zheng Yan)</li>
<li>mds: misc snapshot fixes (Yan, Zheng)</li>
<li>mds: new SessionMap storage using omap (#10649 John Spray)</li>
<li>mds: persist completed_requests reliably (#11048 John Spray)</li>
<li>mds: reduce memory consumption (Yan, Zheng)</li>
<li>mds: respawn instead of suicide on blacklist (John Spray)</li>
<li>mds: separate safe_pos in Journaler (#10368 John Spray)</li>
<li>mds: snapshot rename support (#3645 Yan, Zheng)</li>
<li>mds: store layout on header object (#4161 John Spray)</li>
<li>mds: throttle purge stray operations (#10390 John Spray)</li>
<li>mds: tolerate clock jumping backwards (#11053 Yan, Zheng)</li>
<li>mds: warn when clients fail to advance oldest_client_tid (#10657 Yan, Zheng)</li>
<li>misc cleanups and fixes (Danny Al-Gaaf)</li>
<li>misc coverity fixes (Danny Al-Gaaf)</li>
<li>misc performance and cleanup (Nathan Cutler, Xinxin Shu)</li>
<li>mon: add cache over MonitorDBStore (Kefu Chai)</li>
<li>mon: add &#8216;mon_metadata &lt;id&gt;&#8217; command (Kefu Chai)</li>
<li>mon: add &#8216;node ls ...&#8217; command (Kefu Chai)</li>
<li>mon: add NOFORWARD, OBSOLETE, DEPRECATE flags for mon commands (Joao Eduardo Luis)</li>
<li>mon: add PG count to &#8216;ceph osd df&#8217; output (Michal Jarzabek)</li>
<li>mon: &#8216;ceph osd metadata&#8217; can dump all osds (Haomai Wang)</li>
<li>mon: clean up, reorg some mon commands (Joao Eduardo Luis)</li>
<li>monclient: flush_log (John Spray)</li>
<li>mon: detect kv backend failures (Sage Weil)</li>
<li>mon: disallow &gt;2 tiers (#11840 Kefu Chai)</li>
<li>mon: disallow ec pools as tiers (#11650 Samuel Just)</li>
<li>mon: do not deactivate last mds (#10862 John Spray)</li>
<li>mon: fix average utilization calc for &#8216;osd df&#8217; (Mykola Golub)</li>
<li>mon: fix CRUSH map test for new pools (Sage Weil)</li>
<li>mon: fix log dump crash when debugging (Mykola Golub)</li>
<li>mon: fix mds beacon replies (#11590 Kefu Chai)</li>
<li>mon: fix metadata update race (Mykola Golub)</li>
<li>mon: fix min_last_epoch_clean tracking (Kefu Chai)</li>
<li>mon: fix &#8216;pg ls&#8217; sort order, state names (#11569 Kefu Chai)</li>
<li>mon: fix refresh (#11470 Joao Eduardo Luis)</li>
<li>mon: fix variance calc in &#8216;osd df&#8217; (Sage Weil)</li>
<li>mon: improve callout to crushtool (Mykola Golub)</li>
<li>mon: make blocked op messages more readable (Jianpeng Ma)</li>
<li>mon: make osd get pool &#8216;all&#8217; only return applicable fields (#10891 Michal Jarzabek)</li>
<li>mon: misc scaling fixes (Sage Weil)</li>
<li>mon: normalize erasure-code profile for storage and comparison (Loic Dachary)</li>
<li>mon: only send mon metadata to supporting peers (Sage Weil)</li>
<li>mon: optionally specify osd id on &#8216;osd create&#8217; (Mykola Golub)</li>
<li>mon: &#8216;osd tree&#8217; fixes (Kefu Chai)</li>
<li>mon: periodic background scrub (Joao Eduardo Luis)</li>
<li>mon: prevent bucket deletion when referenced by a crush rule (#11602 Sage Weil)</li>
<li>mon: prevent pgp_num &gt; pg_num (#12025 Xinxin Shu)</li>
<li>mon: prevent pool with snapshot state from being used as a tier (#11493 Sage Weil)</li>
<li>mon: prime pg_temp when CRUSH map changes (Sage Weil)</li>
<li>mon: refine check_remove_tier checks (#11504 John Spray)</li>
<li>mon: reject large max_mds values (#12222 John Spray)</li>
<li>mon: remove spurious who arg from &#8216;mds rm ...&#8217; (John Spray)</li>
<li>mon: streamline session handling, fix memory leaks (Sage Weil)</li>
<li>mon: upgrades must pass through hammer (Sage Weil)</li>
<li>mon: warn on bogus cache tier config (Jianpeng Ma)</li>
<li>msgr: add ceph_perf_msgr tool (Hoamai Wang)</li>
<li>msgr: async: fix seq handling (Haomai Wang)</li>
<li>msgr: async: many many fixes (Haomai Wang)</li>
<li>msgr: simple: fix clear_pipe (#11381 Haomai Wang)</li>
<li>msgr: simple: fix connect_seq assert (Haomai Wang)</li>
<li>msgr: xio: fastpath improvements (Raju Kurunkad)</li>
<li>msgr: xio: fix ip and nonce (Raju Kurunkad)</li>
<li>msgr: xio: improve lane assignment (Vu Pham)</li>
<li>msgr: xio: sync with accellio v1.4 (Vu Pham)</li>
<li>msgr: xio: misc fixes (#10735 Matt Benjamin, Kefu Chai, Danny Al-Gaaf, Raju Kurunkad, Vu Pham, Casey Bodley)</li>
<li>msg: unit tests (Haomai Wang)</li>
<li>objectcacher: misc bug fixes (Jianpeng Ma)</li>
<li>osd: add latency perf counters for tier operations (Xinze Chi)</li>
<li>osd: add misc perfcounters (Xinze Chi)</li>
<li>osd: add simple sleep injection in recovery (Sage Weil)</li>
<li>osd: allow SEEK_HOLE/SEEK_DATA for sparse read (Zhiqiang Wang)</li>
<li>osd: avoid dup omap sets for in pg metadata (Sage Weil)</li>
<li>osd: avoid multiple hit set insertions (Zhiqiang Wang)</li>
<li>osd: avoid transaction append in some cases (Sage Weil)</li>
<li>osd: break PG removal into multiple iterations (#10198 Guang Yang)</li>
<li>osd: cache proxy-write support (Zhiqiang Wang, Samuel Just)</li>
<li>osd: check scrub state when handling map (Jianpeng Ma)</li>
<li>osd: clean up some constness, privateness (Kefu Chai)</li>
<li>osd: clean up temp object if promotion fails (Jianpeng Ma)</li>
<li>osd: configure promotion based on write recency (Zhiqiang Wang)</li>
<li>osd: constrain collections to meta and PGs (normal and temp) (Sage Weil)</li>
<li>osd: don&#8217;t send dup MMonGetOSDMap requests (Sage Weil, Kefu Chai)</li>
<li>osd: EIO injection (David Zhang)</li>
<li>osd: elminiate txn apend, ECSubWrite copy (Samuel Just)</li>
<li>osd: erasure-code: drop entries according to LRU (Andreas-Joachim Peters)</li>
<li>osd: erasure-code: fix SHEC floating point bug (#12936 Loic Dachary)</li>
<li>osd: erasure-code: update to ISA-L 2.14 (Yuan Zhou)</li>
<li>osd: filejournal: cleanup (David Zafman)</li>
<li>osd: filestore: clone using splice (Jianpeng Ma)</li>
<li>osd: filestore: fix recursive lock (Xinxin Shu)</li>
<li>osd: fix check_for_full (Henry Chang)</li>
<li>osd: fix dirty accounting in make_writeable (Zhiqiang Wang)</li>
<li>osd: fix dup promotion lost op bug (Zhiqiang Wang)</li>
<li>osd: fix endless repair when object is unrecoverable (Jianpeng Ma, Kefu Chai)</li>
<li>osd: fix hitset object naming to use GMT (Kefu Chai)</li>
<li>osd: fix misc memory leaks (Sage Weil)</li>
<li>osd: fix negative degraded stats during backfill (Guang Yang)</li>
<li>osd: fix osdmap dump of blacklist items (John Spray)</li>
<li>osd: fix peek_queue locking in FileStore (Xinze Chi)</li>
<li>osd: fix pg resurrection (#11429 Samuel Just)</li>
<li>osd: fix promotion vs full cache tier (Samuel Just)</li>
<li>osd: fix replay requeue when pg is still activating (#13116 Samuel Just)</li>
<li>osd: fix scrub stat bugs (Sage Weil, Samuel Just)</li>
<li>osd: fix snap flushing from cache tier (again) (#11787 Samuel Just)</li>
<li>osd: fix snap handling on promotion (#11296 Sam Just)</li>
<li>osd: fix temp-clearing (David Zafman)</li>
<li>osd: force promotion for ops EC can&#8217;t handle (Zhiqiang Wang)</li>
<li>osd: handle log split with overlapping entries (#11358 Samuel Just)</li>
<li>osd: ignore non-existent osds in unfound calc (#10976 Mykola Golub)</li>
<li>osd: improve behavior on machines with large memory pages (Steve Capper)</li>
<li>osd: include a temp namespace within each collection/pgid (Sage Weil)</li>
<li>osd: increase default max open files (Owen Synge)</li>
<li>osd: keyvaluestore: misc fixes (Varada Kari)</li>
<li>osd: low and high speed flush modes (Mingxin Liu)</li>
<li>osd: make suicide timeouts individually configurable (Samuel Just)</li>
<li>osd: merge multiple setattr calls into a setattrs call (Xinxin Shu)</li>
<li>osd: misc fixes (Ning Yao, Kefu Chai, Xinze Chi, Zhiqiang Wang, Jianpeng Ma)</li>
<li>osd: move scrub in OpWQ (Samuel Just)</li>
<li>osd: newstore prototype (Sage Weil)</li>
<li>osd: ObjectStore internal API refactor (Sage Weil)</li>
<li>osd: peer_features includes self (David Zafman)</li>
<li>osd: pool size change triggers new interval (#11771 Samuel Just)</li>
<li>osd: prepopulate needs_recovery_map when only one peer has missing (#9558 Guang Yang)</li>
<li>osd: randomize scrub times (#10973 Kefu Chai)</li>
<li>osd: recovery, peering fixes (#11687 Samuel Just)</li>
<li>osd: refactor scrub and digest recording (Sage Weil)</li>
<li>osd: refuse first write to EC object at non-zero offset (Jianpeng Ma)</li>
<li>osd: relax reply order on proxy read (#11211 Zhiqiang Wang)</li>
<li>osd: require firefly features (David Zafman)</li>
<li>osd: set initial crush weight with more precision (Sage Weil)</li>
<li>osd: SHEC no longer experimental</li>
<li>osd: skip promotion for flush/evict op (Zhiqiang Wang)</li>
<li>osd: stripe over small xattrs to fit in XFS&#8217;s 255 byte inline limit (Sage Weil, Ning Yao)</li>
<li>osd: sync object_map on syncfs (Samuel Just)</li>
<li>osd: take excl lock of op is rw (Samuel Just)</li>
<li>osd: throttle evict ops (Yunchuan Wen)</li>
<li>osd: upgrades must pass through hammer (Sage Weil)</li>
<li>osd: use a temp object for recovery (Sage Weil)</li>
<li>osd: use blkid to collection partition information (Joseph Handzik)</li>
<li>osd: use SEEK_HOLE / SEEK_DATA for sparse copy (Xinxin Shu)</li>
<li>osd: WBThrottle cleanups (Jianpeng Ma)</li>
<li>osd: write journal header on clean shutdown (Xinze Chi)</li>
<li>osdc/Objecter: allow per-pool calls to op_cancel_writes (John Spray)</li>
<li>os/filestore: enlarge getxattr buffer size (Jianpeng Ma)</li>
<li>pybind: pep8 cleanups (Danny Al-Gaaf)</li>
<li>pycephfs: many fixes for bindings (Haomai Wang)</li>
<li>qa: fix filelock_interrupt.py test (Yan, Zheng)</li>
<li>qa: improve ceph-disk tests (Loic Dachary)</li>
<li>qa: improve docker build layers (Loic Dachary)</li>
<li>qa: run-make-check.sh script (Loic Dachary)</li>
<li>rados: add &#8211;striper option to use libradosstriper (#10759 Sebastien Ponce)</li>
<li>rados: bench: add &#8211;no-verify option to improve performance (Piotr Dalek)</li>
<li>rados bench: misc fixes (Dmitry Yatsushkevich)</li>
<li>rados: fix error message on failed pool removal (Wido den Hollander)</li>
<li>radosgw-admin: add &#8216;bucket check&#8217; function to repair bucket index (Yehuda Sadeh)</li>
<li>radosgw-admin: fix subuser modify output (#12286 Guce)</li>
<li>rados: handle &#8211;snapid arg properly (Abhishek Lekshmanan)</li>
<li>rados: improve bench buffer handling, performance (Piotr Dalek)</li>
<li>rados: misc bench fixes (Dmitry Yatsushkevich)</li>
<li>rados: new pool import implementation (John Spray)</li>
<li>rados: translate errno to string in CLI (#10877 Kefu Chai)</li>
<li>rbd: accept map options config option (Ilya Dryomov)</li>
<li>rbd: add disk usage tool (#7746 Jason Dillaman)</li>
<li>rbd: allow unmapping by spec (Ilya Dryomov)</li>
<li>rbd: cli: fix arg parsing with &#8211;io-pattern (Dmitry Yatsushkevich)</li>
<li>rbd: deprecate &#8211;new-format option (Jason Dillman)</li>
<li>rbd: fix error messages (#2862 Rajesh Nambiar)</li>
<li>rbd: fix link issues (Jason Dillaman)</li>
<li>rbd: improve CLI arg parsing, usage (Ilya Dryomov)</li>
<li>rbd: rbd-replay-prep and rbd-replay improvements (Jason Dillaman)</li>
<li>rbd: recognize queue_depth kernel option (Ilya Dryomov)</li>
<li>rbd: support G and T units for CLI (Abhishek Lekshmanan)</li>
<li>rbd: update rbd man page (Ilya Dryomov)</li>
<li>rbd: update xfstests tests (Douglas Fuller)</li>
<li>rbd: use image-spec and snap-spec in help (Vikhyat Umrao, Ilya Dryomov)</li>
<li>rest-bench: misc fixes (Shawn Chen)</li>
<li>rest-bench: support https (#3968 Yuan Zhou)</li>
<li>rgw: add max multipart upload parts (#12146 Abshishek Dixit)</li>
<li>rgw: add missing headers to Swift container details (#10666 Ahmad Faheem, Dmytro Iurchenko)</li>
<li>rgw: add stats to headers for account GET (#10684 Yuan Zhou)</li>
<li>rgw: add Trasnaction-Id to response (Abhishek Dixit)</li>
<li>rgw: add X-Timestamp for Swift containers (#10938 Radoslaw Zarzynski)</li>
<li>rgw: always check if token is expired (#11367 Anton Aksola, Riku Lehto)</li>
<li>rgw: conversion tool to repair broken multipart objects (#12079 Yehuda Sadeh)</li>
<li>rgw: document layout of pools and objects (Pete Zaitcev)</li>
<li>rgw: do not enclose bucket header in quotes (#11860 Wido den Hollander)</li>
<li>rgw: do not prefetch data for HEAD requests (Guang Yang)</li>
<li>rgw: do not preserve ACLs when copying object (#12370 Yehuda Sadeh)</li>
<li>rgw: do not set content-type if length is 0 (#11091 Orit Wasserman)</li>
<li>rgw: don&#8217;t clobber bucket/object owner when setting ACLs (#10978 Yehuda Sadeh)</li>
<li>rgw: don&#8217;t use end_marker for namespaced object listing (#11437 Yehuda Sadeh)</li>
<li>rgw: don&#8217;t use rgw_socket_path if frontend is configured (#11160 Yehuda Sadeh)</li>
<li>rgw: enforce Content-Length for POST on Swift cont/obj (#10661 Radoslaw Zarzynski)</li>
<li>rgw: error out if frontend did not send all data (#11851 Yehuda Sadeh)</li>
<li>rgw: expose the number of unhealthy workers through admin socket (Guang Yang)</li>
<li>rgw: fail if parts not specified on multipart upload (#11435 Yehuda Sadeh)</li>
<li>rgw: fix assignment of copy obj attributes (#11563 Yehuda Sadeh)</li>
<li>rgw: fix broken stats in container listing (#11285 Radoslaw Zarzynski)</li>
<li>rgw: fix bug in domain/subdomain splitting (Robin H. Johnson)</li>
<li>rgw: fix casing of Content-Type header (Robin H. Johnson)</li>
<li>rgw: fix civetweb max threads (#10243 Yehuda Sadeh)</li>
<li>rgw: fix Connection: header handling (#12298 Wido den Hollander)</li>
<li>rgw: fix copy metadata, support X-Copied-From for swift (#10663 Radoslaw Zarzynski)</li>
<li>rgw: fix data corruptions race condition (#11749 Wuxingyi)</li>
<li>rgw: fix decoding of X-Object-Manifest from GET on Swift DLO (Radslow Rzarzynski)</li>
<li>rgw: fix GET on swift account when limit == 0 (#10683 Radoslaw Zarzynski)</li>
<li>rgw: fix handling empty metadata items on Swift container (#11088 Radoslaw Zarzynski)</li>
<li>rgw: fix JSON response when getting user quota (#12117 Wuxingyi)</li>
<li>rgw: fix locator for objects starting with _ (#11442 Yehuda Sadeh)</li>
<li>rgw: fix log rotation (Wuxingyi)</li>
<li>rgw: fix mulitipart upload in retry path (#11604 Yehuda Sadeh)</li>
<li>rgw: fix quota enforcement on POST (#11323 Sergey Arkhipov)</li>
<li>rgw: fix reset_loc (#11974 Yehuda Sadeh)</li>
<li>rgw: fix return code on missing upload (#11436 Yehuda Sadeh)</li>
<li>rgw: fix sysvinit script</li>
<li>rgw: fix sysvinit script w/ multiple instances (Sage Weil, Pavan Rallabhandi)</li>
<li>rgw: force content_type for swift bucket stats requests (#12095 Orit Wasserman)</li>
<li>rgw: force content type header on responses with no body (#11438 Orit Wasserman)</li>
<li>rgw: generate Date header for civetweb (#10873 Radoslaw Zarzynski)</li>
<li>rgw: generate new object tag when setting attrs (#11256 Yehuda Sadeh)</li>
<li>rgw: improve content-length env var handling (#11419 Robin H. Johnson)</li>
<li>rgw: improved support for swift account metadata (Radoslaw Zarzynski)</li>
<li>rgw: improve handling of already removed buckets in expirer (Radoslaw Rzarzynski)</li>
<li>rgw: issue aio for first chunk before flush cached data (#11322 Guang Yang)</li>
<li>rgw: log to /var/log/ceph instead of /var/log/radosgw</li>
<li>rgw: make init script wait for radosgw to stop (#11140 Dmitry Yatsushkevich)</li>
<li>rgw: make max put size configurable (#6999 Yuan Zhou)</li>
<li>rgw: make quota/gc threads configurable (#11047 Guang Yang)</li>
<li>rgw: make read user buckets backward compat (#10683 Radoslaw Zarzynski)</li>
<li>rgw: merge manifests properly with prefix override (#11622 Yehuda Sadeh)</li>
<li>rgw: only scan for objects not in a namespace (#11984 Yehuda Sadeh)</li>
<li>rgw: orphan detection tool (Yehuda Sadeh)</li>
<li>rgw: pass in civetweb configurables (#10907 Yehuda Sadeh)</li>
<li>rgw: rectify 202 Accepted in PUT response (#11148 Radoslaw Zarzynski)</li>
<li>rgw: remove meta file after deleting bucket (#11149 Orit Wasserman)</li>
<li>rgw: remove trailing :port from HTTP_HOST header (Sage Weil)</li>
<li>rgw: return 412 on bad limit when listing buckets (#11613 Yehuda Sadeh)</li>
<li>rgw: rework X-Trans-Id header to conform with Swift API (Radoslaw Rzarzynski)</li>
<li>rgw: s3 encoding-type for get bucket (Jeff Weber)</li>
<li>rgw: send ETag, Last-Modified for swift (#11087 Radoslaw Zarzynski)</li>
<li>rgw: set content length on container GET, PUT, DELETE, HEAD (#10971, #11036 Radoslaw Zarzynski)</li>
<li>rgw: set max buckets per user in ceph.conf (Vikhyat Umrao)</li>
<li>rgw: shard work over multiple librados instances (Pavan Rallabhandi)</li>
<li>rgw: support end marker on swift container GET (#10682 Radoslaw Zarzynski)</li>
<li>rgw: support for Swift expiration API (Radoslaw Rzarzynski, Yehuda Sadeh)</li>
<li>rgw: swift: allow setting attributes with COPY (#10662 Ahmad Faheem, Dmytro Iurchenko)</li>
<li>rgw: swift: do not override sent content type (#12363 Orit Wasserman)</li>
<li>rgw: swift: enforce Content-Type in response (#12157 Radoslaw Zarzynski)</li>
<li>rgw: swift: fix account listing (#11501 Radoslaw Zarzynski)</li>
<li>rgw: swift: fix metadata handling on copy (#10645 Radoslaw Zarzynski)</li>
<li>rgw: swift: send Last-Modified header (#10650 Radoslaw Zarzynski)</li>
<li>rgw: swift: set Content-Length for account GET (#12158 Radoslav Zarzynski)</li>
<li>rgw: swift: set content-length on keystone tokens (#11473 Herv Rousseau)</li>
<li>rgw: update keystone cache with token info (#11125 Yehuda Sadeh)</li>
<li>rgw: update to latest civetweb, enable config for IPv6 (#10965 Yehuda Sadeh)</li>
<li>rgw: use attrs from source bucket on copy (#11639 Javier M. Mellid)</li>
<li>rgw: use correct oid for gc chains (#11447 Yehuda Sadeh)</li>
<li>rgw: user rm is idempotent (Orit Wasserman)</li>
<li>rgw: use unique request id for civetweb (#10295 Orit Wasserman)</li>
<li>rocksdb: add perf counters for get/put latency (Xinxin Shu)</li>
<li>rocksdb, leveldb: fix compact_on_mount (Xiaoxi Chen)</li>
<li>rocksdb: pass options as single string (Xiaoxi Chen)</li>
<li>rocksdb: update to latest (Xiaoxi Chen)</li>
<li>rpm: add suse firewall files (Tim Serong)</li>
<li>rpm: always rebuild and install man pages for rpm (Owen Synge)</li>
<li>rpm: loosen ceph-test dependencies (Ken Dreyer)</li>
<li>rpm: many spec file fixes (Owen Synge, Ken Dreyer)</li>
<li>rpm: misc fixes (Boris Ranto, Owen Synge, Ken Dreyer, Ira Cooper)</li>
<li>rpm: misc systemd and SUSE fixes (Owen Synge, Nathan Cutler)</li>
<li>selinux policy (Boris Ranto, Milan Broz)</li>
<li>systemd: logrotate fixes (Tim Serong, Lars Marowsky-Bree, Nathan Cutler)</li>
<li>systemd: many fixes (Sage Weil, Owen Synge, Boris Ranto, Dan van der Ster)</li>
<li>systemd: run daemons as user ceph</li>
<li>sysvinit compat: misc fixes (Owen Synge)</li>
<li>test: misc fs test improvements (John Spray, Loic Dachary)</li>
<li>test: python tests, linter cleanup (Alfredo Deza)</li>
<li>tests: fixes for rbd xstests (Douglas Fuller)</li>
<li>tests: fix tiering health checks (Loic Dachary)</li>
<li>tests for low-level performance (Haomai Wang)</li>
<li>tests: many ec non-regression improvements (Loic Dachary)</li>
<li>tests: many many ec test improvements (Loic Dachary)</li>
<li>upstart: throttle restarts (#11798 Sage Weil, Greg Farnum)</li>
</ul>
</div>
</div>
<div class="section" id="v9-1-0-infernalis-release-candidate">
<h2>v9.1.0 Infernalis release candidate<a class="headerlink" href="#v9-1-0-infernalis-release-candidate" title="Permalink to this headline">¶</a></h2>
<p>This is the first Infernalis release candidate.  There have been some
major changes since Hammer, and the upgrade process is non-trivial.
Please read carefully.</p>
<div class="section" id="getting-the-release-candidate">
<h3>Getting the release candidate<a class="headerlink" href="#getting-the-release-candidate" title="Permalink to this headline">¶</a></h3>
<p>The v9.1.0 packages are pushed to the development release repositories:</p>
<div class="highlight-python"><pre>http://download.ceph.com/rpm-testing
http://download.ceph.com/debian-testing</pre>
</div>
<p>For for info, see:</p>
<div class="highlight-python"><pre>http://docs.ceph.com/docs/master/install/get-packages/</pre>
</div>
<p>Or install with ceph-deploy via:</p>
<div class="highlight-python"><pre>ceph-deploy install --testing HOST</pre>
</div>
</div>
<div class="section" id="known-issues">
<h3>Known issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>librbd and librados ABI compatibility is broken.  Be careful
installing this RC on client machines (e.g., those running qemu).
It will be fixed in the final v9.2.0 release.</li>
</ul>
</div>
<div class="section" id="id2276">
<h3>Major Changes from Hammer<a class="headerlink" href="#id2276" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><em>General</em>:<ul>
<li>Ceph daemons are now managed via systemd (with the exception of
Ubuntu Trusty, which still uses upstart).</li>
<li>Ceph daemons run as &#8216;ceph&#8217; user instead of root.</li>
<li>On Red Hat distros, there is also an SELinux policy.</li>
</ul>
</li>
<li><em>RADOS</em>:<ul>
<li>The RADOS cache tier can now proxy write operations to the base
tier, allowing writes to be handled without forcing migration of
an object into the cache.</li>
<li>The SHEC erasure coding support is no longer flagged as
experimental. SHEC trades some additional storage space for faster
repair.</li>
<li>There is now a unified queue (and thus prioritization) of client
IO, scrubbing, and snapshot trimming.</li>
<li>There have been many improvements to low-level repair tooling
(ceph-objectstore-tool).</li>
<li>The internal ObjectStore API has been significantly cleaned up in order
to faciliate new storage backends like NewStore.</li>
</ul>
</li>
<li><em>RGW</em>:<ul>
<li>The Swift API now supports object expiration.</li>
<li>There are many Swift API compatibility improvements.</li>
</ul>
</li>
<li><em>RBD</em>:<ul>
<li>The <tt class="docutils literal"><span class="pre">rbd</span> <span class="pre">du</span></tt> command shows actual usage (quickly, when
object-map is enabled).</li>
<li>The object-map feature has seen many stability improvements.</li>
<li>Object-map and exclusive-lock features can be enabled or disabled
dynamically.</li>
<li>You can now store user metadata and set persistent librbd options
associated with individual images.</li>
<li>The new deep-flatten features allows flattening of a clone and all
of its snapshots.  (Previously snapshots could not be flattened.)</li>
<li>The export-diff command command is now faster (it uses aio).  There is also
a new fast-diff feature.</li>
<li>The &#8211;size argument can be specified with a suffix for units
(e.g., <tt class="docutils literal"><span class="pre">--size</span> <span class="pre">64G</span></tt>).</li>
<li>There is a new <tt class="docutils literal"><span class="pre">rbd</span> <span class="pre">status</span></tt> command that, for now, shows who has
the image open/mapped.</li>
</ul>
</li>
<li><em>CephFS</em>:<ul>
<li>You can now rename snapshots.</li>
<li>There have been ongoing improvements around administration, diagnostics,
and the check and repair tools.</li>
<li>The caching and revocation of client cache state due to unused
inodes has been dramatically improved.</li>
<li>The ceph-fuse client behaves better on 32-bit hosts.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id2277">
<h3>Distro compatibility<a class="headerlink" href="#id2277" title="Permalink to this headline">¶</a></h3>
<p>We have decided to drop support for many older distributions so that we can
move to a newer compiler toolchain (e.g., C++11).  Although it is still possible
to build Ceph on older distributions by installing backported development tools,
we are not building and publishing release packages for them on ceph.com.</p>
<p>In particular,</p>
<ul class="simple">
<li>CentOS 7 or later; we have dropped support for CentOS 6 (and other
RHEL 6 derivatives, like Scientific Linux 6).</li>
<li>Debian Jessie 8.x or later; Debian Wheezy 7.x&#8217;s g++ has incomplete
support for C++11 (and no systemd).</li>
<li>Ubuntu Trusty 14.04 or later; Ubuntu Precise 12.04 is no longer
supported.</li>
<li>Fedora 22 or later.</li>
</ul>
</div>
<div class="section" id="id2278">
<h3>Upgrading from Firefly<a class="headerlink" href="#id2278" title="Permalink to this headline">¶</a></h3>
<p>Upgrading directly from Firefly v0.80.z is not possible.  All clusters
must first upgrade to Hammer v0.94.4 or a later v0.94.z release; only
then is it possible to do online upgrade to Infernalis 9.2.z.</p>
<p>User can upgrade to latest hammer v0.94.z
from gitbuilder with(also refer the hammer release notes for more details):</p>
<div class="highlight-python"><pre>ceph-deploy install --release hammer HOST</pre>
</div>
</div>
<div class="section" id="id2279">
<h3>Upgrading from Hammer<a class="headerlink" href="#id2279" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">All cluster nodes must first upgrade to Hammer v0.94.4 or a later v0.94.z release; only
then is it possible to do online upgrade to Infernalis 9.2.z.</p>
</li>
<li><p class="first">For all distributions that support systemd (CentOS 7, Fedora, Debian
Jessie 8.x, OpenSUSE), ceph daemons are now managed using native systemd
files instead of the legacy sysvinit scripts.  For example,:</p>
<div class="highlight-python"><pre>systemctl start ceph.target       # start all daemons
systemctl status ceph-osd@12      # check status of osd.12</pre>
</div>
<p>The main notable distro that is <em>not</em> yet using systemd is Ubuntu trusty
14.04.  (The next Ubuntu LTS, 16.04, will use systemd instead of upstart.)</p>
</li>
<li><p class="first">Ceph daemons now run as user and group <tt class="docutils literal"><span class="pre">ceph</span></tt> by default.  The
ceph user has a static UID assigned by Fedora and Debian (also used
by derivative distributions like RHEL/CentOS and Ubuntu).  On SUSE
the ceph user will currently get a dynamically assigned UID when the
user is created.</p>
<p>If your systems already have a ceph user, the package upgrade
process will usually fail with an error.  We suggest you first
remove or rename the existing &#8216;ceph&#8217; user and then upgrade.</p>
<p>When upgrading, administrators have two options:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Add the following line to <tt class="docutils literal"><span class="pre">ceph.conf</span></tt> on all hosts:</p>
<div class="highlight-python"><pre>setuser match path = /var/lib/ceph/$type/$cluster-$id</pre>
</div>
<p>This will make the Ceph daemons run as root (i.e., not drop
privileges and switch to user ceph) if the daemon&#8217;s data
directory is still owned by root.  Newly deployed daemons will
be created with data owned by user ceph and will run with
reduced privileges, but upgraded daemons will continue to run as
root.</p>
</li>
<li><p class="first">Fix the data ownership during the upgrade.  This is the preferred option,
but is more work.  The process for each host would be to:</p>
<ol class="arabic">
<li><p class="first">Upgrade the ceph package.  This creates the ceph user and group.  For
example:</p>
<div class="highlight-python"><pre>ceph-deploy install --stable infernalis HOST</pre>
</div>
</li>
<li><p class="first">Stop the daemon(s).:</p>
<div class="highlight-python"><pre>service ceph stop           # fedora, centos, rhel, debian
stop ceph-all               # ubuntu</pre>
</div>
</li>
<li><p class="first">Fix the ownership:</p>
<div class="highlight-python"><pre>chown -R ceph:ceph /var/lib/ceph
chown -R ceph:ceph /var/log/ceph</pre>
</div>
</li>
<li><p class="first">Restart the daemon(s).:</p>
<div class="highlight-python"><pre>start ceph-all                # ubuntu
systemctl start ceph.target   # debian, centos, fedora, rhel</pre>
</div>
</li>
</ol>
</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">The on-disk format for the experimental KeyValueStore OSD backend has
changed.  You will need to remove any OSDs using that backend before you
upgrade any test clusters that use it.</p>
</li>
</ul>
</div>
<div class="section" id="id2280">
<h3>Upgrade notes<a class="headerlink" href="#id2280" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>When a pool quota is reached, librados operations now block indefinitely,
the same way they do when the cluster fills up.  (Previously they would return
-ENOSPC).  By default, a full cluster or pool will now block.  If your
librados application can handle ENOSPC or EDQUOT errors gracefully, you can
get error returns instead by using the new librados OPERATION_FULL_TRY flag.</li>
</ul>
</div>
<div class="section" id="id2281">
<h3>Notable changes<a class="headerlink" href="#id2281" title="Permalink to this headline">¶</a></h3>
<p>NOTE: These notes are somewhat abbreviated while we find a less
time-consuming process for generating them.</p>
<ul class="simple">
<li>build: C++11 now supported</li>
<li>build: many cmake improvements</li>
<li>build: OSX build fixes (Yan, Zheng)</li>
<li>build: remove rest-bench</li>
<li>ceph-disk: many fixes (Loic Dachary)</li>
<li>ceph-disk: support for multipath devices (Loic Dachary)</li>
<li>ceph-fuse: mostly behave on 32-bit hosts (Yan, Zheng)</li>
<li>ceph-objectstore-tool: many improvements (David Zafman)</li>
<li>common: bufferlist performance tuning (Piotr Dalek, Sage Weil)</li>
<li>common: make mutex more efficient</li>
<li>common: some async compression infrastructure (Haomai Wang)</li>
<li>librados: add FULL_TRY and FULL_FORCE flags for dealing with full clusters or pools (Sage Weil)</li>
<li>librados: fix notify completion race (#13114 Sage Weil)</li>
<li>librados, libcephfs: randomize client nonces (Josh Durgin)</li>
<li>librados: pybind: fix binary omap values (Robin H. Johnson)</li>
<li>librbd: fix reads larger than the cache size (Lu Shi)</li>
<li>librbd: metadata filter fixes (Haomai Wang)</li>
<li>librbd: use write_full when possible (Zhiqiang Wang)</li>
<li>mds: avoid emitting cap warnigns before evicting session (John Spray)</li>
<li>mds: fix expected holes in journal objects (#13167 Yan, Zheng)</li>
<li>mds: fix SnapServer crash on deleted pool (John Spray)</li>
<li>mds: many fixes (Yan, Zheng, John Spray, Greg Farnum)</li>
<li>mon: add cache over MonitorDBStore (Kefu Chai)</li>
<li>mon: &#8216;ceph osd metadata&#8217; can dump all osds (Haomai Wang)</li>
<li>mon: detect kv backend failures (Sage Weil)</li>
<li>mon: fix CRUSH map test for new pools (Sage Weil)</li>
<li>mon: fix min_last_epoch_clean tracking (Kefu Chai)</li>
<li>mon: misc scaling fixes (Sage Weil)</li>
<li>mon: streamline session handling, fix memory leaks (Sage Weil)</li>
<li>mon: upgrades must pass through hammer (Sage Weil)</li>
<li>msg/async: many fixes (Haomai Wang)</li>
<li>osd: cache proxy-write support (Zhiqiang Wang, Samuel Just)</li>
<li>osd: configure promotion based on write recency (Zhiqiang Wang)</li>
<li>osd: don&#8217;t send dup MMonGetOSDMap requests (Sage Weil, Kefu Chai)</li>
<li>osd: erasure-code: fix SHEC floating point bug (#12936 Loic Dachary)</li>
<li>osd: erasure-code: update to ISA-L 2.14 (Yuan Zhou)</li>
<li>osd: fix hitset object naming to use GMT (Kefu Chai)</li>
<li>osd: fix misc memory leaks (Sage Weil)</li>
<li>osd: fix peek_queue locking in FileStore (Xinze Chi)</li>
<li>osd: fix promotion vs full cache tier (Samuel Just)</li>
<li>osd: fix replay requeue when pg is still activating (#13116 Samuel Just)</li>
<li>osd: fix scrub stat bugs (Sage Weil, Samuel Just)</li>
<li>osd: force promotion for ops EC can&#8217;t handle (Zhiqiang Wang)</li>
<li>osd: improve behavior on machines with large memory pages (Steve Capper)</li>
<li>osd: merge multiple setattr calls into a setattrs call (Xinxin Shu)</li>
<li>osd: newstore prototype (Sage Weil)</li>
<li>osd: ObjectStore internal API refactor (Sage Weil)</li>
<li>osd: SHEC no longer experimental</li>
<li>osd: throttle evict ops (Yunchuan Wen)</li>
<li>osd: upgrades must pass through hammer (Sage Weil)</li>
<li>osd: use SEEK_HOLE / SEEK_DATA for sparse copy (Xinxin Shu)</li>
<li>rbd: rbd-replay-prep and rbd-replay improvements (Jason Dillaman)</li>
<li>rgw: expose the number of unhealthy workers through admin socket (Guang Yang)</li>
<li>rgw: fix casing of Content-Type header (Robin H. Johnson)</li>
<li>rgw: fix decoding of X-Object-Manifest from GET on Swift DLO (Radslow Rzarzynski)</li>
<li>rgw: fix sysvinit script</li>
<li>rgw: fix sysvinit script w/ multiple instances (Sage Weil, Pavan Rallabhandi)</li>
<li>rgw: improve handling of already removed buckets in expirer (Radoslaw Rzarzynski)</li>
<li>rgw: log to /var/log/ceph instead of /var/log/radosgw</li>
<li>rgw: rework X-Trans-Id header to be conform with Swift API (Radoslaw Rzarzynski)</li>
<li>rgw: s3 encoding-type for get bucket (Jeff Weber)</li>
<li>rgw: set max buckets per user in ceph.conf (Vikhyat Umrao)</li>
<li>rgw: support for Swift expiration API (Radoslaw Rzarzynski, Yehuda Sadeh)</li>
<li>rgw: user rm is idempotent (Orit Wasserman)</li>
<li>selinux policy (Boris Ranto, Milan Broz)</li>
<li>systemd: many fixes (Sage Weil, Owen Synge, Boris Ranto, Dan van der Ster)</li>
<li>systemd: run daemons as user ceph</li>
</ul>
</div>
</div>
<div class="section" id="v9-0-3">
<h2>v9.0.3<a class="headerlink" href="#v9-0-3" title="Permalink to this headline">¶</a></h2>
<p>This is the second to last batch of development work for the
Infernalis cycle.  The most intrusive change is an internal (non
user-visible) change to the OSD&#8217;s ObjectStore interface.  Many fixes and
improvements elsewhere across RGW, RBD, and another big pile of CephFS
scrub/repair improvements.</p>
<div class="section" id="id2282">
<h3>Upgrading<a class="headerlink" href="#id2282" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The return code for librbd&#8217;s rbd_aio_read and Image::aio_read API methods no
longer returns the number of bytes read upon success.  Instead, it returns 0
upon success and a negative value upon failure.</li>
<li>&#8216;ceph scrub&#8217;, &#8216;ceph compact&#8217; and &#8216;ceph sync force&#8217; are now deprecated.  Users
should instead use &#8216;ceph mon scrub&#8217;, &#8216;ceph mon compact&#8217; and
&#8216;ceph mon sync force&#8217;.</li>
<li>&#8216;ceph mon_metadata&#8217; should now be used as &#8216;ceph mon metadata&#8217;.</li>
<li>The <cite>&#8211;dump-json</cite> option of &#8220;osdmaptool&#8221; is replaced by <cite>&#8211;dump json</cite>.</li>
<li>The commands of &#8216;pg ls-by-{pool,primary,osd}&#8217; and &#8216;pg ls&#8217; now take &#8216;recovering&#8217;
instead of &#8216;recovery&#8217; to include the recovering pgs in the listed pgs.</li>
</ul>
</div>
<div class="section" id="id2283">
<h3>Notable Changes<a class="headerlink" href="#id2283" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>autotools: fix out of tree build (Krxysztof Kosinski)</li>
<li>autotools: improve make check output (Loic Dachary)</li>
<li>buffer: add invalidate_crc() (Piotr Dalek)</li>
<li>buffer: fix zero bug (#12252 Haomai Wang)</li>
<li>build: fix junit detection on Fedora 22 (Ira Cooper)</li>
<li>ceph-disk: install pip &gt; 6.1 (#11952 Loic Dachary)</li>
<li>cephfs-data-scan: many additions, improvements (John Spray)</li>
<li>ceph: improve error output for &#8216;tell&#8217; (#11101 Kefu Chai)</li>
<li>ceph-objectstore-tool: misc improvements (David Zafman)</li>
<li>ceph-objectstore-tool: refactoring and cleanup (John Spray)</li>
<li>ceph_test_rados: test pipelined reads (Zhiqiang Wang)</li>
<li>common: fix bit_vector extent calc (#12611 Jason Dillaman)</li>
<li>common: make work queue addition/removal thread safe (#12662 Jason Dillaman)</li>
<li>common: optracker improvements (Zhiqiang Wang, Jianpeng Ma)</li>
<li>crush: add &#8211;check to validate dangling names, max osd id (Kefu Chai)</li>
<li>crush: cleanup, sync with kernel (Ilya Dryomov)</li>
<li>crush: fix subtree base weight on adjust_subtree_weight (#11855 Sage Weil)</li>
<li>crypo: fix NSS leak (Jason Dillaman)</li>
<li>crypto: fix unbalanced init/shutdown (#12598 Zheng Yan)</li>
<li>doc: misc updates (Kefu Chai, Owen Synge, Gael Fenet-Garde, Loic Dachary, Yannick Atchy-Dalama, Jiaying Ren, Kevin Caradant, Robert Maxime, Nicolas Yong, Germain Chipaux, Arthur Gorjux, Gabriel Sentucq, Clement Lebrun, Jean-Remi Deveaux, Clair Massot, Robin Tang, Thomas Laumondais, Jordan Dorne, Yuan Zhou, Valentin Thomas, Pierre Chaumont, Benjamin Troquereau, Benjamin Sesia, Vikhyat Umrao)</li>
<li>erasure-code: cleanup (Kefu Chai)</li>
<li>erasure-code: improve tests (Loic Dachary)</li>
<li>erasure-code: shec: fix recovery bugs (Takanori Nakao, Shotaro Kawaguchi)</li>
<li>libcephfs: add pread, pwrite (Jevon Qiao)</li>
<li>libcephfs,ceph-fuse: cache cleanup (Zheng Yan)</li>
<li>librados: add src_fadvise_flags for copy-from (Jianpeng Ma)</li>
<li>librados: respect default_crush_ruleset on pool_create (#11640 Yuan Zhou)</li>
<li>librbd: fadvise for copy, export, import (Jianpeng Ma)</li>
<li>librbd: handle NOCACHE fadvise flag (Jinapeng Ma)</li>
<li>librbd: optionally disable allocation hint (Haomai Wang)</li>
<li>librbd: prevent race between resize requests (#12664 Jason Dillaman)</li>
<li>log: fix data corruption race resulting from log rotation (#12465 Samuel Just)</li>
<li>mds: expose frags via asok (John Spray)</li>
<li>mds: fix setting entire file layout in one setxattr (John Spray)</li>
<li>mds: fix shutdown (John Spray)</li>
<li>mds: handle misc corruption issues (John Spray)</li>
<li>mds: misc fixes (Jianpeng Ma, Dan van der Ster, Zhang Zhi)</li>
<li>mds: misc snap fixes (Zheng Yan)</li>
<li>mds: store layout on header object (#4161 John Spray)</li>
<li>misc performance and cleanup (Nathan Cutler, Xinxin Shu)</li>
<li>mon: add NOFORWARD, OBSOLETE, DEPRECATE flags for mon commands (Joao Eduardo Luis)</li>
<li>mon: add PG count to &#8216;ceph osd df&#8217; output (Michal Jarzabek)</li>
<li>mon: clean up, reorg some mon commands (Joao Eduardo Luis)</li>
<li>mon: disallow &gt;2 tiers (#11840 Kefu Chai)</li>
<li>mon: fix log dump crash when debugging (Mykola Golub)</li>
<li>mon: fix metadata update race (Mykola Golub)</li>
<li>mon: fix refresh (#11470 Joao Eduardo Luis)</li>
<li>mon: make blocked op messages more readable (Jianpeng Ma)</li>
<li>mon: only send mon metadata to supporting peers (Sage Weil)</li>
<li>mon: periodic background scrub (Joao Eduardo Luis)</li>
<li>mon: prevent pgp_num &gt; pg_num (#12025 Xinxin Shu)</li>
<li>mon: reject large max_mds values (#12222 John Spray)</li>
<li>msgr: add ceph_perf_msgr tool (Hoamai Wang)</li>
<li>msgr: async: fix seq handling (Haomai Wang)</li>
<li>msgr: xio: fastpath improvements (Raju Kurunkad)</li>
<li>msgr: xio: sync with accellio v1.4 (Vu Pham)</li>
<li>osd: clean up temp object if promotion fails (Jianpeng Ma)</li>
<li>osd: constrain collections to meta and PGs (normal and temp) (Sage Weil)</li>
<li>osd: filestore: clone using splice (Jianpeng Ma)</li>
<li>osd: filestore: fix recursive lock (Xinxin Shu)</li>
<li>osd: fix dup promotion lost op bug (Zhiqiang Wang)</li>
<li>osd: fix temp-clearing (David Zafman)</li>
<li>osd: include a temp namespace within each collection/pgid (Sage Weil)</li>
<li>osd: low and high speed flush modes (Mingxin Liu)</li>
<li>osd: peer_features includes self (David Zafman)</li>
<li>osd: recovery, peering fixes (#11687 Samuel Just)</li>
<li>osd: require firefly features (David Zafman)</li>
<li>osd: set initial crush weight with more precision (Sage Weil)</li>
<li>osd: use a temp object for recovery (Sage Weil)</li>
<li>osd: use blkid to collection partition information (Joseph Handzik)</li>
<li>rados: add &#8211;striper option to use libradosstriper (#10759 Sebastien Ponce)</li>
<li>radosgw-admin: fix subuser modify output (#12286 Guce)</li>
<li>rados: handle &#8211;snapid arg properly (Abhishek Lekshmanan)</li>
<li>rados: improve bench buffer handling, performance (Piotr Dalek)</li>
<li>rados: new pool import implementation (John Spray)</li>
<li>rbd: fix link issues (Jason Dillaman)</li>
<li>rbd: improve CLI arg parsing, usage (Ilya Dryomov)</li>
<li>rbd: recognize queue_depth kernel option (Ilya Dryomov)</li>
<li>rbd: support G and T units for CLI (Abhishek Lekshmanan)</li>
<li>rbd: use image-spec and snap-spec in help (Vikhyat Umrao, Ilya Dryomov)</li>
<li>rest-bench: misc fixes (Shawn Chen)</li>
<li>rest-bench: support https (#3968 Yuan Zhou)</li>
<li>rgw: add max multipart upload parts (#12146 Abshishek Dixit)</li>
<li>rgw: add Trasnaction-Id to response (Abhishek Dixit)</li>
<li>rgw: document layout of pools and objects (Pete Zaitcev)</li>
<li>rgw: do not preserve ACLs when copying object (#12370 Yehuda Sadeh)</li>
<li>rgw: fix Connection: header handling (#12298 Wido den Hollander)</li>
<li>rgw: fix data corruptions race condition (#11749 Wuxingyi)</li>
<li>rgw: fix JSON response when getting user quota (#12117 Wuxingyi)</li>
<li>rgw: force content_type for swift bucket stats requests (#12095 Orit Wasserman)</li>
<li>rgw: improved support for swift account metadata (Radoslaw Zarzynski)</li>
<li>rgw: make max put size configurable (#6999 Yuan Zhou)</li>
<li>rgw: orphan detection tool (Yehuda Sadeh)</li>
<li>rgw: swift: do not override sent content type (#12363 Orit Wasserman)</li>
<li>rgw: swift: set Content-Length for account GET (#12158 Radoslav Zarzynski)</li>
<li>rpm: always rebuild and install man pages for rpm (Owen Synge)</li>
<li>rpm: misc fixes (Boris Ranto, Owen Synge, Ken Dreyer, Ira Cooper)</li>
<li>systemd: logrotate fixes (Tim Seron, Lars Marowsky-Bree, Nathan Cutler)</li>
<li>sysvinit compat: misc fixes (Owen Synge)</li>
<li>test: misc fs test improvements (John Spray, Loic Dachary)</li>
<li>test: python tests, linter cleanup (Alfredo Deza)</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="v9-0-2">
<h2>v9.0.2<a class="headerlink" href="#v9-0-2" title="Permalink to this headline">¶</a></h2>
<p>This development release features more of the OSD work queue
unification, randomized osd scrub times, a huge pile of librbd fixes,
more MDS repair and snapshot fixes, and a significant amount of work
on the tests and build infrastructure.</p>
<div class="section" id="id2284">
<h3>Notable Changes<a class="headerlink" href="#id2284" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>buffer: some cleanup (Michal Jarzabek)</li>
<li>build: cmake: fix nss linking (Danny Al-Gaaf)</li>
<li>build: cmake: misc fixes (Orit Wasserman, Casey Bodley)</li>
<li>build: install-deps: misc fixes (Loic Dachary)</li>
<li>build: make_dist_tarball.sh (Sage Weil)</li>
<li>ceph-detect-init: added Linux Mint (Michal Jarzabek)</li>
<li>ceph-detect-init: robust init system detection (Owen Synge, Loic Dachary)</li>
<li>ceph-disk: ensure &#8216;zap&#8217; only operates on a full disk (#11272 Loic Dachary)</li>
<li>ceph-disk: misc fixes to respect init system (Loic Dachary, Owen Synge)</li>
<li>ceph-disk: support NVMe device partitions (#11612 Ilja Slepnev)</li>
<li>ceph: fix &#8216;df&#8217; units (Zhe Zhang)</li>
<li>ceph: fix parsing in interactive cli mode (#11279 Kefu Chai)</li>
<li>ceph-objectstore-tool: many many changes (David Zafman)</li>
<li>ceph-post-file: misc fixes (Joey McDonald, Sage Weil)</li>
<li>client: avoid sending unnecessary FLUSHSNAP messages (Yan, Zheng)</li>
<li>client: exclude setfilelock when calculating oldest tid (Yan, Zheng)</li>
<li>client: fix error handling in check_pool_perm (John Spray)</li>
<li>client: fsync waits only for inode&#8217;s caps to flush (Yan, Zheng)</li>
<li>client: invalidate kernel dcache when cache size exceeds limits (Yan, Zheng)</li>
<li>client: make fsync wait for unsafe dir operations (Yan, Zheng)</li>
<li>client: pin lookup dentry to avoid inode being freed (Yan, Zheng)</li>
<li>common: detect overflow of int config values (#11484 Kefu Chai)</li>
<li>common: fix json parsing of utf8 (#7387 Tim Serong)</li>
<li>common: fix leak of pthread_mutexattr (#11762 Ketor Meng)</li>
<li>crush: respect default replicated ruleset config on map creation (Ilya Dryomov)</li>
<li>deb, rpm: move ceph-objectstore-tool to ceph (Ken Dreyer)</li>
<li>doc: man page updates (Kefu Chai)</li>
<li>doc: misc updates (#11396 Nilamdyuti, Fracois Lafont, Ken Dreyer, Kefu Chai)</li>
<li>init-radosgw: merge with sysv version; fix enumeration (Sage Weil)</li>
<li>librados: add config observer (Alistair Strachan)</li>
<li>librbd: add const for single-client-only features (Josh Durgin)</li>
<li>librbd: add deep-flatten operation (Jason Dillaman)</li>
<li>librbd: avoid blocking aio API methods (#11056 Jason Dillaman)</li>
<li>librbd: fix fast diff bugs (#11553 Jason Dillaman)</li>
<li>librbd: fix image format detection (Zhiqiang Wang)</li>
<li>librbd: fix lock ordering issue (#11577 Jason Dillaman)</li>
<li>librbd: flatten/copyup fixes (Jason Dillaman)</li>
<li>librbd: lockdep, helgrind validation (Jason Dillaman, Josh Durgin)</li>
<li>librbd: only update image flags while hold exclusive lock (#11791 Jason Dillaman)</li>
<li>librbd: return result code from close (#12069 Jason Dillaman)</li>
<li>librbd: tolerate old osds when getting image metadata (#11549 Jason Dillaman)</li>
<li>mds: do not add snapped items to bloom filter (Yan, Zheng)</li>
<li>mds: fix handling for missing mydir dirfrag (#11641 John Spray)</li>
<li>mds: fix rejoin (Yan, Zheng)</li>
<li>mds: fix stra reintegration (Yan, Zheng)</li>
<li>mds: fix suicide beason (John Spray)</li>
<li>mds: misc repair improvements (John Spray)</li>
<li>mds: misc snapshot fixes (Yan, Zheng)</li>
<li>mds: respawn instead of suicide on blacklist (John Spray)</li>
<li>misc coverity fixes (Danny Al-Gaaf)</li>
<li>mon: add &#8216;mon_metadata &lt;id&gt;&#8217; command (Kefu Chai)</li>
<li>mon: add &#8216;node ls ...&#8217; command (Kefu Chai)</li>
<li>mon: disallow ec pools as tiers (#11650 Samuel Just)</li>
<li>mon: fix mds beacon replies (#11590 Kefu Chai)</li>
<li>mon: fix &#8216;pg ls&#8217; sort order, state names (#11569 Kefu Chai)</li>
<li>mon: normalize erasure-code profile for storage and comparison (Loic Dachary)</li>
<li>mon: optionally specify osd id on &#8216;osd create&#8217; (Mykola Golub)</li>
<li>mon: &#8216;osd tree&#8217; fixes (Kefu Chai)</li>
<li>mon: prevent pool with snapshot state from being used as a tier (#11493 Sage Weil)</li>
<li>mon: refine check_remove_tier checks (#11504 John Spray)</li>
<li>mon: remove spurious who arg from &#8216;mds rm ...&#8217; (John Spray)</li>
<li>msgr: async: misc fixes (Haomai Wang)</li>
<li>msgr: xio: fix ip and nonce (Raju Kurunkad)</li>
<li>msgr: xio: improve lane assignment (Vu Pham)</li>
<li>msgr: xio: misc fixes (Vu Pham, Cosey Bodley)</li>
<li>osd: avoid transaction append in some cases (Sage Weil)</li>
<li>osdc/Objecter: allow per-pool calls to op_cancel_writes (John Spray)</li>
<li>osd: elminiate txn apend, ECSubWrite copy (Samuel Just)</li>
<li>osd: filejournal: cleanup (David Zafman)</li>
<li>osd: fix check_for_full (Henry Chang)</li>
<li>osd: fix dirty accounting in make_writeable (Zhiqiang Wang)</li>
<li>osd: fix osdmap dump of blacklist items (John Spray)</li>
<li>osd: fix snap flushing from cache tier (again) (#11787 Samuel Just)</li>
<li>osd: fix snap handling on promotion (#11296 Sam Just)</li>
<li>osd: handle log split with overlapping entries (#11358 Samuel Just)</li>
<li>osd: keyvaluestore: misc fixes (Varada Kari)</li>
<li>osd: make suicide timeouts individually configurable (Samuel Just)</li>
<li>osd: move scrub in OpWQ (Samuel Just)</li>
<li>osd: pool size change triggers new interval (#11771 Samuel Just)</li>
<li>osd: randomize scrub times (#10973 Kefu Chai)</li>
<li>osd: refactor scrub and digest recording (Sage Weil)</li>
<li>osd: refuse first write to EC object at non-zero offset (Jianpeng Ma)</li>
<li>osd: stripe over small xattrs to fit in XFS&#8217;s 255 byte inline limit (Sage Weil, Ning Yao)</li>
<li>osd: sync object_map on syncfs (Samuel Just)</li>
<li>osd: take excl lock of op is rw (Samuel Just)</li>
<li>osd: WBThrottle cleanups (Jianpeng Ma)</li>
<li>pycephfs: many fixes for bindings (Haomai Wang)</li>
<li>rados: bench: add &#8211;no-verify option to improve performance (Piotr Dalek)</li>
<li>rados: misc bench fixes (Dmitry Yatsushkevich)</li>
<li>rbd: add disk usage tool (#7746 Jason Dillaman)</li>
<li>rgw: alwasy check if token is expired (#11367 Anton Aksola, Riku Lehto)</li>
<li>rgw: conversion tool to repair broken multipart objects (#12079 Yehuda Sadeh)</li>
<li>rgw: do not enclose bucket header in quotes (#11860 Wido den Hollander)</li>
<li>rgw: error out if frontend did not send all data (#11851 Yehuda Sadeh)</li>
<li>rgw: fix assignment of copy obj attributes (#11563 Yehuda Sadeh)</li>
<li>rgw: fix reset_loc (#11974 Yehuda Sadeh)</li>
<li>rgw: improve content-length env var handling (#11419 Robin H. Johnson)</li>
<li>rgw: only scan for objects not in a namespace (#11984 Yehuda Sadeh)</li>
<li>rgw: remove trailing :port from HTTP_HOST header (Sage Weil)</li>
<li>rgw: shard work over multiple librados instances (Pavan Rallabhandi)</li>
<li>rgw: swift: enforce Content-Type in response (#12157 Radoslaw Zarzynski)</li>
<li>rgw: use attrs from source bucket on copy (#11639 Javier M. Mellid)</li>
<li>rocksdb: pass options as single string (Xiaoxi Chen)</li>
<li>rpm: many spec file fixes (Owen Synge, Ken Dreyer)</li>
<li>tests: fixes for rbd xstests (Douglas Fuller)</li>
<li>tests: fix tiering health checks (Loic Dachary)</li>
<li>tests for low-level performance (Haomai Wang)</li>
<li>tests: many ec non-regression improvements (Loic Dachary)</li>
<li>tests: many many ec test improvements (Loic Dachary)</li>
<li>upstart: throttle restarts (#11798 Sage Weil, Greg Farnum)</li>
</ul>
</div>
</div>
<div class="section" id="v9-0-1">
<h2>v9.0.1<a class="headerlink" href="#v9-0-1" title="Permalink to this headline">¶</a></h2>
<p>This development release is delayed a bit due to tooling changes in the build
environment.  As a result the next one (v9.0.2) will have a bit more work than
is usual.</p>
<p>Highlights here include lots of RGW Swift fixes, RBD feature work
surrounding the new object map feature, more CephFS snapshot fixes,
and a few important CRUSH fixes.</p>
<div class="section" id="id2285">
<h3>Notable Changes<a class="headerlink" href="#id2285" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>auth: cache/reuse crypto lib key objects, optimize msg signature check (Sage Weil)</li>
<li>build: allow tcmalloc-minimal (Thorsten Behrens)</li>
<li>build: do not build ceph-dencoder with tcmalloc (#10691 Boris Ranto)</li>
<li>build: fix pg ref disabling (William A. Kennington III)</li>
<li>build: install-deps.sh improvements (Loic Dachary)</li>
<li>build: misc fixes (Boris Ranto, Ken Dreyer, Owen Synge)</li>
<li>ceph-authtool: fix return code on error (Gerhard Muntingh)</li>
<li>ceph-disk: fix zap sgdisk invocation (Owen Synge, Thorsten Behrens)</li>
<li>ceph-disk: pass &#8211;cluster arg on prepare subcommand (Kefu Chai)</li>
<li>ceph-fuse, libcephfs: drop inode when rmdir finishes (#11339 Yan, Zheng)</li>
<li>ceph-fuse,libcephfs: fix uninline (#11356 Yan, Zheng)</li>
<li>ceph-monstore-tool: fix store-copy (Huangjun)</li>
<li>common: add perf counter descriptions (Alyona Kiseleva)</li>
<li>common: fix throttle max change (Henry Chang)</li>
<li>crush: fix crash from invalid &#8216;take&#8217; argument (#11602 Shiva Rkreddy, Sage Weil)</li>
<li>crush: fix divide-by-2 in straw2 (#11357 Yann Dupont, Sage Weil)</li>
<li>deb: fix rest-bench-dbg and ceph-test-dbg dependendies (Ken Dreyer)</li>
<li>doc: document region hostnames (Robin H. Johnson)</li>
<li>doc: update release schedule docs (Loic Dachary)</li>
<li>init-radosgw: run radosgw as root (#11453 Ken Dreyer)</li>
<li>librados: fadvise flags per op (Jianpeng Ma)</li>
<li>librbd: allow additional metadata to be stored with the image (Haomai Wang)</li>
<li>librbd: better handling for dup flatten requests (#11370 Jason Dillaman)</li>
<li>librbd: cancel in-flight ops on watch error (#11363 Jason Dillaman)</li>
<li>librbd: default new images to format 2 (#11348 Jason Dillaman)</li>
<li>librbd: fast diff implementation that leverages object map (Jason Dillaman)</li>
<li>librbd: fix snapshot creation when other snap is active (#11475 Jason Dillaman)</li>
<li>librbd: new diff_iterate2 API (Jason Dillaman)</li>
<li>librbd: object map rebuild support (Jason Dillaman)</li>
<li>logrotate.d: prefer service over invoke-rc.d (#11330 Win Hierman, Sage Weil)</li>
<li>mds: avoid getting stuck in XLOCKDONE (#11254 Yan, Zheng)</li>
<li>mds: fix integer truncateion on large client ids (Henry Chang)</li>
<li>mds: many snapshot and stray fixes (Yan, Zheng)</li>
<li>mds: persist completed_requests reliably (#11048 John Spray)</li>
<li>mds: separate safe_pos in Journaler (#10368 John Spray)</li>
<li>mds: snapshot rename support (#3645 Yan, Zheng)</li>
<li>mds: warn when clients fail to advance oldest_client_tid (#10657 Yan, Zheng)</li>
<li>misc cleanups and fixes (Danny Al-Gaaf)</li>
<li>mon: fix average utilization calc for &#8216;osd df&#8217; (Mykola Golub)</li>
<li>mon: fix variance calc in &#8216;osd df&#8217; (Sage Weil)</li>
<li>mon: improve callout to crushtool (Mykola Golub)</li>
<li>mon: prevent bucket deletion when referenced by a crush rule (#11602 Sage Weil)</li>
<li>mon: prime pg_temp when CRUSH map changes (Sage Weil)</li>
<li>monclient: flush_log (John Spray)</li>
<li>msgr: async: many many fixes (Haomai Wang)</li>
<li>msgr: simple: fix clear_pipe (#11381 Haomai Wang)</li>
<li>osd: add latency perf counters for tier operations (Xinze Chi)</li>
<li>osd: avoid multiple hit set insertions (Zhiqiang Wang)</li>
<li>osd: break PG removal into multiple iterations (#10198 Guang Yang)</li>
<li>osd: check scrub state when handling map (Jianpeng Ma)</li>
<li>osd: fix endless repair when object is unrecoverable (Jianpeng Ma, Kefu Chai)</li>
<li>osd: fix pg resurrection (#11429 Samuel Just)</li>
<li>osd: ignore non-existent osds in unfound calc (#10976 Mykola Golub)</li>
<li>osd: increase default max open files (Owen Synge)</li>
<li>osd: prepopulate needs_recovery_map when only one peer has missing (#9558 Guang Yang)</li>
<li>osd: relax reply order on proxy read (#11211 Zhiqiang Wang)</li>
<li>osd: skip promotion for flush/evict op (Zhiqiang Wang)</li>
<li>osd: write journal header on clean shutdown (Xinze Chi)</li>
<li>qa: run-make-check.sh script (Loic Dachary)</li>
<li>rados bench: misc fixes (Dmitry Yatsushkevich)</li>
<li>rados: fix error message on failed pool removal (Wido den Hollander)</li>
<li>radosgw-admin: add &#8216;bucket check&#8217; function to repair bucket index (Yehuda Sadeh)</li>
<li>rbd: allow unmapping by spec (Ilya Dryomov)</li>
<li>rbd: deprecate &#8211;new-format option (Jason Dillman)</li>
<li>rgw: do not set content-type if length is 0 (#11091 Orit Wasserman)</li>
<li>rgw: don&#8217;t use end_marker for namespaced object listing (#11437 Yehuda Sadeh)</li>
<li>rgw: fail if parts not specified on multipart upload (#11435 Yehuda Sadeh)</li>
<li>rgw: fix GET on swift account when limit == 0 (#10683 Radoslaw Zarzynski)</li>
<li>rgw: fix broken stats in container listing (#11285 Radoslaw Zarzynski)</li>
<li>rgw: fix bug in domain/subdomain splitting (Robin H. Johnson)</li>
<li>rgw: fix civetweb max threads (#10243 Yehuda Sadeh)</li>
<li>rgw: fix copy metadata, support X-Copied-From for swift (#10663 Radoslaw Zarzynski)</li>
<li>rgw: fix locator for objects starting with _ (#11442 Yehuda Sadeh)</li>
<li>rgw: fix mulitipart upload in retry path (#11604 Yehuda Sadeh)</li>
<li>rgw: fix quota enforcement on POST (#11323 Sergey Arkhipov)</li>
<li>rgw: fix return code on missing upload (#11436 Yehuda Sadeh)</li>
<li>rgw: force content type header on responses with no body (#11438 Orit Wasserman)</li>
<li>rgw: generate new object tag when setting attrs (#11256 Yehuda Sadeh)</li>
<li>rgw: issue aio for first chunk before flush cached data (#11322 Guang Yang)</li>
<li>rgw: make read user buckets backward compat (#10683 Radoslaw Zarzynski)</li>
<li>rgw: merge manifests properly with prefix override (#11622 Yehuda Sadeh)</li>
<li>rgw: return 412 on bad limit when listing buckets (#11613 Yehuda Sadeh)</li>
<li>rgw: send ETag, Last-Modified for swift (#11087 Radoslaw Zarzynski)</li>
<li>rgw: set content length on container GET, PUT, DELETE, HEAD (#10971, #11036 Radoslaw Zarzynski)</li>
<li>rgw: support end marker on swift container GET (#10682 Radoslaw Zarzynski)</li>
<li>rgw: swift: fix account listing (#11501 Radoslaw Zarzynski)</li>
<li>rgw: swift: set content-length on keystone tokens (#11473 Herv Rousseau)</li>
<li>rgw: use correct oid for gc chains (#11447 Yehuda Sadeh)</li>
<li>rgw: use unique request id for civetweb (#10295 Orit Wasserman)</li>
<li>rocksdb, leveldb: fix compact_on_mount (Xiaoxi Chen)</li>
<li>rocksdb: add perf counters for get/put latency (Xinxin Shu)</li>
<li>rpm: add suse firewall files (Tim Serong)</li>
<li>rpm: misc systemd and suse fixes (Owen Synge, Nathan Cutler)</li>
</ul>
</div>
</div>
<div class="section" id="v9-0-0">
<h2>v9.0.0<a class="headerlink" href="#v9-0-0" title="Permalink to this headline">¶</a></h2>
<p>This is the first development release for the Infernalis cycle, and
the first Ceph release to sport a version number from the new
numbering scheme.  The &#8220;9&#8221; indicates this is the 9th release cycle&#8211;I
(for Infernalis) is the 9th letter.  The first &#8220;0&#8221; indicates this is a
development release (&#8220;1&#8221; will mean release candidate and &#8220;2&#8221; will mean
stable release), and the final &#8220;0&#8221; indicates this is the first such
development release.</p>
<p>A few highlights include:</p>
<ul class="simple">
<li>a new &#8216;ceph daemonperf&#8217; command to watch perfcounter stats in realtime</li>
<li>reduced MDS memory usage</li>
<li>many MDS snapshot fixes</li>
<li>librbd can now store options in the image itself</li>
<li>many fixes for RGW Swift API support</li>
<li>OSD performance improvements</li>
<li>many doc updates and misc bug fixes</li>
</ul>
<div class="section" id="id2286">
<h3>Notable Changes<a class="headerlink" href="#id2286" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>aarch64: add optimized version of crc32c (Yazen Ghannam, Steve Capper)</li>
<li>auth: reinit NSS after fork() (#11128 Yan, Zheng)</li>
<li>build: disable LTTNG by default (#11333 Josh Durgin)</li>
<li>build: fix ppc build (James Page)</li>
<li>build: install-deps: support OpenSUSE (Loic Dachary)</li>
<li>build: misc cmake fixes (Matt Benjamin)</li>
<li>ceph-disk: follow ceph-osd hints when creating journal (#9580 Sage Weil)</li>
<li>ceph-disk: handle re-using existing partition (#10987 Loic Dachary)</li>
<li>ceph-disk: improve parted output parsing (#10983 Loic Dachary)</li>
<li>ceph-disk: make suppression work for activate-all and activate-journal (Dan van der Ster)</li>
<li>ceph-disk: misc fixes (Alfredo Deza)</li>
<li>ceph-fuse, libcephfs: don&#8217;t clear COMPLETE when trimming null (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: hold exclusive caps on dirs we &#8220;own&#8221; (#11226 Greg Farnum)</li>
<li>ceph-fuse: do not require successful remount when unmounting (#10982 Greg Farnum)</li>
<li>ceph: new &#8216;ceph daemonperf&#8217; command (John Spray, Mykola Golub)</li>
<li>common: PriorityQueue tests (Kefu Chai)</li>
<li>common: add descriptions to perfcounters (Kiseleva Alyona)</li>
<li>common: fix LTTNG vs fork issue (Josh Durgin)</li>
<li>crush: fix has_v4_buckets (#11364 Sage Weil)</li>
<li>crushtool: fix order of operations, usage (Sage Weil)</li>
<li>debian: minor package reorg (Ken Dreyer)</li>
<li>doc: docuemnt object corpus generation (#11099 Alexis Normand)</li>
<li>doc: fix gender neutrality (Alexandre Maragone)</li>
<li>doc: fix install doc (#10957 Kefu Chai)</li>
<li>doc: fix sphinx issues (Kefu Chai)</li>
<li>doc: mds data structure docs (Yan, Zheng)</li>
<li>doc: misc updates (Nilamdyuti Goswami, Vartika Rai, Florian Haas, Loic Dachary, Simon Guinot, Andy Allan, Alistair Israel, Ken Dreyer, Robin Rehu, Lee Revell, Florian Marsylle, Thomas Johnson, Bosse Klykken, Travis Rhoden, Ian Kelling)</li>
<li>doc: swift tempurls (#10184 Abhishek Lekshmanan)</li>
<li>doc: switch doxygen integration back to breathe (#6115 Kefu Chai)</li>
<li>erasure-code: update ISA-L to 2.13 (Yuan Zhou)</li>
<li>gmock: switch to submodule (Danny Al-Gaaf, Loic Dachary)</li>
<li>hadoop: add terasort test (Noah Watkins)</li>
<li>java: fix libcephfs bindings (Noah Watkins)</li>
<li>libcephfs,ceph-fuse: fix request resend on cap reconnect (#10912 Yan, Zheng)</li>
<li>librados: define C++ flags from C constants (Josh Durgin)</li>
<li>librados: fix last_force_resent handling (#11026 Jianpeng Ma)</li>
<li>librados: fix memory leak from C_TwoContexts (Xiong Yiliang)</li>
<li>librados: fix striper when stripe_count = 1 and stripe_unit != object_size (#11120 Yan, Zheng)</li>
<li>librados: op perf counters (John Spray)</li>
<li>librados: pybind: fix write() method return code (Javier Guerra)</li>
<li>libradosstriper: fix leak (Danny Al-Gaaf)</li>
<li>librbd: add purge_on_error cache behavior (Jianpeng Ma)</li>
<li>librbd: misc aio fixes (#5488 Jason Dillaman)</li>
<li>librbd: misc rbd fixes (#11478 #11113 #11342 #11380 Jason Dillaman, Zhiqiang Wang)</li>
<li>librbd: readahead fixes (Zhiqiang Wang)</li>
<li>librbd: store metadata, including config options, in image (Haomai Wang)</li>
<li>mds: add &#8216;damaged&#8217; state to MDSMap (John Spray)</li>
<li>mds: add nicknames for perfcounters (John Spray)</li>
<li>mds: disable problematic rstat propagation into snap parents (Yan, Zheng)</li>
<li>mds: fix mydir replica issue with shutdown (#10743 John Spray)</li>
<li>mds: fix out-of-order messages (#11258 Yan, Zheng)</li>
<li>mds: fix shutdown with strays (#10744 John Spray)</li>
<li>mds: fix snapshot fixes (Yan, Zheng)</li>
<li>mds: fix stray handling (John Spray)</li>
<li>mds: flush immediately in do_open_truncate (#11011 John Spray)</li>
<li>mds: improve dump methods (John Spray)</li>
<li>mds: misc journal cleanups and fixes (#10368 John Spray)</li>
<li>mds: new SessionMap storage using omap (#10649 John Spray)</li>
<li>mds: reduce memory consumption (Yan, Zheng)</li>
<li>mds: throttle purge stray operations (#10390 John Spray)</li>
<li>mds: tolerate clock jumping backwards (#11053 Yan, Zheng)</li>
<li>misc coverity fixes (Danny Al-Gaaf)</li>
<li>mon: do not deactivate last mds (#10862 John Spray)</li>
<li>mon: make osd get pool &#8216;all&#8217; only return applicable fields (#10891 Michal Jarzabek)</li>
<li>mon: warn on bogus cache tier config (Jianpeng Ma)</li>
<li>msg/async: misc bug fixes and updates (Haomai Wang)</li>
<li>msg/simple: fix connect_seq assert (Haomai Wang)</li>
<li>msg/xio: misc fixes (#10735 Matt Benjamin, Kefu Chai, Danny Al-Gaaf, Raju Kurunkad, Vu Pham)</li>
<li>msg: unit tests (Haomai Wang)</li>
<li>objectcacher: misc bug fixes (Jianpeng Ma)</li>
<li>os/filestore: enlarge getxattr buffer size (Jianpeng Ma)</li>
<li>osd: EIO injection (David Zhang)</li>
<li>osd: add misc perfcounters (Xinze Chi)</li>
<li>osd: add simple sleep injection in recovery (Sage Weil)</li>
<li>osd: allow SEEK_HOLE/SEEK_DATA for sparse read (Zhiqiang Wang)</li>
<li>osd: avoid dup omap sets for in pg metadata (Sage Weil)</li>
<li>osd: clean up some constness, privateness (Kefu Chai)</li>
<li>osd: erasure-code: drop entries according to LRU (Andreas-Joachim Peters)</li>
<li>osd: fix negative degraded stats during backfill (Guang Yang)</li>
<li>osd: misc fixes (Ning Yao, Kefu Chai, Xinze Chi, Zhiqiang Wang, Jianpeng Ma)</li>
<li>pybind: pep8 cleanups (Danny Al-Gaaf)</li>
<li>qa: fix filelock_interrupt.py test (Yan, Zheng)</li>
<li>qa: improve ceph-disk tests (Loic Dachary)</li>
<li>qa: improve docker build layers (Loic Dachary)</li>
<li>rados: translate erno to string in CLI (#10877 Kefu Chai)</li>
<li>rbd: accept map options config option (Ilya Dryomov)</li>
<li>rbd: cli: fix arg parsing with &#8211;io-pattern (Dmitry Yatsushkevich)</li>
<li>rbd: fix error messages (#2862 Rajesh Nambiar)</li>
<li>rbd: update rbd man page (Ilya Dryomov)</li>
<li>rbd: update xfstests tests (Douglas Fuller)</li>
<li>rgw: add X-Timestamp for Swift containers (#10938 Radoslaw Zarzynski)</li>
<li>rgw: add missing headers to Swift container details (#10666 Ahmad Faheem, Dmytro Iurchenko)</li>
<li>rgw: add stats to headers for account GET (#10684 Yuan Zhou)</li>
<li>rgw: do not prefecth data for HEAD requests (Guang Yang)</li>
<li>rgw: don&#8217;t clobber bucket/object owner when setting ACLs (#10978 Yehuda Sadeh)</li>
<li>rgw: don&#8217;t use rgw_socket_path if frontend is configured (#11160 Yehuda Sadeh)</li>
<li>rgw: enforce Content-Lenth for POST on Swift cont/obj (#10661 Radoslaw Zarzynski)</li>
<li>rgw: fix handling empty metadata items on Swift container (#11088 Radoslaw Zarzynski)</li>
<li>rgw: fix log rotation (Wuxingyi)</li>
<li>rgw: generate Date header for civetweb (#10873 Radoslaw Zarzynski)</li>
<li>rgw: make init script wait for radosgw to stop (#11140 Dmitry Yatsushkevich)</li>
<li>rgw: make quota/gc threads configurable (#11047 Guang Yang)</li>
<li>rgw: pass in civetweb configurables (#10907 Yehuda Sadeh)</li>
<li>rgw: rectify 202 Accepted in PUT response (#11148 Radoslaw Zarzynski)</li>
<li>rgw: remove meta file after deleting bucket (#11149 Orit Wasserman)</li>
<li>rgw: swift: allow setting attributes with COPY (#10662 Ahmad Faheem, Dmytro Iurchenko)</li>
<li>rgw: swift: fix metadata handling on copy (#10645 Radoslaw Zarzynski)</li>
<li>rgw: swift: send Last-Modified header (#10650 Radoslaw Zarzynski)</li>
<li>rgw: update keystone cache with token info (#11125 Yehuda Sadeh)</li>
<li>rgw: update to latest civetweb, enable config for IPv6 (#10965 Yehuda Sadeh)</li>
<li>rocksdb: update to latest (Xiaoxi Chen)</li>
<li>rpm: loosen ceph-test dependencies (Ken Dreyer)</li>
</ul>
</div>
</div>
<div class="section" id="v0-94-10-hammer">
<h2>v0.94.10 Hammer<a class="headerlink" href="#v0-94-10-hammer" title="Permalink to this headline">¶</a></h2>
<p>This Hammer point release fixes several bugs and adds two new features.</p>
<p>We recommend that all hammer v0.94.x users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.94.10.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<p>ceph-objectstore-tool and ceph-monstore-tool now enable user to
rebuild the monitor database from OSDs. (This feature is especially useful when
all monitors fail to boot due to leveldb corruption.)</p>
<p>In RADOS Gateway, it is now possible to reshard an existing bucket&#8217;s index
using an off-line tool.</p>
<p>Usage:</p>
<p>$ radosgw-admin bucket reshard &#8211;bucket=&lt;bucket_name&gt; &#8211;num_shards=&lt;num_shards&gt;</p>
<p>This will create a new linked bucket instance that points to the newly created
index objects. The old bucket instance still exists and currently it&#8217;s up to
the user to manually remove the old bucket index objects. (Note that bucket
resharding currently requires that all IO (especially writes) to the specific
bucket is quiesced.)</p>
</div>
<div class="section" id="id2287">
<h3>Other Notable Changes<a class="headerlink" href="#id2287" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build/ops: ceph-create-keys loops forever (<a class="reference external" href="http://tracker.ceph.com/issues/17753">issue#17753</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12805">pr#12805</a>, Alfredo Deza)</li>
<li>build/ops: improve ceph.in error message (<a class="reference external" href="http://tracker.ceph.com/issues/11101">issue#11101</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10905">pr#10905</a>, Kefu Chai)</li>
<li>build/ops: make stop.sh more portable (<a class="reference external" href="http://tracker.ceph.com/issues/16918">issue#16918</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10569">pr#10569</a>, Mykola Golub)</li>
<li>build/ops: remove SYSTEMD_RUN from initscript (<a class="reference external" href="http://tracker.ceph.com/issues/16440">issue#16440</a>, <a class="reference external" href="http://tracker.ceph.com/issues/7627">issue#7627</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9873">pr#9873</a>, Vladislav Odintsov)</li>
<li>cephx: Fix multiple segfaults due to attempts to encrypt or decrypt (<a class="reference external" href="http://tracker.ceph.com/issues/16266">issue#16266</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11930">pr#11930</a>, Brad Hubbard)</li>
<li>common: SIGABRT in TrackedOp::dump() via dump_ops_in_flight() (<a class="reference external" href="http://tracker.ceph.com/issues/8885">issue#8885</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12121">pr#12121</a>, Jianpeng Ma, Zhiqiang Wang, David Zafman)</li>
<li>common: os/ObjectStore: fix _update_op for split dest_cid (<a class="reference external" href="http://tracker.ceph.com/issues/15345">issue#15345</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12071">pr#12071</a>, Sage Weil)</li>
<li>crush: reset bucket-&gt;h.items[i] when removing tree item (<a class="reference external" href="http://tracker.ceph.com/issues/16525">issue#16525</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10724">pr#10724</a>, Kefu Chai)</li>
<li>doc: add &#8220;Upgrading to Hammer&#8221; section (<a class="reference external" href="http://tracker.ceph.com/issues/17386">issue#17386</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11372">pr#11372</a>, Kefu Chai)</li>
<li>doc: add orphan options to radosgw-admin &#8211;help and man page (<a class="reference external" href="http://tracker.ceph.com/issues/17281">issue#17281</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17280">issue#17280</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11140">pr#11140</a>, Abhishek Lekshmanan, Casey Bodley, Ken Dreyer, Thomas Serlin)</li>
<li>doc: clarify that RGW bucket object versioning is supported (<a class="reference external" href="http://tracker.ceph.com/issues/16574">issue#16574</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10437">pr#10437</a>, Yuan Zhou, shawn chen)</li>
<li>librados: bad flags can crash the osd (<a class="reference external" href="http://tracker.ceph.com/issues/16012">issue#16012</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11936">pr#11936</a>, Jianpeng Ma, Sage Weil)</li>
<li>librbd: ceph 10.2.2 rbd status on image format 2 returns &#8220;(2) No such file or directory&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/16887">issue#16887</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10987">pr#10987</a>, Jason Dillaman)</li>
<li>librbd: diffs to clone&#8217;s first snapshot should include parent diffs (<a class="reference external" href="http://tracker.ceph.com/issues/18068">issue#18068</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12446">pr#12446</a>, Jason Dillaman)</li>
<li>librbd: image.stat() call in librbdpy fails sometimes (<a class="reference external" href="http://tracker.ceph.com/issues/17310">issue#17310</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11949">pr#11949</a>, Jason Dillaman)</li>
<li>librbd: request exclusive lock if current owner cannot execute op (<a class="reference external" href="http://tracker.ceph.com/issues/16171">issue#16171</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12018">pr#12018</a>, Mykola Golub)</li>
<li>mds: fix cephfs-java ftruncate unit test failure (<a class="reference external" href="http://tracker.ceph.com/issues/11258">issue#11258</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11939">pr#11939</a>, Yan, Zheng)</li>
<li>mon: %USED of ceph df is wrong (<a class="reference external" href="http://tracker.ceph.com/issues/16933">issue#16933</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11934">pr#11934</a>, Kefu Chai)</li>
<li>mon: MonmapMonitor should return success when MON will be removed (<a class="reference external" href="http://tracker.ceph.com/issues/17725">issue#17725</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12006">pr#12006</a>, Joao Eduardo Luis)</li>
<li>mon: OSDMonitor: Missing nearfull flag set (<a class="reference external" href="http://tracker.ceph.com/issues/17390">issue#17390</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11273">pr#11273</a>, Igor Podoski)</li>
<li>mon: OSDs marked OUT wrongly after monitor failover (<a class="reference external" href="http://tracker.ceph.com/issues/17719">issue#17719</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11946">pr#11946</a>, Dong Wu)</li>
<li>mon: fix memory leak in prepare_beacon (<a class="reference external" href="http://tracker.ceph.com/issues/17285">issue#17285</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10238">pr#10238</a>, Igor Podoski)</li>
<li>mon: osd flag health message is misleading (<a class="reference external" href="http://tracker.ceph.com/issues/18175">issue#18175</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12687">pr#12687</a>, Sage Weil)</li>
<li>mon: prepare_pgtemp needs to only update up_thru if newer than the existing one (<a class="reference external" href="http://tracker.ceph.com/issues/16185">issue#16185</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11937">pr#11937</a>, Samuel Just)</li>
<li>mon: return size_t from MonitorDBStore::Transaction::size() (<a class="reference external" href="http://tracker.ceph.com/issues/14217">issue#14217</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10904">pr#10904</a>, Kefu Chai)</li>
<li>mon: send updated monmap to its subscribers (<a class="reference external" href="http://tracker.ceph.com/issues/17558">issue#17558</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11457">pr#11457</a>, Kefu Chai)</li>
<li>msgr: OpTracker needs to release the message throttle in _unregistered (<a class="reference external" href="http://tracker.ceph.com/issues/14248">issue#14248</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11938">pr#11938</a>, Samuel Just)</li>
<li>msgr: simple/Pipe: error decoding addr (<a class="reference external" href="http://tracker.ceph.com/issues/18072">issue#18072</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12266">pr#12266</a>, Sage Weil)</li>
<li>osd: PG::_update_calc_stats wrong for CRUSH_ITEM_NONE up set items (<a class="reference external" href="http://tracker.ceph.com/issues/16998">issue#16998</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11933">pr#11933</a>, Samuel Just)</li>
<li>osd: PG::choose_acting valgrind error or ./common/hobject.h: 182: FAILED assert(!max || (<a href="#id2314"><span class="problematic" id="id2315">*</span></a>this == hobject_t(hobject_t::get_max()))) (<a class="reference external" href="http://tracker.ceph.com/issues/13967">issue#13967</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11932">pr#11932</a>, Tao Chang)</li>
<li>osd: ReplicatedBackend::build_push_op: add a second config to limit omap entries/chunk independently of object data (<a class="reference external" href="http://tracker.ceph.com/issues/16128">issue#16128</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12417">pr#12417</a>, Wanlong Gao)</li>
<li>osd: crash on EIO during deep-scrubbing (<a class="reference external" href="http://tracker.ceph.com/issues/16034">issue#16034</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11935">pr#11935</a>, Nathan Cutler)</li>
<li>osd: filestore: FALLOC_FL_PUNCH_HOLE must be used with FALLOC_FL_KEEP_SIZE (<a class="reference external" href="http://tracker.ceph.com/issues/18446">issue#18446</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13041">pr#13041</a>, xinxin shu)</li>
<li>osd: fix cached_removed_snaps bug in PGPool::update after map gap (<a class="reference external" href="http://tracker.ceph.com/issues/18628">issue#18628</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15943">issue#15943</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12906">pr#12906</a>, Samuel Just)</li>
<li>osd: fix collection_list shadow return value (<a class="reference external" href="http://tracker.ceph.com/issues/17713">issue#17713</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11927">pr#11927</a>, Haomai Wang)</li>
<li>osd: fix fiemap issue in xfs when #extents &gt; 1364 (<a class="reference external" href="http://tracker.ceph.com/issues/17610">issue#17610</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11615">pr#11615</a>, Kefu Chai, Ning Yao)</li>
<li>osd: update PGPool to detect map gaps and reset cached_removed_snaps (<a class="reference external" href="http://tracker.ceph.com/issues/15943">issue#15943</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11676">pr#11676</a>, Samuel Just)</li>
<li>rbd: export diff should open image as read-only (<a class="reference external" href="http://tracker.ceph.com/issues/17671">issue#17671</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11948">pr#11948</a>, liyankun)</li>
<li>rbd: fix parameter check (<a class="reference external" href="http://tracker.ceph.com/issues/18237">issue#18237</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12312">pr#12312</a>, Yankun Li)</li>
<li>rbd: fix possible rbd data corruption (<a class="reference external" href="http://tracker.ceph.com/issues/16002">issue#16002</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11618">pr#11618</a>, Yan, Zheng, Greg Farnum)</li>
<li>rgw: Anonymous user is able to read bucket with authenticated read ACL (<a class="reference external" href="http://tracker.ceph.com/issues/13207">issue#13207</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11045">pr#11045</a>, <a class="reference external" href="mailto:rahul&#46;1aggarwal&#37;&#52;&#48;gmail&#46;com">rahul<span>&#46;</span>1aggarwal<span>&#64;</span>gmail<span>&#46;</span>com</a>)</li>
<li>rgw: COPY broke multipart files uploaded under dumpling (<a class="reference external" href="http://tracker.ceph.com/issues/16435">issue#16435</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11950">pr#11950</a>, Yehuda Sadeh)</li>
<li>rgw: TempURL in radosgw behaves now like its Swift&#8217;s counterpart.  (<a class="reference external" href="http://tracker.ceph.com/issues/18316">issue#18316</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12619">pr#12619</a>, Radoslaw Zarzynski)</li>
<li>rgw: default quota fixes (<a class="reference external" href="http://tracker.ceph.com/issues/16410">issue#16410</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10839">pr#10839</a>, Pavan Rallabhandi, Daniel Gryniewicz)</li>
<li>rgw: do not abort when accept a CORS request with short origin (<a class="reference external" href="http://tracker.ceph.com/issues/18187">issue#18187</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12398">pr#12398</a>, LiuYang)</li>
<li>rgw: do not omap_getvals with (u64)-1 max (<a class="reference external" href="http://tracker.ceph.com/issues/17985">issue#17985</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12418">pr#12418</a>, Yehuda Sadeh, Sage Weil)</li>
<li>rgw: fix crash when client posts object with null condition (<a class="reference external" href="http://tracker.ceph.com/issues/17635">issue#17635</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11809">pr#11809</a>, Yehuda Sadeh)</li>
<li>rgw: fix inconsistent uid/email handling in radosgw-admin (<a class="reference external" href="http://tracker.ceph.com/issues/13598">issue#13598</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11952">pr#11952</a>, Matt Benjamin)</li>
<li>rgw: implement offline resharding command (<a class="reference external" href="http://tracker.ceph.com/issues/17745">issue#17745</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12227">pr#12227</a>, Yehuda Sadeh, Orit Wasserman, weiqiaomiao)</li>
<li>rgw: swift: ranged request on a DLO provides wrong values in Content-Range HTTP header (<a class="reference external" href="http://tracker.ceph.com/issues/13452">issue#13452</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11951">pr#11951</a>, Radoslaw Zarzynski)</li>
<li>rgw: the value of total_time is wrong in the result of &#8216;radosgw-admin log show&#8217; opt (<a class="reference external" href="http://tracker.ceph.com/issues/17598">issue#17598</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11899">pr#11899</a>, weiqiaomiao)</li>
<li>tests: Cannot clone ceph/s3-tests.git (missing branch) (<a class="reference external" href="http://tracker.ceph.com/issues/18384">issue#18384</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12744">pr#12744</a>, Orit Wasserman)</li>
<li>tests: Cannot reserve CentOS 7.2 smithi machines (<a class="reference external" href="http://tracker.ceph.com/issues/18401">issue#18401</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12762">pr#12762</a>, Nathan Cutler)</li>
<li>tests: OSDs commit suicide in rbd suite when testing on btrfs (<a class="reference external" href="http://tracker.ceph.com/issues/18397">issue#18397</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12758">pr#12758</a>, Nathan Cutler)</li>
<li>tests: Workunits needlessly wget from git.ceph.com (<a class="reference external" href="http://tracker.ceph.com/issues/18336">issue#18336</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18271">issue#18271</a>, <a class="reference external" href="http://tracker.ceph.com/issues/18388">issue#18388</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12685">pr#12685</a>, Sage Weil, Nathan Cutler)</li>
<li>tests: cephfs test failures (ceph.com/qa is broken, should be download.ceph.com/qa) (<a class="reference external" href="http://tracker.ceph.com/issues/18574">issue#18574</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13022">pr#13022</a>, John Spray)</li>
<li>tests: merge ceph-qa-suite (<a class="reference external" href="http://github.com/ceph/ceph/pull/12455">pr#12455</a>, Sage Weil)</li>
<li>tests: objecter_requests workunit fails on wip branches (<a class="reference external" href="http://tracker.ceph.com/issues/18393">issue#18393</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12759">pr#12759</a>, Sage Weil)</li>
<li>tests: populate mnt_point in qa/tasks/ceph.py (<a class="reference external" href="http://tracker.ceph.com/issues/18383">issue#18383</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12743">pr#12743</a>, Nathan Cutler)</li>
<li>tests: qemu/tests/qemu-iotests/077 fails in dumpling, hammer, and jewel (<a class="reference external" href="http://tracker.ceph.com/issues/10773">issue#10773</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12423">pr#12423</a>, Jason Dillaman)</li>
<li>tests: run fs/thrash on xfs instead of btrfs (<a class="reference external" href="http://tracker.ceph.com/issues/17151">issue#17151</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/13039">pr#13039</a>, Nathan Cutler)</li>
<li>tests: update Ubuntu image url after ceph.com refactor (<a class="reference external" href="http://tracker.ceph.com/issues/18542">issue#18542</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12957">pr#12957</a>, Jason Dillaman)</li>
<li>tests: update rbd/singleton/all/formatted-output.yaml to support ceph-ci * (<a class="reference external" href="http://tracker.ceph.com/issues/18440">issue#18440</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/12824">pr#12824 *</a>, Venky Shankar, Nathan Cutler)</li>
<li>tools: add a tool to rebuild mon store from OSD (<a class="reference external" href="http://tracker.ceph.com/issues/17179">issue#17179</a>, <a class="reference external" href="http://tracker.ceph.com/issues/17400">issue#17400</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11125">pr#11125</a>, Kefu Chai, xie xingguo)</li>
<li>tools: ceph-objectstore-tool crashes if &#8211;journal-path &lt;a-directory&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/17307">issue#17307</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11929">pr#11929</a>, Kefu Chai)</li>
<li>tools: ceph-objectstore-tool: add a way to split filestore directories offline (<a class="reference external" href="http://tracker.ceph.com/issues/17220">issue#17220</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11253">pr#11253</a>, Josh Durgin)</li>
<li>tools: crushtool &#8211;compile generates output despite missing item (<a class="reference external" href="http://tracker.ceph.com/issues/17306">issue#17306</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/11931">pr#11931</a>, Kefu Chai)</li>
</ul>
</div>
</div>
<div class="section" id="v0-94-9-hammer">
<h2>v0.94.9 Hammer<a class="headerlink" href="#v0-94-9-hammer" title="Permalink to this headline">¶</a></h2>
<p>This Hammer point release fixes a build issue present in 0.94.8 that prevented us
from generating packages for Ubuntu Precise and CentOS 6.x.</p>
<p>We recommend all users of v0.94.7 or older upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.94.9.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id2348">
<h3>Notable Changes<a class="headerlink" href="#id2348" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build/ops: revert: boost uuid makes valgrind complain (<a class="reference external" href="http://github.com/ceph/ceph/pull/10913">pr#10913</a>, Sage Weil)</li>
</ul>
</div>
</div>
<div class="section" id="v0-94-8-hammer">
<h2>v0.94.8 Hammer<a class="headerlink" href="#v0-94-8-hammer" title="Permalink to this headline">¶</a></h2>
<p>This Hammer point release fixes several bugs.</p>
<p>We recommend that all hammer v0.94.x users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.94.8.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id2349">
<h3>Notable Changes<a class="headerlink" href="#id2349" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build/ops: rocksdb do not link against tcmalloc if it&#8217;s disabled (<a href="#id2660"><span class="problematic" id="id2661">`issue#14799 &lt;http://tracker.ceph.com/issues/14799`_</span></a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10750">pr#10750</a>, Sage Weil, Kefu Chai)</li>
<li>build/ops: Add -D_LARGEFILE64_SOURCE to Linux build. (<a class="reference external" href="http://tracker.ceph.com/issues/16611">issue#16611</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10182">pr#10182</a>, Ira Cooper)</li>
<li>build/ops: boost uuid makes valgrind complain (<a class="reference external" href="http://tracker.ceph.com/issues/12736">issue#12736</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9741">pr#9741</a>, Sage Weil, Rohan Mars)</li>
<li>build/ops: ceph-disk s/by-parttype-uuid/by-parttypeuuid/ (<a class="reference external" href="http://tracker.ceph.com/issues/15867">issue#15867</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9107">pr#9107</a>, Nathan Cutler)</li>
<li>common: add units to rados bench output and clean up formatting (<a class="reference external" href="http://tracker.ceph.com/issues/12248">issue#12248</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8960">pr#8960</a>, Dmitry Yatsushkevich, Brad Hubbard, Gu Zhongyan)</li>
<li>common: config set with negative value results in &#8220;error setting &#8216;filestore_merge_threshold&#8217; to &#8216;-40&#8217;: (22) Invalid argument&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/13829">issue#13829</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10291">pr#10291</a>, Brad Hubbard, Kefu Chai)</li>
<li>common: linking to -lrbd causes process startup times to balloon (<a class="reference external" href="http://tracker.ceph.com/issues/15225">issue#15225</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8538">pr#8538</a>, Richard W.M. Jones)</li>
<li>doc: fix by-parttypeuuid in ceph-disk(8) nroff (<a class="reference external" href="http://tracker.ceph.com/issues/15867">issue#15867</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10699">pr#10699</a>, Ken Dreyer)</li>
<li>fs: double decreased the count to trim caps which will cause failing to respond to cache pressure (<a class="reference external" href="http://tracker.ceph.com/issues/14319">issue#14319</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8804">pr#8804</a>, Zhi Zhang)</li>
<li>log: do not repeat errors to stderr (<a class="reference external" href="http://tracker.ceph.com/issues/14616">issue#14616</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10227">pr#10227</a>, Sage Weil)</li>
<li>mds: failing file operations on kernel based cephfs mount point leaves unaccessible file behind on hammer 0.94.7 (<a class="reference external" href="http://tracker.ceph.com/issues/16013">issue#16013</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10198">pr#10198</a>, Yan, Zheng)</li>
<li>mds: fix stray purging in &#8216;stripe_count &gt; 1&#8217; case (<a class="reference external" href="http://tracker.ceph.com/issues/15050">issue#15050</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8042">pr#8042</a>, Yan, Zheng)</li>
<li>mds: wrongly treat symlink inode as normal file/dir when symlink inode is stale on kcephfs (<a class="reference external" href="http://tracker.ceph.com/issues/15702">issue#15702</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9404">pr#9404</a>, Zhi Zhang)</li>
<li>mon: LibRadosMiscConnectFailure.ConnectFailure (not so intermittent) failure in upgrade/hammer-x  (<a class="reference external" href="http://tracker.ceph.com/issues/13992">issue#13992</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8806">pr#8806</a>, Sage Weil)</li>
<li>mon: Monitor: validate prefix on handle_command() (<a class="reference external" href="http://tracker.ceph.com/issues/16297">issue#16297</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10038">pr#10038</a>, You Ji)</li>
<li>mon: drop pg temps from not the current primary in OSDMonitor (<a class="reference external" href="http://tracker.ceph.com/issues/16127">issue#16127</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9893">pr#9893</a>, Samuel Just)</li>
<li>mon: fix calculation of %USED (<a class="reference external" href="http://tracker.ceph.com/issues/15641">issue#15641</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9125">pr#9125</a>, Ruifeng Yang, David Zafman)</li>
<li>mon: improve reweight_by_utilization() logic (<a class="reference external" href="http://tracker.ceph.com/issues/15686">issue#15686</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9416">pr#9416</a>, xie xingguo)</li>
<li>mon: pool quota alarm is not in effect  (<a class="reference external" href="http://tracker.ceph.com/issues/15478">issue#15478</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8593">pr#8593</a>, Danny Al-Gaaf)</li>
<li>mon: wrong ceph get mdsmap assertion (<a class="reference external" href="http://tracker.ceph.com/issues/14681">issue#14681</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7542">pr#7542</a>, Vicente Cheng)</li>
<li>msgr: ceph-osd valgrind invalid reads/writes (<a class="reference external" href="http://tracker.ceph.com/issues/15870">issue#15870</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9238">pr#9238</a>, Samuel Just)</li>
<li>objecter: LibRadosWatchNotifyPPTests/LibRadosWatchNotifyPP.WatchNotify2Timeout/1 segv (<a class="reference external" href="http://tracker.ceph.com/issues/15760">issue#15760</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9400">pr#9400</a>, Sage Weil)</li>
<li>osd: OSD reporting ENOTEMPTY and crashing (<a class="reference external" href="http://tracker.ceph.com/issues/14766">issue#14766</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9277">pr#9277</a>, Samuel Just)</li>
<li>osd: When generating past intervals due to an import end at pg epoch and fix build_past_intervals_parallel (<a class="reference external" href="http://tracker.ceph.com/issues/12387">issue#12387</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14438">issue#14438</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8464">pr#8464</a>, David Zafman)</li>
<li>osd: acting_primary not updated on split (<a class="reference external" href="http://tracker.ceph.com/issues/15523">issue#15523</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9001">pr#9001</a>, Sage Weil)</li>
<li>osd: assert(!actingbackfill.empty()): old watch timeout tries to queue repop on replica (<a class="reference external" href="http://tracker.ceph.com/issues/15391">issue#15391</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8665">pr#8665</a>, Sage Weil)</li>
<li>osd: assert(rollback_info_trimmed_to == head) in PGLog (<a class="reference external" href="http://tracker.ceph.com/issues/13965">issue#13965</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8849">pr#8849</a>, Samuel Just)</li>
<li>osd: delete one of the repeated op-&gt;mark_started in ReplicatedBackend::sub_op_modify_impl (<a class="reference external" href="http://tracker.ceph.com/issues/16572">issue#16572</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9977">pr#9977</a>, shun-s)</li>
<li>osd: fix omap digest compare when scrub (<a class="reference external" href="http://tracker.ceph.com/issues/16000">issue#16000</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9271">pr#9271</a>, Xinze Chi)</li>
<li>osd: is_split crash in handle_pg_create (<a class="reference external" href="http://tracker.ceph.com/issues/15426">issue#15426</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8805">pr#8805</a>, Kefu Chai)</li>
<li>osd: objects unfound after repair (fixed by repeering the pg) (<a class="reference external" href="http://tracker.ceph.com/issues/15006">issue#15006</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7961">pr#7961</a>, Jianpeng Ma, Loic Dachary, Kefu Chai)</li>
<li>osd: rados cppool omap to ec pool crashes osd (<a class="reference external" href="http://tracker.ceph.com/issues/14695">issue#14695</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8845">pr#8845</a>, Jianpeng Ma)</li>
<li>osd: remove all stale osdmaps in handle_osd_map() (<a class="reference external" href="http://tracker.ceph.com/issues/13990">issue#13990</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9090">pr#9090</a>, Kefu Chai)</li>
<li>osd: send write and read sub ops on behalf of client ops at normal priority in ECBackend (<a class="reference external" href="http://tracker.ceph.com/issues/14313">issue#14313</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8573">pr#8573</a>, Samuel Just)</li>
<li>rbd: snap rollback: restore the link to parent (<a class="reference external" href="http://tracker.ceph.com/issues/14512">issue#14512</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8535">pr#8535</a>, Alexey Sheplyakov)</li>
<li>rgw: S3: set EncodingType in ListBucketResult (<a class="reference external" href="http://tracker.ceph.com/issues/15896">issue#15896</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8987">pr#8987</a>, Victor Makarov, Robin H. Johnson)</li>
<li>rgw: backport rgwx-copy-if-newer for radosgw-agent (<a class="reference external" href="http://tracker.ceph.com/issues/16262">issue#16262</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9671">pr#9671</a>, Yehuda Sadeh)</li>
<li>rgw: bucket listing following object delete is partial (<a class="reference external" href="http://tracker.ceph.com/issues/14826">issue#14826</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10555">pr#10555</a>, Orit Wasserman)</li>
<li>rgw: convert plain object to versioned (with null version) when removing (<a class="reference external" href="http://tracker.ceph.com/issues/15243">issue#15243</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8755">pr#8755</a>, Yehuda Sadeh)</li>
<li>rgw: fix multi-delete query param parsing. (<a class="reference external" href="http://tracker.ceph.com/issues/16618">issue#16618</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10189">pr#10189</a>, Robin H. Johnson)</li>
<li>rgw: have a flavor of bucket deletion to bypass GC and to trigger (<a class="reference external" href="http://tracker.ceph.com/issues/15557">issue#15557</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10509">pr#10509</a>, Pavan Rallabhandi)</li>
<li>rgw: keep track of written_objs correctly (<a class="reference external" href="http://tracker.ceph.com/issues/15886">issue#15886</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9240">pr#9240</a>, Yehuda Sadeh)</li>
<li>rgw: multipart ListPartsResult has missing quotes on ETag (<a class="reference external" href="http://tracker.ceph.com/issues/15334">issue#15334</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8475">pr#8475</a>, xie xingguo, Robin H. Johnson)</li>
<li>rgw: no Last-Modified, Content-Size and X-Object-Manifest headers if no segments in DLO manifest (<a class="reference external" href="http://tracker.ceph.com/issues/15812">issue#15812</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9402">pr#9402</a>, Radoslaw Zarzynski)</li>
<li>rgw: radosgw server abort when user passed bad parameters to set quota (<a class="reference external" href="http://tracker.ceph.com/issues/14190">issue#14190</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14191">issue#14191</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8313">pr#8313</a>, Dunrong Huang)</li>
<li>rgw: radosgw-admin region-map set is not reporting the bucket quota correctly (<a class="reference external" href="http://tracker.ceph.com/issues/16815">issue#16815</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10554">pr#10554</a>, Yehuda Sadeh, Orit Wasserman)</li>
<li>rgw: refrain from sending Content-Type/Content-Length for 304 responses (<a class="reference external" href="http://tracker.ceph.com/issues/16327">issue#16327</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13582">issue#13582</a>, <a class="reference external" href="http://tracker.ceph.com/issues/15119">issue#15119</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14005">issue#14005</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8379">pr#8379</a>, Yehuda Sadeh, Nathan Cutler, Wido den Hollander)</li>
<li>rgw: remove bucket index objects when deleting the bucket (<a class="reference external" href="http://tracker.ceph.com/issues/16412">issue#16412</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10530">pr#10530</a>, Orit Wasserman)</li>
<li>rgw: set Access-Control-Allow-Origin to an asterisk if allowed in a rule (<a class="reference external" href="http://tracker.ceph.com/issues/15348">issue#15348</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8528">pr#8528</a>, Wido den Hollander)</li>
<li>rgw: subset of uploaded objects via radosgw are unretrievable when using EC pool (<a class="reference external" href="http://tracker.ceph.com/issues/15745">issue#15745</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9407">pr#9407</a>, Yehuda Sadeh)</li>
<li>rgw: subuser rm fails with status 125 (<a class="reference external" href="http://tracker.ceph.com/issues/14375">issue#14375</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9961">pr#9961</a>, Orit Wasserman)</li>
<li>rgw: the swift key remains after removing a subuser (<a class="reference external" href="http://tracker.ceph.com/issues/12890">issue#12890</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14375">issue#14375</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/10718">pr#10718</a>, Orit Wasserman, Sangdi Xu)</li>
<li>rgw: user quota may not adjust on bucket removal (<a class="reference external" href="http://tracker.ceph.com/issues/14507">issue#14507</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8113">pr#8113</a>, Edward Yang)</li>
<li>tests: be more generous with test timeout (<a class="reference external" href="http://tracker.ceph.com/issues/15403">issue#15403</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8470">pr#8470</a>, Loic Dachary)</li>
<li>tests: qa/workunits/rbd: respect RBD_CREATE_ARGS environment variable (<a class="reference external" href="http://tracker.ceph.com/issues/16289">issue#16289</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/9722">pr#9722</a>, Mykola Golub)</li>
</ul>
</div>
</div>
<div class="section" id="v0-94-7-hammer">
<h2>v0.94.7 Hammer<a class="headerlink" href="#v0-94-7-hammer" title="Permalink to this headline">¶</a></h2>
<p>This Hammer point release fixes several minor bugs.  It also includes
a backport of an improved &#8216;ceph osd reweight-by-utilization&#8217; command
for handling OSDs with higher-than-average utilizations.</p>
<p>We recommend that all hammer v0.94.x users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.94.7.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id2388">
<h3>Notable Changes<a class="headerlink" href="#id2388" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>auth: keyring permisions for mon deamon (<a class="reference external" href="http://tracker.ceph.com/issues/14950">issue#14950</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8049">pr#8049</a>, Owen Synge)</li>
<li>auth: PK11_DestroyContext() is called twice if PK11_DigestFinal() fails (<a class="reference external" href="http://tracker.ceph.com/issues/14958">issue#14958</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7922">pr#7922</a>, Brad Hubbard, Dunrong Huang)</li>
<li>auth: use libnss more safely (<a class="reference external" href="http://tracker.ceph.com/issues/14620">issue#14620</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7488">pr#7488</a>, Sage Weil)</li>
<li>ceph-disk: use blkid instead of sgdisk -i (<a class="reference external" href="http://tracker.ceph.com/issues/14080">issue#14080</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14094">issue#14094</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7475">pr#7475</a>, Ilya Dryomov, Loic Dachary)</li>
<li>ceph-fuse: fix ceph-fuse writing to stale log file after log rotation (<a class="reference external" href="http://tracker.ceph.com/issues/12350">issue#12350</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7110">pr#7110</a>, Zhi Zhang)</li>
<li>ceph init script unconditionally sources /lib/lsb/init-functions (<a class="reference external" href="http://tracker.ceph.com/issues/14402">issue#14402</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7797">pr#7797</a>, Yan, Zheng)</li>
<li>ceph.in: Notify user that &#8216;tell&#8217; can&#8217;t be used in interactive mode (<a class="reference external" href="http://tracker.ceph.com/issues/14773">issue#14773</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7656">pr#7656</a>, David Zafman)</li>
<li>ceph-objectstore-tool, osd: Fix import handling (<a class="reference external" href="http://tracker.ceph.com/issues/10794">issue#10794</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13382">issue#13382</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7917">pr#7917</a>, Sage Weil, David Zafman)</li>
<li>client: added permission check based on getgrouplist (<a class="reference external" href="http://tracker.ceph.com/issues/13268">issue#13268</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6604">pr#6604</a>, Yan, Zheng, Danny Al-Gaaf)</li>
<li>client: inoderef (<a class="reference external" href="http://tracker.ceph.com/issues/13729">issue#13729</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6551">pr#6551</a>, Yan, Zheng)</li>
<li>common: clock skew report is incorrect by ceph health detail command (<a class="reference external" href="http://tracker.ceph.com/issues/14175">issue#14175</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8051">pr#8051</a>, Joao Eduardo Luis)</li>
<li>global/pidfile: do not start two daemons with a single pid-file (<a class="reference external" href="http://tracker.ceph.com/issues/13422">issue#13422</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7671">pr#7671</a>, Loic Dachary, shun song)</li>
<li>librados: segfault in Objecter::handle_watch_notify (<a class="reference external" href="http://tracker.ceph.com/issues/13805">issue#13805</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7992">pr#7992</a>, Sage Weil)</li>
<li>librbd: flattening an rbd image with active IO can lead to hang (<a class="reference external" href="http://tracker.ceph.com/issues/14092">issue#14092</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14483">issue#14483</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7485">pr#7485</a>, Jason Dillaman)</li>
<li>librbd: possible QEMU deadlock after creating image snapshots (<a class="reference external" href="http://tracker.ceph.com/issues/14988">issue#14988</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8011">pr#8011</a>, Jason Dillaman)</li>
<li>mon: Bucket owner isn&#8217;t changed after unlink/link (<a class="reference external" href="http://tracker.ceph.com/issues/11076">issue#11076</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8583">pr#8583</a>, Zengran Zhang)</li>
<li>monclient: avoid key renew storm on clock skew (<a class="reference external" href="http://tracker.ceph.com/issues/12065">issue#12065</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8398">pr#8398</a>, Alexey Sheplyakov)</li>
<li>mon: implement reweight-by-utilization feature (<a class="reference external" href="http://tracker.ceph.com/issues/15054">issue#15054</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8026">pr#8026</a>, Kefu Chai, Dan van der Ster, Sage Weil)</li>
<li>mon/LogMonitor: use the configured facility if log to syslog (<a class="reference external" href="http://tracker.ceph.com/issues/13748">issue#13748</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7648">pr#7648</a>, Kefu Chai)</li>
<li>mon: mon sync does not copy config-key (<a class="reference external" href="http://tracker.ceph.com/issues/14577">issue#14577</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7576">pr#7576</a>, Xiaowei Chen)</li>
<li>mon/OSDMonitor: avoid underflow in reweight-by-utilization if max_change=1 (<a class="reference external" href="http://tracker.ceph.com/issues/15655">issue#15655</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8979">pr#8979</a>, Samuel Just)</li>
<li>osd: consume_maps clearing of waiting_for_pg needs to check the spg_t shard for acting set membership (<a class="reference external" href="http://tracker.ceph.com/issues/14278">issue#14278</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7577">pr#7577</a>, Samuel Just)</li>
<li>osd: log inconsistent shard sizes (<a class="reference external" href="http://tracker.ceph.com/issues/14009">issue#14009</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6946">pr#6946</a>, Loic Dachary)</li>
<li>osd: OSD coredumps with leveldb compact on mount = true (<a class="reference external" href="http://tracker.ceph.com/issues/14748">issue#14748</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7645">pr#7645</a>, Xiaoxi Chen)</li>
<li>osd/OSDMap: reset osd_primary_affinity shared_ptr when deepish_copy_from (<a class="reference external" href="http://tracker.ceph.com/issues/14686">issue#14686</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7590">pr#7590</a>, Xinze Chi)</li>
<li>osd: Protect against excessively large object map sizes (<a class="reference external" href="http://tracker.ceph.com/issues/15121">issue#15121</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8401">pr#8401</a>, Jason Dillaman)</li>
<li>osd/ReplicatedPG: do not proxy read <em>and</em> process op locally (<a class="reference external" href="http://tracker.ceph.com/issues/15171">issue#15171</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8187">pr#8187</a>, Sage Weil)</li>
<li>osd: scrub bogus results when missing a clone (<a class="reference external" href="http://tracker.ceph.com/issues/14875">issue#14875</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14874">issue#14874</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14877">issue#14877</a>, <a class="reference external" href="http://tracker.ceph.com/issues/10098">issue#10098</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14878">issue#14878</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14881">issue#14881</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14882">issue#14882</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14883">issue#14883</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14879">issue#14879</a>, <a class="reference external" href="http://tracker.ceph.com/issues/10290">issue#10290</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12740">issue#12740</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12738">issue#12738</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14880">issue#14880</a>, <a class="reference external" href="http://tracker.ceph.com/issues/11135">issue#11135</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14876">issue#14876</a>, <a class="reference external" href="http://tracker.ceph.com/issues/10809">issue#10809</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12193">issue#12193</a>, <a class="reference external" href="http://tracker.ceph.com/issues/11237">issue#11237</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7702">pr#7702</a>, Xinze Chi, Sage Weil, John Spray, Kefu Chai, Mykola Golub, David Zafman)</li>
<li>osd: Unable to bring up OSD&#8217;s after dealing with FULL cluster (OSD assert with /include/interval_set.h: 386: FAILED assert(_size &gt;= 0)) (<a class="reference external" href="http://tracker.ceph.com/issues/14428">issue#14428</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7415">pr#7415</a>, Alexey Sheplyakov)</li>
<li>osd: use GMT time for the object name of hitsets (<a class="reference external" href="http://tracker.ceph.com/issues/13192">issue#13192</a>, <a class="reference external" href="http://tracker.ceph.com/issues/9732">issue#9732</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12968">issue#12968</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7883">pr#7883</a>, Kefu Chai, David Zafman)</li>
<li>qa/workunits/post-file.sh: sudo (<a class="reference external" href="http://tracker.ceph.com/issues/14586">issue#14586</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7456">pr#7456</a>, Sage Weil)</li>
<li>qa/workunits: remove &#8216;mds setmap&#8217; from workunits (<a class="reference external" href="http://github.com/ceph/ceph/pull/8123">pr#8123</a>, Sage Weil)</li>
<li>rgw: default quota params (<a class="reference external" href="http://tracker.ceph.com/issues/12997">issue#12997</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7188">pr#7188</a>, Daniel Gryniewicz)</li>
<li>rgw: make rgw_fronends more forgiving of whitespace (<a class="reference external" href="http://tracker.ceph.com/issues/12038">issue#12038</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7414">pr#7414</a>, Matt Benjamin)</li>
<li>rgw: radosgw-admin bucket check &#8211;fix not work (<a class="reference external" href="http://tracker.ceph.com/issues/14215">issue#14215</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7185">pr#7185</a>, Weijun Duan)</li>
<li>rpm package building fails if the build machine has lttng and babeltrace development packages installed locally (<a class="reference external" href="http://tracker.ceph.com/issues/14844">issue#14844</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8440">pr#8440</a>, Kefu Chai)</li>
<li>rpm: redhat-lsb-core dependency was dropped, but is still needed (<a class="reference external" href="http://tracker.ceph.com/issues/14906">issue#14906</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7876">pr#7876</a>, Nathan Cutler)</li>
<li>test_bit_vector.cc uses magic numbers against #defines that vary (<a class="reference external" href="http://tracker.ceph.com/issues/14747">issue#14747</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7672">pr#7672</a>, Jason Dillaman)</li>
<li>test/librados/tier.cc doesn&#8217;t completely clean up EC pools (<a class="reference external" href="http://tracker.ceph.com/issues/13878">issue#13878</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8052">pr#8052</a>, Loic Dachary, Dan Mick)</li>
<li>tests: bufferlist: do not expect !is_page_aligned() after unaligned rebuild (<a class="reference external" href="http://tracker.ceph.com/issues/15305">issue#15305</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/8272">pr#8272</a>, Kefu Chai)</li>
<li>tools: fix race condition in seq/rand bench (part 1) (<a class="reference external" href="http://tracker.ceph.com/issues/14968">issue#14968</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14873">issue#14873</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7896">pr#7896</a>, Alexey Sheplyakov, Piotr Dałek)</li>
<li>tools: fix race condition in seq/rand bench (part 2) (<a class="reference external" href="http://tracker.ceph.com/issues/14873">issue#14873</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7817">pr#7817</a>, Alexey Sheplyakov)</li>
<li>tools/rados: add bench smoke tests (<a class="reference external" href="http://tracker.ceph.com/issues/14971">issue#14971</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7903">pr#7903</a>, Piotr Dałek)</li>
<li>tools, test: Add ceph-objectstore-tool to operate on the meta collection (<a class="reference external" href="http://tracker.ceph.com/issues/14977">issue#14977</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7911">pr#7911</a>, David Zafman)</li>
<li>unittest_crypto: benchmark 100,000 CryptoKey::encrypt() calls (<a class="reference external" href="http://tracker.ceph.com/issues/14863">issue#14863</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7801">pr#7801</a>, Sage Weil)</li>
</ul>
</div>
</div>
<div class="section" id="v0-94-6-hammer">
<h2>v0.94.6 Hammer<a class="headerlink" href="#v0-94-6-hammer" title="Permalink to this headline">¶</a></h2>
<p>This Hammer point release fixes a range of bugs, most notably a fix
for unbounded growth of the monitor&#8217;s leveldb store, and a workaround
in the OSD to keep most xattrs small enough to be stored inline in XFS
inodes.</p>
<p>We recommend that all hammer v0.94.x users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.94.6.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id2409">
<h3>Notable Changes<a class="headerlink" href="#id2409" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build/ops: Ceph daemon failed to start, because the service name was already used. (<a class="reference external" href="http://tracker.ceph.com/issues/13474">issue#13474</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6832">pr#6832</a>, Chuanhong Wang)</li>
<li>build/ops: LTTng-UST tracing should be dynamically enabled (<a class="reference external" href="http://tracker.ceph.com/issues/13274">issue#13274</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6415">pr#6415</a>, Jason Dillaman)</li>
<li>build/ops: ceph upstart script rbdmap.conf incorrectly processes parameters (<a class="reference external" href="http://tracker.ceph.com/issues/13214">issue#13214</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6159">pr#6159</a>, Sage Weil)</li>
<li>build/ops: ceph.spec.in License line does not reflect COPYING (<a class="reference external" href="http://tracker.ceph.com/issues/12935">issue#12935</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6680">pr#6680</a>, Nathan Cutler)</li>
<li>build/ops: ceph.spec.in libcephfs_jni1 has no %post and %postun  (<a class="reference external" href="http://tracker.ceph.com/issues/12927">issue#12927</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5789">pr#5789</a>, Owen Synge)</li>
<li>build/ops: configure.ac: no use to add &#8220;+&#8221; before ac_ext=c (<a class="reference external" href="http://tracker.ceph.com/issues/14330">issue#14330</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6973">pr#6973</a>, Kefu Chai, Robin H. Johnson)</li>
<li>build/ops: deb: strip tracepoint libraries from Wheezy/Precise builds (<a class="reference external" href="http://tracker.ceph.com/issues/14801">issue#14801</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7316">pr#7316</a>, Jason Dillaman)</li>
<li>build/ops: init script reload doesn&#8217;t work on EL7 (<a class="reference external" href="http://tracker.ceph.com/issues/13709">issue#13709</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7187">pr#7187</a>, Hervé Rousseau)</li>
<li>build/ops: init-rbdmap uses distro-specific functions (<a class="reference external" href="http://tracker.ceph.com/issues/12415">issue#12415</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6528">pr#6528</a>, Boris Ranto)</li>
<li>build/ops: logrotate reload error on Ubuntu 14.04 (<a class="reference external" href="http://tracker.ceph.com/issues/11330">issue#11330</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5787">pr#5787</a>, Sage Weil)</li>
<li>build/ops: miscellaneous spec file fixes (<a class="reference external" href="http://tracker.ceph.com/issues/12931">issue#12931</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12994">issue#12994</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12924">issue#12924</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12360">issue#12360</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5790">pr#5790</a>, Boris Ranto, Nathan Cutler, Owen Synge, Travis Rhoden, Ken Dreyer)</li>
<li>build/ops: pass tcmalloc env through to ceph-os (<a class="reference external" href="http://tracker.ceph.com/issues/14802">issue#14802</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7365">pr#7365</a>, Sage Weil)</li>
<li>build/ops: rbd-replay-* moved from ceph-test-dbg to ceph-common-dbg as well (<a class="reference external" href="http://tracker.ceph.com/issues/13785">issue#13785</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6580">pr#6580</a>, Loic Dachary)</li>
<li>build/ops: unknown argument &#8211;quiet in udevadm settle (<a class="reference external" href="http://tracker.ceph.com/issues/13560">issue#13560</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6530">pr#6530</a>, Jason Dillaman)</li>
<li>common: Objecter: pool op callback may hang forever. (<a class="reference external" href="http://tracker.ceph.com/issues/13642">issue#13642</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6588">pr#6588</a>, xie xingguo)</li>
<li>common: Objecter: potential null pointer access when do pool_snap_list. (<a class="reference external" href="http://tracker.ceph.com/issues/13639">issue#13639</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6839">pr#6839</a>, xie xingguo)</li>
<li>common: ThreadPool add/remove work queue methods not thread safe (<a class="reference external" href="http://tracker.ceph.com/issues/12662">issue#12662</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5889">pr#5889</a>, Jason Dillaman)</li>
<li>common: auth/cephx: large amounts of log are produced by osd (<a class="reference external" href="http://tracker.ceph.com/issues/13610">issue#13610</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6835">pr#6835</a>, Qiankun Zheng)</li>
<li>common: client nonce collision due to unshared pid namespaces (<a class="reference external" href="http://tracker.ceph.com/issues/13032">issue#13032</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6151">pr#6151</a>, Josh Durgin)</li>
<li>common: common/Thread:pthread_attr_destroy(thread_attr) when done with it (<a class="reference external" href="http://tracker.ceph.com/issues/12570">issue#12570</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6157">pr#6157</a>, Piotr Dałek)</li>
<li>common: log: Log.cc: Assign LOG_DEBUG priority to syslog calls (<a class="reference external" href="http://tracker.ceph.com/issues/13993">issue#13993</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6994">pr#6994</a>, Brad Hubbard)</li>
<li>common: objecter: cancellation bugs (<a class="reference external" href="http://tracker.ceph.com/issues/13071">issue#13071</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6155">pr#6155</a>, Jianpeng Ma)</li>
<li>common: pure virtual method called (<a class="reference external" href="http://tracker.ceph.com/issues/13636">issue#13636</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6587">pr#6587</a>, Jason Dillaman)</li>
<li>common: small probability sigabrt when setting rados_osd_op_timeout (<a class="reference external" href="http://tracker.ceph.com/issues/13208">issue#13208</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6143">pr#6143</a>, Ruifeng Yang)</li>
<li>common: wrong conditional for boolean function KeyServer::get_auth() (<a class="reference external" href="http://tracker.ceph.com/issues/9756">issue#9756</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13424">issue#13424</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6213">pr#6213</a>, Nathan Cutler)</li>
<li>crush: crash if we see CRUSH_ITEM_NONE in early rule step (<a class="reference external" href="http://tracker.ceph.com/issues/13477">issue#13477</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6430">pr#6430</a>, Sage Weil)</li>
<li>doc: man: document listwatchers cmd in &#8220;rados&#8221; manpage (<a class="reference external" href="http://tracker.ceph.com/issues/14556">issue#14556</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7434">pr#7434</a>, Kefu Chai)</li>
<li>doc: regenerate man pages, add orphans commands to radosgw-admin(8) (<a class="reference external" href="http://tracker.ceph.com/issues/14637">issue#14637</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7524">pr#7524</a>, Ken Dreyer)</li>
<li>fs: CephFS restriction on removing cache tiers is overly strict (<a class="reference external" href="http://tracker.ceph.com/issues/11504">issue#11504</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6402">pr#6402</a>, John Spray)</li>
<li>fs: fsstress.sh fails (<a class="reference external" href="http://tracker.ceph.com/issues/12710">issue#12710</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7454">pr#7454</a>, Yan, Zheng)</li>
<li>librados: LibRadosWatchNotify.WatchNotify2Timeout (<a class="reference external" href="http://tracker.ceph.com/issues/13114">issue#13114</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6336">pr#6336</a>, Sage Weil)</li>
<li>librbd: ImageWatcher shouldn&#8217;t block the notification thread (<a class="reference external" href="http://tracker.ceph.com/issues/14373">issue#14373</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7407">pr#7407</a>, Jason Dillaman)</li>
<li>librbd: diff_iterate needs to handle holes in parent images (<a class="reference external" href="http://tracker.ceph.com/issues/12885">issue#12885</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6097">pr#6097</a>, Jason Dillaman)</li>
<li>librbd: fix merge-diff for &gt;2GB diff-files (<a class="reference external" href="http://tracker.ceph.com/issues/14030">issue#14030</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6980">pr#6980</a>, Jason Dillaman)</li>
<li>librbd: invalidate object map on error even w/o holding lock (<a class="reference external" href="http://tracker.ceph.com/issues/13372">issue#13372</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6289">pr#6289</a>, Jason Dillaman)</li>
<li>librbd: reads larger than cache size hang (<a class="reference external" href="http://tracker.ceph.com/issues/13164">issue#13164</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6354">pr#6354</a>, Lu Shi)</li>
<li>mds: ceph mds add_data_pool check for EC pool is wrong (<a class="reference external" href="http://tracker.ceph.com/issues/12426">issue#12426</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5766">pr#5766</a>, John Spray)</li>
<li>mon: MonitorDBStore: get_next_key() only if prefix matches (<a class="reference external" href="http://tracker.ceph.com/issues/11786">issue#11786</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5361">pr#5361</a>, Joao Eduardo Luis)</li>
<li>mon: OSDMonitor: do not assume a session exists in send_incremental() (<a class="reference external" href="http://tracker.ceph.com/issues/14236">issue#14236</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7150">pr#7150</a>, Joao Eduardo Luis)</li>
<li>mon: check for store writeablility before participating in election (<a class="reference external" href="http://tracker.ceph.com/issues/13089">issue#13089</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6144">pr#6144</a>, Sage Weil)</li>
<li>mon: compact full epochs also (<a class="reference external" href="http://tracker.ceph.com/issues/14537">issue#14537</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7446">pr#7446</a>, Kefu Chai)</li>
<li>mon: include min_last_epoch_clean as part of PGMap::print_summary and PGMap::dump (<a class="reference external" href="http://tracker.ceph.com/issues/13198">issue#13198</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6152">pr#6152</a>, Guang Yang)</li>
<li>mon: map_cache can become inaccurate if osd does not receive the osdmaps (<a class="reference external" href="http://tracker.ceph.com/issues/10930">issue#10930</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5773">pr#5773</a>, Kefu Chai)</li>
<li>mon: should not set isvalid = true when cephx_verify_authorizer return false (<a class="reference external" href="http://tracker.ceph.com/issues/13525">issue#13525</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6391">pr#6391</a>, Ruifeng Yang)</li>
<li>osd: Ceph Pools&#8217; MAX AVAIL is 0 if some OSDs&#8217; weight is 0 (<a class="reference external" href="http://tracker.ceph.com/issues/13840">issue#13840</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6834">pr#6834</a>, Chengyuan Li)</li>
<li>osd: FileStore calls syncfs(2) even it is not supported (<a class="reference external" href="http://tracker.ceph.com/issues/12512">issue#12512</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5530">pr#5530</a>, Kefu Chai)</li>
<li>osd: FileStore: potential memory leak if getattrs fails. (<a class="reference external" href="http://tracker.ceph.com/issues/13597">issue#13597</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6420">pr#6420</a>, xie xingguo)</li>
<li>osd: IO error on kvm/rbd with an erasure coded pool tier (<a class="reference external" href="http://tracker.ceph.com/issues/12012">issue#12012</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5897">pr#5897</a>, Kefu Chai)</li>
<li>osd: OSD::build_past_intervals_parallel() shall reset primary and up_primary when begin a new past_interval. (<a class="reference external" href="http://tracker.ceph.com/issues/13471">issue#13471</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6398">pr#6398</a>, xiexingguo)</li>
<li>osd: ReplicatedBackend: populate recovery_info.size for clone (bug symptom is size mismatch on replicated backend on a clone in scrub) (<a class="reference external" href="http://tracker.ceph.com/issues/12828">issue#12828</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6153">pr#6153</a>, Samuel Just)</li>
<li>osd: ReplicatedPG: wrong result code checking logic during sparse_read (<a class="reference external" href="http://tracker.ceph.com/issues/14151">issue#14151</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7179">pr#7179</a>, xie xingguo)</li>
<li>osd: ReplicatedPG::hit_set_trim osd/ReplicatedPG.cc: 11006: FAILED assert(obc) (<a class="reference external" href="http://tracker.ceph.com/issues/13192">issue#13192</a>, <a class="reference external" href="http://tracker.ceph.com/issues/9732">issue#9732</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12968">issue#12968</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5825">pr#5825</a>, Kefu Chai, Zhiqiang Wang, Samuel Just, David Zafman)</li>
<li>osd: avoid multi set osd_op.outdata in tier pool (<a class="reference external" href="http://tracker.ceph.com/issues/12540">issue#12540</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6060">pr#6060</a>, Xinze Chi)</li>
<li>osd: bug with cache/tiering and snapshot reads (<a class="reference external" href="http://tracker.ceph.com/issues/12748">issue#12748</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6589">pr#6589</a>, Kefu Chai)</li>
<li>osd: ceph osd pool stats broken in hammer (<a class="reference external" href="http://tracker.ceph.com/issues/13843">issue#13843</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7180">pr#7180</a>, BJ Lougee)</li>
<li>osd: ceph-disk prepare fails if device is a symlink (<a class="reference external" href="http://tracker.ceph.com/issues/13438">issue#13438</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7176">pr#7176</a>, Joe Julian)</li>
<li>osd: check for full before changing the cached obc (hammer) (<a class="reference external" href="http://tracker.ceph.com/issues/13098">issue#13098</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6918">pr#6918</a>, Alexey Sheplyakov)</li>
<li>osd: config_opts: increase suicide timeout to 300 to match recovery (<a class="reference external" href="http://tracker.ceph.com/issues/14376">issue#14376</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7236">pr#7236</a>, Samuel Just)</li>
<li>osd: disable filestore_xfs_extsize by default (<a class="reference external" href="http://tracker.ceph.com/issues/14397">issue#14397</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7411">pr#7411</a>, Ken Dreyer)</li>
<li>osd: do not cache unused memory in attrs (<a class="reference external" href="http://tracker.ceph.com/issues/12565">issue#12565</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6499">pr#6499</a>, Xinze Chi, Ning Yao)</li>
<li>osd: dumpling incrementals do not work properly on hammer and newer (<a class="reference external" href="http://tracker.ceph.com/issues/13234">issue#13234</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6132">pr#6132</a>, Samuel Just)</li>
<li>osd: filestore: fix peek_queue for OpSequencer (<a class="reference external" href="http://tracker.ceph.com/issues/13209">issue#13209</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6145">pr#6145</a>, Xinze Chi)</li>
<li>osd: hit set clear repops fired in same epoch as map change &#8211; segfault since they fall into the new interval even though the repops are cleared (<a class="reference external" href="http://tracker.ceph.com/issues/12809">issue#12809</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5890">pr#5890</a>, Samuel Just)</li>
<li>osd: object_info_t::decode() has wrong version (<a class="reference external" href="http://tracker.ceph.com/issues/13462">issue#13462</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6335">pr#6335</a>, David Zafman)</li>
<li>osd: osd/OSD.cc: 2469: FAILED assert(pg_stat_queue.empty()) on shutdown (<a class="reference external" href="http://tracker.ceph.com/issues/14212">issue#14212</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7178">pr#7178</a>, Sage Weil)</li>
<li>osd: osd/PG.cc: 288: FAILED assert(info.last_epoch_started &gt;= info.history.last_epoch_started) (<a class="reference external" href="http://tracker.ceph.com/issues/14015">issue#14015</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7177">pr#7177</a>, David Zafman)</li>
<li>osd: osd/PG.cc: 3837: FAILED assert(0 == &#8220;Running incompatible OSD&#8221;) (<a class="reference external" href="http://tracker.ceph.com/issues/11661">issue#11661</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7206">pr#7206</a>, David Zafman)</li>
<li>osd: osd/ReplicatedPG: Recency fix (<a class="reference external" href="http://tracker.ceph.com/issues/14320">issue#14320</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7207">pr#7207</a>, Sage Weil, Robert LeBlanc)</li>
<li>osd: pg stuck in replay (<a class="reference external" href="http://tracker.ceph.com/issues/13116">issue#13116</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6401">pr#6401</a>, Sage Weil)</li>
<li>osd: race condition detected during send_failures (<a class="reference external" href="http://tracker.ceph.com/issues/13821">issue#13821</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6755">pr#6755</a>, Sage Weil)</li>
<li>osd: randomize scrub times (<a class="reference external" href="http://tracker.ceph.com/issues/10973">issue#10973</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6199">pr#6199</a>, Kefu Chai)</li>
<li>osd: requeue_scrub when kick_object_context_blocked (<a class="reference external" href="http://tracker.ceph.com/issues/12515">issue#12515</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5891">pr#5891</a>, Xinze Chi)</li>
<li>osd: revert: use GMT time for hitsets (<a class="reference external" href="http://tracker.ceph.com/issues/13812">issue#13812</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6644">pr#6644</a>, Loic Dachary)</li>
<li>osd: segfault in agent_work (<a class="reference external" href="http://tracker.ceph.com/issues/13199">issue#13199</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6146">pr#6146</a>, Samuel Just)</li>
<li>osd: should recalc the min_last_epoch_clean when decode PGMap (<a class="reference external" href="http://tracker.ceph.com/issues/13112">issue#13112</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6154">pr#6154</a>, Kefu Chai)</li>
<li>osd: smaller object_info_t xattrs (<a class="reference external" href="http://tracker.ceph.com/issues/14803">issue#14803</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6544">pr#6544</a>, Sage Weil)</li>
<li>osd: we do not ignore notify from down osds (<a class="reference external" href="http://tracker.ceph.com/issues/12990">issue#12990</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6158">pr#6158</a>, Samuel Just)</li>
<li>rbd: QEMU hangs after creating snapshot and stopping VM (<a class="reference external" href="http://tracker.ceph.com/issues/13726">issue#13726</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6586">pr#6586</a>, Jason Dillaman)</li>
<li>rbd: TaskFinisher::cancel should remove event from SafeTimer (<a class="reference external" href="http://tracker.ceph.com/issues/14476">issue#14476</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7417">pr#7417</a>, Douglas Fuller)</li>
<li>rbd: avoid re-writing old-format image header on resize (<a class="reference external" href="http://tracker.ceph.com/issues/13674">issue#13674</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6585">pr#6585</a>, Jason Dillaman)</li>
<li>rbd: fix bench-write (<a class="reference external" href="http://tracker.ceph.com/issues/14225">issue#14225</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7183">pr#7183</a>, Sage Weil)</li>
<li>rbd: rbd-replay does not check for EOF and goes to endless loop (<a class="reference external" href="http://tracker.ceph.com/issues/14452">issue#14452</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7416">pr#7416</a>, Mykola Golub)</li>
<li>rbd: rbd-replay-prep and rbd-replay improvements (<a class="reference external" href="http://tracker.ceph.com/issues/13221">issue#13221</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13220">issue#13220</a>, <a class="reference external" href="http://tracker.ceph.com/issues/13378">issue#13378</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6286">pr#6286</a>, Jason Dillaman)</li>
<li>rbd: verify self-managed snapshot functionality on image create (<a class="reference external" href="http://tracker.ceph.com/issues/13633">issue#13633</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7182">pr#7182</a>, Jason Dillaman)</li>
<li>rgw: Make RGW_MAX_PUT_SIZE configurable (<a class="reference external" href="http://tracker.ceph.com/issues/6999">issue#6999</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7441">pr#7441</a>, Vladislav Odintsov, Yuan Zhou)</li>
<li>rgw: Setting ACL on Object removes ETag (<a class="reference external" href="http://tracker.ceph.com/issues/12955">issue#12955</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6620">pr#6620</a>, Brian Felton)</li>
<li>rgw: backport content-type casing (<a class="reference external" href="http://tracker.ceph.com/issues/12939">issue#12939</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5910">pr#5910</a>, Robin H. Johnson)</li>
<li>rgw: bucket listing hangs on versioned buckets (<a class="reference external" href="http://tracker.ceph.com/issues/12913">issue#12913</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6352">pr#6352</a>, Yehuda Sadeh)</li>
<li>rgw: fix wrong etag calculation during POST on S3 bucket. (<a class="reference external" href="http://tracker.ceph.com/issues/11241">issue#11241</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7442">pr#7442</a>, Vladislav Odintsov, Radoslaw Zarzynski)</li>
<li>rgw: get bucket location returns region name, not region api name (<a class="reference external" href="http://tracker.ceph.com/issues/13458">issue#13458</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6349">pr#6349</a>, Yehuda Sadeh)</li>
<li>rgw: missing handling of encoding-type=url when listing keys in bucket (<a class="reference external" href="http://tracker.ceph.com/issues/12735">issue#12735</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6527">pr#6527</a>, Jeff Weber)</li>
<li>rgw: orphan tool should be careful about removing head objects (<a class="reference external" href="http://tracker.ceph.com/issues/12958">issue#12958</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6351">pr#6351</a>, Yehuda Sadeh)</li>
<li>rgw: orphans finish segfaults (<a class="reference external" href="http://tracker.ceph.com/issues/13824">issue#13824</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7186">pr#7186</a>, Igor Fedotov)</li>
<li>rgw: rgw-admin: document orphans commands in usage (<a class="reference external" href="http://tracker.ceph.com/issues/14516">issue#14516</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7526">pr#7526</a>, Yehuda Sadeh)</li>
<li>rgw: swift API returns more than real object count and bytes used when retrieving account metadata (<a class="reference external" href="http://tracker.ceph.com/issues/13140">issue#13140</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6512">pr#6512</a>, Sangdi Xu)</li>
<li>rgw: swift use Civetweb ssl can not get right url (<a class="reference external" href="http://tracker.ceph.com/issues/13628">issue#13628</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6491">pr#6491</a>, Weijun Duan)</li>
<li>rgw: value of Swift API&#8217;s X-Object-Manifest header is not url_decoded during segment look up (<a class="reference external" href="http://tracker.ceph.com/issues/12728">issue#12728</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6353">pr#6353</a>, Radoslaw Zarzynski)</li>
<li>tests: fixed broken Makefiles after integration of ttng into rados (<a class="reference external" href="http://tracker.ceph.com/issues/13210">issue#13210</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6322">pr#6322</a>, Sebastien Ponce)</li>
<li>tests: fsx failed to compile (<a class="reference external" href="http://tracker.ceph.com/issues/14384">issue#14384</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7501">pr#7501</a>, Greg Farnum)</li>
<li>tests: notification slave needs to wait for master (<a class="reference external" href="http://tracker.ceph.com/issues/13810">issue#13810</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7226">pr#7226</a>, Jason Dillaman)</li>
<li>tests: qa: remove legacy OS support from rbd/qemu-iotests (<a class="reference external" href="http://tracker.ceph.com/issues/13483">issue#13483</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14385">issue#14385</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7252">pr#7252</a>, Vasu Kulkarni, Jason Dillaman)</li>
<li>tests: testprofile must be removed before it is re-created (<a class="reference external" href="http://tracker.ceph.com/issues/13664">issue#13664</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6450">pr#6450</a>, Loic Dachary)</li>
<li>tools: ceph-monstore-tool must do out_store.close() (<a class="reference external" href="http://tracker.ceph.com/issues/10093">issue#10093</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7347">pr#7347</a>, huangjun)</li>
<li>tools: heavy memory shuffling in rados bench (<a class="reference external" href="http://tracker.ceph.com/issues/12946">issue#12946</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5810">pr#5810</a>, Piotr Dałek)</li>
<li>tools: race condition in rados bench (<a class="reference external" href="http://tracker.ceph.com/issues/12947">issue#12947</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6791">pr#6791</a>, Piotr Dałek)</li>
<li>tools: tool for artificially inflate the leveldb of the mon store for testing purposes  (<a class="reference external" href="http://tracker.ceph.com/issues/10093">issue#10093</a>, <a class="reference external" href="http://tracker.ceph.com/issues/11815">issue#11815</a>, <a class="reference external" href="http://tracker.ceph.com/issues/14217">issue#14217</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/7412">pr#7412</a>, Cilang Zhao, Bo Cai, Kefu Chai, huangjun, Joao Eduardo Luis)</li>
</ul>
</div>
</div>
<div class="section" id="v0-94-5-hammer">
<h2>v0.94.5 Hammer<a class="headerlink" href="#v0-94-5-hammer" title="Permalink to this headline">¶</a></h2>
<p>This Hammer point release fixes a critical regression in librbd that can cause
QEMU/KVM to crash when caching is enabled on images that have been cloned.</p>
<p>All v0.94.4 Hammer users are strongly encouraged to upgrade.</p>
<div class="section" id="id2454">
<h3>Notable Changes<a class="headerlink" href="#id2454" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>librbd: potential assertion failure during cache read (<a class="reference external" href="http://tracker.ceph.com/issues/13559">issue#13559</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6348">pr#6348</a>, Jason Dillaman)</li>
<li>osd: osd/ReplicatedPG: remove stray debug line (<a class="reference external" href="http://tracker.ceph.com/issues/13455">issue#13455</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6362">pr#6362</a>, Sage Weil)</li>
<li>tests: qemu workunit refers to apt-mirror.front.sepia.ceph.com (<a class="reference external" href="http://tracker.ceph.com/issues/13420">issue#13420</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6330">pr#6330</a>, Yuan Zhou)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.94.5.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-94-4-hammer">
<h2>v0.94.4 Hammer<a class="headerlink" href="#v0-94-4-hammer" title="Permalink to this headline">¶</a></h2>
<p>This Hammer point release fixes several important bugs in Hammer, as well as
fixing interoperability issues that are required before an upgrade to
Infernalis. That is, all users of earlier version of Hammer or any
version of Firefly will first need to upgrade to hammer v0.94.4 or
later before upgrading to Infernalis (or future releases).</p>
<p>All v0.94.x Hammer users are strongly encouraged to upgrade.</p>
<div class="section" id="id2455">
<h3>Notable Changes<a class="headerlink" href="#id2455" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build/ops: ceph.spec.in: 50-rbd.rules conditional is wrong (<a class="reference external" href="http://tracker.ceph.com/issues/12166">issue#12166</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5207">pr#5207</a>, Nathan Cutler)</li>
<li>build/ops: ceph.spec.in: ceph-common needs python-argparse on older distros, but doesn&#8217;t require it (<a class="reference external" href="http://tracker.ceph.com/issues/12034">issue#12034</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5216">pr#5216</a>, Nathan Cutler)</li>
<li>build/ops: ceph.spec.in: radosgw requires apache for SUSE only &#8211; makes no sense (<a class="reference external" href="http://tracker.ceph.com/issues/12358">issue#12358</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5411">pr#5411</a>, Nathan Cutler)</li>
<li>build/ops: ceph.spec.in: rpm: cephfs_java not fully conditionalized (<a class="reference external" href="http://tracker.ceph.com/issues/11991">issue#11991</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5202">pr#5202</a>, Nathan Cutler)</li>
<li>build/ops: ceph.spec.in: rpm: not possible to turn off Java (<a class="reference external" href="http://tracker.ceph.com/issues/11992">issue#11992</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5203">pr#5203</a>, Owen Synge)</li>
<li>build/ops: ceph.spec.in: running fdupes unnecessarily (<a class="reference external" href="http://tracker.ceph.com/issues/12301">issue#12301</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5223">pr#5223</a>, Nathan Cutler)</li>
<li>build/ops: ceph.spec.in: snappy-devel for all supported distros (<a class="reference external" href="http://tracker.ceph.com/issues/12361">issue#12361</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5264">pr#5264</a>, Nathan Cutler)</li>
<li>build/ops: ceph.spec.in: SUSE/openSUSE builds need libbz2-devel (<a class="reference external" href="http://tracker.ceph.com/issues/11629">issue#11629</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5204">pr#5204</a>, Nathan Cutler)</li>
<li>build/ops: ceph.spec.in: useless %py_requires breaks SLE11-SP3 build (<a class="reference external" href="http://tracker.ceph.com/issues/12351">issue#12351</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5412">pr#5412</a>, Nathan Cutler)</li>
<li>build/ops: error in ext_mime_map_init() when /etc/mime.types is missing (<a class="reference external" href="http://tracker.ceph.com/issues/11864">issue#11864</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5385">pr#5385</a>, Ken Dreyer)</li>
<li>build/ops: upstart: limit respawn to 3 in 30 mins (instead of 5 in 30s) (<a class="reference external" href="http://tracker.ceph.com/issues/11798">issue#11798</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5930">pr#5930</a>, Sage Weil)</li>
<li>build/ops: With root as default user, unable to have multiple RGW instances running (<a class="reference external" href="http://tracker.ceph.com/issues/10927">issue#10927</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6161">pr#6161</a>, Sage Weil)</li>
<li>build/ops: With root as default user, unable to have multiple RGW instances running (<a class="reference external" href="http://tracker.ceph.com/issues/11140">issue#11140</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6161">pr#6161</a>, Sage Weil)</li>
<li>build/ops: With root as default user, unable to have multiple RGW instances running (<a class="reference external" href="http://tracker.ceph.com/issues/11686">issue#11686</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6161">pr#6161</a>, Sage Weil)</li>
<li>build/ops: With root as default user, unable to have multiple RGW instances running (<a class="reference external" href="http://tracker.ceph.com/issues/12407">issue#12407</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6161">pr#6161</a>, Sage Weil)</li>
<li>cli: ceph: cli throws exception on unrecognized errno (<a class="reference external" href="http://tracker.ceph.com/issues/11354">issue#11354</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5368">pr#5368</a>, Kefu Chai)</li>
<li>cli: ceph tell: broken error message / misleading hinting (<a class="reference external" href="http://tracker.ceph.com/issues/11101">issue#11101</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5371">pr#5371</a>, Kefu Chai)</li>
<li>common: arm: all programs that link to librados2 hang forever on startup (<a class="reference external" href="http://tracker.ceph.com/issues/12505">issue#12505</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5366">pr#5366</a>, Boris Ranto)</li>
<li>common: buffer: critical bufferlist::zero bug (<a class="reference external" href="http://tracker.ceph.com/issues/12252">issue#12252</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5365">pr#5365</a>, Haomai Wang)</li>
<li>common: ceph-object-corpus: add 0.94.2-207-g88e7ee7 hammer objects (<a class="reference external" href="http://tracker.ceph.com/issues/13070">issue#13070</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5551">pr#5551</a>, Sage Weil)</li>
<li>common: do not insert emtpy ptr when rebuild emtpy bufferlist (<a class="reference external" href="http://tracker.ceph.com/issues/12775">issue#12775</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5764">pr#5764</a>, Xinze Chi)</li>
<li>common: [  FAILED  ] TestLibRBD.BlockingAIO (<a class="reference external" href="http://tracker.ceph.com/issues/12479">issue#12479</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5768">pr#5768</a>, Jason Dillaman)</li>
<li>common: LibCephFS.GetPoolId failure (<a class="reference external" href="http://tracker.ceph.com/issues/12598">issue#12598</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5887">pr#5887</a>, Yan, Zheng)</li>
<li>common: Memory leak in Mutex.cc, pthread_mutexattr_init without pthread_mutexattr_destroy (<a class="reference external" href="http://tracker.ceph.com/issues/11762">issue#11762</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5378">pr#5378</a>, Ketor Meng)</li>
<li>common: object_map_update fails with -EINVAL return code (<a class="reference external" href="http://tracker.ceph.com/issues/12611">issue#12611</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5559">pr#5559</a>, Jason Dillaman)</li>
<li>common: Pipe: Drop connect_seq increase line (<a class="reference external" href="http://tracker.ceph.com/issues/13093">issue#13093</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5908">pr#5908</a>, Haomai Wang)</li>
<li>common: recursive lock of md_config_t (0) (<a class="reference external" href="http://tracker.ceph.com/issues/12614">issue#12614</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5759">pr#5759</a>, Josh Durgin)</li>
<li>crush: ceph osd crush reweight-subtree does not reweight parent node (<a class="reference external" href="http://tracker.ceph.com/issues/11855">issue#11855</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5374">pr#5374</a>, Sage Weil)</li>
<li>doc: update docs to point to download.ceph.com (<a class="reference external" href="http://tracker.ceph.com/issues/13162">issue#13162</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6156">pr#6156</a>, Alfredo Deza)</li>
<li>fs: ceph-fuse 0.94.2-1trusty segfaults / aborts (<a class="reference external" href="http://tracker.ceph.com/issues/12297">issue#12297</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5381">pr#5381</a>, Greg Farnum)</li>
<li>fs: segfault launching ceph-fuse with bad &#8211;name (<a class="reference external" href="http://tracker.ceph.com/issues/12417">issue#12417</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5382">pr#5382</a>, John Spray)</li>
<li>librados: Change radosgw pools default crush ruleset (<a class="reference external" href="http://tracker.ceph.com/issues/11640">issue#11640</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5754">pr#5754</a>, Yuan Zhou)</li>
<li>librbd: correct issues discovered via lockdep / helgrind (<a class="reference external" href="http://tracker.ceph.com/issues/12345">issue#12345</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5296">pr#5296</a>, Jason Dillaman)</li>
<li>librbd: Crash during TestInternal.MultipleResize (<a class="reference external" href="http://tracker.ceph.com/issues/12664">issue#12664</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5769">pr#5769</a>, Jason Dillaman)</li>
<li>librbd: deadlock during cooperative exclusive lock transition (<a class="reference external" href="http://tracker.ceph.com/issues/11537">issue#11537</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5319">pr#5319</a>, Jason Dillaman)</li>
<li>librbd: Possible crash while concurrently writing and shrinking an image (<a class="reference external" href="http://tracker.ceph.com/issues/11743">issue#11743</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5318">pr#5318</a>, Jason Dillaman)</li>
<li>mon: add a cache layer over MonitorDBStore (<a class="reference external" href="http://tracker.ceph.com/issues/12638">issue#12638</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5697">pr#5697</a>, Kefu Chai)</li>
<li>mon: fix crush testing for new pools (<a class="reference external" href="http://tracker.ceph.com/issues/13400">issue#13400</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6192">pr#6192</a>, Sage Weil)</li>
<li>mon: get pools health&#8217;info have error (<a class="reference external" href="http://tracker.ceph.com/issues/12402">issue#12402</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5369">pr#5369</a>, renhwztetecs)</li>
<li>mon: implicit erasure code crush ruleset is not validated (<a class="reference external" href="http://tracker.ceph.com/issues/11814">issue#11814</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5276">pr#5276</a>, Loic Dachary)</li>
<li>mon: PaxosService: call post_refresh() instead of post_paxos_update() (<a class="reference external" href="http://tracker.ceph.com/issues/11470">issue#11470</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5359">pr#5359</a>, Joao Eduardo Luis)</li>
<li>mon: pgmonitor: wrong at/near target max“ reporting (<a class="reference external" href="http://tracker.ceph.com/issues/12401">issue#12401</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5370">pr#5370</a>, huangjun)</li>
<li>mon: register_new_pgs() should check ruleno instead of its index (<a class="reference external" href="http://tracker.ceph.com/issues/12210">issue#12210</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5377">pr#5377</a>, Xinze Chi)</li>
<li>mon: Show osd as NONE in ceph osd map &lt;pool&gt; &lt;object&gt;  output (<a class="reference external" href="http://tracker.ceph.com/issues/11820">issue#11820</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5376">pr#5376</a>, Shylesh Kumar)</li>
<li>mon: the output is wrong when runing ceph osd reweight (<a class="reference external" href="http://tracker.ceph.com/issues/12251">issue#12251</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5372">pr#5372</a>, Joao Eduardo Luis)</li>
<li>osd: allow peek_map_epoch to return an error (<a class="reference external" href="http://tracker.ceph.com/issues/13060">issue#13060</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5892">pr#5892</a>, Sage Weil)</li>
<li>osd: cache agent is idle although one object is left in the cache (<a class="reference external" href="http://tracker.ceph.com/issues/12673">issue#12673</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5765">pr#5765</a>, Loic Dachary)</li>
<li>osd: copy-from doesn&#8217;t preserve truncate_{seq,size} (<a class="reference external" href="http://tracker.ceph.com/issues/12551">issue#12551</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5885">pr#5885</a>, Samuel Just)</li>
<li>osd: crash creating/deleting pools (<a class="reference external" href="http://tracker.ceph.com/issues/12429">issue#12429</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5527">pr#5527</a>, John Spray)</li>
<li>osd: fix repair when recorded digest is wrong (<a class="reference external" href="http://tracker.ceph.com/issues/12577">issue#12577</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5468">pr#5468</a>, Sage Weil)</li>
<li>osd: include/ceph_features: define HAMMER_0_94_4 feature (<a class="reference external" href="http://tracker.ceph.com/issues/13026">issue#13026</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5687">pr#5687</a>, Sage Weil)</li>
<li>osd: is_new_interval() fixes (<a class="reference external" href="http://tracker.ceph.com/issues/10399">issue#10399</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5691">pr#5691</a>, Jason Dillaman)</li>
<li>osd: is_new_interval() fixes (<a class="reference external" href="http://tracker.ceph.com/issues/11771">issue#11771</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5691">pr#5691</a>, Jason Dillaman)</li>
<li>osd: long standing slow requests: connection-&gt;session-&gt;waiting_for_map-&gt;connection ref cycle (<a class="reference external" href="http://tracker.ceph.com/issues/12338">issue#12338</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5761">pr#5761</a>, Samuel Just)</li>
<li>osd: Mutex Assert from PipeConnection::try_get_pipe (<a class="reference external" href="http://tracker.ceph.com/issues/12437">issue#12437</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5758">pr#5758</a>, David Zafman)</li>
<li>osd: pg_interval_t::check_new_interval - for ec pool, should not rely on min_size to determine if the PG was active at the interval (<a class="reference external" href="http://tracker.ceph.com/issues/12162">issue#12162</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5373">pr#5373</a>, Guang G Yang)</li>
<li>osd: PGLog.cc: 732: FAILED assert(log.log.size() == log_keys_debug.size()) (<a class="reference external" href="http://tracker.ceph.com/issues/12652">issue#12652</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5763">pr#5763</a>, Sage Weil)</li>
<li>osd: PGLog::proc_replica_log: correctly handle case where entries between olog.head and log.tail were split out (<a class="reference external" href="http://tracker.ceph.com/issues/11358">issue#11358</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5380">pr#5380</a>, Samuel Just)</li>
<li>osd: read on chunk-aligned xattr not handled (<a class="reference external" href="http://tracker.ceph.com/issues/12309">issue#12309</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5367">pr#5367</a>, Sage Weil)</li>
<li>osd: suicide timeout during peering - search for missing objects (<a class="reference external" href="http://tracker.ceph.com/issues/12523">issue#12523</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5762">pr#5762</a>, Guang G Yang)</li>
<li>osd: WBThrottle::clear_object: signal on cond when we reduce throttle values (<a class="reference external" href="http://tracker.ceph.com/issues/12223">issue#12223</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5757">pr#5757</a>, Samuel Just)</li>
<li>rbd: crash during shutdown after writeback blocked by IO errors (<a class="reference external" href="http://tracker.ceph.com/issues/12597">issue#12597</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5767">pr#5767</a>, Jianpeng Ma)</li>
<li>rgw: add delimiter to prefix only when path is specified (<a class="reference external" href="http://tracker.ceph.com/issues/12960">issue#12960</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5860">pr#5860</a>, Sylvain Baubeau)</li>
<li>rgw: create a tool for orphaned objects cleanup (<a class="reference external" href="http://tracker.ceph.com/issues/9604">issue#9604</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5717">pr#5717</a>, Yehuda Sadeh)</li>
<li>rgw: don&#8217;t preserve acls when copying object (<a class="reference external" href="http://tracker.ceph.com/issues/11563">issue#11563</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6039">pr#6039</a>, Yehuda Sadeh)</li>
<li>rgw: don&#8217;t preserve acls when copying object (<a class="reference external" href="http://tracker.ceph.com/issues/12370">issue#12370</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6039">pr#6039</a>, Yehuda Sadeh)</li>
<li>rgw: don&#8217;t preserve acls when copying object (<a class="reference external" href="http://tracker.ceph.com/issues/13015">issue#13015</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6039">pr#6039</a>, Yehuda Sadeh)</li>
<li>rgw: Ensure that swift keys don&#8217;t include backslashes (<a class="reference external" href="http://tracker.ceph.com/issues/7647">issue#7647</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5716">pr#5716</a>, Yehuda Sadeh)</li>
<li>rgw: GWWatcher::handle_error -&gt; common/Mutex.cc: 95: FAILED assert(r == 0) (<a class="reference external" href="http://tracker.ceph.com/issues/12208">issue#12208</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6164">pr#6164</a>, Yehuda Sadeh)</li>
<li>rgw: HTTP return code is not being logged by CivetWeb  (<a class="reference external" href="http://tracker.ceph.com/issues/12432">issue#12432</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5498">pr#5498</a>, Yehuda Sadeh)</li>
<li>rgw: init_rados failed leads to repeated delete (<a class="reference external" href="http://tracker.ceph.com/issues/12978">issue#12978</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6165">pr#6165</a>, Xiaowei Chen)</li>
<li>rgw: init some manifest fields when handling explicit objs (<a class="reference external" href="http://tracker.ceph.com/issues/11455">issue#11455</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5732">pr#5732</a>, Yehuda Sadeh)</li>
<li>rgw: Keystone Fernet tokens break auth (<a class="reference external" href="http://tracker.ceph.com/issues/12761">issue#12761</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6162">pr#6162</a>, Abhishek Lekshmanan)</li>
<li>rgw: region data still exist in region-map after region-map update (<a class="reference external" href="http://tracker.ceph.com/issues/12964">issue#12964</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6163">pr#6163</a>, dwj192)</li>
<li>rgw: remove trailing :port from host for purposes of subdomain matching (<a class="reference external" href="http://tracker.ceph.com/issues/12353">issue#12353</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6042">pr#6042</a>, Yehuda Sadeh)</li>
<li>rgw: rest-bench common/WorkQueue.cc: 54: FAILED assert(_threads.empty()) (<a class="reference external" href="http://tracker.ceph.com/issues/3896">issue#3896</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5383">pr#5383</a>, huangjun)</li>
<li>rgw: returns requested bucket name raw in Bucket response header (<a class="reference external" href="http://tracker.ceph.com/issues/12537">issue#12537</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5715">pr#5715</a>, Yehuda Sadeh)</li>
<li>rgw: segmentation fault when rgw_gc_max_objs &gt; HASH_PRIME (<a class="reference external" href="http://tracker.ceph.com/issues/12630">issue#12630</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5719">pr#5719</a>, Ruifeng Yang)</li>
<li>rgw: segments are read during HEAD on Swift DLO (<a class="reference external" href="http://tracker.ceph.com/issues/12780">issue#12780</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6160">pr#6160</a>, Yehuda Sadeh)</li>
<li>rgw: setting max number of buckets for user via ceph.conf option  (<a class="reference external" href="http://tracker.ceph.com/issues/12714">issue#12714</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6166">pr#6166</a>, Vikhyat Umrao)</li>
<li>rgw: Swift API: X-Trans-Id header is wrongly formatted (<a class="reference external" href="http://tracker.ceph.com/issues/12108">issue#12108</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5721">pr#5721</a>, Radoslaw Zarzynski)</li>
<li>rgw: testGetContentType and testHead failed (<a class="reference external" href="http://tracker.ceph.com/issues/11091">issue#11091</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5718">pr#5718</a>, Radoslaw Zarzynski)</li>
<li>rgw: testGetContentType and testHead failed (<a class="reference external" href="http://tracker.ceph.com/issues/11438">issue#11438</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5718">pr#5718</a>, Radoslaw Zarzynski)</li>
<li>rgw: testGetContentType and testHead failed (<a class="reference external" href="http://tracker.ceph.com/issues/12157">issue#12157</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5718">pr#5718</a>, Radoslaw Zarzynski)</li>
<li>rgw: testGetContentType and testHead failed (<a class="reference external" href="http://tracker.ceph.com/issues/12158">issue#12158</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5718">pr#5718</a>, Radoslaw Zarzynski)</li>
<li>rgw: testGetContentType and testHead failed (<a class="reference external" href="http://tracker.ceph.com/issues/12363">issue#12363</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5718">pr#5718</a>, Radoslaw Zarzynski)</li>
<li>rgw: the arguments &#8216;domain&#8217; should not be assigned when return false (<a class="reference external" href="http://tracker.ceph.com/issues/12629">issue#12629</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5720">pr#5720</a>, Ruifeng Yang)</li>
<li>tests: qa/workunits/cephtool/test.sh: don&#8217;t assume crash_replay_interval=45 (<a class="reference external" href="http://tracker.ceph.com/issues/13406">issue#13406</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6172">pr#6172</a>, Sage Weil)</li>
<li>tests: TEST_crush_rule_create_erasure consistently fails on i386 builder (<a class="reference external" href="http://tracker.ceph.com/issues/12419">issue#12419</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6201">pr#6201</a>, Loic Dachary)</li>
<li>tools: ceph-disk zap should ensure block device (<a class="reference external" href="http://tracker.ceph.com/issues/11272">issue#11272</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5755">pr#5755</a>, Loic Dachary)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.94.4.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-94-3-hammer">
<h2>v0.94.3 Hammer<a class="headerlink" href="#v0-94-3-hammer" title="Permalink to this headline">¶</a></h2>
<p>This Hammer point release fixes a critical (though rare) data
corruption bug that could be triggered when logs are rotated via
SIGHUP.  It also fixes a range of other important bugs in the OSD,
monitor, RGW, RGW, and CephFS.</p>
<p>All v0.94.x Hammer users are strongly encouraged to upgrade.</p>
<div class="section" id="id2467">
<h3>Upgrading<a class="headerlink" href="#id2467" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">pg</span> <span class="pre">ls-by-{pool,primary,osd}</span></tt> commands and <tt class="docutils literal"><span class="pre">pg</span> <span class="pre">ls</span></tt> now take
the argument <tt class="docutils literal"><span class="pre">recovering</span></tt> instead of <tt class="docutils literal"><span class="pre">recovery</span></tt> in order to
include the recovering pgs in the listed pgs.</li>
</ul>
</div>
<div class="section" id="id2468">
<h3>Notable Changes<a class="headerlink" href="#id2468" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>librbd: aio calls may block (<a class="reference external" href="http://tracker.ceph.com/issues/11770">issue#11770</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4875">pr#4875</a>, Jason Dillaman)</li>
<li>osd: make the all osd/filestore thread pool suicide timeouts separately configurable (<a class="reference external" href="http://tracker.ceph.com/issues/11701">issue#11701</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5159">pr#5159</a>, Samuel Just)</li>
<li>mon: ceph fails to compile with boost 1.58 (<a class="reference external" href="http://tracker.ceph.com/issues/11982">issue#11982</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5122">pr#5122</a>, Kefu Chai)</li>
<li>tests: TEST_crush_reject_empty must not run a mon (<a class="reference external" href="http://tracker.ceph.com/issues/12285,11975">issue#12285,11975</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5208">pr#5208</a>, Kefu Chai)</li>
<li>osd: FAILED assert(!old_value.deleted()) in upgrade:giant-x-hammer-distro-basic-multi run (<a class="reference external" href="http://tracker.ceph.com/issues/11983">issue#11983</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5121">pr#5121</a>, Samuel Just)</li>
<li>build/ops: linking ceph to tcmalloc causes segfault on SUSE SLE11-SP3 (<a class="reference external" href="http://tracker.ceph.com/issues/12368">issue#12368</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5265">pr#5265</a>, Thorsten Behrens)</li>
<li>common: utf8 and old gcc breakage on RHEL6.5 (<a class="reference external" href="http://tracker.ceph.com/issues/7387">issue#7387</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4687">pr#4687</a>, Kefu Chai)</li>
<li>crush: take crashes due to invalid arg (<a class="reference external" href="http://tracker.ceph.com/issues/11740">issue#11740</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4891">pr#4891</a>, Sage Weil)</li>
<li>rgw: need conversion tool to handle fixes following #11974 (<a class="reference external" href="http://tracker.ceph.com/issues/12502">issue#12502</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5384">pr#5384</a>, Yehuda Sadeh)</li>
<li>rgw: Swift API: support for 202 Accepted response code on container creation (<a class="reference external" href="http://tracker.ceph.com/issues/12299">issue#12299</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5214">pr#5214</a>, Radoslaw Zarzynski)</li>
<li>common: Log::reopen_log_file: take m_flush_mutex (<a class="reference external" href="http://tracker.ceph.com/issues/12520">issue#12520</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5405">pr#5405</a>, Samuel Just)</li>
<li>rgw: Properly respond to the Connection header with Civetweb (<a class="reference external" href="http://tracker.ceph.com/issues/12398">issue#12398</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5284">pr#5284</a>, Wido den Hollander)</li>
<li>rgw: multipart list part response returns incorrect field (<a class="reference external" href="http://tracker.ceph.com/issues/12399">issue#12399</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5285">pr#5285</a>, Henry Chang)</li>
<li>build/ops: ceph.spec.in: 95-ceph-osd.rules, mount.ceph, and mount.fuse.ceph not installed properly on SUSE (<a class="reference external" href="http://tracker.ceph.com/issues/12397">issue#12397</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5283">pr#5283</a>, Nathan Cutler)</li>
<li>rgw: radosgw-admin dumps user info twice (<a class="reference external" href="http://tracker.ceph.com/issues/12400">issue#12400</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5286">pr#5286</a>, guce)</li>
<li>doc: fix doc build (<a class="reference external" href="http://tracker.ceph.com/issues/12180">issue#12180</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5095">pr#5095</a>, Kefu Chai)</li>
<li>tests: backport 11493 fixes, and test, preventing ec cache pools (<a class="reference external" href="http://tracker.ceph.com/issues/12314">issue#12314</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4961">pr#4961</a>, Samuel Just)</li>
<li>rgw: does not send Date HTTP header when civetweb frontend is used (<a class="reference external" href="http://tracker.ceph.com/issues/11872">issue#11872</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5228">pr#5228</a>, Radoslaw Zarzynski)</li>
<li>mon: pg ls is broken (<a class="reference external" href="http://tracker.ceph.com/issues/11910">issue#11910</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5160">pr#5160</a>, Kefu Chai)</li>
<li>librbd: A client opening an image mid-resize can result in the object map being invalidated (<a class="reference external" href="http://tracker.ceph.com/issues/12237">issue#12237</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5279">pr#5279</a>, Jason Dillaman)</li>
<li>doc: missing man pages for ceph-create-keys, ceph-disk-* (<a class="reference external" href="http://tracker.ceph.com/issues/11862">issue#11862</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4846">pr#4846</a>, Nathan Cutler)</li>
<li>tools: ceph-post-file fails on rhel7 (<a class="reference external" href="http://tracker.ceph.com/issues/11876">issue#11876</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5038">pr#5038</a>, Sage Weil)</li>
<li>build/ops: rcceph script is buggy (<a class="reference external" href="http://tracker.ceph.com/issues/12090">issue#12090</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5028">pr#5028</a>, Owen Synge)</li>
<li>rgw: Bucket header is enclosed by quotes (<a class="reference external" href="http://tracker.ceph.com/issues/11874">issue#11874</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4862">pr#4862</a>, Wido den Hollander)</li>
<li>build/ops: packaging: add SuSEfirewall2 service files (<a class="reference external" href="http://tracker.ceph.com/issues/12092">issue#12092</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5030">pr#5030</a>, Tim Serong)</li>
<li>rgw: Keystone PKI token expiration is not enforced (<a class="reference external" href="http://tracker.ceph.com/issues/11722">issue#11722</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4884">pr#4884</a>, Anton Aksola)</li>
<li>build/ops: debian/control: ceph-common (&gt;&gt; 0.94.2) must be &gt;= 0.94.2-2 (<a class="reference external" href="http://tracker.ceph.com/issues/12529,11998">issue#12529,11998</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5417">pr#5417</a>, Loic Dachary)</li>
<li>mon: Clock skew causes missing summary and confuses Calamari (<a class="reference external" href="http://tracker.ceph.com/issues/11879">issue#11879</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4868">pr#4868</a>, Thorsten Behrens)</li>
<li>rgw: rados objects wronly deleted (<a class="reference external" href="http://tracker.ceph.com/issues/12099">issue#12099</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5117">pr#5117</a>, wuxingyi)</li>
<li>tests: kernel_untar_build fails on EL7 (<a class="reference external" href="http://tracker.ceph.com/issues/12098">issue#12098</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5119">pr#5119</a>, Greg Farnum)</li>
<li>fs: Fh ref count will leak if readahead does not need to do read from osd (<a class="reference external" href="http://tracker.ceph.com/issues/12319">issue#12319</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5427">pr#5427</a>, Zhi Zhang)</li>
<li>mon: OSDMonitor: allow addition of cache pool with non-empty snaps with co… (<a class="reference external" href="http://tracker.ceph.com/issues/12595">issue#12595</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5252">pr#5252</a>, Samuel Just)</li>
<li>mon: MDSMonitor: handle MDSBeacon messages properly (<a class="reference external" href="http://tracker.ceph.com/issues/11979">issue#11979</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5123">pr#5123</a>, Kefu Chai)</li>
<li>tools: ceph-disk: get_partition_type fails on /dev/cciss... (<a class="reference external" href="http://tracker.ceph.com/issues/11760">issue#11760</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4892">pr#4892</a>, islepnev)</li>
<li>build/ops: max files open limit for OSD daemon is too low (<a class="reference external" href="http://tracker.ceph.com/issues/12087">issue#12087</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5026">pr#5026</a>, Owen Synge)</li>
<li>mon: add an &#8220;osd crush tree&#8221; command (<a class="reference external" href="http://tracker.ceph.com/issues/11833">issue#11833</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5248">pr#5248</a>, Kefu Chai)</li>
<li>mon: mon crashes when &#8220;ceph osd tree 85 &#8211;format json&#8221; (<a class="reference external" href="http://tracker.ceph.com/issues/11975">issue#11975</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4936">pr#4936</a>, Kefu Chai)</li>
<li>build/ops: ceph / ceph-dbg steal ceph-objecstore-tool from ceph-test / ceph-test-dbg (<a class="reference external" href="http://tracker.ceph.com/issues/11806">issue#11806</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5069">pr#5069</a>, Loic Dachary)</li>
<li>rgw: DragonDisk fails to create directories via S3: MissingContentLength (<a class="reference external" href="http://tracker.ceph.com/issues/12042">issue#12042</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5118">pr#5118</a>, Yehuda Sadeh)</li>
<li>build/ops: /usr/bin/ceph from ceph-common is broken without installing ceph (<a class="reference external" href="http://tracker.ceph.com/issues/11998">issue#11998</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5206">pr#5206</a>, Ken Dreyer)</li>
<li>build/ops: systemd: Increase max files open limit for OSD daemon (<a class="reference external" href="http://tracker.ceph.com/issues/11964">issue#11964</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5040">pr#5040</a>, Owen Synge)</li>
<li>build/ops: rgw/logrotate.conf calls service with wrong init script name (<a class="reference external" href="http://tracker.ceph.com/issues/12044">issue#12044</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5055">pr#5055</a>, wuxingyi)</li>
<li>common: OPT_INT option interprets 3221225472 as -1073741824, and crashes in Throttle::Throttle() (<a class="reference external" href="http://tracker.ceph.com/issues/11738">issue#11738</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4889">pr#4889</a>, Kefu Chai)</li>
<li>doc: doc/release-notes: v0.94.2 (<a class="reference external" href="http://tracker.ceph.com/issues/11492">issue#11492</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4934">pr#4934</a>, Sage Weil)</li>
<li>common: admin_socket: close socket descriptor in destructor (<a class="reference external" href="http://tracker.ceph.com/issues/11706">issue#11706</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4657">pr#4657</a>, Jon Bernard)</li>
<li>rgw: Object copy bug (<a class="reference external" href="http://tracker.ceph.com/issues/11755">issue#11755</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4885">pr#4885</a>, Javier M. Mellid)</li>
<li>rgw: empty json response when getting user quota (<a class="reference external" href="http://tracker.ceph.com/issues/12245">issue#12245</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5237">pr#5237</a>, wuxingyi)</li>
<li>fs: cephfs Dumper tries to load whole journal into memory at once (<a class="reference external" href="http://tracker.ceph.com/issues/11999">issue#11999</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5120">pr#5120</a>, John Spray)</li>
<li>rgw: Fix tool for #11442 does not correctly fix objects created via multipart uploads (<a class="reference external" href="http://tracker.ceph.com/issues/12242">issue#12242</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5229">pr#5229</a>, Yehuda Sadeh)</li>
<li>rgw: Civetweb RGW appears to report full size of object as downloaded when only partially downloaded (<a class="reference external" href="http://tracker.ceph.com/issues/12243">issue#12243</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5231">pr#5231</a>, Yehuda Sadeh)</li>
<li>osd: stuck incomplete (<a class="reference external" href="http://tracker.ceph.com/issues/12362">issue#12362</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5269">pr#5269</a>, Samuel Just)</li>
<li>osd: start_flush: filter out removed snaps before determining snapc&#8217;s (<a class="reference external" href="http://tracker.ceph.com/issues/11911">issue#11911</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4899">pr#4899</a>, Samuel Just)</li>
<li>librbd: internal.cc: 1967: FAILED assert(watchers.size() == 1) (<a class="reference external" href="http://tracker.ceph.com/issues/12239">issue#12239</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5243">pr#5243</a>, Jason Dillaman)</li>
<li>librbd: new QA client upgrade tests (<a class="reference external" href="http://tracker.ceph.com/issues/12109">issue#12109</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5046">pr#5046</a>, Jason Dillaman)</li>
<li>librbd: [  FAILED  ] TestLibRBD.ExclusiveLockTransition (<a class="reference external" href="http://tracker.ceph.com/issues/12238">issue#12238</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5241">pr#5241</a>, Jason Dillaman)</li>
<li>rgw: Swift API: XML document generated in response for GET on account does not contain account name (<a class="reference external" href="http://tracker.ceph.com/issues/12323">issue#12323</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5227">pr#5227</a>, Radoslaw Zarzynski)</li>
<li>rgw: keystone does not support chunked input (<a class="reference external" href="http://tracker.ceph.com/issues/12322">issue#12322</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5226">pr#5226</a>, Hervé Rousseau)</li>
<li>mds: MDS is crashed (mds/CDir.cc: 1391: FAILED assert(!is_complete())) (<a class="reference external" href="http://tracker.ceph.com/issues/11737">issue#11737</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4886">pr#4886</a>, Yan, Zheng)</li>
<li>cli: ceph: cli interactive mode does not understand quotes (<a class="reference external" href="http://tracker.ceph.com/issues/11736">issue#11736</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4776">pr#4776</a>, Kefu Chai)</li>
<li>librbd: add valgrind memory checks for unit tests (<a class="reference external" href="http://tracker.ceph.com/issues/12384">issue#12384</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5280">pr#5280</a>, Zhiqiang Wang)</li>
<li>build/ops: admin/build-doc: script fails silently under certain circumstances (<a class="reference external" href="http://tracker.ceph.com/issues/11902">issue#11902</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4877">pr#4877</a>, John Spray)</li>
<li>osd: Fixes for rados ops with snaps (<a class="reference external" href="http://tracker.ceph.com/issues/11908">issue#11908</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4902">pr#4902</a>, Samuel Just)</li>
<li>build/ops: ceph.spec.in: ceph-common subpackage def needs tweaking for SUSE/openSUSE (<a class="reference external" href="http://tracker.ceph.com/issues/12308">issue#12308</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4883">pr#4883</a>, Nathan Cutler)</li>
<li>fs: client: reference counting &#8216;struct Fh&#8217; (<a class="reference external" href="http://tracker.ceph.com/issues/12088">issue#12088</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5222">pr#5222</a>, Yan, Zheng)</li>
<li>build/ops: ceph.spec: update OpenSUSE BuildRequires  (<a class="reference external" href="http://tracker.ceph.com/issues/11611">issue#11611</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4667">pr#4667</a>, Loic Dachary)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.94.3.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-94-2-hammer">
<h2>v0.94.2 Hammer<a class="headerlink" href="#v0-94-2-hammer" title="Permalink to this headline">¶</a></h2>
<p>This Hammer point release fixes a few critical bugs in RGW that can
prevent objects starting with underscore from behaving properly and
that prevent garbage collection of deleted objects when using the
Civetweb standalone mode.</p>
<p>All v0.94.x Hammer users are strongly encouraged to upgrade, and to
make note of the repair procedure below if RGW is in use.</p>
<div class="section" id="upgrading-from-previous-hammer-release">
<h3>Upgrading from previous Hammer release<a class="headerlink" href="#upgrading-from-previous-hammer-release" title="Permalink to this headline">¶</a></h3>
<p>Bug #11442 introduced a change that made rgw objects that start with underscore
incompatible with previous versions. The fix to that bug reverts to the
previous behavior. In order to be able to access objects that start with an
underscore and were created in prior Hammer releases, following the upgrade it
is required to run (for each affected bucket):</p>
<div class="highlight-python"><pre>$ radosgw-admin bucket check --check-head-obj-locator \
                             --bucket=&lt;bucket&gt; [--fix]</pre>
</div>
</div>
<div class="section" id="id2469">
<h3>Notable changes<a class="headerlink" href="#id2469" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build: compilation error: No high-precision counter available  (armhf, powerpc..) (#11432, James Page)</li>
<li>ceph-dencoder links to libtcmalloc, and shouldn&#8217;t (#10691, Boris Ranto)</li>
<li>ceph-disk: disk zap sgdisk invocation (#11143, Owen Synge)</li>
<li>ceph-disk: use a new disk as journal disk,ceph-disk prepare fail (#10983, Loic Dachary)</li>
<li>ceph-objectstore-tool should be in the ceph server package (#11376, Ken Dreyer)</li>
<li>librados: can get stuck in redirect loop if osdmap epoch == last_force_op_resend (#11026, Jianpeng Ma)</li>
<li>librbd: A retransmit of proxied flatten request can result in -EINVAL (Jason Dillaman)</li>
<li>librbd: ImageWatcher should cancel in-flight ops on watch error (#11363, Jason Dillaman)</li>
<li>librbd: Objectcacher setting max object counts too low (#7385, Jason Dillaman)</li>
<li>librbd: Periodic failure of TestLibRBD.DiffIterateStress (#11369, Jason Dillaman)</li>
<li>librbd: Queued AIO reference counters not properly updated (#11478, Jason Dillaman)</li>
<li>librbd: deadlock in image refresh (#5488, Jason Dillaman)</li>
<li>librbd: notification race condition on snap_create (#11342, Jason Dillaman)</li>
<li>mds: Hammer uclient checking (#11510, John Spray)</li>
<li>mds: remove caps from revoking list when caps are voluntarily released (#11482, Yan, Zheng)</li>
<li>messenger: double clear of pipe in reaper (#11381, Haomai Wang)</li>
<li>mon: Total size of OSDs is a maginitude less than it is supposed to be. (#11534, Zhe Zhang)</li>
<li>osd: don&#8217;t check order in finish_proxy_read (#11211, Zhiqiang Wang)</li>
<li>osd: handle old semi-deleted pgs after upgrade (#11429, Samuel Just)</li>
<li>osd: object creation by write cannot use an offset on an erasure coded pool (#11507, Jianpeng Ma)</li>
<li>rgw: Improve rgw HEAD request by avoiding read the body of the first chunk (#11001, Guang Yang)</li>
<li>rgw: civetweb is hitting a limit (number of threads 1024) (#10243, Yehuda Sadeh)</li>
<li>rgw: civetweb should use unique request id (#10295, Orit Wasserman)</li>
<li>rgw: critical fixes for hammer (#11447, #11442, Yehuda Sadeh)</li>
<li>rgw: fix swift COPY headers (#10662, #10663, #11087, #10645, Radoslaw Zarzynski)</li>
<li>rgw: improve performance for large object  (multiple chunks) GET (#11322, Guang Yang)</li>
<li>rgw: init-radosgw: run RGW as root (#11453, Ken Dreyer)</li>
<li>rgw: keystone token cache does not work correctly (#11125, Yehuda Sadeh)</li>
<li>rgw: make quota/gc thread configurable for starting (#11047, Guang Yang)</li>
<li>rgw: make swift responses of RGW return last-modified, content-length, x-trans-id headers.(#10650, Radoslaw Zarzynski)</li>
<li>rgw: merge manifests correctly when there&#8217;s prefix override (#11622, Yehuda Sadeh)</li>
<li>rgw: quota not respected in POST object (#11323, Sergey Arkhipov)</li>
<li>rgw: restore buffer of multipart upload after EEXIST (#11604, Yehuda Sadeh)</li>
<li>rgw: shouldn&#8217;t need to disable rgw_socket_path if frontend is configured (#11160, Yehuda Sadeh)</li>
<li>rgw: swift: Response header of GET request for container does not contain X-Container-Object-Count, X-Container-Bytes-Used and x-trans-id headers (#10666, Dmytro Iurchenko)</li>
<li>rgw: swift: Response header of POST request for object does not contain content-length and x-trans-id headers (#10661, Radoslaw Zarzynski)</li>
<li>rgw: swift: response for GET/HEAD on container does not contain the X-Timestamp header (#10938, Radoslaw Zarzynski)</li>
<li>rgw: swift: response for PUT on /container does not contain the mandatory Content-Length header when FCGI is used (#11036, #10971, Radoslaw Zarzynski)</li>
<li>rgw: swift: wrong handling of empty metadata on Swift container (#11088, Radoslaw Zarzynski)</li>
<li>tests: TestFlatIndex.cc races with TestLFNIndex.cc (#11217, Xinze Chi)</li>
<li>tests: ceph-helpers kill_daemons fails when kill fails (#11398, Loic Dachary)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.94.2.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-94-1-hammer">
<h2>v0.94.1 Hammer<a class="headerlink" href="#v0-94-1-hammer" title="Permalink to this headline">¶</a></h2>
<p>This bug fix release fixes a few critical issues with CRUSH.  The most
important addresses a bug in feature bit enforcement that may prevent
pre-hammer clients from communicating with the cluster during an
upgrade.  This only manifests in some cases (for example, when the
&#8216;rack&#8217; type is in use in the CRUSH map, and possibly other cases), but for
safety we strongly recommend that all users use 0.94.1 instead of 0.94 when
upgrading.</p>
<p>There is also a fix in the new straw2 buckets when OSD weights are 0.</p>
<p>We recommend that all v0.94 users upgrade.</p>
<div class="section" id="id2470">
<h3>Notable changes<a class="headerlink" href="#id2470" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>crush: fix divide-by-0 in straw2 (#11357 Sage Weil)</li>
<li>crush: fix has_v4_buckets (#11364 Sage Weil)</li>
<li>osd: fix negative degraded objects during backfilling (#7737 Guang Yang)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.94.1.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-94-hammer">
<h2>v0.94 Hammer<a class="headerlink" href="#v0-94-hammer" title="Permalink to this headline">¶</a></h2>
<p>This major release is expected to form the basis of the next long-term
stable series.  It is intended to supersede v0.80.x Firefly.</p>
<p>Highlights since Giant include:</p>
<ul class="simple">
<li><em>RADOS Performance</em>: a range of improvements have been made in the
OSD and client-side librados code that improve the throughput on
flash backends and improve parallelism and scaling on fast machines.</li>
<li><em>Simplified RGW deployment</em>: the ceph-deploy tool now has a new
&#8216;ceph-deploy rgw create HOST&#8217; command that quickly deploys a
instance of the S3/Swift gateway using the embedded Civetweb server.
This is vastly simpler than the previous Apache-based deployment.
There are a few rough edges (e.g., around SSL support) but we
encourage users to try <a class="reference external" href="../start/quick-ceph-deploy/#add-an-rgw-instance">the new method</a>.</li>
<li><em>RGW object versioning</em>: RGW now supports the S3 object versioning
API, which preserves old version of objects instead of overwriting
them.</li>
<li><em>RGW bucket sharding</em>: RGW can now shard the bucket index for large
buckets across, improving performance for very large buckets.</li>
<li><em>RBD object maps</em>: RBD now has an object map function that tracks
which parts of the image are allocating, improving performance for
clones and for commands like export and delete.</li>
<li><em>RBD mandatory locking</em>: RBD has a new mandatory locking framework
(still disabled by default) that adds additional safeguards to
prevent multiple clients from using the same image at the same time.</li>
<li><em>RBD copy-on-read</em>: RBD now supports copy-on-read for image clones,
improving performance for some workloads.</li>
<li><em>CephFS snapshot improvements</em>: Many many bugs have been fixed with
CephFS snapshots.  Although they are still disabled by default,
stability has improved significantly.</li>
<li><em>CephFS Recovery tools</em>: We have built some journal recovery and
diagnostic tools. Stability and performance of single-MDS systems is
vastly improved in Giant, and more improvements have been made now
in Hammer.  Although we still recommend caution when storing
important data in CephFS, we do encourage testing for non-critical
workloads so that we can better guage the feature, usability,
performance, and stability gaps.</li>
<li><em>CRUSH improvements</em>: We have added a new straw2 bucket algorithm
that reduces the amount of data migration required when changes are
made to the cluster.</li>
<li><em>Shingled erasure codes (SHEC)</em>: The OSDs now have experimental
support for shingled erasure codes, which allow a small amount of
additional storage to be traded for improved recovery performance.</li>
<li><em>RADOS cache tiering</em>: A series of changes have been made in the
cache tiering code that improve performance and reduce latency.</li>
<li><em>RDMA support</em>: There is now experimental support the RDMA via the
Accelio (libxio) library.</li>
<li><em>New administrator commands</em>: The &#8216;ceph osd df&#8217; command shows
pertinent details on OSD disk utilizations.  The &#8216;ceph pg ls ...&#8217;
command makes it much simpler to query PG states while diagnosing
cluster issues.</li>
</ul>
<p>Other highlights since Firefly include:</p>
<ul class="simple">
<li><em>CephFS</em>: we have fixed a raft of bugs in CephFS and built some
basic journal recovery and diagnostic tools.  Stability and
performance of single-MDS systems is vastly improved in Giant.
Although we do not yet recommend CephFS for production deployments,
we do encourage testing for non-critical workloads so that we can
better guage the feature, usability, performance, and stability
gaps.</li>
<li><em>Local Recovery Codes</em>: the OSDs now support an erasure-coding scheme
that stores some additional data blocks to reduce the IO required to
recover from single OSD failures.</li>
<li><em>Degraded vs misplaced</em>: the Ceph health reports from &#8216;ceph -s&#8217; and
related commands now make a distinction between data that is
degraded (there are fewer than the desired number of copies) and
data that is misplaced (stored in the wrong location in the
cluster).  The distinction is important because the latter does not
compromise data safety.</li>
<li><em>Tiering improvements</em>: we have made several improvements to the
cache tiering implementation that improve performance.  Most
notably, objects are not promoted into the cache tier by a single
read; they must be found to be sufficiently hot before that happens.</li>
<li><em>Monitor performance</em>: the monitors now perform writes to the local
data store asynchronously, improving overall responsiveness.</li>
<li><em>Recovery tools</em>: the ceph-objectstore-tool is greatly expanded to
allow manipulation of an individual OSDs data store for debugging
and repair purposes.  This is most heavily used by our QA
infrastructure to exercise recovery code.</li>
</ul>
<p>I would like to take this opportunity to call out the amazing growth
in contributors to Ceph beyond the core development team from Inktank.
Hammer features major new features and improvements from Intel, Fujitsu,
UnitedStack, Yahoo, UbuntuKylin, CohortFS, Mellanox, CERN, Deutsche
Telekom, Mirantis, and SanDisk.</p>
<div class="section" id="dedication">
<h3>Dedication<a class="headerlink" href="#dedication" title="Permalink to this headline">¶</a></h3>
<p>This release is dedicated in memoriam to Sandon Van Ness, aka
Houkouonchi, who unexpectedly passed away a few weeks ago.  Sandon was
responsible for maintaining the large and complex Sepia lab that
houses the Ceph project&#8217;s build and test infrastructure.  His efforts
have made an important impact on our ability to reliably test Ceph
with a relatively small group of people.  He was a valued member of
the team and we will miss him.  H is also for Houkouonchi.</p>
</div>
<div class="section" id="id2471">
<h3>Upgrading<a class="headerlink" href="#id2471" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">If your existing cluster is running a version older than v0.80.x
Firefly, please first upgrade to the latest Firefly release before
moving on to Giant.  We have not tested upgrades directly from
Emperor, Dumpling, or older releases.</p>
<p>We <em>have</em> tested:</p>
<blockquote>
<div><ul class="simple">
<li>Firefly to Hammer</li>
<li>Giant to Hammer</li>
<li>Dumpling to Firefly to Hammer</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Please upgrade daemons in the following order:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Monitors</li>
<li>OSDs</li>
<li>MDSs and/or radosgw</li>
</ol>
</div></blockquote>
<p>Note that the relative ordering of OSDs and monitors should not matter, but
we primarily tested upgrading monitors first.</p>
</li>
<li><p class="first">The ceph-osd daemons will perform a disk-format upgrade improve the
PG metadata layout and to repair a minor bug in the on-disk format.
It may take a minute or two for this to complete, depending on how
many objects are stored on the node; do not be alarmed if they do
not marked &#8220;up&#8221; by the cluster immediately after starting.</p>
</li>
<li><dl class="first docutils">
<dt>If upgrading from v0.93, set</dt>
<dd><p class="first last">osd enable degraded writes = false</p>
</dd>
</dl>
<p>on all osds prior to upgrading.  The degraded writes feature has
been reverted due to 11155.</p>
</li>
<li><p class="first">The LTTNG tracing in librbd and librados is disabled in the release packages
until we find a way to avoid violating distro security policies when linking
libust.</p>
</li>
</ul>
</div>
<div class="section" id="upgrading-from-v0-87-x-giant">
<h3>Upgrading from v0.87.x Giant<a class="headerlink" href="#upgrading-from-v0-87-x-giant" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">librbd and librados include lttng tracepoints on distros with
liblttng 2.4 or later (only Ubuntu Trusty for the ceph.com
packages). When running a daemon that uses these libraries, i.e. an
application that calls fork(2) or clone(2) without exec(3), you must
set LD_PRELOAD=liblttng-ust-fork.so.0 to prevent a crash in the
lttng atexit handler when the process exits. The only ceph tool that
requires this is rbd-fuse.</p>
</li>
<li><p class="first">If rgw_socket_path is defined and rgw_frontends defines a
socket_port and socket_host, we now allow the rgw_frontends settings
to take precedence.  This change should only affect users who have
made non-standard changes to their radosgw configuration.</p>
</li>
<li><p class="first">If you are upgrading specifically from v0.92, you must stop all OSD
daemons and flush their journals (<tt class="docutils literal"><span class="pre">ceph-osd</span> <span class="pre">-i</span> <span class="pre">NNN</span>
<span class="pre">--flush-journal</span></tt>) before upgrading.  There was a transaction
encoding bug in v0.92 that broke compatibility.  Upgrading from v0.93,
v0.91, or anything earlier is safe.</p>
</li>
<li><p class="first">The experimental &#8216;keyvaluestore-dev&#8217; OSD backend has been renamed
&#8216;keyvaluestore&#8217; (for simplicity) and marked as experimental.  To
enable this untested feature and acknowledge that you understand
that it is untested and may destroy data, you need to add the
following to your ceph.conf:</p>
<div class="highlight-python"><pre>enable experimental unrecoverable data corrupting featuers = keyvaluestore</pre>
</div>
</li>
<li><p class="first">The following librados C API function calls take a &#8216;flags&#8217; argument whose value
is now correctly interpreted:</p>
<blockquote>
<div><p>rados_write_op_operate()
rados_aio_write_op_operate()
rados_read_op_operate()
rados_aio_read_op_operate()</p>
</div></blockquote>
<p>The flags were not correctly being translated from the librados constants to the
internal values.  Now they are.  Any code that is passing flags to these methods
should be audited to ensure that they are using the correct LIBRADOS_OP_FLAG_*
constants.</p>
</li>
<li><p class="first">The &#8216;rados&#8217; CLI &#8216;copy&#8217; and &#8216;cppool&#8217; commands now use the copy-from operation,
which means the latest CLI cannot run these commands against pre-firefly OSDs.</p>
</li>
<li><p class="first">The librados watch/notify API now includes a watch_flush() operation to flush
the async queue of notify operations.  This should be called by any watch/notify
user prior to rados_shutdown().</p>
</li>
<li><p class="first">The &#8216;category&#8217; field for objects has been removed.  This was originally added
to track PG stat summations over different categories of objects for use by
radosgw.  It is no longer has any known users and is prone to abuse because it
can lead to a pg_stat_t structure that is unbounded.  The librados API calls
that accept this field now ignore it, and the OSD no longers tracks the
per-category summations.</p>
</li>
<li><p class="first">The output for &#8216;rados df&#8217; has changed.  The &#8216;category&#8217; level has been
eliminated, so there is now a single stat object per pool.  The structure of
the JSON output is different, and the plaintext output has one less column.</p>
</li>
<li><p class="first">The &#8216;rados create &lt;objectname&gt; [category]&#8217; optional category argument is no
longer supported or recognized.</p>
</li>
<li><p class="first">rados.py&#8217;s Rados class no longer has a __del__ method; it was causing
problems on interpreter shutdown and use of threads.  If your code has
Rados objects with limited lifetimes and you&#8217;re concerned about locked
resources, call Rados.shutdown() explicitly.</p>
</li>
<li><p class="first">There is a new version of the librados watch/notify API with vastly
improved semantics.  Any applications using this interface are
encouraged to migrate to the new API.  The old API calls are marked
as deprecated and will eventually be removed.</p>
</li>
<li><p class="first">The librados rados_unwatch() call used to be safe to call on an
invalid handle.  The new version has undefined behavior when passed
a bogus value (for example, when rados_watch() returns an error and
handle is not defined).</p>
</li>
<li><p class="first">The structure of the formatted &#8216;pg stat&#8217; command is changed for the
portion that counts states by name to avoid using the &#8216;+&#8217; character
(which appears in state names) as part of the XML token (it is not
legal).</p>
</li>
<li><p class="first">Previously, the formatted output of &#8216;ceph pg stat -f ...&#8217; was a full
pg dump that included all metadata about all PGs in the system.  It
is now a concise summary of high-level PG stats, just like the
unformatted &#8216;ceph pg stat&#8217; command.</p>
</li>
<li><p class="first">All JSON dumps of floating point values were incorrecting surrounding the
value with quotes.  These quotes have been removed.  Any consumer of structured
JSON output that was consuming the floating point values was previously having
to interpret the quoted string and will most likely need to be fixed to take
the unquoted number.</p>
</li>
<li><p class="first">New ability to list all objects from all namespaces that can fail or
return incomplete results when not all OSDs have been upgraded.
Features rados &#8211;all ls, rados cppool, rados export, rados
cache-flush-evict-all and rados cache-try-flush-evict-all can also
fail or return incomplete results.</p>
</li>
<li><p class="first">Due to a change in the Linux kernel version 3.18 and the limits of the FUSE
interface, ceph-fuse needs be mounted as root on at least some systems. See
issues #9997, #10277, and #10542 for details.</p>
</li>
</ul>
</div>
<div class="section" id="upgrading-from-v0-80x-firefly-additional-notes">
<h3>Upgrading from v0.80x Firefly (additional notes)<a class="headerlink" href="#upgrading-from-v0-80x-firefly-additional-notes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The client-side caching for librbd is now enabled by default (rbd
cache = true).  A safety option (rbd cache writethrough until flush
= true) is also enabled so that writeback caching is not used until
the library observes a &#8216;flush&#8217; command, indicating that the librbd
users is passing that operation through from the guest VM.  This
avoids potential data loss when used with older versions of qemu
that do not support flush.</p>
<blockquote>
<div><p>leveldb_write_buffer_size = 8*1024*1024  = 33554432   // 8MB
leveldb_cache_size        = 512*1024*1204 = 536870912 // 512MB
leveldb_block_size        = 64*1024       = 65536     // 64KB
leveldb_compression       = false
leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
<p>OSDs will still maintain the following osd-specific defaults:</p>
<blockquote>
<div><p>leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
</li>
<li><p class="first">The &#8216;rados getxattr ...&#8217; command used to add a gratuitous newline to the attr
value; it now does not.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">*_kb</span> <span class="pre">perf</span></tt> counters on the monitor have been removed.  These are
replaced with a new set of <tt class="docutils literal"><span class="pre">*_bytes</span></tt> counters (e.g., <tt class="docutils literal"><span class="pre">cluster_osd_kb</span></tt> is
replaced by <tt class="docutils literal"><span class="pre">cluster_osd_bytes</span></tt>).</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">rd_kb</span></tt> and <tt class="docutils literal"><span class="pre">wr_kb</span></tt> fields in the JSON dumps for pool stats (accessed
via the <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">df</span> <span class="pre">detail</span> <span class="pre">-f</span> <span class="pre">json-pretty</span></tt> and related commands) have been
replaced with corresponding <tt class="docutils literal"><span class="pre">*_bytes</span></tt> fields.  Similarly, the
<tt class="docutils literal"><span class="pre">total_space</span></tt>, <tt class="docutils literal"><span class="pre">total_used</span></tt>, and <tt class="docutils literal"><span class="pre">total_avail</span></tt> fields are replaced with
<tt class="docutils literal"><span class="pre">total_bytes</span></tt>, <tt class="docutils literal"><span class="pre">total_used_bytes</span></tt>,  and <tt class="docutils literal"><span class="pre">total_avail_bytes</span></tt> fields.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">rados</span> <span class="pre">df</span> <span class="pre">--format=json</span></tt> output <tt class="docutils literal"><span class="pre">read_bytes</span></tt> and <tt class="docutils literal"><span class="pre">write_bytes</span></tt>
fields were incorrectly reporting ops; this is now fixed.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">rados</span> <span class="pre">df</span> <span class="pre">--format=json</span></tt> output previously included <tt class="docutils literal"><span class="pre">read_kb</span></tt> and
<tt class="docutils literal"><span class="pre">write_kb</span></tt> fields; these have been removed.  Please use <tt class="docutils literal"><span class="pre">read_bytes</span></tt> and
<tt class="docutils literal"><span class="pre">write_bytes</span></tt> instead (and divide by 1024 if appropriate).</p>
</li>
<li><p class="first">The experimental keyvaluestore-dev OSD backend had an on-disk format
change that prevents existing OSD data from being upgraded.  This
affects developers and testers only.</p>
</li>
<li><p class="first">mon-specific and osd-specific leveldb options have been removed.
From this point onward users should use the <cite>leveldb_*</cite> generic
options and add the options in the appropriate sections of their
configuration files.  Monitors will still maintain the following
monitor-specific defaults:</p>
<blockquote>
<div><p>leveldb_write_buffer_size = 8*1024*1024  = 33554432   // 8MB
leveldb_cache_size        = 512*1024*1204 = 536870912 // 512MB
leveldb_block_size        = 64*1024       = 65536     // 64KB
leveldb_compression       = false
leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
<p>OSDs will still maintain the following osd-specific defaults:</p>
<blockquote>
<div><p>leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
</li>
<li><p class="first">CephFS support for the legacy anchor table has finally been removed.
Users with file systems created before firefly should ensure that inodes
with multiple hard links are modified <em>prior</em> to the upgrade to ensure that
the backtraces are written properly.  For example:</p>
<div class="highlight-python"><pre>sudo find /mnt/cephfs -type f -links +1 -exec touch \{\} \;</pre>
</div>
</li>
<li><p class="first">We disallow nonsensical &#8216;tier cache-mode&#8217; transitions.  From this point
onward, &#8216;writeback&#8217; can only transition to &#8216;forward&#8217; and &#8216;forward&#8217;
can transition to 1) &#8216;writeback&#8217; if there are dirty objects, or 2) any if
there are no dirty objects.</p>
</li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-93">
<h3>Notable changes since v0.93<a class="headerlink" href="#notable-changes-since-v0-93" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build: a few cmake fixes (Matt Benjamin)</li>
<li>build: fix build on RHEL/CentOS 5.9 (Rohan Mars)</li>
<li>build: reorganize Makefile to allow modular builds (Boris Ranto)</li>
<li>ceph-fuse: be more forgiving on remount (#10982 Greg Farnum)</li>
<li>ceph: improve CLI parsing (#11093 David Zafman)</li>
<li>common: fix cluster logging to default channel (#11177 Sage Weil)</li>
<li>crush: fix parsing of straw2 buckets (#11015 Sage Weil)</li>
<li>doc: update man pages (David Zafman)</li>
<li>librados: fix leak in C_TwoContexts (Xiong Yiliang)</li>
<li>librados: fix leak in watch/notify path (Sage Weil)</li>
<li>librbd: fix and improve AIO cache invalidation (#10958 Jason Dillaman)</li>
<li>librbd: fix memory leak (Jason Dillaman)</li>
<li>librbd: fix ordering/queueing of resize operations (Jason Dillaman)</li>
<li>librbd: validate image is r/w on resize/flatten (Jason Dillaman)</li>
<li>librbd: various internal locking fixes (Jason Dillaman)</li>
<li>lttng: tracing is disabled until we streamline dependencies (Josh Durgin)</li>
<li>mon: add bootstrap-rgw profile (Sage Weil)</li>
<li>mon: do not pollute mon dir with CSV files from CRUSH check (Loic Dachary)</li>
<li>mon: fix clock drift time check interval (#10546 Joao Eduardo Luis)</li>
<li>mon: fix units in store stats (Joao Eduardo Luis)</li>
<li>mon: improve error handling on erasure code profile set (#10488, #11144 Loic Dachary)</li>
<li>mon: set {read,write}_tier on &#8216;osd tier add-cache ...&#8217; (Jianpeng Ma)</li>
<li>ms: xio: fix misc bugs (Matt Benjamin, Vu Pham)</li>
<li>osd: DBObjectMap: fix locking to prevent rare crash (#9891 Samuel Just)</li>
<li>osd: fix and document last_epoch_started semantics (Samuel Just)</li>
<li>osd: fix divergent entry handling on PG split (Samuel Just)</li>
<li>osd: fix leak on shutdown (Kefu Chai)</li>
<li>osd: fix recording of digest on scrub (Samuel Just)</li>
<li>osd: fix whiteout handling (Sage Weil)</li>
<li>rbd: allow v2 striping parameters for clones and imports (Jason Dillaman)</li>
<li>rbd: fix formatted output of image features (Jason Dillaman)</li>
<li>rbd: updat eman page (Ilya Dryomov)</li>
<li>rgw: don&#8217;t overwrite bucket/object owner when setting ACLs (#10978 Yehuda Sadeh)</li>
<li>rgw: enable IPv6 for civetweb (#10965 Yehuda Sadeh)</li>
<li>rgw: fix sysvinit script when rgw_socket_path is not defined (#11159 Yehuda Sadeh, Dan Mick)</li>
<li>rgw: pass civetweb configurables through (#10907 Yehuda Sadeh)</li>
<li>rgw: use new watch/notify API (Yehuda Sadeh, Sage Weil)</li>
<li>osd: reverted degraded writes feature due to 11155</li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-87-x-giant">
<h3>Notable changes since v0.87.x Giant<a class="headerlink" href="#notable-changes-since-v0-87-x-giant" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>add experimental features option (Sage Weil)</li>
<li>arch: fix NEON feaeture detection (#10185 Loic Dachary)</li>
<li>asyncmsgr: misc fixes (Haomai Wang)</li>
<li>buffer: add &#8216;shareable&#8217; construct (Matt Benjamin)</li>
<li>buffer: add list::get_contiguous (Sage Weil)</li>
<li>buffer: avoid rebuild if buffer already contiguous (Jianpeng Ma)</li>
<li>build: CMake support (Ali Maredia, Casey Bodley, Adam Emerson, Marcus Watts, Matt Benjamin)</li>
<li>build: a few cmake fixes (Matt Benjamin)</li>
<li>build: aarch64 build fixes (Noah Watkins, Haomai Wang)</li>
<li>build: adjust build deps for yasm, virtualenv (Jianpeng Ma)</li>
<li>build: fix &#8216;make check&#8217; races (#10384 Loic Dachary)</li>
<li>build: fix build on RHEL/CentOS 5.9 (Rohan Mars)</li>
<li>build: fix pkg names when libkeyutils is missing (Pankag Garg, Ken Dreyer)</li>
<li>build: improve build dependency tooling (Loic Dachary)</li>
<li>build: reorganize Makefile to allow modular builds (Boris Ranto)</li>
<li>build: support for jemalloc (Shishir Gowda)</li>
<li>ceph-disk: Scientific Linux support (Dan van der Ster)</li>
<li>ceph-disk: allow journal partition re-use (#10146 Loic Dachary, Dav van der Ster)</li>
<li>ceph-disk: call partx/partprobe consistency (#9721 Loic Dachary)</li>
<li>ceph-disk: do not re-use partition if encryption is required (Loic Dachary)</li>
<li>ceph-disk: fix dmcrypt key permissions (Loic Dachary)</li>
<li>ceph-disk: fix umount race condition (#10096 Blaine Gardner)</li>
<li>ceph-disk: improved systemd support (Owen Synge)</li>
<li>ceph-disk: init=none option (Loic Dachary)</li>
<li>ceph-disk: misc fixes (Christos Stavrakakis)</li>
<li>ceph-disk: respect &#8211;statedir for keyring (Loic Dachary)</li>
<li>ceph-disk: set guid if reusing journal partition (Dan van der Ster)</li>
<li>ceph-disk: support LUKS for encrypted partitions (Andrew Bartlett, Loic Dachary)</li>
<li>ceph-fuse, libcephfs: POSIX file lock support (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: allow xattr caps in inject_release_failure (#9800 John Spray)</li>
<li>ceph-fuse, libcephfs: fix I_COMPLETE_ORDERED checks (#9894 Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: fix cap flush overflow (Greg Farnum, Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: fix root inode xattrs (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: preserve dir ordering (#9178 Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: trim inodes before reconnecting to MDS (Yan, Zheng)</li>
<li>ceph-fuse,libcephfs: add support for O_NOFOLLOW and O_PATH (Greg Farnum)</li>
<li>ceph-fuse,libcephfs: resend requests before completing cap reconnect (#10912 Yan, Zheng)</li>
<li>ceph-fuse: be more forgiving on remount (#10982 Greg Farnum)</li>
<li>ceph-fuse: fix dentry invalidation on 3.18+ kernels (#9997 Yan, Zheng)</li>
<li>ceph-fuse: fix kernel cache trimming (#10277 Yan, Zheng)</li>
<li>ceph-fuse: select kernel cache invalidation mechanism based on kernel version (Greg Farnum)</li>
<li>ceph-monstore-tool: fix shutdown (#10093 Loic Dachary)</li>
<li>ceph-monstore-tool: fix/improve CLI (Joao Eduardo Luis)</li>
<li>ceph-objectstore-tool: fix import (#10090 David Zafman)</li>
<li>ceph-objectstore-tool: improved import (David Zafman)</li>
<li>ceph-objectstore-tool: many improvements and tests (David Zafman)</li>
<li>ceph-objectstore-tool: many many improvements (David Zafman)</li>
<li>ceph-objectstore-tool: misc improvements, fixes (#9870 #9871 David Zafman)</li>
<li>ceph.spec: package rbd-replay-prep (Ken Dreyer)</li>
<li>ceph: add &#8216;ceph osd df [tree]&#8217; command (#10452 Mykola Golub)</li>
<li>ceph: do not parse injectargs twice (Loic Dachary)</li>
<li>ceph: fix &#8216;ceph tell ...&#8217; command validation (#10439 Joao Eduardo Luis)</li>
<li>ceph: improve &#8216;ceph osd tree&#8217; output (Mykola Golub)</li>
<li>ceph: improve CLI parsing (#11093 David Zafman)</li>
<li>ceph: make &#8216;ceph -s&#8217; output more readable (Sage Weil)</li>
<li>ceph: make &#8216;ceph -s&#8217; show PG state counts in sorted order (Sage Weil)</li>
<li>ceph: make &#8216;ceph tell mon.* version&#8217; work (Mykola Golub)</li>
<li>ceph: new &#8216;ceph tell mds.$name_or_rank_or_gid&#8217; (John Spray)</li>
<li>ceph: show primary-affinity in &#8216;ceph osd tree&#8217; (Mykola Golub)</li>
<li>ceph: test robustness (Joao Eduardo Luis)</li>
<li>ceph_objectstore_tool: behave with sharded flag (#9661 David Zafman)</li>
<li>cephfs-journal-tool: add recover_dentries function (#9883 John Spray)</li>
<li>cephfs-journal-tool: fix journal import (#10025 John Spray)</li>
<li>cephfs-journal-tool: skip up to expire_pos (#9977 John Spray)</li>
<li>cleanup rados.h definitions with macros (Ilya Dryomov)</li>
<li>common: add &#8216;perf reset ...&#8217; admin command (Jianpeng Ma)</li>
<li>common: add TableFormatter (Andreas Peters)</li>
<li>common: add newline to flushed json output (Sage Weil)</li>
<li>common: check syncfs() return code (Jianpeng Ma)</li>
<li>common: do not unlock rwlock on destruction (Federico Simoncelli)</li>
<li>common: filtering for &#8216;perf dump&#8217; (John Spray)</li>
<li>common: fix Formatter factory breakage (#10547 Loic Dachary)</li>
<li>common: fix block device discard check (#10296 Sage Weil)</li>
<li>common: make json-pretty output prettier (Sage Weil)</li>
<li>common: remove broken CEPH_LOCKDEP optoin (Kefu Chai)</li>
<li>common: shared_cache unit tests (Cheng Cheng)</li>
<li>common: support new gperftools header locations (Key Dreyer)</li>
<li>config: add $cctid meta variable (Adam Crume)</li>
<li>crush: fix buffer overrun for poorly formed rules (#9492 Johnu George)</li>
<li>crush: fix detach_bucket (#10095 Sage Weil)</li>
<li>crush: fix parsing of straw2 buckets (#11015 Sage Weil)</li>
<li>crush: fix several bugs in adjust_item_weight (Rongze Zhu)</li>
<li>crush: fix tree bucket behavior (Rongze Zhu)</li>
<li>crush: improve constness (Loic Dachary)</li>
<li>crush: new and improved straw2 bucket type (Sage Weil, Christina Anderson, Xiaoxi Chen)</li>
<li>crush: straw bucket weight calculation fixes (#9998 Sage Weil)</li>
<li>crush: update tries stats for indep rules (#10349 Loic Dachary)</li>
<li>crush: use larger choose_tries value for erasure code rulesets (#10353 Loic Dachary)</li>
<li>crushtool: add &#8211;location &lt;id&gt; command (Sage Weil, Loic Dachary)</li>
<li>debian,rpm: move RBD udev rules to ceph-common (#10864 Ken Dreyer)</li>
<li>debian: split python-ceph into python-{rbd,rados,cephfs} (Boris Ranto)</li>
<li>default to libnss instead of crypto++ (Federico Gimenez)</li>
<li>doc: CephFS disaster recovery guidance (John Spray)</li>
<li>doc: CephFS for early adopters (John Spray)</li>
<li>doc: add build-doc guidlines for Fedora and CentOS/RHEL (Nilamdyuti Goswami)</li>
<li>doc: add dumpling to firefly upgrade section (#7679 John Wilkins)</li>
<li>doc: ceph osd reweight vs crush weight (Laurent Guerby)</li>
<li>doc: do not suggest dangerous XFS nobarrier option (Dan van der Ster)</li>
<li>doc: document erasure coded pool operations (#9970 Loic Dachary)</li>
<li>doc: document the LRC per-layer plugin configuration (Yuan Zhou)</li>
<li>doc: enable rbd cache on openstack deployments (Sebastien Han)</li>
<li>doc: erasure code doc updates (Loic Dachary)</li>
<li>doc: file system osd config settings (Kevin Dalley)</li>
<li>doc: fix OpenStack Glance docs (#10478 Sebastien Han)</li>
<li>doc: improved installation nots on CentOS/RHEL installs (John Wilkins)</li>
<li>doc: key/value store config reference (John Wilkins)</li>
<li>doc: misc cleanups (Adam Spiers, Sebastien Han, Nilamdyuti Goswami, Ken Dreyer, John Wilkins)</li>
<li>doc: misc improvements (Nilamdyuti Goswami, John Wilkins, Chris Holcombe)</li>
<li>doc: misc updates (#9793 #9922 #10204 #10203 Travis Rhoden, Hazem, Ayari, Florian Coste, Andy Allan, Frank Yu, Baptiste Veuillez-Mainard, Yuan Zhou, Armando Segnini, Robert Jansen, Tyler Brekke, Viktor Suprun)</li>
<li>doc: misc updates (Alfredo Deza, VRan Liu)</li>
<li>doc: misc updates (Nilamdyuti Goswami, John Wilkins)</li>
<li>doc: new man pages (Nilamdyuti Goswami)</li>
<li>doc: preflight doc fixes (John Wilkins)</li>
<li>doc: replace cloudfiles with swiftclient Python Swift example (Tim Freund)</li>
<li>doc: update PG count guide (Gerben Meijer, Laurent Guerby, Loic Dachary)</li>
<li>doc: update man pages (David Zafman)</li>
<li>doc: update openstack docs for Juno (Sebastien Han)</li>
<li>doc: update release descriptions (Ken Dreyer)</li>
<li>doc: update sepia hardware inventory (Sandon Van Ness)</li>
<li>erasure-code: add mSHEC erasure code support (Takeshi Miyamae)</li>
<li>erasure-code: improved docs (#10340 Loic Dachary)</li>
<li>erasure-code: set max_size to 20 (#10363 Loic Dachary)</li>
<li>fix cluster logging from non-mon daemons (Sage Weil)</li>
<li>init-ceph: check for systemd-run before using it (Boris Ranto)</li>
<li>install-deps.sh: do not require sudo when root (Loic Dachary)</li>
<li>keyvaluestore: misc fixes (Haomai Wang)</li>
<li>keyvaluestore: performance improvements (Haomai Wang)</li>
<li>libcephfs,ceph-fuse: add &#8216;status&#8217; asok (John Spray)</li>
<li>libcephfs,ceph-fuse: fix getting zero-length xattr (#10552 Yan, Zheng)</li>
<li>libcephfs: fix dirfrag trimming (#10387 Yan, Zheng)</li>
<li>libcephfs: fix mount timeout (#10041 Yan, Zheng)</li>
<li>libcephfs: fix test (#10415 Yan, Zheng)</li>
<li>libcephfs: fix use-afer-free on umount (#10412 Yan, Zheng)</li>
<li>libcephfs: include ceph and git version in client metadata (Sage Weil)</li>
<li>librados, osd: new watch/notify implementation (Sage Weil)</li>
<li>librados: add blacklist_add convenience method (Jason Dillaman)</li>
<li>librados: add rados_pool_get_base_tier() call (Adam Crume)</li>
<li>librados: add watch_flush() operation (Sage Weil, Haomai Wang)</li>
<li>librados: avoid memcpy on getxattr, read (Jianpeng Ma)</li>
<li>librados: cap buffer length (Loic Dachary)</li>
<li>librados: create ioctx by pool id (Jason Dillaman)</li>
<li>librados: do notify completion in fast-dispatch (Sage Weil)</li>
<li>librados: drop &#8216;category&#8217; feature (Sage Weil)</li>
<li>librados: expose rados_{read|write}_op_assert_version in C API (Kim Vandry)</li>
<li>librados: fix infinite loop with skipped map epochs (#9986 Ding Dinghua)</li>
<li>librados: fix iterator operator= bugs (#10082 David Zafman, Yehuda Sadeh)</li>
<li>librados: fix leak in C_TwoContexts (Xiong Yiliang)</li>
<li>librados: fix leak in watch/notify path (Sage Weil)</li>
<li>librados: fix null deref when pool DNE (#9944 Sage Weil)</li>
<li>librados: fix objecter races (#9617 Josh Durgin)</li>
<li>librados: fix pool deletion handling (#10372 Sage Weil)</li>
<li>librados: fix pool name caching (#10458 Radoslaw Zarzynski)</li>
<li>librados: fix resource leak, misc bugs (#10425 Radoslaw Zarzynski)</li>
<li>librados: fix some watch/notify locking (Jason Dillaman, Josh Durgin)</li>
<li>librados: fix timer race from recent refactor (Sage Weil)</li>
<li>librados: new fadvise API (Ma Jianpeng)</li>
<li>librados: only export public API symbols (Jason Dillaman)</li>
<li>librados: remove shadowed variable (Kefu Chain)</li>
<li>librados: translate op flags from C APIs (Matthew Richards)</li>
<li>libradosstriper: fix remove() (Dongmao Zhang)</li>
<li>libradosstriper: fix shutdown hang (Dongmao Zhang)</li>
<li>libradosstriper: fix stat strtoll (Dongmao Zhang)</li>
<li>libradosstriper: fix trunc method (#10129 Sebastien Ponce)</li>
<li>libradosstriper: fix write_full when ENOENT (#10758 Sebastien Ponce)</li>
<li>libradosstriper: misc fixes (Sebastien Ponce)</li>
<li>librbd: CRC protection for RBD image map (Jason Dillaman)</li>
<li>librbd: add missing python docstrings (Jason Dillaman)</li>
<li>librbd: add per-image object map for improved performance (Jason Dillaman)</li>
<li>librbd: add readahead (Adam Crume)</li>
<li>librbd: add support for an &#8220;object map&#8221; indicating which objects exist (Jason Dillaman)</li>
<li>librbd: adjust internal locking (Josh Durgin, Jason Dillaman)</li>
<li>librbd: better handling of watch errors (Jason Dillaman)</li>
<li>librbd: complete pending ops before closing image (#10299 Josh Durgin)</li>
<li>librbd: coordinate maint operations through lock owner (Jason Dillaman)</li>
<li>librbd: copy-on-read (Min Chen, Li Wang, Yunchuan Wen, Cheng Cheng, Jason Dillaman)</li>
<li>librbd: differentiate between R/O vs R/W features (Jason Dillaman)</li>
<li>librbd: don&#8217;t close a closed parent in failure path (#10030 Jason Dillaman)</li>
<li>librbd: enforce write ordering with a snapshot (Jason Dillaman)</li>
<li>librbd: exclusive image locking (Jason Dillaman)</li>
<li>librbd: fadvise API (Ma Jianpeng)</li>
<li>librbd: fadvise-style hints; add misc hints for certain operations (Jianpeng Ma)</li>
<li>librbd: fix and improve AIO cache invalidation (#10958 Jason Dillaman)</li>
<li>librbd: fix cache tiers in list_children and snap_unprotect (Adam Crume)</li>
<li>librbd: fix coverity false-positives (Jason Dillaman)</li>
<li>librbd: fix diff test (#10002 Josh Durgin)</li>
<li>librbd: fix list_children from invalid pool ioctxs (#10123 Jason Dillaman)</li>
<li>librbd: fix locking for readahead (#10045 Jason Dillaman)</li>
<li>librbd: fix memory leak (Jason Dillaman)</li>
<li>librbd: fix ordering/queueing of resize operations (Jason Dillaman)</li>
<li>librbd: fix performance regression in ObjectCacher (#9513 Adam Crume)</li>
<li>librbd: fix snap create races (Jason Dillaman)</li>
<li>librbd: fix write vs import race (#10590 Jason Dillaman)</li>
<li>librbd: flush AIO operations asynchronously (#10714 Jason Dillaman)</li>
<li>librbd: gracefully handle deleted/renamed pools (#10270 Jason Dillaman)</li>
<li>librbd: lttng tracepoints (Adam Crume)</li>
<li>librbd: make async versions of long-running maint operations (Jason Dillaman)</li>
<li>librbd: misc fixes (Xinxin Shu, Jason Dillaman)</li>
<li>librbd: mock tests (Jason Dillaman)</li>
<li>librbd: only export public API symbols (Jason Dillaman)</li>
<li>librbd: optionally blacklist clients before breaking locks (#10761 Jason Dillaman)</li>
<li>librbd: prevent copyup during shrink (Jason Dillaman)</li>
<li>librbd: refactor unit tests to use fixtures (Jason Dillaman)</li>
<li>librbd: validate image is r/w on resize/flatten (Jason Dillaman)</li>
<li>librbd: various internal locking fixes (Jason Dillaman)</li>
<li>many coverity fixes (Danny Al-Gaaf)</li>
<li>many many coverity cleanups (Danny Al-Gaaf)</li>
<li>mds: &#8216;flush journal&#8217; admin command (John Spray)</li>
<li>mds: ENOSPC and OSDMap epoch barriers (#7317 John Spray)</li>
<li>mds: a whole bunch of initial scrub infrastructure (Greg Farnum)</li>
<li>mds: add cephfs-table-tool (John Spray)</li>
<li>mds: asok command for fetching subtree map (John Spray)</li>
<li>mds: avoid sending traceless replies in most cases (Yan, Zheng)</li>
<li>mds: constify MDSCacheObjects (John Spray)</li>
<li>mds: dirfrag buf fix (Yan, Zheng)</li>
<li>mds: disallow most commands on inactive MDS&#8217;s (Greg Farnum)</li>
<li>mds: drop dentries, leases on deleted directories (#10164 Yan, Zheng)</li>
<li>mds: export dir asok command (John Spray)</li>
<li>mds: fix MDLog IO callback deadlock (John Spray)</li>
<li>mds: fix compat_version for MClientSession (#9945 John Spray)</li>
<li>mds: fix deadlock during journal probe vs purge (#10229 Yan, Zheng)</li>
<li>mds: fix race trimming log segments (Yan, Zheng)</li>
<li>mds: fix reply snapbl (Yan, Zheng)</li>
<li>mds: fix sessionmap lifecycle bugs (Yan, Zheng)</li>
<li>mds: fix stray/purge perfcounters (#10388 John Spray)</li>
<li>mds: handle heartbeat_reset during shutdown (#10382 John Spray)</li>
<li>mds: handle zero-size xattr (#10335 Yan, Zheng)</li>
<li>mds: initialize root inode xattr version (Yan, Zheng)</li>
<li>mds: introduce auth caps (John Spray)</li>
<li>mds: many many snapshot-related fixes (Yan, Zheng)</li>
<li>mds: misc bugs (Greg Farnum, John Spray, Yan, Zheng, Henry Change)</li>
<li>mds: refactor, improve Session storage (John Spray)</li>
<li>mds: store backtrace for stray dir (Yan, Zheng)</li>
<li>mds: subtree quota support (Yunchuan Wen)</li>
<li>mds: verify backtrace when fetching dirfrag (#9557 Yan, Zheng)</li>
<li>memstore: free space tracking (John Spray)</li>
<li>misc cleanup (Danny Al-Gaaf, David Anderson)</li>
<li>misc coverity fixes (Danny Al-Gaaf)</li>
<li>misc coverity fixes (Danny Al-Gaaf)</li>
<li>misc: various valgrind fixes and cleanups (Danny Al-Gaaf)</li>
<li>mon: &#8216;osd crush reweight-all&#8217; command (Sage Weil)</li>
<li>mon: add &#8216;ceph osd rename-bucket ...&#8217; command (Loic Dachary)</li>
<li>mon: add bootstrap-rgw profile (Sage Weil)</li>
<li>mon: add max pgs per osd warning (Sage Weil)</li>
<li>mon: add noforward flag for some mon commands (Mykola Golub)</li>
<li>mon: allow adding tiers to fs pools (#10135 John Spray)</li>
<li>mon: allow full flag to be manually cleared (#9323 Sage Weil)</li>
<li>mon: clean up auth list output (Loic Dachary)</li>
<li>mon: delay failure injection (Joao Eduardo Luis)</li>
<li>mon: disallow empty pool names (#10555 Wido den Hollander)</li>
<li>mon: do not deactivate last mds (#10862 John Spray)</li>
<li>mon: do not pollute mon dir with CSV files from CRUSH check (Loic Dachary)</li>
<li>mon: drop old ceph_mon_store_converter (Sage Weil)</li>
<li>mon: fix &#8216;ceph pg dump_stuck degraded&#8217; (Xinxin Shu)</li>
<li>mon: fix &#8216;mds fail&#8217; for standby MDSs (John Spray)</li>
<li>mon: fix &#8216;osd crush link&#8217; id resolution (John Spray)</li>
<li>mon: fix &#8216;profile osd&#8217; use of config-key function on mon (#10844 Joao Eduardo Luis)</li>
<li>mon: fix <em>_ratio</em> units and types (Sage Weil)</li>
<li>mon: fix JSON dumps to dump floats as flots and not strings (Sage Weil)</li>
<li>mon: fix MDS health status from peons (#10151 John Spray)</li>
<li>mon: fix caching for min_last_epoch_clean (#9987 Sage Weil)</li>
<li>mon: fix clock drift time check interval (#10546 Joao Eduardo Luis)</li>
<li>mon: fix compatset initalization during mkfs (Joao Eduardo Luis)</li>
<li>mon: fix error output for add_data_pool (#9852 Joao Eduardo Luis)</li>
<li>mon: fix feature tracking during elections (Joao Eduardo Luis)</li>
<li>mon: fix formatter &#8216;pg stat&#8217; command output (Sage Weil)</li>
<li>mon: fix mds gid/rank/state parsing (John Spray)</li>
<li>mon: fix misc error paths (Joao Eduardo Luis)</li>
<li>mon: fix paxos off-by-one corner case (#9301 Sage Weil)</li>
<li>mon: fix paxos timeouts (#10220 Joao Eduardo Luis)</li>
<li>mon: fix stashed monmap encoding (#5203 Xie Rui)</li>
<li>mon: fix units in store stats (Joao Eduardo Luis)</li>
<li>mon: get canonical OSDMap from leader (#10422 Sage Weil)</li>
<li>mon: ignore failure reports from before up_from (#10762 Dan van der Ster, Sage Weil)</li>
<li>mon: implement &#8216;fs reset&#8217; command (John Spray)</li>
<li>mon: improve error handling on erasure code profile set (#10488, #11144 Loic Dachary)</li>
<li>mon: improved corrupt CRUSH map detection (Joao Eduardo Luis)</li>
<li>mon: include entity name in audit log for forwarded requests (#9913 Joao Eduardo Luis)</li>
<li>mon: include pg_temp count in osdmap summary (Sage Weil)</li>
<li>mon: log health summary to cluster log (#9440 Joao Eduardo Luis)</li>
<li>mon: make &#8216;mds fail&#8217; idempotent (John Spray)</li>
<li>mon: make pg dump {sum,pgs,pgs_brief} work for format=plain (#5963 #6759 Mykola Golub)</li>
<li>mon: new &#8216;ceph pool ls [detail]&#8217; command (Sage Weil)</li>
<li>mon: new pool safety flags nodelete, nopgchange, nosizechange (#9792 Mykola Golub)</li>
<li>mon: new, friendly &#8216;ceph pg ls ...&#8217; command (Xinxin Shu)</li>
<li>mon: paxos: allow reads while proposing (#9321 #9322 Joao Eduardo Luis)</li>
<li>mon: prevent MDS transition from STOPPING (#10791 Greg Farnum)</li>
<li>mon: propose all pending work in one transaction (Sage Weil)</li>
<li>mon: remove pg_temps for nonexistent pools (Joao Eduardo Luis)</li>
<li>mon: require mon_allow_pool_delete option to remove pools (Sage Weil)</li>
<li>mon: respect down flag when promoting standbys (John Spray)</li>
<li>mon: set globalid prealloc to larger value (Sage Weil)</li>
<li>mon: set {read,write}_tier on &#8216;osd tier add-cache ...&#8217; (Jianpeng Ma)</li>
<li>mon: skip zeroed osd stats in get_rule_avail (#10257 Joao Eduardo Luis)</li>
<li>mon: validate min_size range (Jianpeng Ma)</li>
<li>mon: wait for writeable before cross-proposing (#9794 Joao Eduardo Luis)</li>
<li>mount.ceph: fix suprious error message (#10351 Yan, Zheng)</li>
<li>ms: xio: fix misc bugs (Matt Benjamin, Vu Pham)</li>
<li>msgr: async: bind threads to CPU cores, improved poll (Haomai Wang)</li>
<li>msgr: async: many fixes, unit tests (Haomai Wang)</li>
<li>msgr: async: several fixes (Haomai Wang)</li>
<li>msgr: asyncmessenger: add kqueue support (#9926 Haomai Wang)</li>
<li>msgr: avoid useless new/delete (Haomai Wang)</li>
<li>msgr: fix RESETSESSION bug (#10080 Greg Farnum)</li>
<li>msgr: fix crc configuration (Mykola Golub)</li>
<li>msgr: fix delay injection bug (#9910 Sage Weil, Greg Farnum)</li>
<li>msgr: misc unit tests (Haomai Wang)</li>
<li>msgr: new AsymcMessenger alternative implementation (Haomai Wang)</li>
<li>msgr: prefetch data when doing recv (Yehuda Sadeh)</li>
<li>msgr: simple: fix rare deadlock (Greg Farnum)</li>
<li>msgr: simple: retry binding to port on failure (#10029 Wido den Hollander)</li>
<li>msgr: xio: XioMessenger RDMA support (Casey Bodley, Vu Pham, Matt Benjamin)</li>
<li>objectstore: deprecate collection attrs (Sage Weil)</li>
<li>osd, librados: fadvise-style librados hints (Jianpeng Ma)</li>
<li>osd, librados: fix xattr_cmp_u64 (Dongmao Zhang)</li>
<li>osd, librados: revamp PG listing API to handle namespaces (#9031 #9262 #9438 David Zafman)</li>
<li>osd, mds: &#8216;ops&#8217; as shorthand for &#8216;dump_ops_in_flight&#8217; on asok (Sage Weil)</li>
<li>osd, mon: add checksums to all OSDMaps (Sage Weil)</li>
<li>osd, mon: send intiial pg create time from mon to osd (#9887 David Zafman)</li>
<li>osd,mon: add &#8216;norebalance&#8217; flag (Kefu Chai)</li>
<li>osd,mon: specify OSD features explicitly in MOSDBoot (#10911 Sage Weil)</li>
<li>osd: DBObjectMap: fix locking to prevent rare crash (#9891 Samuel Just)</li>
<li>osd: EIO on whole-object reads when checksum is wrong (Sage Weil)</li>
<li>osd: add erasure code corpus (Loic Dachary)</li>
<li>osd: add fadvise flags to ObjectStore API (Jianpeng Ma)</li>
<li>osd: add get_latest_osdmap asok command (#9483 #9484 Mykola Golub)</li>
<li>osd: add misc tests (Loic Dachary, Danny Al-Gaaf)</li>
<li>osd: add option to prioritize heartbeat network traffic (Jian Wen)</li>
<li>osd: add support for the SHEC erasure-code algorithm (Takeshi Miyamae, Loic Dachary)</li>
<li>osd: allow deletion of objects with watcher (#2339 Sage Weil)</li>
<li>osd: allow recovery while below min_size (Samuel Just)</li>
<li>osd: allow recovery with fewer than min_size OSDs (Samuel Just)</li>
<li>osd: allow sparse read for Push/Pull (Haomai Wang)</li>
<li>osd: allow whiteout deletion in cache pool (Sage Weil)</li>
<li>osd: allow writes to degraded objects (Samuel Just)</li>
<li>osd: allow writes to degraded objects (Samuel Just)</li>
<li>osd: avoid publishing unchanged PG stats (Sage Weil)</li>
<li>osd: batch pg log trim (Xinze Chi)</li>
<li>osd: cache pool: ignore min flush age when cache is full (Xinze Chi)</li>
<li>osd: cache recent ObjectContexts (Dong Yuan)</li>
<li>osd: cache reverse_nibbles hash value (Dong Yuan)</li>
<li>osd: clean up internal ObjectStore interface (Sage Weil)</li>
<li>osd: cleanup boost optionals (William Kennington)</li>
<li>osd: clear cache on interval change (Samuel Just)</li>
<li>osd: do no proxy reads unless target OSDs are new (#10788 Sage Weil)</li>
<li>osd: do not abort deep scrub on missing hinfo (#10018 Loic Dachary)</li>
<li>osd: do not update digest on inconsistent object (#10524 Samuel Just)</li>
<li>osd: don&#8217;t record digests for snapdirs (#10536 Samuel Just)</li>
<li>osd: drop upgrade support for pre-dumpling (Sage Weil)</li>
<li>osd: enable and use posix_fadvise (Sage Weil)</li>
<li>osd: erasure coding: allow bench.sh to test ISA backend (Yuan Zhou)</li>
<li>osd: erasure-code: encoding regression tests, corpus (#9420 Loic Dachary)</li>
<li>osd: erasure-code: enforce chunk size alignment (#10211 Loic Dachary)</li>
<li>osd: erasure-code: jerasure support for NEON (Loic Dachary)</li>
<li>osd: erasure-code: relax cauchy w restrictions (#10325 David Zhang, Loic Dachary)</li>
<li>osd: erasure-code: update gf-complete to latest upstream (Loic Dachary)</li>
<li>osd: expose non-journal backends via ceph-osd CLI (Hoamai Wang)</li>
<li>osd: filejournal: don&#8217;t cache journal when not using direct IO (Jianpeng Ma)</li>
<li>osd: fix JSON output for stray OSDs (Loic Dachary)</li>
<li>osd: fix OSDCap parser on old (el6) boost::spirit (#10757 Kefu Chai)</li>
<li>osd: fix OSDCap parsing on el6 (#10757 Kefu Chai)</li>
<li>osd: fix ObjectStore::Transaction encoding version (#10734 Samuel Just)</li>
<li>osd: fix WBTHrottle perf counters (Haomai Wang)</li>
<li>osd: fix and document last_epoch_started semantics (Samuel Just)</li>
<li>osd: fix auth object selection during repair (#10524 Samuel Just)</li>
<li>osd: fix backfill bug (#10150 Samuel Just)</li>
<li>osd: fix bug in pending digest updates (#10840 Samuel Just)</li>
<li>osd: fix cancel_proxy_read_ops (Sage Weil)</li>
<li>osd: fix cleanup of interrupted pg deletion (#10617 Sage Weil)</li>
<li>osd: fix divergent entry handling on PG split (Samuel Just)</li>
<li>osd: fix ghobject_t formatted output to include shard (#10063 Loic Dachary)</li>
<li>osd: fix ioprio option (Mykola Golub)</li>
<li>osd: fix ioprio options (Loic Dachary)</li>
<li>osd: fix journal shutdown race (Sage Weil)</li>
<li>osd: fix journal wrapping bug (#10883 David Zafman)</li>
<li>osd: fix leak in SnapTrimWQ (#10421 Kefu Chai)</li>
<li>osd: fix leak on shutdown (Kefu Chai)</li>
<li>osd: fix memstore free space calculation (Xiaoxi Chen)</li>
<li>osd: fix mixed-version peering issues (Samuel Just)</li>
<li>osd: fix object age eviction (Zhiqiang Wang)</li>
<li>osd: fix object atime calculation (Xinze Chi)</li>
<li>osd: fix object digest update bug (#10840 Samuel Just)</li>
<li>osd: fix occasional peering stalls (#10431 Sage Weil)</li>
<li>osd: fix ordering issue with new transaction encoding (#10534 Dong Yuan)</li>
<li>osd: fix osd peer check on scrub messages (#9555 Sage Weil)</li>
<li>osd: fix past_interval display bug (#9752 Loic Dachary)</li>
<li>osd: fix past_interval generation (#10427 #10430 David Zafman)</li>
<li>osd: fix pgls filter ops (#9439 David Zafman)</li>
<li>osd: fix recording of digest on scrub (Samuel Just)</li>
<li>osd: fix scrub delay bug (#10693 Samuel Just)</li>
<li>osd: fix scrub vs try-flush bug (#8011 Samuel Just)</li>
<li>osd: fix short read handling on push (#8121 David Zafman)</li>
<li>osd: fix stderr with -f or -d (Dan Mick)</li>
<li>osd: fix transaction accounting (Jianpeng Ma)</li>
<li>osd: fix watch reconnect race (#10441 Sage Weil)</li>
<li>osd: fix watch timeout cache state update (#10784 David Zafman)</li>
<li>osd: fix whiteout handling (Sage Weil)</li>
<li>osd: flush snapshots from cache tier immediately (Sage Weil)</li>
<li>osd: force promotion of watch/notify ops (Zhiqiang Wang)</li>
<li>osd: handle no-op write with snapshot (#10262 Sage Weil)</li>
<li>osd: improve idempotency detection across cache promotion/demotion (#8935 Sage Weil, Samuel Just)</li>
<li>osd: include activating peers in blocked_by (#10477 Sage Weil)</li>
<li>osd: jerasure and gf-complete updates from upstream (#10216 Loic Dachary)</li>
<li>osd: journal: check fsync/fdatasync result (Jianpeng Ma)</li>
<li>osd: journal: fix alignment checks, avoid useless memmove (Jianpeng Ma)</li>
<li>osd: journal: fix hang on shutdown (#10474 David Zafman)</li>
<li>osd: journal: fix header.committed_up_to (Xinze Chi)</li>
<li>osd: journal: fix journal zeroing when direct IO is enabled (Xie Rui)</li>
<li>osd: journal: initialize throttle (Ning Yao)</li>
<li>osd: journal: misc bug fixes (#6003 David Zafman, Samuel Just)</li>
<li>osd: journal: update committed_thru after replay (#6756 Samuel Just)</li>
<li>osd: keyvaluestore: cleanup dead code (Ning Yao)</li>
<li>osd: keyvaluestore: fix getattr semantics (Haomai Wang)</li>
<li>osd: keyvaluestore: fix key ordering (#10119 Haomai Wang)</li>
<li>osd: keyvaluestore_dev: optimization (Chendi Xue)</li>
<li>osd: limit in-flight read requests (Jason Dillaman)</li>
<li>osd: log when scrub or repair starts (Loic Dachary)</li>
<li>osd: make misdirected op checks robust for EC pools (#9835 Sage Weil)</li>
<li>osd: memstore: fix size limit (Xiaoxi Chen)</li>
<li>osd: misc FIEMAP fixes (Ma Jianpeng)</li>
<li>osd: misc cleanup (Xinze Chi, Yongyue Sun)</li>
<li>osd: misc optimizations (Xinxin Shu, Zhiqiang Wang, Xinze Chi)</li>
<li>osd: misc scrub fixes (#10017 Loic Dachary)</li>
<li>osd: new &#8216;activating&#8217; state between peering and active (Sage Weil)</li>
<li>osd: new optimized encoding for ObjectStore::Transaction (Dong Yuan)</li>
<li>osd: optimize Finisher (Xinze Chi)</li>
<li>osd: optimize WBThrottle map with unordered_map (Ning Yao)</li>
<li>osd: optimize filter_snapc (Ning Yao)</li>
<li>osd: preserve reqids for idempotency checks for promote/demote (Sage Weil, Zhiqiang Wang, Samuel Just)</li>
<li>osd: proxy read support (Zhiqiang Wang)</li>
<li>osd: proxy reads during cache promote (Zhiqiang Wang)</li>
<li>osd: remove dead locking code (Xinxin Shu)</li>
<li>osd: remove legacy classic scrub code (Sage Weil)</li>
<li>osd: remove unused fields in MOSDSubOp (Xiaoxi Chen)</li>
<li>osd: removed some dead code (Xinze Chi)</li>
<li>osd: replace MOSDSubOp messages with simpler, optimized MOSDRepOp (Xiaoxi Chen)</li>
<li>osd: restrict scrub to certain times of day (Xinze Chi)</li>
<li>osd: rocksdb: fix shutdown (Hoamai Wang)</li>
<li>osd: store PG metadata in per-collection objects for better concurrency (Sage Weil)</li>
<li>osd: store whole-object checksums on scrub, write_full (Sage Weil)</li>
<li>osd: support for discard for journal trim (Jianpeng Ma)</li>
<li>osd: use FIEMAP_FLAGS_SYNC instead of fsync (Jianpeng Ma)</li>
<li>osd: verify kernel is new enough before using XFS extsize ioctl, enable by default (#9956 Sage Weil)</li>
<li>pybind: fix memory leak in librados bindings (Billy Olsen)</li>
<li>pyrados: add object lock support (#6114 Mehdi Abaakouk)</li>
<li>pyrados: fix misnamed wait_* routings (#10104 Dan Mick)</li>
<li>pyrados: misc cleanups (Kefu Chai)</li>
<li>qa: add large auth ticket tests (Ilya Dryomov)</li>
<li>qa: fix mds tests (#10539 John Spray)</li>
<li>qa: fix osd create dup tests (#10083 Loic Dachary)</li>
<li>qa: ignore duplicates in rados ls (Josh Durgin)</li>
<li>qa: improve hadoop tests (Noah Watkins)</li>
<li>qa: many &#8216;make check&#8217; improvements (Loic Dachary)</li>
<li>qa: misc tests (Loic Dachary, Yan, Zheng)</li>
<li>qa: parallelize make check (Loic Dachary)</li>
<li>qa: reorg fs quota tests (Greg Farnum)</li>
<li>qa: tolerate nearly-full disk for make check (Loic Dachary)</li>
<li>rados: fix put of /dev/null (Loic Dachary)</li>
<li>rados: fix usage (Jianpeng Ma)</li>
<li>rados: parse command-line arguments more strictly (#8983 Adam Crume)</li>
<li>rados: use copy-from operation for copy, cppool (Sage Weil)</li>
<li>radosgw-admin: add replicalog update command (Yehuda Sadeh)</li>
<li>rbd-fuse: clean up on shutdown (Josh Durgin)</li>
<li>rbd-fuse: fix memory leak (Adam Crume)</li>
<li>rbd-replay-many (Adam Crume)</li>
<li>rbd-replay: &#8211;anonymize flag to rbd-replay-prep (Adam Crume)</li>
<li>rbd: add &#8216;merge-diff&#8217; function (MingXin Liu, Yunchuan Wen, Li Wang)</li>
<li>rbd: allow v2 striping parameters for clones and imports (Jason Dillaman)</li>
<li>rbd: fix &#8216;rbd diff&#8217; for non-existent objects (Adam Crume)</li>
<li>rbd: fix buffer handling on image import (#10590 Jason Dillaman)</li>
<li>rbd: fix error when striping with format 1 (Sebastien Han)</li>
<li>rbd: fix export for image sizes over 2GB (Vicente Cheng)</li>
<li>rbd: fix formatted output of image features (Jason Dillaman)</li>
<li>rbd: leave exclusive lockin goff by default (Jason Dillaman)</li>
<li>rbd: updat eman page (Ilya Dryomov)</li>
<li>rbd: update init-rbdmap to fix dup mount point (Karel Striegel)</li>
<li>rbd: use IO hints for import, export, and bench operations (#10462 Jason Dillaman)</li>
<li>rbd: use rolling average for rbd bench-write throughput (Jason Dillaman)</li>
<li>rbd_recover_tool: RBD image recovery tool (Min Chen)</li>
<li>rgw: S3-style object versioning support (Yehuda Sadeh)</li>
<li>rgw: add location header when object is in another region (VRan Liu)</li>
<li>rgw: change multipart upload id magic (#10271 Yehuda Sadeh)</li>
<li>rgw: check keystone auth for S3 POST requests (#10062 Abhishek Lekshmanan)</li>
<li>rgw: check timestamp on s3 keystone auth (#10062 Abhishek Lekshmanan)</li>
<li>rgw: conditional PUT on ETag (#8562 Ray Lv)</li>
<li>rgw: create subuser if needed when creating user (#10103 Yehuda Sadeh)</li>
<li>rgw: decode http query params correction (#10271 Yehuda Sadeh)</li>
<li>rgw: don&#8217;t overwrite bucket/object owner when setting ACLs (#10978 Yehuda Sadeh)</li>
<li>rgw: enable IPv6 for civetweb (#10965 Yehuda Sadeh)</li>
<li>rgw: extend replica log API (purge-all) (Yehuda Sadeh)</li>
<li>rgw: fail S3 POST if keystone not configured (#10688 Valery Tschopp, Yehuda Sadeh)</li>
<li>rgw: fix If-Modified-Since (VRan Liu)</li>
<li>rgw: fix XML header on get ACL request (#10106 Yehuda Sadeh)</li>
<li>rgw: fix bucket removal with data purge (Yehuda Sadeh)</li>
<li>rgw: fix content length check (#10701 Axel Dunkel, Yehuda Sadeh)</li>
<li>rgw: fix content-length update (#9576 Yehuda Sadeh)</li>
<li>rgw: fix disabling of max_size quota (#9907 Dong Lei)</li>
<li>rgw: fix error codes (#10334 #10329 Yehuda Sadeh)</li>
<li>rgw: fix incorrect len when len is 0 (#9877 Yehuda Sadeh)</li>
<li>rgw: fix object copy content type (#9478 Yehuda Sadeh)</li>
<li>rgw: fix partial GET in swift (#10553 Yehuda Sadeh)</li>
<li>rgw: fix replica log indexing (#8251 Yehuda Sadeh)</li>
<li>rgw: fix shutdown (#10472 Yehuda Sadeh)</li>
<li>rgw: fix swift metadata header name (Dmytro Iurchenko)</li>
<li>rgw: fix sysvinit script when rgw_socket_path is not defined (#11159 Yehuda Sadeh, Dan Mick)</li>
<li>rgw: fix user stags in get-user-info API (#9359 Ray Lv)</li>
<li>rgw: include XML ns on get ACL request (#10106 Yehuda Sadeh)</li>
<li>rgw: index swift keys appropriately (#10471 Yehuda Sadeh)</li>
<li>rgw: make sysvinit script set ulimit -n properly (Sage Weil)</li>
<li>rgw: misc fixes (#10307 Yehuda Sadeh)</li>
<li>rgw: only track cleanup for objects we write (#10311 Yehuda Sadeh)</li>
<li>rgw: pass civetweb configurables through (#10907 Yehuda Sadeh)</li>
<li>rgw: prevent illegal bucket policy that doesn&#8217;t match placement rule (Yehuda Sadeh)</li>
<li>rgw: remove multipart entries from bucket index on abort (#10719 Yehuda Sadeh)</li>
<li>rgw: remove swift user manifest (DLO) hash calculation (#9973 Yehuda Sadeh)</li>
<li>rgw: respond with 204 to POST on containers (#10667 Yuan Zhou)</li>
<li>rgw: return timestamp on GET/HEAD (#8911 Yehuda Sadeh)</li>
<li>rgw: reuse fcgx connection struct (#10194 Yehuda Sadeh)</li>
<li>rgw: run radosgw as apache with systemd (#10125 Loic Dachary)</li>
<li>rgw: send explicit HTTP status string (Yehuda Sadeh)</li>
<li>rgw: set ETag on object copy (#9479 Yehuda Sadeh)</li>
<li>rgw: set length for keystone token validation request (#7796 Yehuda Sadeh, Mark Kirkwood)</li>
<li>rgw: support X-Storage-Policy header for Swift storage policy compat (Yehuda Sadeh)</li>
<li>rgw: support multiple host names (#7467 Yehuda Sadeh)</li>
<li>rgw: swift: dump container&#8217;s custom metadata (#10665 Ahmad Faheem, Dmytro Iurchenko)</li>
<li>rgw: swift: support Accept header for response format (#10746 Dmytro Iurchenko)</li>
<li>rgw: swift: support for X-Remove-Container-Meta-{key} (#10475 Dmytro Iurchenko)</li>
<li>rgw: tweak error codes (#10329 #10334 Yehuda Sadeh)</li>
<li>rgw: update bucket index on attr changes, for multi-site sync (#5595 Yehuda Sadeh)</li>
<li>rgw: use rn for http headers (#9254 Yehuda Sadeh)</li>
<li>rgw: use gc for multipart abort (#10445 Aaron Bassett, Yehuda Sadeh)</li>
<li>rgw: use new watch/notify API (Yehuda Sadeh, Sage Weil)</li>
<li>rpm: misc fixes (Key Dreyer)</li>
<li>rpm: move rgw logrotate to radosgw subpackage (Ken Dreyer)</li>
<li>systemd: better systemd unit files (Owen Synge)</li>
<li>sysvinit: fix race in &#8216;stop&#8217; (#10389 Loic Dachary)</li>
<li>test: fix bufferlist tests (Jianpeng Ma)</li>
<li>tests: ability to run unit tests under docker (Loic Dachary)</li>
<li>tests: centos-6 dockerfile (#10755 Loic Dachary)</li>
<li>tests: improve docker-based tests (Loic Dachary)</li>
<li>tests: unit tests for shared_cache (Dong Yuan)</li>
<li>udev: fix rules for CentOS7/RHEL7 (Loic Dachary)</li>
<li>use clock_gettime instead of gettimeofday (Jianpeng Ma)</li>
<li>vstart.sh: set up environment for s3-tests (Luis Pabon)</li>
<li>vstart.sh: work with cmake (Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v0-93">
<h2>v0.93<a class="headerlink" href="#v0-93" title="Permalink to this headline">¶</a></h2>
<p>This is the first release candidate for Hammer, and includes all of
the features that will be present in the final release.  We welcome
and encourage any and all testing in non-production clusters to identify
any problems with functionality, stability, or performance before the
final Hammer release.</p>
<p>We suggest some caution in one area: librbd.  There is a lot of new
functionality around object maps and locking that is disabled by
default but may still affect stability for existing images.  We are
continuing to shake out those bugs so that the final Hammer release
(probably v0.94) will be rock solid.</p>
<p>Major features since Giant include:</p>
<ul class="simple">
<li>cephfs: journal scavenger repair tool (John Spray)</li>
<li>crush: new and improved straw2 bucket type (Sage Weil, Christina Anderson, Xiaoxi Chen)</li>
<li>doc: improved guidance for CephFS early adopters (John Spray)</li>
<li>librbd: add per-image object map for improved performance (Jason Dillaman)</li>
<li>librbd: copy-on-read (Min Chen, Li Wang, Yunchuan Wen, Cheng Cheng)</li>
<li>librados: fadvise-style IO hints (Jianpeng Ma)</li>
<li>mds: many many snapshot-related fixes (Yan, Zheng)</li>
<li>mon: new &#8216;ceph osd df&#8217; command (Mykola Golub)</li>
<li>mon: new &#8216;ceph pg ls ...&#8217; command (Xinxin Shu)</li>
<li>osd: improved performance for high-performance backends</li>
<li>osd: improved recovery behavior (Samuel Just)</li>
<li>osd: improved cache tier behavior with reads (Zhiqiang Wang)</li>
<li>rgw: S3-compatible bucket versioning support (Yehuda Sadeh)</li>
<li>rgw: large bucket index sharding (Guang Yang, Yehuda Sadeh)</li>
<li>RDMA &#8220;xio&#8221; messenger support (Matt Benjamin, Vu Pham)</li>
</ul>
<div class="section" id="id2472">
<h3>Upgrading<a class="headerlink" href="#id2472" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>If you are upgrading from v0.92, you must stop all OSD daemons and flush their
journals (<tt class="docutils literal"><span class="pre">ceph-osd</span> <span class="pre">-i</span> <span class="pre">NNN</span> <span class="pre">--flush-journal</span></tt>) before upgrading.  There was
a transaction encoding bug in v0.92 that broke compatibility.  Upgrading from
v0.91 or anything earlier is safe.</li>
<li>No special restrictions when upgrading from firefly or giant.</li>
</ul>
</div>
<div class="section" id="id2473">
<h3>Notable Changes<a class="headerlink" href="#id2473" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build: CMake support (Ali Maredia, Casey Bodley, Adam Emerson, Marcus Watts, Matt Benjamin)</li>
<li>ceph-disk: do not re-use partition if encryption is required (Loic Dachary)</li>
<li>ceph-disk: support LUKS for encrypted partitions (Andrew Bartlett, Loic Dachary)</li>
<li>ceph-fuse,libcephfs: add support for O_NOFOLLOW and O_PATH (Greg Farnum)</li>
<li>ceph-fuse,libcephfs: resend requests before completing cap reconnect (#10912 Yan, Zheng)</li>
<li>ceph-fuse: select kernel cache invalidation mechanism based on kernel version (Greg Farnum)</li>
<li>ceph-objectstore-tool: improved import (David Zafman)</li>
<li>ceph-objectstore-tool: misc improvements, fixes (#9870 #9871 David Zafman)</li>
<li>ceph: add &#8216;ceph osd df [tree]&#8217; command (#10452 Mykola Golub)</li>
<li>ceph: fix &#8216;ceph tell ...&#8217; command validation (#10439 Joao Eduardo Luis)</li>
<li>ceph: improve &#8216;ceph osd tree&#8217; output (Mykola Golub)</li>
<li>cephfs-journal-tool: add recover_dentries function (#9883 John Spray)</li>
<li>common: add newline to flushed json output (Sage Weil)</li>
<li>common: filtering for &#8216;perf dump&#8217; (John Spray)</li>
<li>common: fix Formatter factory breakage (#10547 Loic Dachary)</li>
<li>common: make json-pretty output prettier (Sage Weil)</li>
<li>crush: new and improved straw2 bucket type (Sage Weil, Christina Anderson, Xiaoxi Chen)</li>
<li>crush: update tries stats for indep rules (#10349 Loic Dachary)</li>
<li>crush: use larger choose_tries value for erasure code rulesets (#10353 Loic Dachary)</li>
<li>debian,rpm: move RBD udev rules to ceph-common (#10864 Ken Dreyer)</li>
<li>debian: split python-ceph into python-{rbd,rados,cephfs} (Boris Ranto)</li>
<li>doc: CephFS disaster recovery guidance (John Spray)</li>
<li>doc: CephFS for early adopters (John Spray)</li>
<li>doc: fix OpenStack Glance docs (#10478 Sebastien Han)</li>
<li>doc: misc updates (#9793 #9922 #10204 #10203 Travis Rhoden, Hazem, Ayari, Florian Coste, Andy Allan, Frank Yu, Baptiste Veuillez-Mainard, Yuan Zhou, Armando Segnini, Robert Jansen, Tyler Brekke, Viktor Suprun)</li>
<li>doc: replace cloudfiles with swiftclient Python Swift example (Tim Freund)</li>
<li>erasure-code: add mSHEC erasure code support (Takeshi Miyamae)</li>
<li>erasure-code: improved docs (#10340 Loic Dachary)</li>
<li>erasure-code: set max_size to 20 (#10363 Loic Dachary)</li>
<li>libcephfs,ceph-fuse: fix getting zero-length xattr (#10552 Yan, Zheng)</li>
<li>librados: add blacklist_add convenience method (Jason Dillaman)</li>
<li>librados: expose rados_{read|write}_op_assert_version in C API (Kim Vandry)</li>
<li>librados: fix pool name caching (#10458 Radoslaw Zarzynski)</li>
<li>librados: fix resource leak, misc bugs (#10425 Radoslaw Zarzynski)</li>
<li>librados: fix some watch/notify locking (Jason Dillaman, Josh Durgin)</li>
<li>libradosstriper: fix write_full when ENOENT (#10758 Sebastien Ponce)</li>
<li>librbd: CRC protection for RBD image map (Jason Dillaman)</li>
<li>librbd: add per-image object map for improved performance (Jason Dillaman)</li>
<li>librbd: add support for an &#8220;object map&#8221; indicating which objects exist (Jason Dillaman)</li>
<li>librbd: adjust internal locking (Josh Durgin, Jason Dillaman)</li>
<li>librbd: better handling of watch errors (Jason Dillaman)</li>
<li>librbd: coordinate maint operations through lock owner (Jason Dillaman)</li>
<li>librbd: copy-on-read (Min Chen, Li Wang, Yunchuan Wen, Cheng Cheng, Jason Dillaman)</li>
<li>librbd: enforce write ordering with a snapshot (Jason Dillaman)</li>
<li>librbd: fadvise-style hints; add misc hints for certain operations (Jianpeng Ma)</li>
<li>librbd: fix coverity false-positives (Jason Dillaman)</li>
<li>librbd: fix snap create races (Jason Dillaman)</li>
<li>librbd: flush AIO operations asynchronously (#10714 Jason Dillaman)</li>
<li>librbd: make async versions of long-running maint operations (Jason Dillaman)</li>
<li>librbd: mock tests (Jason Dillaman)</li>
<li>librbd: optionally blacklist clients before breaking locks (#10761 Jason Dillaman)</li>
<li>librbd: prevent copyup during shrink (Jason Dillaman)</li>
<li>mds: add cephfs-table-tool (John Spray)</li>
<li>mds: avoid sending traceless replies in most cases (Yan, Zheng)</li>
<li>mds: export dir asok command (John Spray)</li>
<li>mds: fix stray/purge perfcounters (#10388 John Spray)</li>
<li>mds: handle heartbeat_reset during shutdown (#10382 John Spray)</li>
<li>mds: many many snapshot-related fixes (Yan, Zheng)</li>
<li>mds: refactor, improve Session storage (John Spray)</li>
<li>misc coverity fixes (Danny Al-Gaaf)</li>
<li>mon: add noforward flag for some mon commands (Mykola Golub)</li>
<li>mon: disallow empty pool names (#10555 Wido den Hollander)</li>
<li>mon: do not deactivate last mds (#10862 John Spray)</li>
<li>mon: drop old ceph_mon_store_converter (Sage Weil)</li>
<li>mon: fix &#8216;ceph pg dump_stuck degraded&#8217; (Xinxin Shu)</li>
<li>mon: fix &#8216;profile osd&#8217; use of config-key function on mon (#10844 Joao Eduardo Luis)</li>
<li>mon: fix compatset initalization during mkfs (Joao Eduardo Luis)</li>
<li>mon: fix feature tracking during elections (Joao Eduardo Luis)</li>
<li>mon: fix mds gid/rank/state parsing (John Spray)</li>
<li>mon: ignore failure reports from before up_from (#10762 Dan van der Ster, Sage Weil)</li>
<li>mon: improved corrupt CRUSH map detection (Joao Eduardo Luis)</li>
<li>mon: include pg_temp count in osdmap summary (Sage Weil)</li>
<li>mon: log health summary to cluster log (#9440 Joao Eduardo Luis)</li>
<li>mon: make &#8216;mds fail&#8217; idempotent (John Spray)</li>
<li>mon: make pg dump {sum,pgs,pgs_brief} work for format=plain (#5963 #6759 Mykola Golub)</li>
<li>mon: new pool safety flags nodelete, nopgchange, nosizechange (#9792 Mykola Golub)</li>
<li>mon: new, friendly &#8216;ceph pg ls ...&#8217; command (Xinxin Shu)</li>
<li>mon: prevent MDS transition from STOPPING (#10791 Greg Farnum)</li>
<li>mon: propose all pending work in one transaction (Sage Weil)</li>
<li>mon: remove pg_temps for nonexistent pools (Joao Eduardo Luis)</li>
<li>mon: require mon_allow_pool_delete option to remove pools (Sage Weil)</li>
<li>mon: set globalid prealloc to larger value (Sage Weil)</li>
<li>mon: skip zeroed osd stats in get_rule_avail (#10257 Joao Eduardo Luis)</li>
<li>mon: validate min_size range (Jianpeng Ma)</li>
<li>msgr: async: bind threads to CPU cores, improved poll (Haomai Wang)</li>
<li>msgr: fix crc configuration (Mykola Golub)</li>
<li>msgr: misc unit tests (Haomai Wang)</li>
<li>msgr: xio: XioMessenger RDMA support (Casey Bodley, Vu Pham, Matt Benjamin)</li>
<li>osd, librados: fadvise-style librados hints (Jianpeng Ma)</li>
<li>osd, librados: fix xattr_cmp_u64 (Dongmao Zhang)</li>
<li>osd,mon: add &#8216;norebalance&#8217; flag (Kefu Chai)</li>
<li>osd,mon: specify OSD features explicitly in MOSDBoot (#10911 Sage Weil)</li>
<li>osd: add option to prioritize heartbeat network traffic (Jian Wen)</li>
<li>osd: add support for the SHEC erasure-code algorithm (Takeshi Miyamae, Loic Dachary)</li>
<li>osd: allow recovery while below min_size (Samuel Just)</li>
<li>osd: allow recovery with fewer than min_size OSDs (Samuel Just)</li>
<li>osd: allow writes to degraded objects (Samuel Just)</li>
<li>osd: allow writes to degraded objects (Samuel Just)</li>
<li>osd: avoid publishing unchanged PG stats (Sage Weil)</li>
<li>osd: cache recent ObjectContexts (Dong Yuan)</li>
<li>osd: clear cache on interval change (Samuel Just)</li>
<li>osd: do no proxy reads unless target OSDs are new (#10788 Sage Weil)</li>
<li>osd: do not update digest on inconsistent object (#10524 Samuel Just)</li>
<li>osd: don&#8217;t record digests for snapdirs (#10536 Samuel Just)</li>
<li>osd: fix OSDCap parser on old (el6) boost::spirit (#10757 Kefu Chai)</li>
<li>osd: fix OSDCap parsing on el6 (#10757 Kefu Chai)</li>
<li>osd: fix ObjectStore::Transaction encoding version (#10734 Samuel Just)</li>
<li>osd: fix auth object selection during repair (#10524 Samuel Just)</li>
<li>osd: fix bug in pending digest updates (#10840 Samuel Just)</li>
<li>osd: fix cancel_proxy_read_ops (Sage Weil)</li>
<li>osd: fix cleanup of interrupted pg deletion (#10617 Sage Weil)</li>
<li>osd: fix journal wrapping bug (#10883 David Zafman)</li>
<li>osd: fix leak in SnapTrimWQ (#10421 Kefu Chai)</li>
<li>osd: fix memstore free space calculation (Xiaoxi Chen)</li>
<li>osd: fix mixed-version peering issues (Samuel Just)</li>
<li>osd: fix object digest update bug (#10840 Samuel Just)</li>
<li>osd: fix ordering issue with new transaction encoding (#10534 Dong Yuan)</li>
<li>osd: fix past_interval generation (#10427 #10430 David Zafman)</li>
<li>osd: fix short read handling on push (#8121 David Zafman)</li>
<li>osd: fix watch timeout cache state update (#10784 David Zafman)</li>
<li>osd: force promotion of watch/notify ops (Zhiqiang Wang)</li>
<li>osd: improve idempotency detection across cache promotion/demotion (#8935 Sage Weil, Samuel Just)</li>
<li>osd: include activating peers in blocked_by (#10477 Sage Weil)</li>
<li>osd: jerasure and gf-complete updates from upstream (#10216 Loic Dachary)</li>
<li>osd: journal: check fsync/fdatasync result (Jianpeng Ma)</li>
<li>osd: journal: fix hang on shutdown (#10474 David Zafman)</li>
<li>osd: journal: fix header.committed_up_to (Xinze Chi)</li>
<li>osd: journal: initialize throttle (Ning Yao)</li>
<li>osd: journal: misc bug fixes (#6003 David Zafman, Samuel Just)</li>
<li>osd: misc cleanup (Xinze Chi, Yongyue Sun)</li>
<li>osd: new &#8216;activating&#8217; state between peering and active (Sage Weil)</li>
<li>osd: preserve reqids for idempotency checks for promote/demote (Sage Weil, Zhiqiang Wang, Samuel Just)</li>
<li>osd: remove dead locking code (Xinxin Shu)</li>
<li>osd: restrict scrub to certain times of day (Xinze Chi)</li>
<li>osd: rocksdb: fix shutdown (Hoamai Wang)</li>
<li>pybind: fix memory leak in librados bindings (Billy Olsen)</li>
<li>qa: fix mds tests (#10539 John Spray)</li>
<li>qa: ignore duplicates in rados ls (Josh Durgin)</li>
<li>qa: improve hadoop tests (Noah Watkins)</li>
<li>qa: reorg fs quota tests (Greg Farnum)</li>
<li>rados: fix usage (Jianpeng Ma)</li>
<li>radosgw-admin: add replicalog update command (Yehuda Sadeh)</li>
<li>rbd-fuse: clean up on shutdown (Josh Durgin)</li>
<li>rbd: add &#8216;merge-diff&#8217; function (MingXin Liu, Yunchuan Wen, Li Wang)</li>
<li>rbd: fix buffer handling on image import (#10590 Jason Dillaman)</li>
<li>rbd: leave exclusive lockin goff by default (Jason Dillaman)</li>
<li>rbd: update init-rbdmap to fix dup mount point (Karel Striegel)</li>
<li>rbd: use IO hints for import, export, and bench operations (#10462 Jason Dillaman)</li>
<li>rbd_recover_tool: RBD image recovery tool (Min Chen)</li>
<li>rgw: S3-style object versioning support (Yehuda Sadeh)</li>
<li>rgw: check keystone auth for S3 POST requests (#10062 Abhishek Lekshmanan)</li>
<li>rgw: extend replica log API (purge-all) (Yehuda Sadeh)</li>
<li>rgw: fail S3 POST if keystone not configured (#10688 Valery Tschopp, Yehuda Sadeh)</li>
<li>rgw: fix XML header on get ACL request (#10106 Yehuda Sadeh)</li>
<li>rgw: fix bucket removal with data purge (Yehuda Sadeh)</li>
<li>rgw: fix replica log indexing (#8251 Yehuda Sadeh)</li>
<li>rgw: fix swift metadata header name (Dmytro Iurchenko)</li>
<li>rgw: remove multipart entries from bucket index on abort (#10719 Yehuda Sadeh)</li>
<li>rgw: respond with 204 to POST on containers (#10667 Yuan Zhou)</li>
<li>rgw: reuse fcgx connection struct (#10194 Yehuda Sadeh)</li>
<li>rgw: support multiple host names (#7467 Yehuda Sadeh)</li>
<li>rgw: swift: dump container&#8217;s custom metadata (#10665 Ahmad Faheem, Dmytro Iurchenko)</li>
<li>rgw: swift: support Accept header for response format (#10746 Dmytro Iurchenko)</li>
<li>rgw: swift: support for X-Remove-Container-Meta-{key} (#10475 Dmytro Iurchenko)</li>
<li>rpm: move rgw logrotate to radosgw subpackage (Ken Dreyer)</li>
<li>tests: centos-6 dockerfile (#10755 Loic Dachary)</li>
<li>tests: unit tests for shared_cache (Dong Yuan)</li>
<li>vstart.sh: work with cmake (Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v0-92">
<h2>v0.92<a class="headerlink" href="#v0-92" title="Permalink to this headline">¶</a></h2>
<p>This is the second-to-last chunk of new stuff before Hammer.  Big items
include additional checksums on OSD objects, proxied reads in the
cache tier, image locking in RBD, optimized OSD Transaction and
replication messages, and a big pile of RGW and MDS bug fixes.</p>
<div class="section" id="id2474">
<h3>Upgrading<a class="headerlink" href="#id2474" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The experimental &#8216;keyvaluestore-dev&#8217; OSD backend has been renamed
&#8216;keyvaluestore&#8217; (for simplicity) and marked as experimental.  To
enable this untested feature and acknowledge that you understand
that it is untested and may destroy data, you need to add the
following to your ceph.conf:</p>
<div class="highlight-python"><pre>enable experimental unrecoverable data corrupting featuers = keyvaluestore</pre>
</div>
</li>
<li><p class="first">The following librados C API function calls take a &#8216;flags&#8217; argument whose value
is now correctly interpreted:</p>
<blockquote>
<div><p>rados_write_op_operate()
rados_aio_write_op_operate()
rados_read_op_operate()
rados_aio_read_op_operate()</p>
</div></blockquote>
<p>The flags were not correctly being translated from the librados constants to the
internal values.  Now they are.  Any code that is passing flags to these methods
should be audited to ensure that they are using the correct LIBRADOS_OP_FLAG_*
constants.</p>
</li>
<li><p class="first">The &#8216;rados&#8217; CLI &#8216;copy&#8217; and &#8216;cppool&#8217; commands now use the copy-from operation,
which means the latest CLI cannot run these commands against pre-firefly OSDs.</p>
</li>
<li><p class="first">The librados watch/notify API now includes a watch_flush() operation to flush
the async queue of notify operations.  This should be called by any watch/notify
user prior to rados_shutdown().</p>
</li>
</ul>
</div>
<div class="section" id="id2475">
<h3>Notable Changes<a class="headerlink" href="#id2475" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>add experimental features option (Sage Weil)</li>
<li>build: fix &#8216;make check&#8217; races (#10384 Loic Dachary)</li>
<li>build: fix pkg names when libkeyutils is missing (Pankag Garg, Ken Dreyer)</li>
<li>ceph: make &#8216;ceph -s&#8217; show PG state counts in sorted order (Sage Weil)</li>
<li>ceph: make &#8216;ceph tell mon.* version&#8217; work (Mykola Golub)</li>
<li>ceph-monstore-tool: fix/improve CLI (Joao Eduardo Luis)</li>
<li>ceph: show primary-affinity in &#8216;ceph osd tree&#8217; (Mykola Golub)</li>
<li>common: add TableFormatter (Andreas Peters)</li>
<li>common: check syncfs() return code (Jianpeng Ma)</li>
<li>doc: do not suggest dangerous XFS nobarrier option (Dan van der Ster)</li>
<li>doc: misc updates (Nilamdyuti Goswami, John Wilkins)</li>
<li>install-deps.sh: do not require sudo when root (Loic Dachary)</li>
<li>libcephfs: fix dirfrag trimming (#10387 Yan, Zheng)</li>
<li>libcephfs: fix mount timeout (#10041 Yan, Zheng)</li>
<li>libcephfs: fix test (#10415 Yan, Zheng)</li>
<li>libcephfs: fix use-afer-free on umount (#10412 Yan, Zheng)</li>
<li>libcephfs: include ceph and git version in client metadata (Sage Weil)</li>
<li>librados: add watch_flush() operation (Sage Weil, Haomai Wang)</li>
<li>librados: avoid memcpy on getxattr, read (Jianpeng Ma)</li>
<li>librados: create ioctx by pool id (Jason Dillaman)</li>
<li>librados: do notify completion in fast-dispatch (Sage Weil)</li>
<li>librados: remove shadowed variable (Kefu Chain)</li>
<li>librados: translate op flags from C APIs (Matthew Richards)</li>
<li>librbd: differentiate between R/O vs R/W features (Jason Dillaman)</li>
<li>librbd: exclusive image locking (Jason Dillaman)</li>
<li>librbd: fix write vs import race (#10590 Jason Dillaman)</li>
<li>librbd: gracefully handle deleted/renamed pools (#10270 Jason Dillaman)</li>
<li>mds: asok command for fetching subtree map (John Spray)</li>
<li>mds: constify MDSCacheObjects (John Spray)</li>
<li>misc: various valgrind fixes and cleanups (Danny Al-Gaaf)</li>
<li>mon: fix &#8216;mds fail&#8217; for standby MDSs (John Spray)</li>
<li>mon: fix stashed monmap encoding (#5203 Xie Rui)</li>
<li>mon: implement &#8216;fs reset&#8217; command (John Spray)</li>
<li>mon: respect down flag when promoting standbys (John Spray)</li>
<li>mount.ceph: fix suprious error message (#10351 Yan, Zheng)</li>
<li>msgr: async: many fixes, unit tests (Haomai Wang)</li>
<li>msgr: simple: retry binding to port on failure (#10029 Wido den Hollander)</li>
<li>osd: add fadvise flags to ObjectStore API (Jianpeng Ma)</li>
<li>osd: add get_latest_osdmap asok command (#9483 #9484 Mykola Golub)</li>
<li>osd: EIO on whole-object reads when checksum is wrong (Sage Weil)</li>
<li>osd: filejournal: don&#8217;t cache journal when not using direct IO (Jianpeng Ma)</li>
<li>osd: fix ioprio option (Mykola Golub)</li>
<li>osd: fix scrub delay bug (#10693 Samuel Just)</li>
<li>osd: fix watch reconnect race (#10441 Sage Weil)</li>
<li>osd: handle no-op write with snapshot (#10262 Sage Weil)</li>
<li>osd: journal: fix journal zeroing when direct IO is enabled (Xie Rui)</li>
<li>osd: keyvaluestore: cleanup dead code (Ning Yao)</li>
<li>osd, mds: &#8216;ops&#8217; as shorthand for &#8216;dump_ops_in_flight&#8217; on asok (Sage Weil)</li>
<li>osd: memstore: fix size limit (Xiaoxi Chen)</li>
<li>osd: misc scrub fixes (#10017 Loic Dachary)</li>
<li>osd: new optimized encoding for ObjectStore::Transaction (Dong Yuan)</li>
<li>osd: optimize filter_snapc (Ning Yao)</li>
<li>osd: optimize WBThrottle map with unordered_map (Ning Yao)</li>
<li>osd: proxy reads during cache promote (Zhiqiang Wang)</li>
<li>osd: proxy read support (Zhiqiang Wang)</li>
<li>osd: remove legacy classic scrub code (Sage Weil)</li>
<li>osd: remove unused fields in MOSDSubOp (Xiaoxi Chen)</li>
<li>osd: replace MOSDSubOp messages with simpler, optimized MOSDRepOp (Xiaoxi Chen)</li>
<li>osd: store whole-object checksums on scrub, write_full (Sage Weil)</li>
<li>osd: verify kernel is new enough before using XFS extsize ioctl, enable by default (#9956 Sage Weil)</li>
<li>rados: use copy-from operation for copy, cppool (Sage Weil)</li>
<li>rgw: change multipart upload id magic (#10271 Yehuda Sadeh)</li>
<li>rgw: decode http query params correction (#10271 Yehuda Sadeh)</li>
<li>rgw: fix content length check (#10701 Axel Dunkel, Yehuda Sadeh)</li>
<li>rgw: fix partial GET in swift (#10553 Yehuda Sadeh)</li>
<li>rgw: fix shutdown (#10472 Yehuda Sadeh)</li>
<li>rgw: include XML ns on get ACL request (#10106 Yehuda Sadeh)</li>
<li>rgw: misc fixes (#10307 Yehuda Sadeh)</li>
<li>rgw: only track cleanup for objects we write (#10311 Yehuda Sadeh)</li>
<li>rgw: tweak error codes (#10329 #10334 Yehuda Sadeh)</li>
<li>rgw: use gc for multipart abort (#10445 Aaron Bassett, Yehuda Sadeh)</li>
<li>sysvinit: fix race in &#8216;stop&#8217; (#10389 Loic Dachary)</li>
<li>test: fix bufferlist tests (Jianpeng Ma)</li>
<li>tests: improve docker-based tests (Loic Dachary)</li>
</ul>
</div>
</div>
<div class="section" id="v0-91">
<h2>v0.91<a class="headerlink" href="#v0-91" title="Permalink to this headline">¶</a></h2>
<p>We are quickly approaching the Hammer feature freeze but have a few
more dev releases to go before we get there.  The headline items are
subtree-based quota support in CephFS (ceph-fuse/libcephfs client
support only for now), a rewrite of the watch/notify librados API used
by RBD and RGW, OSDMap checksums to ensure that maps are always
consistent inside the cluster, new API calls in librados and librbd
for IO hinting modeled after posix_fadvise, and improved storage of
per-PG state.</p>
<p>We expect two more releases before the Hammer feature freeze (v0.93).</p>
<div class="section" id="id2476">
<h3>Upgrading<a class="headerlink" href="#id2476" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The &#8216;category&#8217; field for objects has been removed.  This was originally added
to track PG stat summations over different categories of objects for use by
radosgw.  It is no longer has any known users and is prone to abuse because it
can lead to a pg_stat_t structure that is unbounded.  The librados API calls
that accept this field now ignore it, and the OSD no longers tracks the
per-category summations.</li>
<li>The output for &#8216;rados df&#8217; has changed.  The &#8216;category&#8217; level has been
eliminated, so there is now a single stat object per pool.  The structure of
the JSON output is different, and the plaintext output has one less column.</li>
<li>The &#8216;rados create &lt;objectname&gt; [category]&#8217; optional category argument is no
longer supported or recognized.</li>
<li>rados.py&#8217;s Rados class no longer has a __del__ method; it was causing
problems on interpreter shutdown and use of threads.  If your code has
Rados objects with limited lifetimes and you&#8217;re concerned about locked
resources, call Rados.shutdown() explicitly.</li>
<li>There is a new version of the librados watch/notify API with vastly
improved semantics.  Any applications using this interface are
encouraged to migrate to the new API.  The old API calls are marked
as deprecated and will eventually be removed.</li>
<li>The librados rados_unwatch() call used to be safe to call on an
invalid handle.  The new version has undefined behavior when passed
a bogus value (for example, when rados_watch() returns an error and
handle is not defined).</li>
<li>The structure of the formatted &#8216;pg stat&#8217; command is changed for the
portion that counts states by name to avoid using the &#8216;+&#8217; character
(which appears in state names) as part of the XML token (it is not
legal).</li>
</ul>
</div>
<div class="section" id="id2477">
<h3>Notable Changes<a class="headerlink" href="#id2477" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>asyncmsgr: misc fixes (Haomai Wang)</li>
<li>buffer: add &#8216;shareable&#8217; construct (Matt Benjamin)</li>
<li>build: aarch64 build fixes (Noah Watkins, Haomai Wang)</li>
<li>build: support for jemalloc (Shishir Gowda)</li>
<li>ceph-disk: allow journal partition re-use (#10146 Loic Dachary, Dav van der Ster)</li>
<li>ceph-disk: misc fixes (Christos Stavrakakis)</li>
<li>ceph-fuse: fix kernel cache trimming (#10277 Yan, Zheng)</li>
<li>ceph-objectstore-tool: many many improvements (David Zafman)</li>
<li>common: support new gperftools header locations (Key Dreyer)</li>
<li>crush: straw bucket weight calculation fixes (#9998 Sage Weil)</li>
<li>doc: misc improvements (Nilamdyuti Goswami, John Wilkins, Chris Holcombe)</li>
<li>libcephfs,ceph-fuse: add &#8216;status&#8217; asok (John Spray)</li>
<li>librados, osd: new watch/notify implementation (Sage Weil)</li>
<li>librados: drop &#8216;category&#8217; feature (Sage Weil)</li>
<li>librados: fix pool deletion handling (#10372 Sage Weil)</li>
<li>librados: new fadvise API (Ma Jianpeng)</li>
<li>libradosstriper: fix remove() (Dongmao Zhang)</li>
<li>librbd: complete pending ops before closing image (#10299 Josh Durgin)</li>
<li>librbd: fadvise API (Ma Jianpeng)</li>
<li>mds: ENOSPC and OSDMap epoch barriers (#7317 John Spray)</li>
<li>mds: dirfrag buf fix (Yan, Zheng)</li>
<li>mds: disallow most commands on inactive MDS&#8217;s (Greg Farnum)</li>
<li>mds: drop dentries, leases on deleted directories (#10164 Yan, Zheng)</li>
<li>mds: handle zero-size xattr (#10335 Yan, Zheng)</li>
<li>mds: subtree quota support (Yunchuan Wen)</li>
<li>memstore: free space tracking (John Spray)</li>
<li>misc cleanup (Danny Al-Gaaf, David Anderson)</li>
<li>mon: &#8216;osd crush reweight-all&#8217; command (Sage Weil)</li>
<li>mon: allow full flag to be manually cleared (#9323 Sage Weil)</li>
<li>mon: delay failure injection (Joao Eduardo Luis)</li>
<li>mon: fix paxos timeouts (#10220 Joao Eduardo Luis)</li>
<li>mon: get canonical OSDMap from leader (#10422 Sage Weil)</li>
<li>msgr: fix RESETSESSION bug (#10080 Greg Farnum)</li>
<li>objectstore: deprecate collection attrs (Sage Weil)</li>
<li>osd, mon: add checksums to all OSDMaps (Sage Weil)</li>
<li>osd: allow deletion of objects with watcher (#2339 Sage Weil)</li>
<li>osd: allow sparse read for Push/Pull (Haomai Wang)</li>
<li>osd: cache reverse_nibbles hash value (Dong Yuan)</li>
<li>osd: drop upgrade support for pre-dumpling (Sage Weil)</li>
<li>osd: enable and use posix_fadvise (Sage Weil)</li>
<li>osd: erasure-code: enforce chunk size alignment (#10211 Loic Dachary)</li>
<li>osd: erasure-code: jerasure support for NEON (Loic Dachary)</li>
<li>osd: erasure-code: relax cauchy w restrictions (#10325 David Zhang, Loic Dachary)</li>
<li>osd: erasure-code: update gf-complete to latest upstream (Loic Dachary)</li>
<li>osd: fix WBTHrottle perf counters (Haomai Wang)</li>
<li>osd: fix backfill bug (#10150 Samuel Just)</li>
<li>osd: fix occasional peering stalls (#10431 Sage Weil)</li>
<li>osd: fix scrub vs try-flush bug (#8011 Samuel Just)</li>
<li>osd: fix stderr with -f or -d (Dan Mick)</li>
<li>osd: misc FIEMAP fixes (Ma Jianpeng)</li>
<li>osd: optimize Finisher (Xinze Chi)</li>
<li>osd: store PG metadata in per-collection objects for better concurrency (Sage Weil)</li>
<li>pyrados: add object lock support (#6114 Mehdi Abaakouk)</li>
<li>pyrados: fix misnamed wait_* routings (#10104 Dan Mick)</li>
<li>pyrados: misc cleanups (Kefu Chai)</li>
<li>qa: add large auth ticket tests (Ilya Dryomov)</li>
<li>qa: many &#8216;make check&#8217; improvements (Loic Dachary)</li>
<li>qa: misc tests (Loic Dachary, Yan, Zheng)</li>
<li>rgw: conditional PUT on ETag (#8562 Ray Lv)</li>
<li>rgw: fix error codes (#10334 #10329 Yehuda Sadeh)</li>
<li>rgw: index swift keys appropriately (#10471 Yehuda Sadeh)</li>
<li>rgw: prevent illegal bucket policy that doesn&#8217;t match placement rule (Yehuda Sadeh)</li>
<li>rgw: run radosgw as apache with systemd (#10125 Loic Dachary)</li>
<li>rgw: support X-Storage-Policy header for Swift storage policy compat (Yehuda Sadeh)</li>
<li>rgw: use rn for http headers (#9254 Yehuda Sadeh)</li>
<li>rpm: misc fixes (Key Dreyer)</li>
</ul>
</div>
</div>
<div class="section" id="v0-90">
<h2>v0.90<a class="headerlink" href="#v0-90" title="Permalink to this headline">¶</a></h2>
<p>This is the last development release before Christmas.  There are some
API cleanups for librados and librbd, and lots of bug fixes across the
board for the OSD, MDS, RGW, and CRUSH.  The OSD also gets support for
discard (potentially helpful on SSDs, although it is off by default), and there
are several improvements to ceph-disk.</p>
<p>The next two development releases will be getting a slew of new
functionality for hammer.  Stay tuned!</p>
<div class="section" id="id2478">
<h3>Upgrading<a class="headerlink" href="#id2478" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Previously, the formatted output of &#8216;ceph pg stat -f ...&#8217; was a full
pg dump that included all metadata about all PGs in the system.  It
is now a concise summary of high-level PG stats, just like the
unformatted &#8216;ceph pg stat&#8217; command.</li>
<li>All JSON dumps of floating point values were incorrecting surrounding the
value with quotes.  These quotes have been removed.  Any consumer of structured
JSON output that was consuming the floating point values was previously having
to interpret the quoted string and will most likely need to be fixed to take
the unquoted number.</li>
</ul>
</div>
<div class="section" id="id2479">
<h3>Notable Changes<a class="headerlink" href="#id2479" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>arch: fix NEON feaeture detection (#10185 Loic Dachary)</li>
<li>build: adjust build deps for yasm, virtualenv (Jianpeng Ma)</li>
<li>build: improve build dependency tooling (Loic Dachary)</li>
<li>ceph-disk: call partx/partprobe consistency (#9721 Loic Dachary)</li>
<li>ceph-disk: fix dmcrypt key permissions (Loic Dachary)</li>
<li>ceph-disk: fix umount race condition (#10096 Blaine Gardner)</li>
<li>ceph-disk: init=none option (Loic Dachary)</li>
<li>ceph-monstore-tool: fix shutdown (#10093 Loic Dachary)</li>
<li>ceph-objectstore-tool: fix import (#10090 David Zafman)</li>
<li>ceph-objectstore-tool: many improvements and tests (David Zafman)</li>
<li>ceph.spec: package rbd-replay-prep (Ken Dreyer)</li>
<li>common: add &#8216;perf reset ...&#8217; admin command (Jianpeng Ma)</li>
<li>common: do not unlock rwlock on destruction (Federico Simoncelli)</li>
<li>common: fix block device discard check (#10296 Sage Weil)</li>
<li>common: remove broken CEPH_LOCKDEP optoin (Kefu Chai)</li>
<li>crush: fix tree bucket behavior (Rongze Zhu)</li>
<li>doc: add build-doc guidlines for Fedora and CentOS/RHEL (Nilamdyuti Goswami)</li>
<li>doc: enable rbd cache on openstack deployments (Sebastien Han)</li>
<li>doc: improved installation nots on CentOS/RHEL installs (John Wilkins)</li>
<li>doc: misc cleanups (Adam Spiers, Sebastien Han, Nilamdyuti Goswami, Ken Dreyer, John Wilkins)</li>
<li>doc: new man pages (Nilamdyuti Goswami)</li>
<li>doc: update release descriptions (Ken Dreyer)</li>
<li>doc: update sepia hardware inventory (Sandon Van Ness)</li>
<li>librados: only export public API symbols (Jason Dillaman)</li>
<li>libradosstriper: fix stat strtoll (Dongmao Zhang)</li>
<li>libradosstriper: fix trunc method (#10129 Sebastien Ponce)</li>
<li>librbd: fix list_children from invalid pool ioctxs (#10123 Jason Dillaman)</li>
<li>librbd: only export public API symbols (Jason Dillaman)</li>
<li>many coverity fixes (Danny Al-Gaaf)</li>
<li>mds: &#8216;flush journal&#8217; admin command (John Spray)</li>
<li>mds: fix MDLog IO callback deadlock (John Spray)</li>
<li>mds: fix deadlock during journal probe vs purge (#10229 Yan, Zheng)</li>
<li>mds: fix race trimming log segments (Yan, Zheng)</li>
<li>mds: store backtrace for stray dir (Yan, Zheng)</li>
<li>mds: verify backtrace when fetching dirfrag (#9557 Yan, Zheng)</li>
<li>mon: add max pgs per osd warning (Sage Weil)</li>
<li>mon: fix <em>_ratio</em> units and types (Sage Weil)</li>
<li>mon: fix JSON dumps to dump floats as flots and not strings (Sage Weil)</li>
<li>mon: fix formatter &#8216;pg stat&#8217; command output (Sage Weil)</li>
<li>msgr: async: several fixes (Haomai Wang)</li>
<li>msgr: simple: fix rare deadlock (Greg Farnum)</li>
<li>osd: batch pg log trim (Xinze Chi)</li>
<li>osd: clean up internal ObjectStore interface (Sage Weil)</li>
<li>osd: do not abort deep scrub on missing hinfo (#10018 Loic Dachary)</li>
<li>osd: fix ghobject_t formatted output to include shard (#10063 Loic Dachary)</li>
<li>osd: fix osd peer check on scrub messages (#9555 Sage Weil)</li>
<li>osd: fix pgls filter ops (#9439 David Zafman)</li>
<li>osd: flush snapshots from cache tier immediately (Sage Weil)</li>
<li>osd: keyvaluestore: fix getattr semantics (Haomai Wang)</li>
<li>osd: keyvaluestore: fix key ordering (#10119 Haomai Wang)</li>
<li>osd: limit in-flight read requests (Jason Dillaman)</li>
<li>osd: log when scrub or repair starts (Loic Dachary)</li>
<li>osd: support for discard for journal trim (Jianpeng Ma)</li>
<li>qa: fix osd create dup tests (#10083 Loic Dachary)</li>
<li>rgw: add location header when object is in another region (VRan Liu)</li>
<li>rgw: check timestamp on s3 keystone auth (#10062 Abhishek Lekshmanan)</li>
<li>rgw: make sysvinit script set ulimit -n properly (Sage Weil)</li>
<li>systemd: better systemd unit files (Owen Synge)</li>
<li>tests: ability to run unit tests under docker (Loic Dachary)</li>
</ul>
</div>
</div>
<div class="section" id="v0-89">
<h2>v0.89<a class="headerlink" href="#v0-89" title="Permalink to this headline">¶</a></h2>
<p>This is the second development release since Giant.  The big items
include the first batch of scrub patchs from Greg for CephFS, a rework
in the librados object listing API to properly handle namespaces, and
a pile of bug fixes for RGW.  There are also several smaller issues
fixed up in the performance area with buffer alignment and memory
copies, osd cache tiering agent, and various CephFS fixes.</p>
<div class="section" id="id2480">
<h3>Upgrading<a class="headerlink" href="#id2480" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New ability to list all objects from all namespaces can fail or
return incomplete results when not all OSDs have been upgraded.
Features rados &#8211;all ls, rados cppool, rados export, rados
cache-flush-evict-all and rados cache-try-flush-evict-all can also
fail or return incomplete results.</li>
</ul>
</div>
<div class="section" id="id2481">
<h3>Notable Changes<a class="headerlink" href="#id2481" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>buffer: add list::get_contiguous (Sage Weil)</li>
<li>buffer: avoid rebuild if buffer already contiguous (Jianpeng Ma)</li>
<li>ceph-disk: improved systemd support (Owen Synge)</li>
<li>ceph-disk: set guid if reusing journal partition (Dan van der Ster)</li>
<li>ceph-fuse, libcephfs: allow xattr caps in inject_release_failure (#9800 John Spray)</li>
<li>ceph-fuse, libcephfs: fix I_COMPLETE_ORDERED checks (#9894 Yan, Zheng)</li>
<li>ceph-fuse: fix dentry invalidation on 3.18+ kernels (#9997 Yan, Zheng)</li>
<li>crush: fix detach_bucket (#10095 Sage Weil)</li>
<li>crush: fix several bugs in adjust_item_weight (Rongze Zhu)</li>
<li>doc: add dumpling to firefly upgrade section (#7679 John Wilkins)</li>
<li>doc: document erasure coded pool operations (#9970 Loic Dachary)</li>
<li>doc: file system osd config settings (Kevin Dalley)</li>
<li>doc: key/value store config reference (John Wilkins)</li>
<li>doc: update openstack docs for Juno (Sebastien Han)</li>
<li>fix cluster logging from non-mon daemons (Sage Weil)</li>
<li>init-ceph: check for systemd-run before using it (Boris Ranto)</li>
<li>librados: fix infinite loop with skipped map epochs (#9986 Ding Dinghua)</li>
<li>librados: fix iterator operator= bugs (#10082 David Zafman, Yehuda Sadeh)</li>
<li>librados: fix null deref when pool DNE (#9944 Sage Weil)</li>
<li>librados: fix timer race from recent refactor (Sage Weil)</li>
<li>libradosstriper: fix shutdown hang (Dongmao Zhang)</li>
<li>librbd: don&#8217;t close a closed parent in failure path (#10030 Jason Dillaman)</li>
<li>librbd: fix diff test (#10002 Josh Durgin)</li>
<li>librbd: fix locking for readahead (#10045 Jason Dillaman)</li>
<li>librbd: refactor unit tests to use fixtures (Jason Dillaman)</li>
<li>many many coverity cleanups (Danny Al-Gaaf)</li>
<li>mds: a whole bunch of initial scrub infrastructure (Greg Farnum)</li>
<li>mds: fix compat_version for MClientSession (#9945 John Spray)</li>
<li>mds: fix reply snapbl (Yan, Zheng)</li>
<li>mon: allow adding tiers to fs pools (#10135 John Spray)</li>
<li>mon: fix MDS health status from peons (#10151 John Spray)</li>
<li>mon: fix caching for min_last_epoch_clean (#9987 Sage Weil)</li>
<li>mon: fix error output for add_data_pool (#9852 Joao Eduardo Luis)</li>
<li>mon: include entity name in audit log for forwarded requests (#9913 Joao Eduardo Luis)</li>
<li>mon: paxos: allow reads while proposing (#9321 #9322 Joao Eduardo Luis)</li>
<li>msgr: asyncmessenger: add kqueue support (#9926 Haomai Wang)</li>
<li>osd, librados: revamp PG listing API to handle namespaces (#9031 #9262 #9438 David Zafman)</li>
<li>osd, mon: send intiial pg create time from mon to osd (#9887 David Zafman)</li>
<li>osd: allow whiteout deletion in cache pool (Sage Weil)</li>
<li>osd: cache pool: ignore min flush age when cache is full (Xinze Chi)</li>
<li>osd: erasure coding: allow bench.sh to test ISA backend (Yuan Zhou)</li>
<li>osd: erasure-code: encoding regression tests, corpus (#9420 Loic Dachary)</li>
<li>osd: fix journal shutdown race (Sage Weil)</li>
<li>osd: fix object age eviction (Zhiqiang Wang)</li>
<li>osd: fix object atime calculation (Xinze Chi)</li>
<li>osd: fix past_interval display bug (#9752 Loic Dachary)</li>
<li>osd: journal: fix alignment checks, avoid useless memmove (Jianpeng Ma)</li>
<li>osd: journal: update committed_thru after replay (#6756 Samuel Just)</li>
<li>osd: keyvaluestore_dev: optimization (Chendi Xue)</li>
<li>osd: make misdirected op checks robust for EC pools (#9835 Sage Weil)</li>
<li>osd: removed some dead code (Xinze Chi)</li>
<li>qa: parallelize make check (Loic Dachary)</li>
<li>qa: tolerate nearly-full disk for make check (Loic Dachary)</li>
<li>rgw: create subuser if needed when creating user (#10103 Yehuda Sadeh)</li>
<li>rgw: fix If-Modified-Since (VRan Liu)</li>
<li>rgw: fix content-length update (#9576 Yehuda Sadeh)</li>
<li>rgw: fix disabling of max_size quota (#9907 Dong Lei)</li>
<li>rgw: fix incorrect len when len is 0 (#9877 Yehuda Sadeh)</li>
<li>rgw: fix object copy content type (#9478 Yehuda Sadeh)</li>
<li>rgw: fix user stags in get-user-info API (#9359 Ray Lv)</li>
<li>rgw: remove swift user manifest (DLO) hash calculation (#9973 Yehuda Sadeh)</li>
<li>rgw: return timestamp on GET/HEAD (#8911 Yehuda Sadeh)</li>
<li>rgw: set ETag on object copy (#9479 Yehuda Sadeh)</li>
<li>rgw: update bucket index on attr changes, for multi-site sync (#5595 Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v0-88">
<h2>v0.88<a class="headerlink" href="#v0-88" title="Permalink to this headline">¶</a></h2>
<p>This is the first development release after Giant.  The two main
features merged this round are the new AsyncMessenger (an alternative
implementation of the network layer) from Haomai Wang at UnitedStack,
and support for POSIX file locks in ceph-fuse and libcephfs from Yan,
Zheng.  There is also a big pile of smaller items that re merged while
we were stabilizing Giant, including a range of smaller performance
and bug fixes and some new tracepoints for LTTNG.</p>
<div class="section" id="id2482">
<h3>Notable Changes<a class="headerlink" href="#id2482" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-disk: Scientific Linux support (Dan van der Ster)</li>
<li>ceph-disk: respect &#8211;statedir for keyring (Loic Dachary)</li>
<li>ceph-fuse, libcephfs: POSIX file lock support (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: fix cap flush overflow (Greg Farnum, Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: fix root inode xattrs (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: preserve dir ordering (#9178 Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: trim inodes before reconnecting to MDS (Yan, Zheng)</li>
<li>ceph: do not parse injectargs twice (Loic Dachary)</li>
<li>ceph: make &#8216;ceph -s&#8217; output more readable (Sage Weil)</li>
<li>ceph: new &#8216;ceph tell mds.$name_or_rank_or_gid&#8217; (John Spray)</li>
<li>ceph: test robustness (Joao Eduardo Luis)</li>
<li>ceph_objectstore_tool: behave with sharded flag (#9661 David Zafman)</li>
<li>cephfs-journal-tool: fix journal import (#10025 John Spray)</li>
<li>cephfs-journal-tool: skip up to expire_pos (#9977 John Spray)</li>
<li>cleanup rados.h definitions with macros (Ilya Dryomov)</li>
<li>common: shared_cache unit tests (Cheng Cheng)</li>
<li>config: add $cctid meta variable (Adam Crume)</li>
<li>crush: fix buffer overrun for poorly formed rules (#9492 Johnu George)</li>
<li>crush: improve constness (Loic Dachary)</li>
<li>crushtool: add &#8211;location &lt;id&gt; command (Sage Weil, Loic Dachary)</li>
<li>default to libnss instead of crypto++ (Federico Gimenez)</li>
<li>doc: ceph osd reweight vs crush weight (Laurent Guerby)</li>
<li>doc: document the LRC per-layer plugin configuration (Yuan Zhou)</li>
<li>doc: erasure code doc updates (Loic Dachary)</li>
<li>doc: misc updates (Alfredo Deza, VRan Liu)</li>
<li>doc: preflight doc fixes (John Wilkins)</li>
<li>doc: update PG count guide (Gerben Meijer, Laurent Guerby, Loic Dachary)</li>
<li>keyvaluestore: misc fixes (Haomai Wang)</li>
<li>keyvaluestore: performance improvements (Haomai Wang)</li>
<li>librados: add rados_pool_get_base_tier() call (Adam Crume)</li>
<li>librados: cap buffer length (Loic Dachary)</li>
<li>librados: fix objecter races (#9617 Josh Durgin)</li>
<li>libradosstriper: misc fixes (Sebastien Ponce)</li>
<li>librbd: add missing python docstrings (Jason Dillaman)</li>
<li>librbd: add readahead (Adam Crume)</li>
<li>librbd: fix cache tiers in list_children and snap_unprotect (Adam Crume)</li>
<li>librbd: fix performance regression in ObjectCacher (#9513 Adam Crume)</li>
<li>librbd: lttng tracepoints (Adam Crume)</li>
<li>librbd: misc fixes (Xinxin Shu, Jason Dillaman)</li>
<li>mds: fix sessionmap lifecycle bugs (Yan, Zheng)</li>
<li>mds: initialize root inode xattr version (Yan, Zheng)</li>
<li>mds: introduce auth caps (John Spray)</li>
<li>mds: misc bugs (Greg Farnum, John Spray, Yan, Zheng, Henry Change)</li>
<li>misc coverity fixes (Danny Al-Gaaf)</li>
<li>mon: add &#8216;ceph osd rename-bucket ...&#8217; command (Loic Dachary)</li>
<li>mon: clean up auth list output (Loic Dachary)</li>
<li>mon: fix &#8216;osd crush link&#8217; id resolution (John Spray)</li>
<li>mon: fix misc error paths (Joao Eduardo Luis)</li>
<li>mon: fix paxos off-by-one corner case (#9301 Sage Weil)</li>
<li>mon: new &#8216;ceph pool ls [detail]&#8217; command (Sage Weil)</li>
<li>mon: wait for writeable before cross-proposing (#9794 Joao Eduardo Luis)</li>
<li>msgr: avoid useless new/delete (Haomai Wang)</li>
<li>msgr: fix delay injection bug (#9910 Sage Weil, Greg Farnum)</li>
<li>msgr: new AsymcMessenger alternative implementation (Haomai Wang)</li>
<li>msgr: prefetch data when doing recv (Yehuda Sadeh)</li>
<li>osd: add erasure code corpus (Loic Dachary)</li>
<li>osd: add misc tests (Loic Dachary, Danny Al-Gaaf)</li>
<li>osd: cleanup boost optionals (William Kennington)</li>
<li>osd: expose non-journal backends via ceph-osd CLI (Hoamai Wang)</li>
<li>osd: fix JSON output for stray OSDs (Loic Dachary)</li>
<li>osd: fix ioprio options (Loic Dachary)</li>
<li>osd: fix transaction accounting (Jianpeng Ma)</li>
<li>osd: misc optimizations (Xinxin Shu, Zhiqiang Wang, Xinze Chi)</li>
<li>osd: use FIEMAP_FLAGS_SYNC instead of fsync (Jianpeng Ma)</li>
<li>rados: fix put of /dev/null (Loic Dachary)</li>
<li>rados: parse command-line arguments more strictly (#8983 Adam Crume)</li>
<li>rbd-fuse: fix memory leak (Adam Crume)</li>
<li>rbd-replay-many (Adam Crume)</li>
<li>rbd-replay: &#8211;anonymize flag to rbd-replay-prep (Adam Crume)</li>
<li>rbd: fix &#8216;rbd diff&#8217; for non-existent objects (Adam Crume)</li>
<li>rbd: fix error when striping with format 1 (Sebastien Han)</li>
<li>rbd: fix export for image sizes over 2GB (Vicente Cheng)</li>
<li>rbd: use rolling average for rbd bench-write throughput (Jason Dillaman)</li>
<li>rgw: send explicit HTTP status string (Yehuda Sadeh)</li>
<li>rgw: set length for keystone token validation request (#7796 Yehuda Sadeh, Mark Kirkwood)</li>
<li>udev: fix rules for CentOS7/RHEL7 (Loic Dachary)</li>
<li>use clock_gettime instead of gettimeofday (Jianpeng Ma)</li>
<li>vstart.sh: set up environment for s3-tests (Luis Pabon)</li>
</ul>
</div>
</div>
<div class="section" id="v0-87-2-giant">
<h2>v0.87.2 Giant<a class="headerlink" href="#v0-87-2-giant" title="Permalink to this headline">¶</a></h2>
<p>This is the second (and possibly final) point release for Giant.</p>
<p>We recommend all v0.87.x Giant users upgrade to this release.</p>
<div class="section" id="id2483">
<h3>Notable Changes<a class="headerlink" href="#id2483" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-objectstore-tool: only output unsupported features when incompatible (#11176 David Zafman)</li>
<li>common: do not implicitly unlock rwlock on destruction (Federico Simoncelli)</li>
<li>common: make wait timeout on empty queue configurable (#10818 Samuel Just)</li>
<li>crush: pick ruleset id that matches and rule id (Xiaoxi Chen)</li>
<li>crush: set_choose_tries = 100 for new erasure code rulesets (#10353 Loic Dachary)</li>
<li>librados: check initialized atomic safely (#9617 Josh Durgin)</li>
<li>librados: fix failed tick_event assert (#11183 Zhiqiang Wang)</li>
<li>librados: fix looping on skipped maps (#9986 Ding Dinghua)</li>
<li>librados: fix op submit with timeout (#10340 Samuel Just)</li>
<li>librados: pybind: fix memory leak (#10723 Billy Olsen)</li>
<li>librados: pybind: keep reference to callbacks (#10775 Josh Durgin)</li>
<li>librados: translate operation flags from C APIs (Matthew Richards)</li>
<li>libradosstriper: fix write_full on ENOENT (#10758 Sebastien Ponce)</li>
<li>libradosstriper: use strtoll instead of strtol (Dongmao Zhang)</li>
<li>mds: fix assertion caused by system time moving backwards (#11053 Yan, Zheng)</li>
<li>mon: allow injection of random delays on writes (Joao Eduardo Luis)</li>
<li>mon: do not trust small osd epoch cache values (#10787 Sage Weil)</li>
<li>mon: fail non-blocking flush if object is being scrubbed (#8011 Samuel Just)</li>
<li>mon: fix division by zero in stats dump (Joao Eduardo Luis)</li>
<li>mon: fix get_rule_avail when no osds (#10257 Joao Eduardo Luis)</li>
<li>mon: fix timeout rounds period (#10546 Joao Eduardo Luis)</li>
<li>mon: ignore osd failures before up_from (#10762 Dan van der Ster, Sage Weil)</li>
<li>mon: paxos: reset accept timeout before writing to store (#10220 Joao Eduardo Luis)</li>
<li>mon: return if fs exists on &#8216;fs new&#8217; (Joao Eduardo Luis)</li>
<li>mon: use EntityName when expanding profiles (#10844 Joao Eduardo Luis)</li>
<li>mon: verify cross-service proposal preconditions (#10643 Joao Eduardo Luis)</li>
<li>mon: wait for osdmon to be writeable when requesting proposal (#9794 Joao Eduardo Luis)</li>
<li>mount.ceph: avoid spurious error message about /etc/mtab (#10351 Yan, Zheng)</li>
<li>msg/simple: allow RESETSESSION when we forget an endpoint (#10080 Greg Farnum)</li>
<li>msg/simple: discard delay queue before incoming queue (#9910 Sage Weil)</li>
<li>osd: clear_primary_state when leaving Primary (#10059 Samuel Just)</li>
<li>osd: do not ignore deleted pgs on startup (#10617 Sage Weil)</li>
<li>osd: fix FileJournal wrap to get header out first (#10883 David Zafman)</li>
<li>osd: fix PG leak in SnapTrimWQ (#10421 Kefu Chai)</li>
<li>osd: fix journalq population in do_read_entry (#6003 Samuel Just)</li>
<li>osd: fix operator== for op_queue_age_hit and fs_perf_stat (#10259 Samuel Just)</li>
<li>osd: fix rare assert after split (#10430 David Zafman)</li>
<li>osd: get pgid ancestor from last_map when building past intervals (#10430 David Zafman)</li>
<li>osd: include rollback_info_trimmed_to in {read,write}_log (#10157 Samuel Just)</li>
<li>osd: lock header_lock in DBObjectMap::sync (#9891 Samuel Just)</li>
<li>osd: requeue blocked op before flush it was blocked on (#10512 Sage Weil)</li>
<li>osd: tolerate missing object between list and attr get on backfill (#10150 Samuel Just)</li>
<li>osd: use correct atime for eviction decision (Xinze Chi)</li>
<li>rgw: flush XML header on get ACL request (#10106 Yehuda Sadeh)</li>
<li>rgw: index swift keys appropriately (#10471 Hemant Bruman, Yehuda Sadeh)</li>
<li>rgw: send cancel for bucket index pending ops (#10770 Baijiaruo, Yehuda Sadeh)</li>
<li>rgw: swift: support X_Remove_Container-Meta-{key} (#01475 Dmytro Iurchenko)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.87.2.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-87-1-giant">
<h2>v0.87.1 Giant<a class="headerlink" href="#v0-87-1-giant" title="Permalink to this headline">¶</a></h2>
<p>This is the first (and possibly final) point release for Giant.  Our focus
on stability fixes will be directed towards Hammer and Firefly.</p>
<p>We recommend that all v0.87 Giant users upgrade to this release.</p>
<div class="section" id="id2484">
<h3>Upgrading<a class="headerlink" href="#id2484" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Due to a change in the Linux kernel version 3.18 and the limits of the FUSE
interface, ceph-fuse needs be mounted as root on at least some systems. See
issues #9997, #10277, and #10542 for details.</li>
</ul>
</div>
<div class="section" id="id2485">
<h3>Notable Changes<a class="headerlink" href="#id2485" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build: disable stack-execute bit on assembler objects (#10114 Dan Mick)</li>
<li>build: support boost 1.57.0 (#10688 Ken Dreyer)</li>
<li>ceph-disk: fix dmcrypt file permissions (#9785 Loic Dachary)</li>
<li>ceph-disk: run partprobe after zap, behave with partx or partprobe (#9665 #9721 Loic Dachary)</li>
<li>cephfs-journal-tool: fix import for aged journals (#9977 John Spray)</li>
<li>cephfs-journal-tool: fix journal import (#10025 John Spray)</li>
<li>ceph-fuse: use remount to trim kernel dcache (#10277 Yan, Zheng)</li>
<li>common: add cctid meta variable (#6228 Adam Crume)</li>
<li>common: fix dump of shard for ghobject_t (#10063 Loic Dachary)</li>
<li>crush: fix bucket weight underflow (#9998 Pawel Sadowski)</li>
<li>erasure-code: enforce chunk size alignment (#10211 Loic Dachary)</li>
<li>erasure-code: regression test suite (#9420 Loic Dachary)</li>
<li>erasure-code: relax caucy w restrictions (#10325 Loic Dachary)</li>
<li>libcephfs,ceph-fuse: allow xattr caps on inject_release_failure (#9800 John Spray)</li>
<li>libcephfs,ceph-fuse: fix cap flush tid comparison (#9869 Greg Farnum)</li>
<li>libcephfs,ceph-fuse: new flag to indicated sorted dcache (#9178 Yan, Zheng)</li>
<li>libcephfs,ceph-fuse: prune cache before reconnecting to MDS (Yan, Zheng)</li>
<li>librados: limit number of in-flight read requests (#9854 Jason Dillaman)</li>
<li>libradospy: fix thread shutdown (#8797 Dan Mick)</li>
<li>libradosstriper: fix locking issue in truncate (#10129 Sebastien Ponce)</li>
<li>librbd: complete pending ops before closing mage (#10299 Jason Dillaman)</li>
<li>librbd: fix error path on image open failure (#10030 Jason Dillaman)</li>
<li>librbd: gracefully handle deleted/renamed pools (#10270 Jason Dillaman)</li>
<li>librbd: handle errors when creating ioctx while listing children (#10123 Jason Dillaman)</li>
<li>mds: fix compat version in MClientSession (#9945 John Spray)</li>
<li>mds: fix journaler write error handling (#10011 John Spray)</li>
<li>mds: fix locking for file size recovery (#10229 Yan, Zheng)</li>
<li>mds: handle heartbeat_reset during shutdown (#10382 John Spray)</li>
<li>mds: store backtrace for straydir (Yan, Zheng)</li>
<li>mon: allow tiers for FS pools (#10135 John Spray)</li>
<li>mon: fix caching of last_epoch_clean, osdmap trimming (#9987 Sage Weil)</li>
<li>mon: fix &#8216;fs ls&#8217; on peons (#10288 John Spray)</li>
<li>mon: fix MDS health status from peons (#10151 John Spray)</li>
<li>mon: fix paxos off-by-one (#9301 Sage Weil)</li>
<li>msgr: simple: do not block on takeover while holding global lock (#9921 Greg Farnum)</li>
<li>osd: deep scrub must not abort if hinfo is missing (#10018 Loic Dachary)</li>
<li>osd: fix misdirected op detection (#9835 Sage Weil)</li>
<li>osd: fix past_interval display for acting (#9752 Loic Dachary)</li>
<li>osd: fix PG peering backoff when behind on osdmaps (#10431 Sage Weil)</li>
<li>osd: handle no-op write with snapshot case (#10262 Ssage Weil)</li>
<li>osd: use fast-dispatch (Sage Weil, Greg Farnum)</li>
<li>rados: fix write to /dev/null (Loic Dachary)</li>
<li>radosgw-admin: create subuser when needed (#10103 Yehuda Sadeh)</li>
<li>rbd: avoid invalidating aio_write buffer during image import (#10590 Jason Dillaman)</li>
<li>rbd: fix export with images &gt; 2GB (Vicente Cheng)</li>
<li>rgw: change multipart upload id magic (#10271 Georgios Dimitrakakis, Yehuda Sadeh)</li>
<li>rgw: check keystone auth for S3 POST (#10062 Abhishek Lekshmanan)</li>
<li>rgw: check timestamp for S3 keystone auth (#10062 Abhishek Lekshmanan)</li>
<li>rgw: fix partial GET with swift (#10553 Yehuda Sadeh)</li>
<li>rgw: fix quota disable (#9907 Dong Lei)</li>
<li>rgw: fix rare corruption of object metadata on put (#9576 Yehuda Sadeh)</li>
<li>rgw: fix S3 object copy content-type (#9478 Yehuda Sadeh)</li>
<li>rgw: headers end with rn (#9254 Benedikt Fraunhofer, Yehuda Sadeh)</li>
<li>rgw: remove swift user manifest DLO hash calculation (#9973 Yehuda Sadeh)</li>
<li>rgw: return correct len when len is 0 (#9877 Yehuda Sadeh)</li>
<li>rgw: return X-Timestamp field (#8911 Yehuda Sadeh)</li>
<li>rgw: run radosgw as apache with systemd (#10125)</li>
<li>rgw: sent ETag on S3 object copy (#9479 Yehuda Sadeh)</li>
<li>rgw: sent HTTP status reason explicitly in fastcgi (Yehuda Sadeh)</li>
<li>rgw: set length for keystone token validation (#7796 Mark Kirkwood, Yehuda Sadeh)</li>
<li>rgw: set ulimit -n on sysvinit before starting daemon (#9587 Sage Weil)</li>
<li>rgw: update bucket index on set_attrs (#5595 Yehuda Sadeh)</li>
<li>rgw: update swift subuser permission masks when authenticating (#9918 Yehuda Sadeh)</li>
<li>rgw: URL decode HTTP query params correction (#10271 Georgios Dimitrakakis, Yehuda Sadeh)</li>
<li>rgw: use cached attrs while reading object attrs (#10307 Yehuda Sadeh)</li>
<li>rgw: use strict_strtoll for content length (#10701 Axel Dunkel, Yehuda Sadeh)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.87.1.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-87-giant">
<h2>v0.87 Giant<a class="headerlink" href="#v0-87-giant" title="Permalink to this headline">¶</a></h2>
<p>This release will form the basis for the stable release Giant,
v0.87.x.  Highlights for Giant include:</p>
<ul class="simple">
<li><em>RADOS Performance</em>: a range of improvements have been made in the
OSD and client-side librados code that improve the throughput on
flash backends and improve parallelism and scaling on fast machines.</li>
<li><em>CephFS</em>: we have fixed a raft of bugs in CephFS and built some
basic journal recovery and diagnostic tools.  Stability and
performance of single-MDS systems is vastly improved in Giant.
Although we do not yet recommend CephFS for production deployments,
we do encourage testing for non-critical workloads so that we can
better guage the feature, usability, performance, and stability
gaps.</li>
<li><em>Local Recovery Codes</em>: the OSDs now support an erasure-coding scheme
that stores some additional data blocks to reduce the IO required to
recover from single OSD failures.</li>
<li><em>Degraded vs misplaced</em>: the Ceph health reports from &#8216;ceph -s&#8217; and
related commands now make a distinction between data that is
degraded (there are fewer than the desired number of copies) and
data that is misplaced (stored in the wrong location in the
cluster).  The distinction is important because the latter does not
compromise data safety.</li>
<li><em>Tiering improvements</em>: we have made several improvements to the
cache tiering implementation that improve performance.  Most
notably, objects are not promoted into the cache tier by a single
read; they must be found to be sufficiently hot before that happens.</li>
<li><em>Monitor performance</em>: the monitors now perform writes to the local
data store asynchronously, improving overall responsiveness.</li>
<li><em>Recovery tools</em>: the ceph_objectstore_tool is greatly expanded to
allow manipulation of an individual OSDs data store for debugging
and repair purposes.  This is most heavily used by our QA
infrastructure to exercise recovery code.</li>
</ul>
<div class="section" id="upgrade-sequencing">
<h3>Upgrade Sequencing<a class="headerlink" href="#upgrade-sequencing" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">If your existing cluster is running a version older than v0.80.x
Firefly, please first upgrade to the latest Firefly release before
moving on to Giant.  We have not tested upgrades directly from
Emperor, Dumpling, or older releases.</p>
<p>We <em>have</em> tested:</p>
<blockquote>
<div><ul class="simple">
<li>Firefly to Giant</li>
<li>Dumpling to Firefly to Giant</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Please upgrade daemons in the following order:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Monitors</li>
<li>OSDs</li>
<li>MDSs and/or radosgw</li>
</ol>
</div></blockquote>
<p>Note that the relative ordering of OSDs and monitors should not matter, but
we primarily tested upgrading monitors first.</p>
</li>
</ul>
</div>
<div class="section" id="upgrading-from-v0-80x-firefly">
<h3>Upgrading from v0.80x Firefly<a class="headerlink" href="#upgrading-from-v0-80x-firefly" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The client-side caching for librbd is now enabled by default (rbd
cache = true).  A safety option (rbd cache writethrough until flush
= true) is also enabled so that writeback caching is not used until
the library observes a &#8216;flush&#8217; command, indicating that the librbd
users is passing that operation through from the guest VM.  This
avoids potential data loss when used with older versions of qemu
that do not support flush.</p>
<blockquote>
<div><p>leveldb_write_buffer_size = 8*1024*1024  = 33554432   // 8MB
leveldb_cache_size        = 512*1024*1204 = 536870912 // 512MB
leveldb_block_size        = 64*1024       = 65536     // 64KB
leveldb_compression       = false
leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
<p>OSDs will still maintain the following osd-specific defaults:</p>
<blockquote>
<div><p>leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
</li>
<li><p class="first">The &#8216;rados getxattr ...&#8217; command used to add a gratuitous newline to the attr
value; it now does not.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">*_kb</span> <span class="pre">perf</span></tt> counters on the monitor have been removed.  These are
replaced with a new set of <tt class="docutils literal"><span class="pre">*_bytes</span></tt> counters (e.g., <tt class="docutils literal"><span class="pre">cluster_osd_kb</span></tt> is
replaced by <tt class="docutils literal"><span class="pre">cluster_osd_bytes</span></tt>).</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">rd_kb</span></tt> and <tt class="docutils literal"><span class="pre">wr_kb</span></tt> fields in the JSON dumps for pool stats (accessed
via the <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">df</span> <span class="pre">detail</span> <span class="pre">-f</span> <span class="pre">json-pretty</span></tt> and related commands) have been
replaced with corresponding <tt class="docutils literal"><span class="pre">*_bytes</span></tt> fields.  Similarly, the
<tt class="docutils literal"><span class="pre">total_space</span></tt>, <tt class="docutils literal"><span class="pre">total_used</span></tt>, and <tt class="docutils literal"><span class="pre">total_avail</span></tt> fields are replaced with
<tt class="docutils literal"><span class="pre">total_bytes</span></tt>, <tt class="docutils literal"><span class="pre">total_used_bytes</span></tt>,  and <tt class="docutils literal"><span class="pre">total_avail_bytes</span></tt> fields.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">rados</span> <span class="pre">df</span> <span class="pre">--format=json</span></tt> output <tt class="docutils literal"><span class="pre">read_bytes</span></tt> and <tt class="docutils literal"><span class="pre">write_bytes</span></tt>
fields were incorrectly reporting ops; this is now fixed.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">rados</span> <span class="pre">df</span> <span class="pre">--format=json</span></tt> output previously included <tt class="docutils literal"><span class="pre">read_kb</span></tt> and
<tt class="docutils literal"><span class="pre">write_kb</span></tt> fields; these have been removed.  Please use <tt class="docutils literal"><span class="pre">read_bytes</span></tt> and
<tt class="docutils literal"><span class="pre">write_bytes</span></tt> instead (and divide by 1024 if appropriate).</p>
</li>
<li><p class="first">The experimental keyvaluestore-dev OSD backend had an on-disk format
change that prevents existing OSD data from being upgraded.  This
affects developers and testers only.</p>
</li>
<li><p class="first">mon-specific and osd-specific leveldb options have been removed.
From this point onward users should use the <cite>leveldb_*</cite> generic
options and add the options in the appropriate sections of their
configuration files.  Monitors will still maintain the following
monitor-specific defaults:</p>
<blockquote>
<div><p>leveldb_write_buffer_size = 8*1024*1024  = 33554432   // 8MB
leveldb_cache_size        = 512*1024*1204 = 536870912 // 512MB
leveldb_block_size        = 64*1024       = 65536     // 64KB
leveldb_compression       = false
leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
<p>OSDs will still maintain the following osd-specific defaults:</p>
<blockquote>
<div><p>leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
</li>
<li><p class="first">CephFS support for the legacy anchor table has finally been removed.
Users with file systems created before firefly should ensure that inodes
with multiple hard links are modified <em>prior</em> to the upgrade to ensure that
the backtraces are written properly.  For example:</p>
<div class="highlight-python"><pre>sudo find /mnt/cephfs -type f -links +1 -exec touch \{\} \;</pre>
</div>
</li>
<li><p class="first">We disallow nonsensical &#8216;tier cache-mode&#8217; transitions.  From this point
onward, &#8216;writeback&#8217; can only transition to &#8216;forward&#8217; and &#8216;forward&#8217;
can transition to 1) &#8216;writeback&#8217; if there are dirty objects, or 2) any if
there are no dirty objects.</p>
</li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-86">
<h3>Notable Changes since v0.86<a class="headerlink" href="#notable-changes-since-v0-86" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-disk: use new udev rules for centos7/rhel7 (#9747 Loic Dachary)</li>
<li>libcephfs-java: fix fstat mode (Noah Watkins)</li>
<li>librados: fix deadlock when listing PG contents (Guang Yang)</li>
<li>librados: misc fixes to the new threading model (#9582 #9706 #9845 #9873 Sage Weil)</li>
<li>mds: fix inotable initialization (Henry C Chang)</li>
<li>mds: gracefully handle unknown lock type in flock requests (Yan, Zheng)</li>
<li>mon: add read-only, read-write, and role-definer rols (Joao Eduardo Luis)</li>
<li>mon: fix mon cap checks (Joao Eduardo Luis)</li>
<li>mon: misc fixes for new paxos async writes (#9635 Sage Weil)</li>
<li>mon: set scrub timestamps on PG creation (#9496 Joao Eduardo Luis)</li>
<li>osd: erasure code: fix buffer alignment (Janne Grunau, Loic Dachary)</li>
<li>osd: fix alloc hint induced crashes on mixed clusters (#9419 David Zafman)</li>
<li>osd: fix backfill reservation release on rejection (#9626, Samuel Just)</li>
<li>osd: fix ioprio option parsing (#9676 #9677 Loic Dachary)</li>
<li>osd: fix memory leak during snap trimming (#9113 Samuel Just)</li>
<li>osd: misc peering and recovery fixes (#9614 #9696 #9731 #9718 #9821 #9875 Samuel Just, Guang Yang)</li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-80-x-firefly">
<h3>Notable Changes since v0.80.x Firefly<a class="headerlink" href="#notable-changes-since-v0-80-x-firefly" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bash completion improvements (Wido den Hollander)</li>
<li>brag: fixes, improvements (Loic Dachary)</li>
<li>buffer: improve rebuild_page_aligned (Ma Jianpeng)</li>
<li>build: fix build on alpha (Michael Cree, Dmitry Smirnov)</li>
<li>build: fix CentOS 5 (Gerben Meijer)</li>
<li>build: fix yasm check for x32 (Daniel Schepler, Sage Weil)</li>
<li>ceph-brag: add tox tests (Alfredo Deza)</li>
<li>ceph-conf: flush log on exit (Sage Weil)</li>
<li>ceph.conf: update sample (Sebastien Han)</li>
<li>ceph-dencoder: refactor build a bit to limit dependencies (Sage Weil, Dan Mick)</li>
<li>ceph-disk: add Scientific Linux support (Dan van der Ster)</li>
<li>ceph-disk: do not inadvertantly create directories (Owne Synge)</li>
<li>ceph-disk: fix dmcrypt support (Sage Weil)</li>
<li>ceph-disk: fix dmcrypt support (Stephen Taylor)</li>
<li>ceph-disk: handle corrupt volumes (Stuart Longlang)</li>
<li>ceph-disk: linter cleanup, logging improvements (Alfredo Deza)</li>
<li>ceph-disk: partprobe as needed (Eric Eastman)</li>
<li>ceph-disk: show information about dmcrypt in &#8216;ceph-disk list&#8217; output (Sage Weil)</li>
<li>ceph-disk: use partition type UUIDs and blkid (Sage Weil)</li>
<li>ceph: fix for non-default cluster names (#8944, Dan Mick)</li>
<li>ceph-fuse, libcephfs: asok hooks for handling session resets, timeouts (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: fix crash in trim_caps (John Spray)</li>
<li>ceph-fuse, libcephfs: improve cap trimming (John Spray)</li>
<li>ceph-fuse, libcephfs: improve traceless reply handling (Sage Weil)</li>
<li>ceph-fuse, libcephfs: virtual xattrs for rstat (Yan, Zheng)</li>
<li>ceph_objectstore_tool: vastly improved and extended tool for working offline with OSD data stores (David Zafman)</li>
<li>ceph.spec: many fixes (Erik Logtenberg, Boris Ranto, Dan Mick, Sandon Van Ness)</li>
<li>ceph.spec: split out ceph-common package, other fixes (Sandon Van Ness)</li>
<li>ceph_test_librbd_fsx: fix RNG, make deterministic (Ilya Dryomov)</li>
<li>cephtool: fix help (Yilong Zhao)</li>
<li>cephtool: refactor and improve CLI tests (Joao Eduardo Luis)</li>
<li>cephtool: test cleanup (Joao Eduardo Luis)</li>
<li>clang build fixes (John Spray, Danny Al-Gaaf)</li>
<li>client: improved MDS session dumps (John Spray)</li>
<li>common: add config diff admin socket command (Joao Eduardo Luis)</li>
<li>common: add rwlock assertion checks (Yehuda Sadeh)</li>
<li>common: fix dup log messages (#9080, Sage Weil)</li>
<li>common: perfcounters now use atomics and go faster (Sage Weil)</li>
<li>config: support G, M, K, etc. suffixes (Joao Eduardo Luis)</li>
<li>coverity cleanups (Danny Al-Gaaf)</li>
<li>crush: clean up CrushWrapper interface (Xioaxi Chen)</li>
<li>crush: include new tunables in dump (Sage Weil)</li>
<li>crush: make ruleset ids unique (Xiaoxi Chen, Loic Dachary)</li>
<li>crush: only require rule features if the rule is used (#8963, Sage Weil)</li>
<li>crushtool: send output to stdout, not stderr (Wido den Hollander)</li>
<li>doc: cache tiering (John Wilkins)</li>
<li>doc: CRUSH updates (John Wilkins)</li>
<li>doc: document new upstream wireshark dissector (Kevin Cox)</li>
<li>doc: improve manual install docs (Francois Lafont)</li>
<li>doc: keystone integration docs (John Wilkins)</li>
<li>doc: librados example fixes (Kevin Dalley)</li>
<li>doc: many doc updates (John Wilkins)</li>
<li>doc: many install doc updates (John Wilkins)</li>
<li>doc: misc updates (John Wilkins, Loic Dachary, David Moreau Simard, Wido den Hollander. Volker Voigt, Alfredo Deza, Stephen Jahl, Dan van der Ster)</li>
<li>doc: osd primary affinity (John Wilkins)</li>
<li>doc: pool quotas (John Wilkins)</li>
<li>doc: pre-flight doc improvements (Kevin Dalley)</li>
<li>doc: switch to an unencumbered font (Ross Turk)</li>
<li>doc: updated simple configuration guides (John Wilkins)</li>
<li>doc: update erasure docs (Loic Dachary, Venky Shankar)</li>
<li>doc: update openstack docs (Josh Durgin)</li>
<li>filestore: disable use of XFS hint (buggy on old kernels) (Samuel Just)</li>
<li>filestore: fix xattr spillout (Greg Farnum, Haomai Wang)</li>
<li>fix hppa arch build (Dmitry Smirnov)</li>
<li>fix i386 builds (Sage Weil)</li>
<li>fix struct vs class inconsistencies (Thorsten Behrens)</li>
<li>global: write pid file even when running in foreground (Alexandre Oliva)</li>
<li>hadoop: improve tests (Huamin Chen, Greg Farnum, John Spray)</li>
<li>hadoop: update hadoop tests for Hadoop 2.0 (Haumin Chen)</li>
<li>init-ceph: continue starting other daemons on crush or mount failure (#8343, Sage Weil)</li>
<li>journaler: fix locking (Zheng, Yan)</li>
<li>keyvaluestore: fix hint crash (#8381, Haomai Wang)</li>
<li>keyvaluestore: header cache (Haomai Wang)</li>
<li>libcephfs-java: build against older JNI headers (Greg Farnum)</li>
<li>libcephfs-java: fix gcj-jdk build (Dmitry Smirnov)</li>
<li>librados: fix crash on read op timeout (#9362 Matthias Kiefer, Sage Weil)</li>
<li>librados: fix lock leaks in error paths (#9022, Paval Rallabhandi)</li>
<li>librados: fix pool existence check (#8835, Pavan Rallabhandi)</li>
<li>librados: fix rados_pool_list bounds checks (Sage Weil)</li>
<li>librados: fix shutdown race (#9130 Sage Weil)</li>
<li>librados: fix watch/notify test (#7934 David Zafman)</li>
<li>librados: fix watch reregistration on acting set change (#9220 Samuel Just)</li>
<li>librados: give Objecter fine-grained locks (Yehuda Sadeh, Sage Weil, John Spray)</li>
<li>librados: lttng tracepoitns (Adam Crume)</li>
<li>librados, osd: return ETIMEDOUT on failed notify (Sage Weil)</li>
<li>librados: pybind: fix reads when 0 is present (#9547 Mohammad Salehe)</li>
<li>librados_striper: striping library for librados (Sebastien Ponce)</li>
<li>librbd, ceph-fuse: reduce cache flush overhead (Haomai Wang)</li>
<li>librbd: check error code on cache invalidate (Josh Durgin)</li>
<li>librbd: enable caching by default (Sage Weil)</li>
<li>librbd: enforce cache size on read requests (Jason Dillaman)</li>
<li>librbd: fix crash using clone of flattened image (#8845, Josh Durgin)</li>
<li>librbd: fix error path when opening image (#8912, Josh Durgin)</li>
<li>librbd: handle blacklisting during shutdown (#9105 John Spray)</li>
<li>librbd: lttng tracepoints (Adam Crume)</li>
<li>librbd: new libkrbd library for kernel map/unmap/showmapped (Ilya Dryomov)</li>
<li>librbd: store and retrieve snapshot metadata based on id (Josh Durgin)</li>
<li>libs3: update to latest (Danny Al-Gaaf)</li>
<li>log: fix derr level (Joao Eduardo Luis)</li>
<li>logrotate: fix osd log rotation on ubuntu (Sage Weil)</li>
<li>lttng: tracing infrastructure (Noah Watkins, Adam Crume)</li>
<li>mailmap: many updates (Loic Dachary)</li>
<li>mailmap: updates (Loic Dachary, Abhishek Lekshmanan, M Ranga Swami Reddy)</li>
<li>Makefile: fix out of source builds (Stefan Eilemann)</li>
<li>many many coverity fixes, cleanups (Danny Al-Gaaf)</li>
<li>mds: adapt to new Objecter locking, give types to all Contexts (John Spray)</li>
<li>mds: add file system name, enabled flag (John Spray)</li>
<li>mds: add internal health checks (John Spray)</li>
<li>mds: add min/max UID for snapshot creation/deletion (#9029, Wido den Hollander)</li>
<li>mds: avoid tight mon reconnect loop (#9428 Sage Weil)</li>
<li>mds: boot refactor, cleanup (John Spray)</li>
<li>mds: cephfs-journal-tool (John Spray)</li>
<li>mds: fix crash killing sessions (#9173 John Spray)</li>
<li>mds: fix ctime updates (#9514 Greg Farnum)</li>
<li>mds: fix journal conversion with standby-replay (John Spray)</li>
<li>mds: fix replay locking (Yan, Zheng)</li>
<li>mds: fix standby-replay cache trimming (#8648 Zheng, Yan)</li>
<li>mds: fix xattr bug triggered by ACLs (Yan, Zheng)</li>
<li>mds: give perfcounters meaningful names (Sage Weil)</li>
<li>mds: improve health reporting to monitor (John Spray)</li>
<li>mds: improve Journaler on-disk format (John Spray)</li>
<li>mds: improve journal locking (Zheng, Yan)</li>
<li>mds, libcephfs: use client timestamp for mtime/ctime (Sage Weil)</li>
<li>mds: make max file recoveries tunable (Sage Weil)</li>
<li>mds: misc encoding improvements (John Spray)</li>
<li>mds: misc fixes for multi-mds (Yan, Zheng)</li>
<li>mds: multi-mds fixes (Yan, Zheng)</li>
<li>mds: OPTracker integration, dump_ops_in_flight (Greg Farnum)</li>
<li>mds: prioritize file recovery when appropriate (Sage Weil)</li>
<li>mds: refactor beacon, improve reliability (John Spray)</li>
<li>mds: remove legacy anchor table (Yan, Zheng)</li>
<li>mds: remove legacy discover ino (Yan, Zheng)</li>
<li>mds: restart on EBLACKLISTED (John Spray)</li>
<li>mds: separate inode recovery queue (John Spray)</li>
<li>mds: session ls, evict commands (John Spray)</li>
<li>mds: submit log events in async thread (Yan, Zheng)</li>
<li>mds: track RECALL progress, report failure (#9284 John Spray)</li>
<li>mds: update segment references during journal write (John Spray, Greg Farnum)</li>
<li>mds: use client-provided timestamp for user-visible file metadata (Yan, Zheng)</li>
<li>mds: use meaningful names for clients (John Spray)</li>
<li>mds: validate journal header on load and save (John Spray)</li>
<li>mds: warn clients which aren&#8217;t revoking caps (Zheng, Yan, John Spray)</li>
<li>misc build errors/warnings for Fedora 20 (Boris Ranto)</li>
<li>misc build fixes for OS X (John Spray)</li>
<li>misc cleanup (Christophe Courtaut)</li>
<li>misc integer size cleanups (Kevin Cox)</li>
<li>misc memory leaks, cleanups, fixes (Danny Al-Gaaf, Sahid Ferdjaoui)</li>
<li>misc suse fixes (Danny Al-Gaaf)</li>
<li>misc word size fixes (Kevin Cox)</li>
<li>mon: add audit log for all admin commands (Joao Eduardo Luis)</li>
<li>mon: add cluster fingerprint (Sage Weil)</li>
<li>mon: add get-quota commands (Joao Eduardo Luis)</li>
<li>mon: add &#8216;osd blocked-by&#8217; command to easily see which OSDs are blocking peering progress (Sage Weil)</li>
<li>mon: add &#8216;osd reweight-by-pg&#8217; command (Sage Weil, Guang Yang)</li>
<li>mon: add perfcounters for paxos operations (Sage Weil)</li>
<li>mon: avoid creating unnecessary rule on pool create (#9304 Loic Dachary)</li>
<li>monclient: fix hang (Sage Weil)</li>
<li>mon: create default EC profile if needed (Loic Dachary)</li>
<li>mon: do not create file system by default (John Spray)</li>
<li>mon: do not spam log (Aanchal Agrawal, Sage Weil)</li>
<li>mon: drop mon- and osd- specific leveldb options (Joao Eduardo Luis)</li>
<li>mon: ec pool profile fixes (Loic Dachary)</li>
<li>mon: fix bug when no auth keys are present (#8851, Joao Eduardo Luis)</li>
<li>mon: fix &#8216;ceph df&#8217; output for available space (Xiaoxi Chen)</li>
<li>mon: fix compat version for MForward (Joao Eduardo Luis)</li>
<li>mon: fix crash on loopback messages and paxos timeouts (#9062, Sage Weil)</li>
<li>mon: fix default replication pool ruleset choice (#8373, John Spray)</li>
<li>mon: fix divide by zero when pg_num is adjusted before OSDs are added (#9101, Sage Weil)</li>
<li>mon: fix double-free of old MOSDBoot (Sage Weil)</li>
<li>mon: fix health down messages (Sage Weil)</li>
<li>mon: fix occasional memory leak after session reset (#9176, Sage Weil)</li>
<li>mon: fix op write latency perfcounter (#9217 Xinxin Shu)</li>
<li>mon: fix &#8216;osd perf&#8217; reported latency (#9269 Samuel Just)</li>
<li>mon: fix quorum feature check (#8738, Greg Farnum)</li>
<li>mon: fix ruleset/ruleid bugs (#9044, Loic Dachary)</li>
<li>mon: fix set cache_target_full_ratio (#8440, Geoffrey Hartz)</li>
<li>mon: fix store check on startup (Joao Eduardo Luis)</li>
<li>mon: include per-pool &#8216;max avail&#8217; in df output (Sage Weil)</li>
<li>mon: make paxos transaction commits asynchronous (Sage Weil)</li>
<li>mon: make usage dumps in terms of bytes, not kB (Sage Weil)</li>
<li>mon: &#8216;osd crush reweight-subtree ...&#8217; (Sage Weil)</li>
<li>mon, osd: relax client EC support requirements (Sage Weil)</li>
<li>mon: preload erasure plugins (#9153 Loic Dachary)</li>
<li>mon: prevent cache pools from being used directly by CephFS (#9435 John Spray)</li>
<li>mon: prevent EC pools from being used with cephfs (Joao Eduardo Luis)</li>
<li>mon: prevent implicit destruction of OSDs with &#8216;osd setmaxosd ...&#8217; (#8865, Anand Bhat)</li>
<li>mon: prevent nonsensical cache-mode transitions (Joao Eduardo Luis)</li>
<li>mon: restore original weight when auto-marked out OSDs restart (Sage Weil)</li>
<li>mon: restrict some pool properties to tiered pools (Joao Eduardo Luis)</li>
<li>mon: some instrumentation (Sage Weil)</li>
<li>mon: use msg header tid for MMonGetVersionReply (Ilya Dryomov)</li>
<li>mon: use user-provided ruleset for replicated pool (Xiaoxi Chen)</li>
<li>mon: verify all quorum members are contiguous at end of Paxos round (#9053, Sage Weil)</li>
<li>mon: verify available disk space on startup (#9502 Joao Eduardo Luis)</li>
<li>mon: verify erasure plugin version on load (Loic Dachary)</li>
<li>msgr: avoid big lock when sending (most) messages (Greg Farnum)</li>
<li>msgr: fix logged address (Yongyue Sun)</li>
<li>msgr: misc locking fixes for fast dispatch (#8891, Sage Weil)</li>
<li>msgr: refactor to cleanly separate SimpleMessenger implemenetation, move toward Connection-based calls (Matt Benjamin, Sage Wei)</li>
<li>objecter: flag operations that are redirected by caching (Sage Weil)</li>
<li>objectstore: clean up KeyValueDB interface for key/value backends (Sage Weil)</li>
<li>osd: account for hit_set_archive bytes (Sage Weil)</li>
<li>osd: add ability to prehash filestore directories (Guang Yang)</li>
<li>osd: add &#8216;dump_reservations&#8217; admin socket command (Sage Weil)</li>
<li>osd: add feature bit for erasure plugins (Loic Dachary)</li>
<li>osd: add header cache for KeyValueStore (Haomai Wang)</li>
<li>osd: add ISA erasure plugin table cache (Andreas-Joachim Peters)</li>
<li>osd: add local_mtime for use by cache agent (Zhiqiang Wang)</li>
<li>osd: add local recovery code (LRC) erasure plugin (Loic Dachary)</li>
<li>osd: add prototype KineticStore based on Seagate Kinetic (Josh Durgin)</li>
<li>osd: add READFORWARD caching mode (Luis Pabon)</li>
<li>osd: add superblock for KeyValueStore backend (Haomai Wang)</li>
<li>osd: add support for Intel ISA-L erasure code library (Andreas-Joachim Peters)</li>
<li>osd: allow map cache size to be adjusted at runtime (Sage Weil)</li>
<li>osd: avoid refcounting overhead by passing a few things by ref (Somnath Roy)</li>
<li>osd: avoid sharing PG info that is not durable (Samuel Just)</li>
<li>osd: bound osdmap epoch skew between PGs (Sage Weil)</li>
<li>osd: cache tier flushing fixes for snapped objects (Samuel Just)</li>
<li>osd: cap hit_set size (#9339 Samuel Just)</li>
<li>osd: clean up shard_id_t, shard_t (Loic Dachary)</li>
<li>osd: clear FDCache on unlink (#8914 Loic Dachary)</li>
<li>osd: clear slow request latency info on osd up/down (Sage Weil)</li>
<li>osd: do not evict blocked objects (#9285 Zhiqiang Wang)</li>
<li>osd: do not skip promote for write-ordered reads (#9064, Samuel Just)</li>
<li>osd: fix agent early finish looping (David Zafman)</li>
<li>osd: fix ambigous encoding order for blacklisted clients (#9211, Sage Weil)</li>
<li>osd: fix bogus assert during OSD shutdown (Sage Weil)</li>
<li>osd: fix bug with long object names and rename (#8701, Sage Weil)</li>
<li>osd: fix cache flush corner case for snapshotted objects (#9054, Samuel Just)</li>
<li>osd: fix cache full -&gt; not full requeueing (#8931, Sage Weil)</li>
<li>osd: fix clone deletion case (#8334, Sam Just)</li>
<li>osd: fix clone vs cache_evict bug (#8629 Sage Weil)</li>
<li>osd: fix connection reconnect race (Greg Farnum)</li>
<li>osd: fix crash from duplicate backfill reservation (#8863 Sage Weil)</li>
<li>osd: fix dead peer connection checks (#9295 Greg Farnum, Sage Weil)</li>
<li>osd: fix discard of old/obsolete subop replies (#9259, Samuel Just)</li>
<li>osd: fix discard of peer messages from previous intervals (Greg Farnum)</li>
<li>osd: fix dump of open fds on EMFILE (Sage Weil)</li>
<li>osd: fix dumps (Joao Eduardo Luis)</li>
<li>osd: fix erasure-code lib initialization (Loic Dachary)</li>
<li>osd: fix extent normalization (Adam Crume)</li>
<li>osd: fix filestore removal corner case (#8332, Sam Just)</li>
<li>osd: fix flush vs OpContext (Samuel Just)</li>
<li>osd: fix gating of messages from old OSD instances (Greg Farnum)</li>
<li>osd: fix hang waiting for osdmap (#8338, Greg Farnum)</li>
<li>osd: fix interval check corner case during peering (#8104, Sam Just)</li>
<li>osd: fix ISA erasure alignment (Loic Dachary, Andreas-Joachim Peters)</li>
<li>osd: fix journal dump (Ma Jianpeng)</li>
<li>osd: fix journal-less operation (Sage Weil)</li>
<li>osd: fix keyvaluestore scrub (#8589 Haomai Wang)</li>
<li>osd: fix keyvaluestore upgrade (Haomai Wang)</li>
<li>osd: fix loopback msgr issue (Ma Jianpeng)</li>
<li>osd: fix LSB release parsing (Danny Al-Gaaf)</li>
<li>osd: fix MarkMeDown and other shutdown races (Sage Weil)</li>
<li>osd: fix memstore bugs with collection_move_rename, lock ordering (Sage Weil)</li>
<li>osd: fix min_read_recency_for_promote default on upgrade (Zhiqiang Wang)</li>
<li>osd: fix mon feature bit requirements bug and resulting log spam (Sage Weil)</li>
<li>osd: fix mount/remount sync race (#9144 Sage Weil)</li>
<li>osd: fix PG object listing/ordering bug (Guang Yang)</li>
<li>osd: fix PG stat errors with tiering (#9082, Sage Weil)</li>
<li>osd: fix purged_snap initialization on backfill (Sage Weil, Samuel Just, Dan van der Ster, Florian Haas)</li>
<li>osd: fix race condition on object deletion (#9480 Somnath Roy)</li>
<li>osd: fix recovery chunk size usage during EC recovery (Ma Jianpeng)</li>
<li>osd: fix recovery reservation deadlock for EC pools (Samuel Just)</li>
<li>osd: fix removal of old xattrs when overwriting chained xattrs (Ma Jianpeng)</li>
<li>osd: fix requesting queueing on PG split (Samuel Just)</li>
<li>osd: fix scrub vs cache bugs (Samuel Just)</li>
<li>osd: fix snap object writeback from cache tier (#9054 Samuel Just)</li>
<li>osd: fix trim of hitsets (Sage Weil)</li>
<li>osd: force new xattrs into leveldb if fs returns E2BIG (#7779, Sage Weil)</li>
<li>osd: implement alignment on chunk sizes (Loic Dachary)</li>
<li>osd: improved backfill priorities (Sage Weil)</li>
<li>osd: improve journal shutdown (Ma Jianpeng, Mark Kirkwood)</li>
<li>osd: improve locking for KeyValueStore (Haomai Wang)</li>
<li>osd: improve locking in OpTracker (Pavan Rallabhandi, Somnath Roy)</li>
<li>osd: improve prioritization of recovery of degraded over misplaced objects (Sage Weil)</li>
<li>osd: improve tiering agent arithmetic (Zhiqiang Wang, Sage Weil, Samuel Just)</li>
<li>osd: include backend information in metadata reported to mon (Sage Weil)</li>
<li>osd: locking, sharding, caching improvements in FileStore&#8217;s FDCache (Somnath Roy, Greg Farnum)</li>
<li>osd: lttng tracepoints for filestore (Noah Watkins)</li>
<li>osd: make blacklist encoding deterministic (#9211 Sage Weil)</li>
<li>osd: make tiering behave if hit_sets aren&#8217;t enabled (Sage Weil)</li>
<li>osd: many important bug fixes (Samuel Just)</li>
<li>osd: many many core fixes (Samuel Just)</li>
<li>osd: many many important fixes (#8231 #8315 #9113 #9179 #9293 #9294 #9326 #9453 #9481 #9482 #9497 #9574 Samuel Just)</li>
<li>osd: mark pools with incomplete clones (Sage Weil)</li>
<li>osd: misc erasure code plugin fixes (Loic Dachary)</li>
<li>osd: misc locking fixes for fast dispatch (Samuel Just, Ma Jianpeng)</li>
<li>osd, mon: add rocksdb support (Xinxin Shu, Sage Weil)</li>
<li>osd, mon: config sanity checks on start (Sage Weil, Joao Eduardo Luis)</li>
<li>osd, mon: distinguish between &#8220;misplaced&#8221; and &#8220;degraded&#8221; objects in cluster health and PG state reporting (Sage Weil)</li>
<li>osd, msgr: fast-dispatch of OSD ops (Greg Farnum, Samuel Just)</li>
<li>osd, objecter: resend ops on last_force_op_resend barrier; fix cache overlay op ordering (Sage Weil)</li>
<li>osd: preload erasure plugins (#9153 Loic Dachary)</li>
<li>osd: prevent old rados clients from using tiered pools (#8714, Sage Weil)</li>
<li>osd: reduce OpTracker overhead (Somnath Roy)</li>
<li>osd: refactor some ErasureCode functionality into command parent class (Loic Dachary)</li>
<li>osd: remove obsolete classic scrub code (David Zafman)</li>
<li>osd: scrub PGs with invalid stats (Sage Weil)</li>
<li>osd: set configurable hard limits on object and xattr names (Sage Weil, Haomai Wang)</li>
<li>osd: set rollback_info_completed on create (#8625, Samuel Just)</li>
<li>osd: sharded threadpool to improve parallelism (Somnath Roy)</li>
<li>osd: shard OpTracker to improve performance (Somnath Roy)</li>
<li>osd: simple io prioritization for scrub (Sage Weil)</li>
<li>osd: simple scrub throttling (Sage Weil)</li>
<li>osd: simple snap trimmer throttle (Sage Weil)</li>
<li>osd: tests for bench command (Loic Dachary)</li>
<li>osd: trim old EC objects quickly; verify on scrub (Samuel Just)</li>
<li>osd: use FIEMAP to inform copy_range (Haomai Wang)</li>
<li>osd: use local time for tiering decisions (Zhiqiang Wang)</li>
<li>osd: use xfs hint less frequently (Ilya Dryomov)</li>
<li>osd: verify erasure plugin version on load (Loic Dachary)</li>
<li>osd: work around GCC 4.8 bug in journal code (Matt Benjamin)</li>
<li>pybind/rados: fix small timeouts (John Spray)</li>
<li>qa: xfstests updates (Ilya Dryomov)</li>
<li>rados: allow setxattr value to be read from stdin (Sage Weil)</li>
<li>rados bench: fix arg order (Kevin Dalley)</li>
<li>rados: drop gratuitous n from getxattr command (Sage Weil)</li>
<li>rados: fix bench write arithmetic (Jiangheng)</li>
<li>rados: fix {read,write}_ops values for df output (Sage Weil)</li>
<li>rbd: add rbdmap pre- and post post- hooks, fix misc bugs (Dmitry Smirnov)</li>
<li>rbd-fuse: allow exposing single image (Stephen Taylor)</li>
<li>rbd-fuse: fix unlink (Josh Durgin)</li>
<li>rbd: improve option default behavior (Josh Durgin)</li>
<li>rbd: parallelize rbd import, export (Jason Dillaman)</li>
<li>rbd: rbd-replay utility to replay captured rbd workload traces (Adam Crume)</li>
<li>rbd: use write-back (not write-through) when caching is enabled (Jason Dillaman)</li>
<li>removed mkcephfs (deprecated since dumpling)</li>
<li>rest-api: fix help (Ailing Zhang)</li>
<li>rgw: add civetweb as default frontent on port 7490 (#9013 Yehuda Sadeh)</li>
<li>rgw: add &#8211;min-rewrite-stripe-size for object restriper (Yehuda Sadeh)</li>
<li>rgw: add powerdns hook for dynamic DNS for global clusters (Wido den Hollander)</li>
<li>rgw: add S3 bucket get location operation (Abhishek Lekshmanan)</li>
<li>rgw: allow : in S3 access key (Roman Haritonov)</li>
<li>rgw: automatically align writes to EC pool (#8442, Yehuda Sadeh)</li>
<li>rgw: bucket link uses instance id (Yehuda Sadeh)</li>
<li>rgw: cache bucket info (Yehuda Sadeh)</li>
<li>rgw: cache decoded user info (Yehuda Sadeh)</li>
<li>rgw: check entity permission for put_metadata (#8428, Yehuda Sadeh)</li>
<li>rgw: copy object data is target bucket is in a different pool (#9039, Yehuda Sadeh)</li>
<li>rgw: do not try to authenticate CORS preflight requests (#8718, Robert Hubbard, Yehuda Sadeh)</li>
<li>rgw: fix admin create user op (#8583 Ray Lv)</li>
<li>rgw: fix civetweb URL decoding (#8621, Yehuda Sadeh)</li>
<li>rgw: fix crash on swift CORS preflight request (#8586, Yehuda Sadeh)</li>
<li>rgw: fix log filename suffix (#9353 Alexandre Marangone)</li>
<li>rgw: fix memory leak following chunk read error (Yehuda Sadeh)</li>
<li>rgw: fix memory leaks (Andrey Kuznetsov)</li>
<li>rgw: fix multipart object attr regression (#8452, Yehuda Sadeh)</li>
<li>rgw: fix multipart upload (#8846, Silvain Munaut, Yehuda Sadeh)</li>
<li>rgw: fix radosgw-admin &#8216;show log&#8217; command (#8553, Yehuda Sadeh)</li>
<li>rgw: fix removal of objects during object creation (Patrycja Szablowska, Yehuda Sadeh)</li>
<li>rgw: fix striping for copied objects (#9089, Yehuda Sadeh)</li>
<li>rgw: fix test for identify whether an object has a tail (#9226, Yehuda Sadeh)</li>
<li>rgw: fix URL decoding (#8702, Brian Rak)</li>
<li>rgw: fix URL escaping (Yehuda Sadeh)</li>
<li>rgw: fix usage (Abhishek Lekshmanan)</li>
<li>rgw: fix user manifest (Yehuda Sadeh)</li>
<li>rgw: fix when stripe size is not a multiple of chunk size (#8937, Yehuda Sadeh)</li>
<li>rgw: handle empty extra pool name (Yehuda Sadeh)</li>
<li>rgw: improve civetweb logging (Yehuda Sadeh)</li>
<li>rgw: improve delimited listing of bucket, misc fixes (Yehuda Sadeh)</li>
<li>rgw: improve -h (Abhishek Lekshmanan)</li>
<li>rgw: many fixes for civetweb (Yehuda Sadeh)</li>
<li>rgw: misc civetweb fixes (Yehuda Sadeh)</li>
<li>rgw: misc civetweb frontend fixes (Yehuda Sadeh)</li>
<li>rgw: object and bucket rewrite functions to allow restriping old objects (Yehuda Sadeh)</li>
<li>rgw: powerdns backend for global namespaces (Wido den Hollander)</li>
<li>rgw: prevent multiobject PUT race (Yehuda Sadeh)</li>
<li>rgw: send user manifest header (Yehuda Sadeh)</li>
<li>rgw: subuser creation fixes (#8587 Yehuda Sadeh)</li>
<li>rgw: use systemd-run from sysvinit script (JuanJose Galvez)</li>
<li>rpm: do not restart daemons on upgrade (Alfredo Deza)</li>
<li>rpm: misc packaging fixes for rhel7 (Sandon Van Ness)</li>
<li>rpm: split ceph-common from ceph (Sandon Van Ness)</li>
<li>systemd: initial systemd config files (Federico Simoncelli)</li>
<li>systemd: wrap started daemons in new systemd environment (Sage Weil, Dan Mick)</li>
<li>sysvinit: add support for non-default cluster names (Alfredo Deza)</li>
<li>sysvinit: less sensitive to failures (Sage Weil)</li>
<li>test_librbd_fsx: test krbd as well as librbd (Ilya Dryomov)</li>
<li>unit test improvements (Loic Dachary)</li>
<li>upstart: increase max open files limit (Sage Weil)</li>
<li>vstart.sh: fix/improve rgw support (Luis Pabon, Abhishek Lekshmanan)</li>
</ul>
</div>
</div>
<div class="section" id="v0-86">
<h2>v0.86<a class="headerlink" href="#v0-86" title="Permalink to this headline">¶</a></h2>
<p>This is a release candidate for Giant, which will hopefully be out
in another week or two.  We did a feature freeze about a month ago
and since then have been doing only stabilization and bug fixing (and
a handful on low-risk enhancements).  A fair bit of new functionality
went into the final sprint, but it&#8217;s baked for quite a while now and
we&#8217;re feeling pretty good about it.</p>
<p>Major items include:</p>
<ul class="simple">
<li>librados locking refactor to improve scaling and client performance</li>
<li>local recovery code (LRC) erasure code plugin to trade some
additional storage overhead for improved recovery performance</li>
<li>LTTNG tracing framework, with initial tracepoints in librados,
librbd, and the OSD FileStore backend</li>
<li>separate monitor audit log for all administrative commands</li>
<li>asynchronos monitor transaction commits to reduce the impact on
monitor read requests while processing updates</li>
<li>low-level tool for working with individual OSD data stores for
debugging, recovery, and testing</li>
<li>many MDS improvements (bug fixes, health reporting)</li>
</ul>
<p>There are still a handful of known bugs in this release, but nothing
severe enough to prevent a release.  By and large we are pretty
pleased with the stability and expect the final Giant release to be
quite reliable.</p>
<p>Please try this out on your non-production clusters for a preview</p>
<div class="section" id="id2486">
<h3>Notable Changes<a class="headerlink" href="#id2486" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>buffer: improve rebuild_page_aligned (Ma Jianpeng)</li>
<li>build: fix CentOS 5 (Gerben Meijer)</li>
<li>build: fix build on alpha (Michael Cree, Dmitry Smirnov)</li>
<li>build: fix yasm check for x32 (Daniel Schepler, Sage Weil)</li>
<li>ceph-disk: add Scientific Linux support (Dan van der Ster)</li>
<li>ceph-fuse, libcephfs: fix crash in trim_caps (John Spray)</li>
<li>ceph-fuse, libcephfs: improve cap trimming (John Spray)</li>
<li>ceph-fuse, libcephfs: virtual xattrs for rstat (Yan, Zheng)</li>
<li>ceph.conf: update sample (Sebastien Han)</li>
<li>ceph.spec: many fixes (Erik Logtenberg, Boris Ranto, Dan Mick, Sandon Van Ness)</li>
<li>ceph_objectstore_tool: vastly improved and extended tool for working offline with OSD data stores (David Zafman)</li>
<li>common: add config diff admin socket command (Joao Eduardo Luis)</li>
<li>common: add rwlock assertion checks (Yehuda Sadeh)</li>
<li>crush: clean up CrushWrapper interface (Xioaxi Chen)</li>
<li>crush: make ruleset ids unique (Xiaoxi Chen, Loic Dachary)</li>
<li>doc: improve manual install docs (Francois Lafont)</li>
<li>doc: misc updates (John Wilkins, Loic Dachary, David Moreau Simard, Wido den Hollander. Volker Voigt, Alfredo Deza, Stephen Jahl, Dan van der Ster)</li>
<li>global: write pid file even when running in foreground (Alexandre Oliva)</li>
<li>hadoop: improve tests (Huamin Chen, Greg Farnum, John Spray)</li>
<li>journaler: fix locking (Zheng, Yan)</li>
<li>librados, osd: return ETIMEDOUT on failed notify (Sage Weil)</li>
<li>librados: fix crash on read op timeout (#9362 Matthias Kiefer, Sage Weil)</li>
<li>librados: fix shutdown race (#9130 Sage Weil)</li>
<li>librados: fix watch reregistration on acting set change (#9220 Samuel Just)</li>
<li>librados: fix watch/notify test (#7934 David Zafman)</li>
<li>librados: give Objecter fine-grained locks (Yehuda Sadeh, Sage Weil, John Spray)</li>
<li>librados: lttng tracepoitns (Adam Crume)</li>
<li>librados: pybind: fix reads when 0 is present (#9547 Mohammad Salehe)</li>
<li>librbd: enforce cache size on read requests (Jason Dillaman)</li>
<li>librbd: handle blacklisting during shutdown (#9105 John Spray)</li>
<li>librbd: lttng tracepoints (Adam Crume)</li>
<li>lttng: tracing infrastructure (Noah Watkins, Adam Crume)</li>
<li>mailmap: updates (Loic Dachary, Abhishek Lekshmanan, M Ranga Swami Reddy)</li>
<li>many many coverity fixes, cleanups (Danny Al-Gaaf)</li>
<li>mds: adapt to new Objecter locking, give types to all Contexts (John Spray)</li>
<li>mds: add internal health checks (John Spray)</li>
<li>mds: avoid tight mon reconnect loop (#9428 Sage Weil)</li>
<li>mds: fix crash killing sessions (#9173 John Spray)</li>
<li>mds: fix ctime updates (#9514 Greg Farnum)</li>
<li>mds: fix replay locking (Yan, Zheng)</li>
<li>mds: fix standby-replay cache trimming (#8648 Zheng, Yan)</li>
<li>mds: give perfcounters meaningful names (Sage Weil)</li>
<li>mds: improve health reporting to monitor (John Spray)</li>
<li>mds: improve journal locking (Zheng, Yan)</li>
<li>mds: make max file recoveries tunable (Sage Weil)</li>
<li>mds: prioritize file recovery when appropriate (Sage Weil)</li>
<li>mds: refactor beacon, improve reliability (John Spray)</li>
<li>mds: restart on EBLACKLISTED (John Spray)</li>
<li>mds: track RECALL progress, report failure (#9284 John Spray)</li>
<li>mds: update segment references during journal write (John Spray, Greg Farnum)</li>
<li>mds: use meaningful names for clients (John Spray)</li>
<li>mds: warn clients which aren&#8217;t revoking caps (Zheng, Yan, John Spray)</li>
<li>mon: add &#8216;osd reweight-by-pg&#8217; command (Sage Weil, Guang Yang)</li>
<li>mon: add audit log for all admin commands (Joao Eduardo Luis)</li>
<li>mon: add cluster fingerprint (Sage Weil)</li>
<li>mon: avoid creating unnecessary rule on pool create (#9304 Loic Dachary)</li>
<li>mon: do not spam log (Aanchal Agrawal, Sage Weil)</li>
<li>mon: fix &#8216;osd perf&#8217; reported latency (#9269 Samuel Just)</li>
<li>mon: fix double-free of old MOSDBoot (Sage Weil)</li>
<li>mon: fix op write latency perfcounter (#9217 Xinxin Shu)</li>
<li>mon: fix store check on startup (Joao Eduardo Luis)</li>
<li>mon: make paxos transaction commits asynchronous (Sage Weil)</li>
<li>mon: preload erasure plugins (#9153 Loic Dachary)</li>
<li>mon: prevent cache pools from being used directly by CephFS (#9435 John Spray)</li>
<li>mon: use user-provided ruleset for replicated pool (Xiaoxi Chen)</li>
<li>mon: verify available disk space on startup (#9502 Joao Eduardo Luis)</li>
<li>mon: verify erasure plugin version on load (Loic Dachary)</li>
<li>msgr: fix logged address (Yongyue Sun)</li>
<li>osd: account for hit_set_archive bytes (Sage Weil)</li>
<li>osd: add ISA erasure plugin table cache (Andreas-Joachim Peters)</li>
<li>osd: add ability to prehash filestore directories (Guang Yang)</li>
<li>osd: add feature bit for erasure plugins (Loic Dachary)</li>
<li>osd: add local recovery code (LRC) erasure plugin (Loic Dachary)</li>
<li>osd: cap hit_set size (#9339 Samuel Just)</li>
<li>osd: clear FDCache on unlink (#8914 Loic Dachary)</li>
<li>osd: do not evict blocked objects (#9285 Zhiqiang Wang)</li>
<li>osd: fix ISA erasure alignment (Loic Dachary, Andreas-Joachim Peters)</li>
<li>osd: fix clone vs cache_evict bug (#8629 Sage Weil)</li>
<li>osd: fix crash from duplicate backfill reservation (#8863 Sage Weil)</li>
<li>osd: fix dead peer connection checks (#9295 Greg Farnum, Sage Weil)</li>
<li>osd: fix keyvaluestore scrub (#8589 Haomai Wang)</li>
<li>osd: fix keyvaluestore upgrade (Haomai Wang)</li>
<li>osd: fix min_read_recency_for_promote default on upgrade (Zhiqiang Wang)</li>
<li>osd: fix mount/remount sync race (#9144 Sage Weil)</li>
<li>osd: fix purged_snap initialization on backfill (Sage Weil, Samuel Just, Dan van der Ster, Florian Haas)</li>
<li>osd: fix race condition on object deletion (#9480 Somnath Roy)</li>
<li>osd: fix snap object writeback from cache tier (#9054 Samuel Just)</li>
<li>osd: improve journal shutdown (Ma Jianpeng, Mark Kirkwood)</li>
<li>osd: improve locking in OpTracker (Pavan Rallabhandi, Somnath Roy)</li>
<li>osd: improve tiering agent arithmetic (Zhiqiang Wang, Sage Weil, Samuel Just)</li>
<li>osd: lttng tracepoints for filestore (Noah Watkins)</li>
<li>osd: make blacklist encoding deterministic (#9211 Sage Weil)</li>
<li>osd: many many important fixes (#8231 #8315 #9113 #9179 #9293 #9294 #9326 #9453 #9481 #9482 #9497 #9574 Samuel Just)</li>
<li>osd: misc erasure code plugin fixes (Loic Dachary)</li>
<li>osd: preload erasure plugins (#9153 Loic Dachary)</li>
<li>osd: shard OpTracker to improve performance (Somnath Roy)</li>
<li>osd: use local time for tiering decisions (Zhiqiang Wang)</li>
<li>osd: verify erasure plugin version on load (Loic Dachary)</li>
<li>rados: fix bench write arithmetic (Jiangheng)</li>
<li>rbd: parallelize rbd import, export (Jason Dillaman)</li>
<li>rbd: rbd-replay utility to replay captured rbd workload traces (Adam Crume)</li>
<li>rbd: use write-back (not write-through) when caching is enabled (Jason Dillaman)</li>
<li>rgw: add S3 bucket get location operation (Abhishek Lekshmanan)</li>
<li>rgw: add civetweb as default frontent on port 7490 (#9013 Yehuda Sadeh)</li>
<li>rgw: allow : in S3 access key (Roman Haritonov)</li>
<li>rgw: fix admin create user op (#8583 Ray Lv)</li>
<li>rgw: fix log filename suffix (#9353 Alexandre Marangone)</li>
<li>rgw: fix usage (Abhishek Lekshmanan)</li>
<li>rgw: many fixes for civetweb (Yehuda Sadeh)</li>
<li>rgw: subuser creation fixes (#8587 Yehuda Sadeh)</li>
<li>rgw: use systemd-run from sysvinit script (JuanJose Galvez)</li>
<li>unit test improvements (Loic Dachary)</li>
<li>vstart.sh: fix/improve rgw support (Luis Pabon, Abhishek Lekshmanan)</li>
</ul>
</div>
</div>
<div class="section" id="v0-85">
<h2>v0.85<a class="headerlink" href="#v0-85" title="Permalink to this headline">¶</a></h2>
<p>This is the second-to-last development release before Giant that
contains new functionality.  The big items to land during this cycle
are the messenger refactoring from Matt Benjmain that lays some
groundwork for RDMA support, a performance improvement series from
SanDisk that improves performance on SSDs, lots of improvements to our
new standalone civetweb-based RGW frontend, and a new &#8216;osd blocked-by&#8217;
mon command that allows admins to easily identify which OSDs are
blocking peering progress.  The other big change is that the OSDs and
Monitors now distinguish between &#8220;misplaced&#8221; and &#8220;degraded&#8221; objects:
the latter means there are fewer copies than we&#8217;d like, while the
former simply means the are not stored in the locations where we want
them to be.</p>
<p>Also of note is a change to librbd that enables client-side caching by
default.  This is coupled with another option that makes the cache
write-through until a &#8220;flush&#8221; operations is observed: this implies
that the librbd user (usually a VM guest OS) supports barriers and
flush and that it is safe for the cache to switch into writeback mode
without compromising data safety or integrity.  It has long been
recommended practice that these options be enabled (e.g., in OpenStack
environments) but until now it has not been the default.</p>
<p>We have frozen the tree for the looming Giant release, and the next
development release will be a release candidate with a final batch of
new functionality.</p>
<div class="section" id="id2487">
<h3>Upgrading<a class="headerlink" href="#id2487" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The client-side caching for librbd is now enabled by default (rbd
cache = true).  A safety option (rbd cache writethrough until flush
= true) is also enabled so that writeback caching is not used until
the library observes a &#8216;flush&#8217; command, indicating that the librbd
users is passing that operation through from the guest VM.  This
avoids potential data loss when used with older versions of qemu
that do not support flush.</p>
<blockquote>
<div><p>leveldb_write_buffer_size = 32*1024*1024  = 33554432  // 32MB
leveldb_cache_size        = 512*1024*1204 = 536870912 // 512MB
leveldb_block_size        = 64*1024       = 65536     // 64KB
leveldb_compression       = false
leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
<p>OSDs will still maintain the following osd-specific defaults:</p>
<blockquote>
<div><p>leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
</li>
<li><p class="first">The &#8216;rados getxattr ...&#8217; command used to add a gratuitous newline to the attr
value; it now does not.</p>
</li>
</ul>
</div>
<div class="section" id="id2488">
<h3>Notable Changes<a class="headerlink" href="#id2488" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-disk: do not inadvertantly create directories (Owne Synge)</li>
<li>ceph-disk: fix dmcrypt support (Sage Weil)</li>
<li>ceph-disk: linter cleanup, logging improvements (Alfredo Deza)</li>
<li>ceph-disk: show information about dmcrypt in &#8216;ceph-disk list&#8217; output (Sage Weil)</li>
<li>ceph-disk: use partition type UUIDs and blkid (Sage Weil)</li>
<li>ceph: fix for non-default cluster names (#8944, Dan Mick)</li>
<li>doc: document new upstream wireshark dissector (Kevin Cox)</li>
<li>doc: many install doc updates (John Wilkins)</li>
<li>librados: fix lock leaks in error paths (#9022, Paval Rallabhandi)</li>
<li>librados: fix pool existence check (#8835, Pavan Rallabhandi)</li>
<li>librbd: enable caching by default (Sage Weil)</li>
<li>librbd: fix crash using clone of flattened image (#8845, Josh Durgin)</li>
<li>librbd: store and retrieve snapshot metadata based on id (Josh Durgin)</li>
<li>mailmap: many updates (Loic Dachary)</li>
<li>mds: add min/max UID for snapshot creation/deletion (#9029, Wido den Hollander)</li>
<li>misc build errors/warnings for Fedora 20 (Boris Ranto)</li>
<li>mon: add &#8216;osd blocked-by&#8217; command to easily see which OSDs are blocking peering progress (Sage Weil)</li>
<li>mon: add perfcounters for paxos operations (Sage Weil)</li>
<li>mon: create default EC profile if needed (Loic Dachary)</li>
<li>mon: fix crash on loopback messages and paxos timeouts (#9062, Sage Weil)</li>
<li>mon: fix divide by zero when pg_num is adjusted before OSDs are added (#9101, Sage Weil)</li>
<li>mon: fix occasional memory leak after session reset (#9176, Sage Weil)</li>
<li>mon: fix ruleset/ruleid bugs (#9044, Loic Dachary)</li>
<li>mon: make usage dumps in terms of bytes, not kB (Sage Weil)</li>
<li>mon: prevent implicit destruction of OSDs with &#8216;osd setmaxosd ...&#8217; (#8865, Anand Bhat)</li>
<li>mon: verify all quorum members are contiguous at end of Paxos round (#9053, Sage Weil)</li>
<li>msgr: refactor to cleanly separate SimpleMessenger implemenetation, move toward Connection-based calls (Matt Benjamin, Sage Wei)</li>
<li>objectstore: clean up KeyValueDB interface for key/value backends (Sage Weil)</li>
<li>osd: add local_mtime for use by cache agent (Zhiqiang Wang)</li>
<li>osd: add superblock for KeyValueStore backend (Haomai Wang)</li>
<li>osd: add support for Intel ISA-L erasure code library (Andreas-Joachim Peters)</li>
<li>osd: do not skip promote for write-ordered reads (#9064, Samuel Just)</li>
<li>osd: fix ambigous encoding order for blacklisted clients (#9211, Sage Weil)</li>
<li>osd: fix cache flush corner case for snapshotted objects (#9054, Samuel Just)</li>
<li>osd: fix discard of old/obsolete subop replies (#9259, Samuel Just)</li>
<li>osd: fix discard of peer messages from previous intervals (Greg Farnum)</li>
<li>osd: fix dump of open fds on EMFILE (Sage Weil)</li>
<li>osd: fix journal dump (Ma Jianpeng)</li>
<li>osd: fix mon feature bit requirements bug and resulting log spam (Sage Weil)</li>
<li>osd: fix recovery chunk size usage during EC recovery (Ma Jianpeng)</li>
<li>osd: fix recovery reservation deadlock for EC pools (Samuel Just)</li>
<li>osd: fix removal of old xattrs when overwriting chained xattrs (Ma Jianpeng)</li>
<li>osd: fix requesting queueing on PG split (Samuel Just)</li>
<li>osd: force new xattrs into leveldb if fs returns E2BIG (#7779, Sage Weil)</li>
<li>osd: implement alignment on chunk sizes (Loic Dachary)</li>
<li>osd: improve prioritization of recovery of degraded over misplaced objects (Sage Weil)</li>
<li>osd: locking, sharding, caching improvements in FileStore&#8217;s FDCache (Somnath Roy, Greg Farnum)</li>
<li>osd: many important bug fixes (Samuel Just)</li>
<li>osd, mon: add rocksdb support (Xinxin Shu, Sage Weil)</li>
<li>osd, mon: distinguish between &#8220;misplaced&#8221; and &#8220;degraded&#8221; objects in cluster health and PG state reporting (Sage Weil)</li>
<li>osd: refactor some ErasureCode functionality into command parent class (Loic Dachary)</li>
<li>osd: set rollback_info_completed on create (#8625, Samuel Just)</li>
<li>rados: allow setxattr value to be read from stdin (Sage Weil)</li>
<li>rados: drop gratuitous n from getxattr command (Sage Weil)</li>
<li>rgw: add &#8211;min-rewrite-stripe-size for object restriper (Yehuda Sadeh)</li>
<li>rgw: add powerdns hook for dynamic DNS for global clusters (Wido den Hollander)</li>
<li>rgw: copy object data is target bucket is in a different pool (#9039, Yehuda Sadeh)</li>
<li>rgw: do not try to authenticate CORS preflight requests (#8718, Robert Hubbard, Yehuda Sadeh)</li>
<li>rgw: fix civetweb URL decoding (#8621, Yehuda Sadeh)</li>
<li>rgw: fix removal of objects during object creation (Patrycja Szablowska, Yehuda Sadeh)</li>
<li>rgw: fix striping for copied objects (#9089, Yehuda Sadeh)</li>
<li>rgw: fix test for identify whether an object has a tail (#9226, Yehuda Sadeh)</li>
<li>rgw: fix when stripe size is not a multiple of chunk size (#8937, Yehuda Sadeh)</li>
<li>rgw: improve civetweb logging (Yehuda Sadeh)</li>
<li>rgw: misc civetweb frontend fixes (Yehuda Sadeh)</li>
<li>sysvinit: add support for non-default cluster names (Alfredo Deza)</li>
</ul>
</div>
</div>
<div class="section" id="v0-84">
<h2>v0.84<a class="headerlink" href="#v0-84" title="Permalink to this headline">¶</a></h2>
<p>The next Ceph development release is here!  This release contains
several meaty items, including some MDS improvements for journaling,
the ability to remove the CephFS file system (and name it), several
mon cleanups with tiered pools, several OSD performance branches, a
new &#8220;read forward&#8221; RADOS caching mode, a prototype Kinetic OSD
backend, and various radosgw improvements (especially with the new
standalone civetweb frontend).  And there are a zillion OSD bug
fixes. Things are looking pretty good for the Giant release that is
coming up in the next month.</p>
<div class="section" id="id2489">
<h3>Upgrading<a class="headerlink" href="#id2489" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">*_kb</span> <span class="pre">perf</span></tt> counters on the monitor have been removed.  These are
replaced with a new set of <tt class="docutils literal"><span class="pre">*_bytes</span></tt> counters (e.g., <tt class="docutils literal"><span class="pre">cluster_osd_kb</span></tt> is
replaced by <tt class="docutils literal"><span class="pre">cluster_osd_bytes</span></tt>).</li>
<li>The <tt class="docutils literal"><span class="pre">rd_kb</span></tt> and <tt class="docutils literal"><span class="pre">wr_kb</span></tt> fields in the JSON dumps for pool stats (accessed
via the <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">df</span> <span class="pre">detail</span> <span class="pre">-f</span> <span class="pre">json-pretty</span></tt> and related commands) have been
replaced with corresponding <tt class="docutils literal"><span class="pre">*_bytes</span></tt> fields.  Similarly, the
<tt class="docutils literal"><span class="pre">total_space</span></tt>, <tt class="docutils literal"><span class="pre">total_used</span></tt>, and <tt class="docutils literal"><span class="pre">total_avail</span></tt> fields are replaced with
<tt class="docutils literal"><span class="pre">total_bytes</span></tt>, <tt class="docutils literal"><span class="pre">total_used_bytes</span></tt>,  and <tt class="docutils literal"><span class="pre">total_avail_bytes</span></tt> fields.</li>
<li>The <tt class="docutils literal"><span class="pre">rados</span> <span class="pre">df</span> <span class="pre">--format=json</span></tt> output <tt class="docutils literal"><span class="pre">read_bytes</span></tt> and <tt class="docutils literal"><span class="pre">write_bytes</span></tt>
fields were incorrectly reporting ops; this is now fixed.</li>
<li>The <tt class="docutils literal"><span class="pre">rados</span> <span class="pre">df</span> <span class="pre">--format=json</span></tt> output previously included <tt class="docutils literal"><span class="pre">read_kb</span></tt> and
<tt class="docutils literal"><span class="pre">write_kb</span></tt> fields; these have been removed.  Please use <tt class="docutils literal"><span class="pre">read_bytes</span></tt> and
<tt class="docutils literal"><span class="pre">write_bytes</span></tt> instead (and divide by 1024 if appropriate).</li>
</ul>
</div>
<div class="section" id="id2490">
<h3>Notable Changes<a class="headerlink" href="#id2490" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-conf: flush log on exit (Sage Weil)</li>
<li>ceph-dencoder: refactor build a bit to limit dependencies (Sage Weil, Dan Mick)</li>
<li>ceph.spec: split out ceph-common package, other fixes (Sandon Van Ness)</li>
<li>ceph_test_librbd_fsx: fix RNG, make deterministic (Ilya Dryomov)</li>
<li>cephtool: refactor and improve CLI tests (Joao Eduardo Luis)</li>
<li>client: improved MDS session dumps (John Spray)</li>
<li>common: fix dup log messages (#9080, Sage Weil)</li>
<li>crush: include new tunables in dump (Sage Weil)</li>
<li>crush: only require rule features if the rule is used (#8963, Sage Weil)</li>
<li>crushtool: send output to stdout, not stderr (Wido den Hollander)</li>
<li>fix i386 builds (Sage Weil)</li>
<li>fix struct vs class inconsistencies (Thorsten Behrens)</li>
<li>hadoop: update hadoop tests for Hadoop 2.0 (Haumin Chen)</li>
<li>librbd, ceph-fuse: reduce cache flush overhead (Haomai Wang)</li>
<li>librbd: fix error path when opening image (#8912, Josh Durgin)</li>
<li>mds: add file system name, enabled flag (John Spray)</li>
<li>mds: boot refactor, cleanup (John Spray)</li>
<li>mds: fix journal conversion with standby-replay (John Spray)</li>
<li>mds: separate inode recovery queue (John Spray)</li>
<li>mds: session ls, evict commands (John Spray)</li>
<li>mds: submit log events in async thread (Yan, Zheng)</li>
<li>mds: use client-provided timestamp for user-visible file metadata (Yan, Zheng)</li>
<li>mds: validate journal header on load and save (John Spray)</li>
<li>misc build fixes for OS X (John Spray)</li>
<li>misc integer size cleanups (Kevin Cox)</li>
<li>mon: add get-quota commands (Joao Eduardo Luis)</li>
<li>mon: do not create file system by default (John Spray)</li>
<li>mon: fix &#8216;ceph df&#8217; output for available space (Xiaoxi Chen)</li>
<li>mon: fix bug when no auth keys are present (#8851, Joao Eduardo Luis)</li>
<li>mon: fix compat version for MForward (Joao Eduardo Luis)</li>
<li>mon: restrict some pool properties to tiered pools (Joao Eduardo Luis)</li>
<li>msgr: misc locking fixes for fast dispatch (#8891, Sage Weil)</li>
<li>osd: add &#8216;dump_reservations&#8217; admin socket command (Sage Weil)</li>
<li>osd: add READFORWARD caching mode (Luis Pabon)</li>
<li>osd: add header cache for KeyValueStore (Haomai Wang)</li>
<li>osd: add prototype KineticStore based on Seagate Kinetic (Josh Durgin)</li>
<li>osd: allow map cache size to be adjusted at runtime (Sage Weil)</li>
<li>osd: avoid refcounting overhead by passing a few things by ref (Somnath Roy)</li>
<li>osd: avoid sharing PG info that is not durable (Samuel Just)</li>
<li>osd: clear slow request latency info on osd up/down (Sage Weil)</li>
<li>osd: fix PG object listing/ordering bug (Guang Yang)</li>
<li>osd: fix PG stat errors with tiering (#9082, Sage Weil)</li>
<li>osd: fix bug with long object names and rename (#8701, Sage Weil)</li>
<li>osd: fix cache full -&gt; not full requeueing (#8931, Sage Weil)</li>
<li>osd: fix gating of messages from old OSD instances (Greg Farnum)</li>
<li>osd: fix memstore bugs with collection_move_rename, lock ordering (Sage Weil)</li>
<li>osd: improve locking for KeyValueStore (Haomai Wang)</li>
<li>osd: make tiering behave if hit_sets aren&#8217;t enabled (Sage Weil)</li>
<li>osd: mark pools with incomplete clones (Sage Weil)</li>
<li>osd: misc locking fixes for fast dispatch (Samuel Just, Ma Jianpeng)</li>
<li>osd: prevent old rados clients from using tiered pools (#8714, Sage Weil)</li>
<li>osd: reduce OpTracker overhead (Somnath Roy)</li>
<li>osd: set configurable hard limits on object and xattr names (Sage Weil, Haomai Wang)</li>
<li>osd: trim old EC objects quickly; verify on scrub (Samuel Just)</li>
<li>osd: work around GCC 4.8 bug in journal code (Matt Benjamin)</li>
<li>rados bench: fix arg order (Kevin Dalley)</li>
<li>rados: fix {read,write}_ops values for df output (Sage Weil)</li>
<li>rbd: add rbdmap pre- and post post- hooks, fix misc bugs (Dmitry Smirnov)</li>
<li>rbd: improve option default behavior (Josh Durgin)</li>
<li>rgw: automatically align writes to EC pool (#8442, Yehuda Sadeh)</li>
<li>rgw: fix crash on swift CORS preflight request (#8586, Yehuda Sadeh)</li>
<li>rgw: fix memory leaks (Andrey Kuznetsov)</li>
<li>rgw: fix multipart upload (#8846, Silvain Munaut, Yehuda Sadeh)</li>
<li>rgw: improve -h (Abhishek Lekshmanan)</li>
<li>rgw: improve delimited listing of bucket, misc fixes (Yehuda Sadeh)</li>
<li>rgw: misc civetweb fixes (Yehuda Sadeh)</li>
<li>rgw: powerdns backend for global namespaces (Wido den Hollander)</li>
<li>systemd: initial systemd config files (Federico Simoncelli)</li>
</ul>
</div>
</div>
<div class="section" id="v0-83">
<h2>v0.83<a class="headerlink" href="#v0-83" title="Permalink to this headline">¶</a></h2>
<p>Another Ceph development release!  This has been a longer cycle, so
there has been quite a bit of bug fixing and stabilization in this
round.  There is also a bunch of packaging fixes for RPM distros
(RHEL/CentOS, Fedora, and SUSE) and for systemd.  We&#8217;ve also added a new
librados-striper library from Sebastien Ponce that provides a generic
striping API for applications to code to.</p>
<div class="section" id="id2491">
<h3>Upgrading<a class="headerlink" href="#id2491" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The experimental keyvaluestore-dev OSD backend had an on-disk format
change that prevents existing OSD data from being upgraded.  This
affects developers and testers only.</p>
</li>
<li><p class="first">mon-specific and osd-specific leveldb options have been removed.
From this point onward users should use the <cite>leveldb_*</cite> generic
options and add the options in the appropriate sections of their
configuration files.  Monitors will still maintain the following
monitor-specific defaults:</p>
<blockquote>
<div><p>leveldb_write_buffer_size = 32*1024*1024  = 33554432  // 32MB
leveldb_cache_size        = 512*1024*1204 = 536870912 // 512MB
leveldb_block_size        = 64*1024       = 65536     // 64KB
leveldb_compression       = false
leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
<p>OSDs will still maintain the following osd-specific defaults:</p>
<blockquote>
<div><p>leveldb_log               = &#8220;&#8221;</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id2492">
<h3>Notable Changes<a class="headerlink" href="#id2492" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-disk: fix dmcrypt support (Stephen Taylor)</li>
<li>cephtool: fix help (Yilong Zhao)</li>
<li>cephtool: test cleanup (Joao Eduardo Luis)</li>
<li>doc: librados example fixes (Kevin Dalley)</li>
<li>doc: many doc updates (John Wilkins)</li>
<li>doc: update erasure docs (Loic Dachary, Venky Shankar)</li>
<li>filestore: disable use of XFS hint (buggy on old kernels) (Samuel Just)</li>
<li>filestore: fix xattr spillout (Greg Farnum, Haomai Wang)</li>
<li>keyvaluestore: header cache (Haomai Wang)</li>
<li>librados_striper: striping library for librados (Sebastien Ponce)</li>
<li>libs3: update to latest (Danny Al-Gaaf)</li>
<li>log: fix derr level (Joao Eduardo Luis)</li>
<li>logrotate: fix osd log rotation on ubuntu (Sage Weil)</li>
<li>mds: fix xattr bug triggered by ACLs (Yan, Zheng)</li>
<li>misc memory leaks, cleanups, fixes (Danny Al-Gaaf, Sahid Ferdjaoui)</li>
<li>misc suse fixes (Danny Al-Gaaf)</li>
<li>misc word size fixes (Kevin Cox)</li>
<li>mon: drop mon- and osd- specific leveldb options (Joao Eduardo Luis)</li>
<li>mon: ec pool profile fixes (Loic Dachary)</li>
<li>mon: fix health down messages (Sage Weil)</li>
<li>mon: fix quorum feature check (#8738, Greg Farnum)</li>
<li>mon: &#8216;osd crush reweight-subtree ...&#8217; (Sage Weil)</li>
<li>mon, osd: relax client EC support requirements (Sage Weil)</li>
<li>mon: some instrumentation (Sage Weil)</li>
<li>objecter: flag operations that are redirected by caching (Sage Weil)</li>
<li>osd: clean up shard_id_t, shard_t (Loic Dachary)</li>
<li>osd: fix connection reconnect race (Greg Farnum)</li>
<li>osd: fix dumps (Joao Eduardo Luis)</li>
<li>osd: fix erasure-code lib initialization (Loic Dachary)</li>
<li>osd: fix extent normalization (Adam Crume)</li>
<li>osd: fix loopback msgr issue (Ma Jianpeng)</li>
<li>osd: fix LSB release parsing (Danny Al-Gaaf)</li>
<li>osd: improved backfill priorities (Sage Weil)</li>
<li>osd: many many core fixes (Samuel Just)</li>
<li>osd, mon: config sanity checks on start (Sage Weil, Joao Eduardo Luis)</li>
<li>osd: sharded threadpool to improve parallelism (Somnath Roy)</li>
<li>osd: simple io prioritization for scrub (Sage Weil)</li>
<li>osd: simple scrub throttling (Sage Weil)</li>
<li>osd: tests for bench command (Loic Dachary)</li>
<li>osd: use xfs hint less frequently (Ilya Dryomov)</li>
<li>pybind/rados: fix small timeouts (John Spray)</li>
<li>qa: xfstests updates (Ilya Dryomov)</li>
<li>rgw: cache bucket info (Yehuda Sadeh)</li>
<li>rgw: cache decoded user info (Yehuda Sadeh)</li>
<li>rgw: fix multipart object attr regression (#8452, Yehuda Sadeh)</li>
<li>rgw: fix radosgw-admin &#8216;show log&#8217; command (#8553, Yehuda Sadeh)</li>
<li>rgw: fix URL decoding (#8702, Brian Rak)</li>
<li>rgw: handle empty extra pool name (Yehuda Sadeh)</li>
<li>rpm: do not restart daemons on upgrade (Alfredo Deza)</li>
<li>rpm: misc packaging fixes for rhel7 (Sandon Van Ness)</li>
<li>rpm: split ceph-common from ceph (Sandon Van Ness)</li>
<li>systemd: wrap started daemons in new systemd environment (Sage Weil, Dan Mick)</li>
<li>sysvinit: less sensitive to failures (Sage Weil)</li>
<li>upstart: increase max open files limit (Sage Weil)</li>
</ul>
</div>
</div>
<div class="section" id="v0-82">
<h2>v0.82<a class="headerlink" href="#v0-82" title="Permalink to this headline">¶</a></h2>
<p>This is the second post-firefly development release.  It includes a range
of bug fixes and some usability improvements.  There are some MDS debugging
and diagnostic tools, an improved &#8216;ceph df&#8217;, and some OSD backend refactoring
and cleanup.</p>
<div class="section" id="id2493">
<h3>Notable Changes<a class="headerlink" href="#id2493" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-brag: add tox tests (Alfredo Deza)</li>
<li>common: perfcounters now use atomics and go faster (Sage Weil)</li>
<li>doc: CRUSH updates (John Wilkins)</li>
<li>doc: osd primary affinity (John Wilkins)</li>
<li>doc: pool quotas (John Wilkins)</li>
<li>doc: pre-flight doc improvements (Kevin Dalley)</li>
<li>doc: switch to an unencumbered font (Ross Turk)</li>
<li>doc: update openstack docs (Josh Durgin)</li>
<li>fix hppa arch build (Dmitry Smirnov)</li>
<li>init-ceph: continue starting other daemons on crush or mount failure (#8343, Sage Weil)</li>
<li>keyvaluestore: fix hint crash (#8381, Haomai Wang)</li>
<li>libcephfs-java: build against older JNI headers (Greg Farnum)</li>
<li>librados: fix rados_pool_list bounds checks (Sage Weil)</li>
<li>mds: cephfs-journal-tool (John Spray)</li>
<li>mds: improve Journaler on-disk format (John Spray)</li>
<li>mds, libcephfs: use client timestamp for mtime/ctime (Sage Weil)</li>
<li>mds: misc encoding improvements (John Spray)</li>
<li>mds: misc fixes for multi-mds (Yan, Zheng)</li>
<li>mds: OPTracker integration, dump_ops_in_flight (Greg Farnum)</li>
<li>misc cleanup (Christophe Courtaut)</li>
<li>mon: fix default replication pool ruleset choice (#8373, John Spray)</li>
<li>mon: fix set cache_target_full_ratio (#8440, Geoffrey Hartz)</li>
<li>mon: include per-pool &#8216;max avail&#8217; in df output (Sage Weil)</li>
<li>mon: prevent EC pools from being used with cephfs (Joao Eduardo Luis)</li>
<li>mon: restore original weight when auto-marked out OSDs restart (Sage Weil)</li>
<li>mon: use msg header tid for MMonGetVersionReply (Ilya Dryomov)</li>
<li>osd: fix bogus assert during OSD shutdown (Sage Weil)</li>
<li>osd: fix clone deletion case (#8334, Sam Just)</li>
<li>osd: fix filestore removal corner case (#8332, Sam Just)</li>
<li>osd: fix hang waiting for osdmap (#8338, Greg Farnum)</li>
<li>osd: fix interval check corner case during peering (#8104, Sam Just)</li>
<li>osd: fix journal-less operation (Sage Weil)</li>
<li>osd: include backend information in metadata reported to mon (Sage Weil)</li>
<li>rest-api: fix help (Ailing Zhang)</li>
<li>rgw: check entity permission for put_metadata (#8428, Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v0-81">
<h2>v0.81<a class="headerlink" href="#v0-81" title="Permalink to this headline">¶</a></h2>
<p>This is the first development release since Firefly.  It includes a
lot of work that we delayed merging while stabilizing things.  Lots of
new functionality, as well as several fixes that are baking a bit before
getting backported.</p>
<div class="section" id="id2494">
<h3>Upgrading<a class="headerlink" href="#id2494" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">CephFS support for the legacy anchor table has finally been removed.
Users with file systems created before firefly should ensure that inodes
with multiple hard links are modified <em>prior</em> to the upgrade to ensure that
the backtraces are written properly.  For example:</p>
<div class="highlight-python"><pre>sudo find /mnt/cephfs -type f -links +1 -exec touch \{\} \;</pre>
</div>
</li>
<li><p class="first">Disallow nonsensical &#8216;tier cache-mode&#8217; transitions.  From this point
onward, &#8216;writeback&#8217; can only transition to &#8216;forward&#8217; and &#8216;forward&#8217;
can transition to 1) &#8216;writeback&#8217; if there are dirty objects, or 2) any if
there are no dirty objects.</p>
</li>
</ul>
</div>
<div class="section" id="id2495">
<h3>Notable Changes<a class="headerlink" href="#id2495" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>bash completion improvements (Wido den Hollander)</li>
<li>brag: fixes, improvements (Loic Dachary)</li>
<li>ceph-disk: handle corrupt volumes (Stuart Longlang)</li>
<li>ceph-disk: partprobe as needed (Eric Eastman)</li>
<li>ceph-fuse, libcephfs: asok hooks for handling session resets, timeouts (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: improve traceless reply handling (Sage Weil)</li>
<li>clang build fixes (John Spray, Danny Al-Gaaf)</li>
<li>config: support G, M, K, etc. suffixes (Joao Eduardo Luis)</li>
<li>coverity cleanups (Danny Al-Gaaf)</li>
<li>doc: cache tiering (John Wilkins)</li>
<li>doc: keystone integration docs (John Wilkins)</li>
<li>doc: updated simple configuration guides (John Wilkins)</li>
<li>libcephfs-java: fix gcj-jdk build (Dmitry Smirnov)</li>
<li>librbd: check error code on cache invalidate (Josh Durgin)</li>
<li>librbd: new libkrbd library for kernel map/unmap/showmapped (Ilya Dryomov)</li>
<li>Makefile: fix out of source builds (Stefan Eilemann)</li>
<li>mds: multi-mds fixes (Yan, Zheng)</li>
<li>mds: remove legacy anchor table (Yan, Zheng)</li>
<li>mds: remove legacy discover ino (Yan, Zheng)</li>
<li>monclient: fix hang (Sage Weil)</li>
<li>mon: prevent nonsensical cache-mode transitions (Joao Eduardo Luis)</li>
<li>msgr: avoid big lock when sending (most) messages (Greg Farnum)</li>
<li>osd: bound osdmap epoch skew between PGs (Sage Weil)</li>
<li>osd: cache tier flushing fixes for snapped objects (Samuel Just)</li>
<li>osd: fix agent early finish looping (David Zafman)</li>
<li>osd: fix flush vs OpContext (Samuel Just)</li>
<li>osd: fix MarkMeDown and other shutdown races (Sage Weil)</li>
<li>osd: fix scrub vs cache bugs (Samuel Just)</li>
<li>osd: fix trim of hitsets (Sage Weil)</li>
<li>osd, msgr: fast-dispatch of OSD ops (Greg Farnum, Samuel Just)</li>
<li>osd, objecter: resend ops on last_force_op_resend barrier; fix cache overlay op ordering (Sage Weil)</li>
<li>osd: remove obsolete classic scrub code (David Zafman)</li>
<li>osd: scrub PGs with invalid stats (Sage Weil)</li>
<li>osd: simple snap trimmer throttle (Sage Weil)</li>
<li>osd: use FIEMAP to inform copy_range (Haomai Wang)</li>
<li>rbd-fuse: allow exposing single image (Stephen Taylor)</li>
<li>rbd-fuse: fix unlink (Josh Durgin)</li>
<li>removed mkcephfs (deprecated since dumpling)</li>
<li>rgw: bucket link uses instance id (Yehuda Sadeh)</li>
<li>rgw: fix memory leak following chunk read error (Yehuda Sadeh)</li>
<li>rgw: fix URL escaping (Yehuda Sadeh)</li>
<li>rgw: fix user manifest (Yehuda Sadeh)</li>
<li>rgw: object and bucket rewrite functions to allow restriping old objects (Yehuda Sadeh)</li>
<li>rgw: prevent multiobject PUT race (Yehuda Sadeh)</li>
<li>rgw: send user manifest header (Yehuda Sadeh)</li>
<li>test_librbd_fsx: test krbd as well as librbd (Ilya Dryomov)</li>
</ul>
</div>
</div>
<div class="section" id="v0-80-11-firefly">
<h2>v0.80.11 Firefly<a class="headerlink" href="#v0-80-11-firefly" title="Permalink to this headline">¶</a></h2>
<p>This is a bugfix release for Firefly.  This Firefly 0.80.x is nearing
its planned end of life in January 2016 it may also be the last.</p>
<p>We recommend that all Firefly users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.80.11.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id2496">
<h3>Notable Changes<a class="headerlink" href="#id2496" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build/ops: /etc/init.d/radosgw restart does not work correctly (<a class="reference external" href="http://tracker.ceph.com/issues/11140">issue#11140</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5831">pr#5831</a>, Dmitry Yatsushkevich)</li>
<li>build/ops: Fix -Wno-format and -Werror=format-security options clash  (<a class="reference external" href="http://tracker.ceph.com/issues/13417">issue#13417</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6207">pr#6207</a>, Boris Ranto)</li>
<li>build/ops: ceph-common needs python-argparse on older distros, but doesn&#8217;t require it (<a class="reference external" href="http://tracker.ceph.com/issues/12034">issue#12034</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5217">pr#5217</a>, Nathan Cutler)</li>
<li>build/ops: ceph.spec.in running fdupes unnecessarily (<a class="reference external" href="http://tracker.ceph.com/issues/12301">issue#12301</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5224">pr#5224</a>, Nathan Cutler)</li>
<li>build/ops: ceph.spec.in: 50-rbd.rules conditional is wrong (<a class="reference external" href="http://tracker.ceph.com/issues/12166">issue#12166</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5225">pr#5225</a>, Nathan Cutler)</li>
<li>build/ops: ceph.spec.in: useless %py_requires breaks SLE11-SP3 build (<a class="reference external" href="http://tracker.ceph.com/issues/12351">issue#12351</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5394">pr#5394</a>, Nathan Cutler)</li>
<li>build/ops: fedora21 has junit, not junit4  (<a class="reference external" href="http://tracker.ceph.com/issues/10728">issue#10728</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6203">pr#6203</a>, Ken Dreyer, Loic Dachary)</li>
<li>build/ops: upstart: configuration is too generous on restarts (<a class="reference external" href="http://tracker.ceph.com/issues/11798">issue#11798</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5992">pr#5992</a>, Sage Weil)</li>
<li>common: Client admin socket leaks file descriptors (<a class="reference external" href="http://tracker.ceph.com/issues/11535">issue#11535</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4633">pr#4633</a>, Jon Bernard)</li>
<li>common: FileStore calls syncfs(2) even it is not supported (<a class="reference external" href="http://tracker.ceph.com/issues/12512">issue#12512</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5529">pr#5529</a>, Danny Al-Gaaf, Kefu Chai, Jianpeng Ma)</li>
<li>common: HeartBeat: include types (<a class="reference external" href="http://tracker.ceph.com/issues/13088">issue#13088</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6038">pr#6038</a>, Sage Weil)</li>
<li>common: Malformed JSON command output when non-ASCII strings are present  (<a class="reference external" href="http://tracker.ceph.com/issues/7387">issue#7387</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4635">pr#4635</a>, Kefu Chai, Tim Serong)</li>
<li>common: Memory leak in Mutex.cc, pthread_mutexattr_init without pthread_mutexattr_destroy (<a class="reference external" href="http://tracker.ceph.com/issues/11762">issue#11762</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5403">pr#5403</a>, Ketor Meng)</li>
<li>common: Thread:pthread_attr_destroy(thread_attr) when done with it (<a class="reference external" href="http://tracker.ceph.com/issues/12570">issue#12570</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6325">pr#6325</a>, Piotr Dałek, Zheng Qiankun)</li>
<li>common: ThreadPool add/remove work queue methods not thread safe (<a class="reference external" href="http://tracker.ceph.com/issues/12662">issue#12662</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5991">pr#5991</a>, Jason Dillaman)</li>
<li>common: buffer: critical bufferlist::zero bug (<a class="reference external" href="http://tracker.ceph.com/issues/12252">issue#12252</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5388">pr#5388</a>, Haomai Wang)</li>
<li>common: log: take mutex while opening fd (<a class="reference external" href="http://tracker.ceph.com/issues/12465">issue#12465</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5406">pr#5406</a>, Samuel Just)</li>
<li>common: recursive lock of md_config_t (0) (<a class="reference external" href="http://tracker.ceph.com/issues/12614">issue#12614</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5814">pr#5814</a>, Josh Durgin)</li>
<li>crush: take crashes due to invalid arg (<a class="reference external" href="http://tracker.ceph.com/issues/11602">issue#11602</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4769">pr#4769</a>, Sage Weil)</li>
<li>doc: backport v0.80.10 release notes to firefly (<a class="reference external" href="http://tracker.ceph.com/issues/11090">issue#11090</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5307">pr#5307</a>, Loic Dachary, Sage Weil)</li>
<li>doc: update docs to point to download.ceph.com (<a class="reference external" href="http://tracker.ceph.com/issues/13162">issue#13162</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5993">pr#5993</a>, Alfredo Deza)</li>
<li>fs: MDSMonitor: handle MDSBeacon messages properly (<a class="reference external" href="http://tracker.ceph.com/issues/11590">issue#11590</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5199">pr#5199</a>, Kefu Chai)</li>
<li>fs: client nonce collision due to unshared pid namespaces (<a class="reference external" href="http://tracker.ceph.com/issues/13032">issue#13032</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6087">pr#6087</a>, Josh Durgin, Sage Weil)</li>
<li>librbd: Objectcacher setting max object counts too low (<a class="reference external" href="http://tracker.ceph.com/issues/7385">issue#7385</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4639">pr#4639</a>, Jason Dillaman)</li>
<li>librbd: aio calls may block (<a class="reference external" href="http://tracker.ceph.com/issues/11056">issue#11056</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4854">pr#4854</a>, Haomai Wang, Sage Weil, Jason Dillaman)</li>
<li>librbd: internal.cc: 1967: FAILED assert(watchers.size() == 1) (<a class="reference external" href="http://tracker.ceph.com/issues/12176">issue#12176</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5171">pr#5171</a>, Jason Dillaman)</li>
<li>mon: Clock skew causes missing summary and confuses Calamari (<a class="reference external" href="http://tracker.ceph.com/issues/11877">issue#11877</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4867">pr#4867</a>, Thorsten Behrens)</li>
<li>mon: EC pools are not allowed as cache pools, disallow in the mon (<a class="reference external" href="http://tracker.ceph.com/issues/11650">issue#11650</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5389">pr#5389</a>, Samuel Just)</li>
<li>mon: Make it more difficult to delete pools in firefly (<a class="reference external" href="http://tracker.ceph.com/issues/11800">issue#11800</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4788">pr#4788</a>, Sage Weil)</li>
<li>mon: MonitorDBStore: get_next_key() only if prefix matches (<a class="reference external" href="http://tracker.ceph.com/issues/11786">issue#11786</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5360">pr#5360</a>, Joao Eduardo Luis)</li>
<li>mon: PaxosService: call post_refresh() instead of post_paxos_update() (<a class="reference external" href="http://tracker.ceph.com/issues/11470">issue#11470</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5358">pr#5358</a>, Joao Eduardo Luis)</li>
<li>mon: add a cache layer over MonitorDBStore (<a class="reference external" href="http://tracker.ceph.com/issues/12638">issue#12638</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5698">pr#5698</a>, Kefu Chai)</li>
<li>mon: adding exsting pool as tier with &#8211;force-nonempty clobbers removed_snaps (<a class="reference external" href="http://tracker.ceph.com/issues/11493">issue#11493</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5236">pr#5236</a>, Sage Weil, Samuel Just)</li>
<li>mon: ceph fails to compile with boost 1.58 (<a class="reference external" href="http://tracker.ceph.com/issues/11576">issue#11576</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5129">pr#5129</a>, Kefu Chai)</li>
<li>mon: does not check for IO errors on every transaction (<a class="reference external" href="http://tracker.ceph.com/issues/13089">issue#13089</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6091">pr#6091</a>, Sage Weil)</li>
<li>mon: get pools health&#8217;info have error (<a class="reference external" href="http://tracker.ceph.com/issues/12402">issue#12402</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5410">pr#5410</a>, renhwztetecs)</li>
<li>mon: increase globalid default for firefly (<a class="reference external" href="http://tracker.ceph.com/issues/13255">issue#13255</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6010">pr#6010</a>, Sage Weil)</li>
<li>mon: pgmonitor: wrong at/near target max“ reporting (<a class="reference external" href="http://tracker.ceph.com/issues/12401">issue#12401</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5409">pr#5409</a>, huangjun)</li>
<li>mon: register_new_pgs() should check ruleno instead of its index (<a class="reference external" href="http://tracker.ceph.com/issues/12210">issue#12210</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5404">pr#5404</a>, Xinze Chi)</li>
<li>mon: scrub error (osdmap encoding mismatch?) upgrading from 0.80 to ~0.80.2 (<a class="reference external" href="http://tracker.ceph.com/issues/8815">issue#8815</a>, <a class="reference external" href="http://tracker.ceph.com/issues/8674">issue#8674</a>, <a class="reference external" href="http://tracker.ceph.com/issues/9064">issue#9064</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5200">pr#5200</a>, Sage Weil, Zhiqiang Wang, Samuel Just)</li>
<li>mon: the output is wrong when runing ceph osd reweight (<a class="reference external" href="http://tracker.ceph.com/issues/12251">issue#12251</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5408">pr#5408</a>, Joao Eduardo Luis)</li>
<li>objecter: can get stuck in redirect loop if osdmap epoch == last_force_op_resend (<a class="reference external" href="http://tracker.ceph.com/issues/11026">issue#11026</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4597">pr#4597</a>, Jianpeng Ma, Sage Weil)</li>
<li>objecter: pg listing can deadlock when throttling is in use (<a class="reference external" href="http://tracker.ceph.com/issues/9008">issue#9008</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5043">pr#5043</a>, Guang Yang)</li>
<li>objecter: resend linger ops on split (<a class="reference external" href="http://tracker.ceph.com/issues/9806">issue#9806</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5062">pr#5062</a>, Josh Durgin, Samuel Just)</li>
<li>osd: Cleanup boost optionals for boost 1.56 (<a class="reference external" href="http://tracker.ceph.com/issues/9983">issue#9983</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5039">pr#5039</a>, William A. Kennington III)</li>
<li>osd: LibRadosTwoPools[EC]PP.PromoteSnap failure (<a class="reference external" href="http://tracker.ceph.com/issues/10052">issue#10052</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5050">pr#5050</a>, Sage Weil)</li>
<li>osd: Mutex Assert from PipeConnection::try_get_pipe (<a class="reference external" href="http://tracker.ceph.com/issues/12437">issue#12437</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5815">pr#5815</a>, David Zafman)</li>
<li>osd: PG stuck with remapped (<a class="reference external" href="http://tracker.ceph.com/issues/9614">issue#9614</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5044">pr#5044</a>, Guang Yang)</li>
<li>osd: PG::handle_advance_map: on_pool_change after handling the map change (<a class="reference external" href="http://tracker.ceph.com/issues/12809">issue#12809</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5988">pr#5988</a>, Samuel Just)</li>
<li>osd: PGLog: split divergent priors as well (<a class="reference external" href="http://tracker.ceph.com/issues/11069">issue#11069</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4631">pr#4631</a>, Samuel Just)</li>
<li>osd: PGLog::proc_replica_log: correctly handle case where entries between olog.head and log.tail were split out (<a class="reference external" href="http://tracker.ceph.com/issues/11358">issue#11358</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5287">pr#5287</a>, Samuel Just)</li>
<li>osd: WBThrottle::clear_object: signal on cond when we reduce throttle values (<a class="reference external" href="http://tracker.ceph.com/issues/12223">issue#12223</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5822">pr#5822</a>, Samuel Just)</li>
<li>osd: cache full mode still skips young objects (<a class="reference external" href="http://tracker.ceph.com/issues/10006">issue#10006</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5051">pr#5051</a>, Xinze Chi, Zhiqiang Wang)</li>
<li>osd: crash creating/deleting pools (<a class="reference external" href="http://tracker.ceph.com/issues/12429">issue#12429</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5526">pr#5526</a>, John Spray)</li>
<li>osd: explicitly specify OSD features in MOSDBoot (<a class="reference external" href="http://tracker.ceph.com/issues/10911">issue#10911</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4960">pr#4960</a>, Sage Weil)</li>
<li>osd: is_new_interval() fixes (<a class="reference external" href="http://tracker.ceph.com/issues/11771">issue#11771</a>, <a class="reference external" href="http://tracker.ceph.com/issues/10399">issue#10399</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5726">pr#5726</a>, Samuel Just, Jason Dillaman)</li>
<li>osd: make the all osd/filestore thread pool suicide timeouts separately configurable (<a class="reference external" href="http://tracker.ceph.com/issues/11439">issue#11439</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5823">pr#5823</a>, Samuel Just)</li>
<li>osd: object creation by write cannot use an offset on an erasure coded pool (<a class="reference external" href="http://tracker.ceph.com/issues/11507">issue#11507</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4632">pr#4632</a>, Jianpeng Ma, Loic Dachary)</li>
<li>osd: os/FileJournal: Fix journal write fail, align for direct io (<a class="reference external" href="http://tracker.ceph.com/issues/12943">issue#12943</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5619">pr#5619</a>, Xie Rui)</li>
<li>osd: osd/PGLog.cc: 732: FAILED assert(log.log.size() == log_keys_debug.size()) (<a class="reference external" href="http://tracker.ceph.com/issues/12652">issue#12652</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5820">pr#5820</a>, Sage Weil)</li>
<li>osd: read on chunk-aligned xattr not handled (<a class="reference external" href="http://tracker.ceph.com/issues/12309">issue#12309</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5235">pr#5235</a>, Sage Weil)</li>
<li>rgw: Change variable length array of std::strings (not legal in C++) to std::vector&lt;std::string&gt; (<a class="reference external" href="http://tracker.ceph.com/issues/12467">issue#12467</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4583">pr#4583</a>, Daniel J. Hofmann)</li>
<li>rgw: Civetweb RGW appears to report full size of object as downloaded when only partially downloaded (<a class="reference external" href="http://tracker.ceph.com/issues/11851">issue#11851</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5234">pr#5234</a>, Yehuda Sadeh)</li>
<li>rgw: Keystone PKI token expiration is not enforced (<a class="reference external" href="http://tracker.ceph.com/issues/11367">issue#11367</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4765">pr#4765</a>, Anton Aksola)</li>
<li>rgw: Object copy bug (<a class="reference external" href="http://tracker.ceph.com/issues/11639">issue#11639</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4762">pr#4762</a>, Javier M. Mellid)</li>
<li>rgw: RGW returns requested bucket name raw in &#8220;Bucket&#8221; response header (<a class="reference external" href="http://tracker.ceph.com/issues/11860">issue#11860</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12537">issue#12537</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5730">pr#5730</a>, Yehuda Sadeh, Wido den Hollander)</li>
<li>rgw: Swift API: response for PUT on /container does not contain the mandatory Content-Length header when FCGI is used (<a class="reference external" href="http://tracker.ceph.com/issues/11036">issue#11036</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5170">pr#5170</a>, Radoslaw Zarzynski)</li>
<li>rgw: content length parsing calls strtol() instead of strtoll() (<a class="reference external" href="http://tracker.ceph.com/issues/10701">issue#10701</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5997">pr#5997</a>, Yehuda Sadeh)</li>
<li>rgw: delete bucket does not remove .bucket.meta file (<a class="reference external" href="http://tracker.ceph.com/issues/11149">issue#11149</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4641">pr#4641</a>, Orit Wasserman)</li>
<li>rgw: doesn&#8217;t return &#8216;x-timestamp&#8217; in header which is used by &#8216;View Details&#8217; of OpenStack (<a class="reference external" href="http://tracker.ceph.com/issues/8911">issue#8911</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4584">pr#4584</a>, Yehuda Sadeh)</li>
<li>rgw: init some manifest fields when handling explicit objs (<a class="reference external" href="http://tracker.ceph.com/issues/11455">issue#11455</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5729">pr#5729</a>, Yehuda Sadeh)</li>
<li>rgw: logfile does not get chowned properly (<a class="reference external" href="http://tracker.ceph.com/issues/12073">issue#12073</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5233">pr#5233</a>, Thorsten Behrens)</li>
<li>rgw: logrotate.conf calls service with wrong init script name (<a class="reference external" href="http://tracker.ceph.com/issues/12043">issue#12043</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5390">pr#5390</a>, wuxingyi)</li>
<li>rgw: quota not respected in POST object (<a class="reference external" href="http://tracker.ceph.com/issues/11323">issue#11323</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4642">pr#4642</a>, Sergey Arkhipov)</li>
<li>rgw: swift smoke test fails on TestAccountUTF8 (<a class="reference external" href="http://tracker.ceph.com/issues/11091">issue#11091</a>, <a class="reference external" href="http://tracker.ceph.com/issues/11438">issue#11438</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12939">issue#12939</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12157">issue#12157</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12158">issue#12158</a>, <a class="reference external" href="http://tracker.ceph.com/issues/12363">issue#12363</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5532">pr#5532</a>, Radoslaw Zarzynski, Orit Wasserman, Robin H. Johnson)</li>
<li>rgw: use correct objv_tracker for bucket instance (<a class="reference external" href="http://tracker.ceph.com/issues/11416">issue#11416</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4535">pr#4535</a>, Yehuda Sadeh)</li>
<li>tests: ceph-fuse crash in test_client_recovery (<a class="reference external" href="http://tracker.ceph.com/issues/12673">issue#12673</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5813">pr#5813</a>, Loic Dachary)</li>
<li>tests: kernel_untar_build fails on EL7 (<a class="reference external" href="http://tracker.ceph.com/issues/11758">issue#11758</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6000">pr#6000</a>, Greg Farnum)</li>
<li>tests: qemu workunit refers to apt-mirror.front.sepia.ceph.com (<a class="reference external" href="http://tracker.ceph.com/issues/13420">issue#13420</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/6328">pr#6328</a>, Yuan Zhou, Sage Weil)</li>
<li>tools:  src/ceph-disk : disk zap sgdisk invocation (<a class="reference external" href="http://tracker.ceph.com/issues/11143">issue#11143</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4636">pr#4636</a>, Thorsten Behrens, Owen Synge)</li>
<li>tools: ceph-disk: sometimes the journal symlink is not created (<a class="reference external" href="http://tracker.ceph.com/issues/10146">issue#10146</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5541">pr#5541</a>, Dan van der Ster)</li>
<li>tools: ceph-disk: support NVMe device partitions (<a class="reference external" href="http://tracker.ceph.com/issues/11612">issue#11612</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4771">pr#4771</a>, Ilja Slepnev)</li>
<li>tools: ceph-post-file fails on rhel7 (<a class="reference external" href="http://tracker.ceph.com/issues/11836">issue#11836</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/5037">pr#5037</a>, Joseph McDonald, Sage Weil)</li>
<li>tools: ceph_argparse_flag has no regular 3rd parameter (<a class="reference external" href="http://tracker.ceph.com/issues/11543">issue#11543</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4582">pr#4582</a>, Thorsten Behrens)</li>
<li>tools: use a new disk as journal disk,ceph-disk prepare fail (<a class="reference external" href="http://tracker.ceph.com/issues/10983">issue#10983</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4630">pr#4630</a>, Loic Dachary)</li>
</ul>
</div>
</div>
<div class="section" id="v0-80-10-firefly">
<h2>v0.80.10 Firefly<a class="headerlink" href="#v0-80-10-firefly" title="Permalink to this headline">¶</a></h2>
<p>This is a bugfix release for Firefly.</p>
<p>We recommend that all Firefly users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.80.10.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id2539">
<h3>Notable Changes<a class="headerlink" href="#id2539" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build/ops: ceph.spec.in: package mkcephfs on EL6 (<a class="reference external" href="http://tracker.ceph.com/issues/11955">issue#11955</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4924">pr#4924</a>, Ken Dreyer)</li>
<li>build/ops: debian: ceph-test and rest-bench debug packages should require their respective binary packages (<a class="reference external" href="http://tracker.ceph.com/issues/11673">issue#11673</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4766">pr#4766</a>, Ken Dreyer)</li>
<li>build/ops: run RGW as root (<a class="reference external" href="http://tracker.ceph.com/issues/11453">issue#11453</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4638">pr#4638</a>, Ken Dreyer)</li>
<li>common: messages/MWatchNotify: include an error code in the message (<a class="reference external" href="http://tracker.ceph.com/issues/9193">issue#9193</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3944">pr#3944</a>, Sage Weil)</li>
<li>common: Rados.shutdown() dies with Illegal instruction (core dumped) (<a class="reference external" href="http://tracker.ceph.com/issues/10153">issue#10153</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3963">pr#3963</a>, Federico Simoncelli)</li>
<li>common: SimpleMessenger: allow RESETSESSION whenever we forget an endpoint (<a class="reference external" href="http://tracker.ceph.com/issues/10080">issue#10080</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3915">pr#3915</a>, Greg Farnum)</li>
<li>common: WorkQueue: make wait timeout on empty queue configurable (<a class="reference external" href="http://tracker.ceph.com/issues/10817">issue#10817</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3941">pr#3941</a>, Samuel Just)</li>
<li>crush: set_choose_tries = 100 for erasure code rulesets (<a class="reference external" href="http://tracker.ceph.com/issues/10353">issue#10353</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3824">pr#3824</a>, Loic Dachary)</li>
<li>doc: backport ceph-disk man page to Firefly (<a class="reference external" href="http://tracker.ceph.com/issues/10724">issue#10724</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3936">pr#3936</a>, Nilamdyuti Goswami)</li>
<li>doc: Fix ceph command manpage to match ceph -h (<a class="reference external" href="http://tracker.ceph.com/issues/10676">issue#10676</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3996">pr#3996</a>, David Zafman)</li>
<li>fs: mount.ceph: avoid spurious error message (<a class="reference external" href="http://tracker.ceph.com/issues/10351">issue#10351</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3927">pr#3927</a>, Yan, Zheng)</li>
<li>librados: Fix memory leak in python rados bindings (<a class="reference external" href="http://tracker.ceph.com/issues/10723">issue#10723</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3935">pr#3935</a>, Josh Durgin)</li>
<li>librados: fix resources leakage in RadosClient::connect() (<a class="reference external" href="http://tracker.ceph.com/issues/10425">issue#10425</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3828">pr#3828</a>, Radoslaw Zarzynski)</li>
<li>librados: Translate operation flags from C APIs (<a class="reference external" href="http://tracker.ceph.com/issues/10497">issue#10497</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3930">pr#3930</a>, Matt Richards)</li>
<li>librbd: acquire cache_lock before refreshing parent (<a class="reference external" href="http://tracker.ceph.com/issues/5488">issue#5488</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4206">pr#4206</a>, Jason Dillaman)</li>
<li>librbd: snap_remove should ignore -ENOENT errors (<a class="reference external" href="http://tracker.ceph.com/issues/11113">issue#11113</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4245">pr#4245</a>, Jason Dillaman)</li>
<li>mds: fix assertion caused by system clock backwards (<a class="reference external" href="http://tracker.ceph.com/issues/11053">issue#11053</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3970">pr#3970</a>, Yan, Zheng)</li>
<li>mon: ignore osd failures from before up_from (<a class="reference external" href="http://tracker.ceph.com/issues/10762">issue#10762</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3937">pr#3937</a>, Sage Weil)</li>
<li>mon: MonCap: take EntityName instead when expanding profiles (<a class="reference external" href="http://tracker.ceph.com/issues/10844">issue#10844</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3942">pr#3942</a>, Joao Eduardo Luis)</li>
<li>mon: Monitor: fix timecheck rounds period (<a class="reference external" href="http://tracker.ceph.com/issues/10546">issue#10546</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3932">pr#3932</a>, Joao Eduardo Luis)</li>
<li>mon: OSDMonitor: do not trust small values in osd epoch cache (<a class="reference external" href="http://tracker.ceph.com/issues/10787">issue#10787</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3823">pr#3823</a>, Sage Weil)</li>
<li>mon: OSDMonitor: fallback to json-pretty in case of invalid formatter (<a class="reference external" href="http://tracker.ceph.com/issues/9538">issue#9538</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4475">pr#4475</a>, Loic Dachary)</li>
<li>mon: PGMonitor: several stats output error fixes (<a class="reference external" href="http://tracker.ceph.com/issues/10257">issue#10257</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3826">pr#3826</a>, Joao Eduardo Luis)</li>
<li>objecter: fix map skipping (<a class="reference external" href="http://tracker.ceph.com/issues/9986">issue#9986</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3952">pr#3952</a>, Ding Dinghua)</li>
<li>osd: cache tiering: fix the atime logic of the eviction (<a class="reference external" href="http://tracker.ceph.com/issues/9915">issue#9915</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3949">pr#3949</a>, Zhiqiang Wang)</li>
<li>osd: cancel_pull: requeue waiters (<a class="reference external" href="http://tracker.ceph.com/issues/11244">issue#11244</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4415">pr#4415</a>, Samuel Just)</li>
<li>osd: check that source OSD is valid for MOSDRepScrub (<a class="reference external" href="http://tracker.ceph.com/issues/9555">issue#9555</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3947">pr#3947</a>, Sage Weil)</li>
<li>osd: DBObjectMap: lock header_lock on sync() (<a class="reference external" href="http://tracker.ceph.com/issues/9891">issue#9891</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3948">pr#3948</a>, Samuel Just)</li>
<li>osd: do not ignore deleted pgs on startup (<a class="reference external" href="http://tracker.ceph.com/issues/10617">issue#10617</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3933">pr#3933</a>, Sage Weil)</li>
<li>osd: ENOENT on clone (<a class="reference external" href="http://tracker.ceph.com/issues/11199">issue#11199</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4385">pr#4385</a>, Samuel Just)</li>
<li>osd: erasure-code-profile set races with erasure-code-profile rm (<a class="reference external" href="http://tracker.ceph.com/issues/11144">issue#11144</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4383">pr#4383</a>, Loic Dachary)</li>
<li>osd: FAILED assert(soid &lt; scrubber.start || soid &gt;= scrubber.end) (<a class="reference external" href="http://tracker.ceph.com/issues/11156">issue#11156</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4185">pr#4185</a>, Samuel Just)</li>
<li>osd: FileJournal: fix journalq population in do_read_entry() (<a class="reference external" href="http://tracker.ceph.com/issues/6003">issue#6003</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3960">pr#3960</a>, Samuel Just)</li>
<li>osd: fix negative degraded objects during backfilling (<a class="reference external" href="http://tracker.ceph.com/issues/7737">issue#7737</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4021">pr#4021</a>, Guang Yang)</li>
<li>osd: get the currently atime of the object in cache pool for eviction (<a class="reference external" href="http://tracker.ceph.com/issues/9985">issue#9985</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3950">pr#3950</a>, Sage Weil)</li>
<li>osd: load_pgs: we need to handle the case where an upgrade from earlier versions which ignored non-existent pgs resurrects a pg with a prehistoric osdmap (<a class="reference external" href="http://tracker.ceph.com/issues/11429">issue#11429</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4556">pr#4556</a>, Samuel Just)</li>
<li>osd: ObjectStore: Don&#8217;t use largest_data_off to calc data_align. (<a class="reference external" href="http://tracker.ceph.com/issues/10014">issue#10014</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3954">pr#3954</a>, Jianpeng Ma)</li>
<li>osd: osd_types: op_queue_age_hist and fs_perf_stat should be in osd_stat_t::o... (<a class="reference external" href="http://tracker.ceph.com/issues/10259">issue#10259</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3827">pr#3827</a>, Samuel Just)</li>
<li>osd: PG::actingset should be used when checking the number of acting OSDs for... (<a class="reference external" href="http://tracker.ceph.com/issues/11454">issue#11454</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4453">pr#4453</a>, Guang Yang)</li>
<li>osd: PG::all_unfound_are_queried_or_lost for non-existent osds (<a class="reference external" href="http://tracker.ceph.com/issues/10976">issue#10976</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4416">pr#4416</a>, Mykola Golub)</li>
<li>osd: PG: always clear_primary_state (<a class="reference external" href="http://tracker.ceph.com/issues/10059">issue#10059</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3955">pr#3955</a>, Samuel Just)</li>
<li>osd: PGLog.h: 279: FAILED assert(log.log.size() == log_keys_debug.size()) (<a class="reference external" href="http://tracker.ceph.com/issues/10718">issue#10718</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4382">pr#4382</a>, Samuel Just)</li>
<li>osd: PGLog: include rollback_info_trimmed_to in (read|write)_log (<a class="reference external" href="http://tracker.ceph.com/issues/10157">issue#10157</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3964">pr#3964</a>, Samuel Just)</li>
<li>osd: pg stuck stale after create with activation delay (<a class="reference external" href="http://tracker.ceph.com/issues/11197">issue#11197</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4384">pr#4384</a>, Samuel Just)</li>
<li>osd: ReplicatedPG: fail a non-blocking flush if the object is being scrubbed (<a class="reference external" href="http://tracker.ceph.com/issues/8011">issue#8011</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3943">pr#3943</a>, Samuel Just)</li>
<li>osd: ReplicatedPG::on_change: clean up callbacks_for_degraded_object (<a class="reference external" href="http://tracker.ceph.com/issues/8753">issue#8753</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3940">pr#3940</a>, Samuel Just)</li>
<li>osd: ReplicatedPG::scan_range: an object can disappear between the list and t... (<a class="reference external" href="http://tracker.ceph.com/issues/10150">issue#10150</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3962">pr#3962</a>, Samuel Just)</li>
<li>osd: requeue blocked op before flush it was blocked on (<a class="reference external" href="http://tracker.ceph.com/issues/10512">issue#10512</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3931">pr#3931</a>, Sage Weil)</li>
<li>rgw: check for timestamp for s3 keystone auth (<a class="reference external" href="http://tracker.ceph.com/issues/10062">issue#10062</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3958">pr#3958</a>, Abhishek Lekshmanan)</li>
<li>rgw: civetweb should use unique request id (<a class="reference external" href="http://tracker.ceph.com/issues/11720">issue#11720</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4780">pr#4780</a>, Orit Wasserman)</li>
<li>rgw: don&#8217;t allow negative / invalid content length (<a class="reference external" href="http://tracker.ceph.com/issues/11890">issue#11890</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4829">pr#4829</a>, Yehuda Sadeh)</li>
<li>rgw: fail s3 POST auth if keystone not configured (<a class="reference external" href="http://tracker.ceph.com/issues/10698">issue#10698</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3966">pr#3966</a>, Yehuda Sadeh)</li>
<li>rgw: flush xml header on get acl request (<a class="reference external" href="http://tracker.ceph.com/issues/10106">issue#10106</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3961">pr#3961</a>, Yehuda Sadeh)</li>
<li>rgw: generate new tag for object when setting object attrs (<a class="reference external" href="http://tracker.ceph.com/issues/11256">issue#11256</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4571">pr#4571</a>, Yehuda Sadeh)</li>
<li>rgw: generate the &#8220;Date&#8221; HTTP header for civetweb. (<a class="reference external" href="http://tracker.ceph.com/issues/11871,11891">issue#11871,11891</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4851">pr#4851</a>, Radoslaw Zarzynski)</li>
<li>rgw: keystone token cache does not work correctly (<a class="reference external" href="http://tracker.ceph.com/issues/11125">issue#11125</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4414">pr#4414</a>, Yehuda Sadeh)</li>
<li>rgw: merge manifests correctly when there&#8217;s prefix override (<a class="reference external" href="http://tracker.ceph.com/issues/11622">issue#11622</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4697">pr#4697</a>, Yehuda Sadeh)</li>
<li>rgw: send appropriate op to cancel bucket index pending operation (<a class="reference external" href="http://tracker.ceph.com/issues/10770">issue#10770</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3938">pr#3938</a>, Yehuda Sadeh)</li>
<li>rgw: shouldn&#8217;t need to disable rgw_socket_path if frontend is configured (<a class="reference external" href="http://tracker.ceph.com/issues/11160">issue#11160</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4275">pr#4275</a>, Yehuda Sadeh)</li>
<li>rgw: Swift API. Dump container&#8217;s custom metadata. (<a class="reference external" href="http://tracker.ceph.com/issues/10665">issue#10665</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3934">pr#3934</a>, Dmytro Iurchenko)</li>
<li>rgw: Swift API. Support for X-Remove-Container-Meta-{key} header. (<a class="reference external" href="http://tracker.ceph.com/issues/10475">issue#10475</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3929">pr#3929</a>, Dmytro Iurchenko)</li>
<li>rgw: use correct objv_tracker for bucket instance (<a class="reference external" href="http://tracker.ceph.com/issues/11416">issue#11416</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4379">pr#4379</a>, Yehuda Sadeh)</li>
<li>tests: force checkout of submodules (<a class="reference external" href="http://tracker.ceph.com/issues/11157">issue#11157</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4079">pr#4079</a>, Loic Dachary)</li>
<li>tools: Backport ceph-objectstore-tool changes to firefly (<a class="reference external" href="http://tracker.ceph.com/issues/12327">issue#12327</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/3866">pr#3866</a>, David Zafman)</li>
<li>tools: ceph-objectstore-tool: Output only unsupported features when incomatible (<a class="reference external" href="http://tracker.ceph.com/issues/11176">issue#11176</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4126">pr#4126</a>, David Zafman)</li>
<li>tools: ceph-objectstore-tool: Use exit status 11 for incompatible import attemp... (<a class="reference external" href="http://tracker.ceph.com/issues/11139">issue#11139</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4129">pr#4129</a>, David Zafman)</li>
<li>tools: Fix do_autogen.sh so that -L is allowed (<a class="reference external" href="http://tracker.ceph.com/issues/11303">issue#11303</a>, <a class="reference external" href="http://github.com/ceph/ceph/pull/4247">pr#4247</a>, Alfredo Deza)</li>
</ul>
</div>
</div>
<div class="section" id="v0-80-9-firefly">
<h2>v0.80.9 Firefly<a class="headerlink" href="#v0-80-9-firefly" title="Permalink to this headline">¶</a></h2>
<p>This is a bugfix release for firefly.  It fixes a performance
regression in librbd, an important CRUSH misbehavior (see below), and
several RGW bugs.  We have also backported support for flock/fcntl
locks to ceph-fuse and libcephfs.</p>
<p>We recommend that all Firefly users upgrade.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.80.9.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="adjusting-crush-maps">
<h3>Adjusting CRUSH maps<a class="headerlink" href="#adjusting-crush-maps" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">This point release fixes several issues with CRUSH that trigger
excessive data migration when adjusting OSD weights.  These are most
obvious when a very small weight change (e.g., a change from 0 to
.01) triggers a large amount of movement, but the same set of bugs
can also lead to excessive (though less noticeable) movement in
other cases.</p>
<p>However, because the bug may already have affected your cluster,
fixing it may trigger movement <em>back</em> to the more correct location.
For this reason, you must manually opt-in to the fixed behavior.</p>
<p>In order to set the new tunable to correct the behavior:</p>
<div class="highlight-python"><pre>ceph osd crush set-tunable straw_calc_version 1</pre>
</div>
<p>Note that this change will have no immediate effect.  However, from
this point forward, any &#8216;straw&#8217; bucket in your CRUSH map that is
adjusted will get non-buggy internal weights, and that transition
may trigger some rebalancing.</p>
<p>You can estimate how much rebalancing will eventually be necessary
on your cluster with:</p>
<div class="highlight-python"><pre>  ceph osd getcrushmap -o /tmp/cm
  crushtool -i /tmp/cm --num-rep 3 --test --show-mappings &gt; /tmp/a 2&gt;&amp;1
  crushtool -i /tmp/cm --set-straw-calc-version 1 -o /tmp/cm2
  crushtool -i /tmp/cm2 --reweight -o /tmp/cm2
  crushtool -i /tmp/cm2 --num-rep 3 --test --show-mappings &gt; /tmp/b 2&gt;&amp;1
  wc -l /tmp/a                          # num total mappings
  diff -u /tmp/a /tmp/b | grep -c ^+    # num changed mappings

Divide the number of changed lines by the total number of lines in
/tmp/a.  We've found that most clusters are under 10%.

You can force all of this rebalancing to happen at once with::

  ceph osd crush reweight-all

Otherwise, it will happen at some unknown point in the future when
CRUSH weights are next adjusted.</pre>
</div>
</li>
</ul>
</div>
<div class="section" id="id2541">
<h3>Notable Changes<a class="headerlink" href="#id2541" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-fuse: flock, fcntl lock support (Yan, Zheng, Greg Farnum)</li>
<li>crush: fix straw bucket weight calculation, add straw_calc_version tunable (#10095 Sage Weil)</li>
<li>crush: fix tree bucket (Rongzu Zhu)</li>
<li>crush: fix underflow of tree weights (Loic Dachary, Sage Weil)</li>
<li>crushtool: add &#8211;reweight (Sage Weil)</li>
<li>librbd: complete pending operations before losing image (#10299 Jason Dillaman)</li>
<li>librbd: fix read caching performance regression (#9854 Jason Dillaman)</li>
<li>librbd: gracefully handle deleted/renamed pools (#10270 Jason Dillaman)</li>
<li>mon: fix dump of chooseleaf_vary_r tunable (Sage Weil)</li>
<li>osd: fix PG ref leak in snaptrimmer on peering (#10421 Kefu Chai)</li>
<li>osd: handle no-op write with snapshot (#10262 Sage Weil)</li>
<li>radosgw-admin: create subuser when creating user (#10103 Yehuda Sadeh)</li>
<li>rgw: change multipart uplaod id magic (#10271 Georgio Dimitrakakis, Yehuda Sadeh)</li>
<li>rgw: don&#8217;t overwrite bucket/object owner when setting ACLs (#10978 Yehuda Sadeh)</li>
<li>rgw: enable IPv6 for embedded civetweb (#10965 Yehuda Sadeh)</li>
<li>rgw: fix partial swift GET (#10553 Yehuda Sadeh)</li>
<li>rgw: fix quota disable (#9907 Dong Lei)</li>
<li>rgw: index swift keys appropriately (#10471 Hemant Burman, Yehuda Sadeh)</li>
<li>rgw: make setattrs update bucket index (#5595 Yehuda Sadeh)</li>
<li>rgw: pass civetweb configurables (#10907 Yehuda Sadeh)</li>
<li>rgw: remove swift user manifest (DLO) hash calculation (#9973 Yehuda Sadeh)</li>
<li>rgw: return correct len for 0-len objects (#9877 Yehuda Sadeh)</li>
<li>rgw: S3 object copy content-type fix (#9478 Yehuda Sadeh)</li>
<li>rgw: send ETag on S3 object copy (#9479 Yehuda Sadeh)</li>
<li>rgw: send HTTP status reason explicitly in fastcgi (Yehuda Sadeh)</li>
<li>rgw: set ulimit -n from sysvinit (el6) init script (#9587 Sage Weil)</li>
<li>rgw: update swift subuser permission masks when authenticating (#9918 Yehuda Sadeh)</li>
<li>rgw: URL decode query params correctly (#10271 Georgio Dimitrakakis, Yehuda Sadeh)</li>
<li>rgw: use attrs when reading object attrs (#10307 Yehuda Sadeh)</li>
<li>rgw: use rn for http headers (#9254 Benedikt Fraunhofer, Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v0-80-8-firefly">
<h2>v0.80.8 Firefly<a class="headerlink" href="#v0-80-8-firefly" title="Permalink to this headline">¶</a></h2>
<p>This is a long-awaited bugfix release for firefly.  It has several
imporant (but relatively rare) OSD peering fixes, performance issues
when snapshots are trimmed, several RGW fixes, a paxos corner case
fix, and some packaging updates.</p>
<p>We recommend that all users for v0.80.x firefly upgrade when it is
convenient to do so.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.80.8.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id2542">
<h3>Notable Changes<a class="headerlink" href="#id2542" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build: remove stack-execute bit from assembled code sections (#10114 Dan Mick)</li>
<li>ceph-disk: fix dmcrypt key permissions (#9785 Loic Dachary)</li>
<li>ceph-disk: fix keyring location (#9653 Loic Dachary)</li>
<li>ceph-disk: make partition checks more robust (#9721 #9665 Loic Dachary)</li>
<li>ceph: cleanly shut down librados context on shutdown (#8797 Dan Mick)</li>
<li>common: add $cctid config metavariable (#6228 Adam Crume)</li>
<li>crush: align rule and ruleset ids (#9675 Xiaoxi Chen)</li>
<li>crush: fix negative weight bug during create_or_move_item (#9998 Pawel Sadowski)</li>
<li>crush: fix potential buffer overflow in erasure rules (#9492 Johnu George)</li>
<li>debian: fix python-ceph -&gt; ceph file movement (Sage Weil)</li>
<li>libcephfs,ceph-fuse: fix flush tid wraparound bug (#9869 Greg Farnum, Yan, Zheng)</li>
<li>libcephfs: close fd befure umount (#10415 Yan, Zheng)</li>
<li>librados: fix crash from C API when read timeout is enabled (#9582 Sage Weil)</li>
<li>librados: handle reply race with pool deletion (#10372 Sage Weil)</li>
<li>librbd: cap memory utilization for read requests (Jason Dillaman)</li>
<li>librbd: do not close a closed parent image on failure (#10030 Jason Dillaman)</li>
<li>librbd: fix diff tests (#10002 Josh Durgin)</li>
<li>librbd: protect list_children from invalid pools (#10123 Jason Dillaman)</li>
<li>make check improvemens (Loic Dachary)</li>
<li>mds: fix ctime updates (#9514 Greg Farnum)</li>
<li>mds: fix journal import tool (#10025 John Spray)</li>
<li>mds: fix rare NULL deref in cap flush handler (Greg Farnum)</li>
<li>mds: handle unknown lock messages (Yan, Zheng)</li>
<li>mds: store backtrace for straydir (Yan, Zheng)</li>
<li>mon: abort startup if disk is full (#9502 Joao Eduardo Luis)</li>
<li>mon: add paxos instrumentation (Sage Weil)</li>
<li>mon: fix double-free in rare OSD startup path (Sage Weil)</li>
<li>mon: fix osdmap trimming (#9987 Sage Weil)</li>
<li>mon: fix paxos corner cases (#9301 #9053 Sage Weil)</li>
<li>osd: cancel callback on blacklisted watchers (#8315 Samuel Just)</li>
<li>osd: cleanly abort set-alloc-hint operations during upgrade (#9419 David Zafman)</li>
<li>osd: clear rollback PG metadata on PG deletion (#9293 Samuel Just)</li>
<li>osd: do not abort deep scrub if hinfo is missing (#10018 Loic Dachary)</li>
<li>osd: erasure-code regression tests (Loic Dachary)</li>
<li>osd: fix distro metadata reporting for SUSE (#8654 Danny Al-Gaaf)</li>
<li>osd: fix full OSD checks during backfill (#9574 Samuel Just)</li>
<li>osd: fix ioprio parsing (#9677 Loic Dachary)</li>
<li>osd: fix journal direct-io shutdown (#9073 Mark Kirkwood, Ma Jianpeng, Somnath Roy)</li>
<li>osd: fix journal dump (Ma Jianpeng)</li>
<li>osd: fix occasional stall during peering or activation (Sage Weil)</li>
<li>osd: fix past_interval display bug (#9752 Loic Dachary)</li>
<li>osd: fix rare crash triggered by admin socket dump_ops_in_filght (#9916 Dong Lei)</li>
<li>osd: fix snap trimming performance issues (#9487 #9113 Samuel Just, Sage Weil, Dan van der Ster, Florian Haas)</li>
<li>osd: fix snapdir handling on cache eviction (#8629 Sage Weil)</li>
<li>osd: handle map gaps in map advance code (Sage Weil)</li>
<li>osd: handle undefined CRUSH results in interval check (#9718 Samuel Just)</li>
<li>osd: include shard in JSON dump of ghobject (#10063 Loic Dachary)</li>
<li>osd: make backfill reservation denial handling more robust (#9626 Samuel Just)</li>
<li>osd: make misdirected op checks handle EC + primary affinity (#9835 Samuel Just, Sage Weil)</li>
<li>osd: mount XFS with inode64 by default (Sage Weil)</li>
<li>osd: other misc bugs (#9821 #9875 Samuel Just)</li>
<li>rgw: add .log to default log path (#9353 Alexandre Marangone)</li>
<li>rgw: clean up fcgi request context (#10194 Yehuda Sadeh)</li>
<li>rgw: convet header underscores to dashes (#9206 Yehuda Sadeh)</li>
<li>rgw: copy object data if copy target is in different pool (#9039 Yehuda Sadeh)</li>
<li>rgw: don&#8217;t try to authenticate CORS peflight request (#8718 Robert Hubbard, Yehuda Sadeh)</li>
<li>rgw: fix civetweb URL decoding (#8621 Yehuda Sadeh)</li>
<li>rgw: fix hash calculation during PUT (Yehuda Sadeh)</li>
<li>rgw: fix misc bugs (#9089 #9201 Yehuda Sadeh)</li>
<li>rgw: fix object tail test (#9226 Sylvain Munaut, Yehuda Sadeh)</li>
<li>rgw: make sysvinit script run rgw under systemd context as needed (#10125 Loic Dachary)</li>
<li>rgw: separate civetweb log from rgw log (Yehuda Sadeh)</li>
<li>rgw: set length for keystone token validations (#7796 Mark Kirkwood, Yehuda Sadeh)</li>
<li>rgw: subuser creation fixes (#8587 Yehuda Sadeh)</li>
<li>rpm: misc packaging improvements (Sandon Van Ness, Dan Mick, Erik Logthenberg, Boris Ranto)</li>
<li>rpm: use standard udev rules for CentOS7/RHEL7 (#9747 Loic Dachary)</li>
</ul>
</div>
</div>
<div class="section" id="v0-80-7-firefly">
<h2>v0.80.7 Firefly<a class="headerlink" href="#v0-80-7-firefly" title="Permalink to this headline">¶</a></h2>
<p>This release fixes a few critical issues with v0.80.6, particularly
with clusters running mixed versions.</p>
<p>We recommend that all v0.80.x Firefly users upgrade to this release.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.80.7.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id2543">
<h3>Notable Changes<a class="headerlink" href="#id2543" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: fix invalid memory reference in log trimming (#9731 Samuel Just)</li>
<li>osd: fix use-after-free in cache tiering code (#7588 Sage Weil)</li>
<li>osd: remove bad backfill assertion for mixed-version clusters (#9696 Samuel Just)</li>
</ul>
</div>
</div>
<div class="section" id="v0-80-6-firefly">
<h2>v0.80.6 Firefly<a class="headerlink" href="#v0-80-6-firefly" title="Permalink to this headline">¶</a></h2>
<p>This is a major bugfix release for firefly, fixing a range of issues
in the OSD and monitor, particularly with cache tiering.  There are
also important fixes in librados, with the watch/notify mechanism used
by librbd, and in radosgw.</p>
<p>A few pieces of new functionality of been backported, including improved
&#8216;ceph df&#8217; output (view amount of writeable space per pool), support for
non-default cluster names when using sysvinit or systemd, and improved
(and fixed) support for dmcrypt.</p>
<p>We recommend that all v0.80.x Firefly users upgrade to this release.</p>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.80.6.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
<div class="section" id="id2544">
<h3>Notable Changes<a class="headerlink" href="#id2544" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build: fix atomic64_t on i386 (#8969 Sage Weil)</li>
<li>build: fix build on alpha (Michael Cree, Dmitry Smirnov)</li>
<li>build: fix build on hppa (Dmitry Smirnov)</li>
<li>build: fix yasm detection on x32 arch (Sage Weil)</li>
<li>ceph-disk: fix &#8216;list&#8217; function with dmcrypt (Sage Weil)</li>
<li>ceph-disk: fix dmcrypt support (Alfredo Deza)</li>
<li>ceph: allow non-default cluster to be specified (#8944)</li>
<li>common: fix dup log messages to mon (#9080 Sage Weil)</li>
<li>global: write pid file when -f is used (systemd, upstart) (Alexandre Oliva)</li>
<li>librados: fix crash when read timeout is enabled (#9362 Matthias Kiefer, Sage Weil)</li>
<li>librados: fix lock leaks in error paths (#9022 Pavan Rallabhandi)</li>
<li>librados: fix watch resend on PG acting set change (#9220 Samuel Just)</li>
<li>librados: python: fix aio_read handling with 0 (Mohammad Salehe)</li>
<li>librbd: add interface to invalidate cached data (Josh Durgin)</li>
<li>librbd: fix crash when using clone of flattened image (#8845 Josh Durgin)</li>
<li>librbd: fix error path cleanup on open (#8912 Josh Durgin)</li>
<li>librbd: fix null pointer check (Danny Al-Gaaf)</li>
<li>librbd: limit dirty object count (Haomai Wang)</li>
<li>mds: fix rstats for root and mdsdir (Yan, Zheng)</li>
<li>mon: add &#8216;get&#8217; command for new cache tier pool properties (Joao Eduardo Luis)</li>
<li>mon: add &#8216;osd pool get-quota&#8217; (#8523 Joao Eduardo Luis)</li>
<li>mon: add cluster fingerprint (Sage Weil)</li>
<li>mon: disallow nonsensical cache-mode transitions (#8155 Joao Eduardo Luis)</li>
<li>mon: fix cache tier rounding error on i386 (Sage Weil)</li>
<li>mon: fix occasional memory leak (#9176 Sage Weil)</li>
<li>mon: fix reported latency for &#8216;osd perf&#8217; (#9269 Samuel Just)</li>
<li>mon: include &#8216;max avail&#8217; in &#8216;ceph df&#8217; output (Sage Weil, Xioaxi Chen)</li>
<li>mon: persistently mark pools where scrub may find incomplete clones (#8882 Sage Weil)</li>
<li>mon: preload erasure plugins (Loic Dachary)</li>
<li>mon: prevent cache-specific settings on non-tier pools (#8696 Joao Eduardo Luis)</li>
<li>mon: reduce log spam (Aanchal Agrawal, Sage Weil)</li>
<li>mon: warn when cache pools have no hit_sets enabled (Sage Weil)</li>
<li>msgr: fix trivial memory leak (Sage Weil)</li>
<li>osd: automatically scrub PGs with invalid stats (#8147 Sage Weil)</li>
<li>osd: avoid sharing PG metadata that is not durable (Samuel Just)</li>
<li>osd: cap hit_set size (#9339 Samuel Just)</li>
<li>osd: create default erasure profile if needed (#8601 Loic Dachary)</li>
<li>osd: dump tid as JSON int (not string)  where appropriate (Joao Eduardo Luis)</li>
<li>osd: encode blacklist in deterministic order (#9211 Sage Weil)</li>
<li>osd: fix behavior when cache tier has no hit_sets enabled (#8982 Sage Weil)</li>
<li>osd: fix cache tier flushing of snapshots (#9054 Samuel Just)</li>
<li>osd: fix cache tier op ordering when going from full to non-full (#8931 Sage Weil)</li>
<li>osd: fix crash on dup recovery reservation (#8863 Sage Weil)</li>
<li>osd: fix division by zero when pg_num adjusted with no OSDs (#9052 Sage Weil)</li>
<li>osd: fix hint crash in experimental keyvaluestore_dev backend (Hoamai Wang)</li>
<li>osd: fix leak in copyfrom cancellation (#8894 Samuel Just)</li>
<li>osd: fix locking for copyfrom finish (#8889 Sage Weil)</li>
<li>osd: fix long filename handling in backend (#8701 Sage Weil)</li>
<li>osd: fix min_size check with backfill (#9497 Samuel Just)</li>
<li>osd: fix mount/remount sync race (#9144 Sage Weil)</li>
<li>osd: fix object listing + erasure code bug (Guang Yang)</li>
<li>osd: fix race on reconnect to failed OSD (#8944 Greg Farnum)</li>
<li>osd: fix recovery reservation deadlock (Samuel Just)</li>
<li>osd: fix tiering agent arithmetic for negative values (#9082 Karan Singh)</li>
<li>osd: improve shutdown order (#9218 Sage Weil)</li>
<li>osd: improve subop discard logic (#9259 Samuel Just)</li>
<li>osd: introduce optional sleep, io priority for scrub and snap trim (Sage Weil)</li>
<li>osd: make scrub check for and remove stale erasure-coded objects (Samuel Just)</li>
<li>osd: misc fixes (#9481 #9482 #9179 Sameul Just)</li>
<li>osd: mix keyvaluestore_dev improvements (Haomai Wang)</li>
<li>osd: only require CRUSH features for rules that are used (#8963 Sage Weil)</li>
<li>osd: preload erasure plugins on startup (Loic Dachary)</li>
<li>osd: prevent PGs from falling behind when consuming OSDMaps (#7576 Sage Weil)</li>
<li>osd: prevent old clients from using tiered pools (#8714 Sage Weil)</li>
<li>osd: set min_size on erasure pools to data chunk count (Sage Weil)</li>
<li>osd: trim old erasure-coded objects more aggressively (Samuel Just)</li>
<li>rados: enforce erasure code alignment (Lluis Pamies-Juarez)</li>
<li>rgw: align object stripes with erasure pool alignment (#8442 Yehuda Sadeh)</li>
<li>rgw: don&#8217;t send error body on HEAD for civetweb (#8539 Yehuda Sadeh)</li>
<li>rgw: fix crash in CORS preflight request (Yehuda Sadeh)</li>
<li>rgw: fix decoding of + in URL (#8702 Brian Rak)</li>
<li>rgw: fix object removal on object create (#8972 Patrycja Szabowska, Yehuda Sadeh)</li>
<li>systemd: use systemd-run when starting radosgw (JuanJose Galvez)</li>
<li>sysvinit: support non-default cluster name (Alfredo Deza)</li>
</ul>
</div>
</div>
<div class="section" id="v0-80-5-firefly">
<h2>v0.80.5 Firefly<a class="headerlink" href="#v0-80-5-firefly" title="Permalink to this headline">¶</a></h2>
<p>This release fixes a few important bugs in the radosgw and fixes
several packaging and environment issues, including OSD log rotation,
systemd environments, and daemon restarts on upgrade.</p>
<p>We recommend that all v0.80.x Firefly users upgrade, particularly if they
are using upstart, systemd, or radosgw.</p>
<div class="section" id="id2545">
<h3>Notable Changes<a class="headerlink" href="#id2545" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-dencoder: do not needlessly link to librgw, librados, etc. (Sage Weil)</li>
<li>do not needlessly link binaries to leveldb (Sage Weil)</li>
<li>mon: fix mon crash when no auth keys are present (#8851, Joao Eduardo Luis)</li>
<li>osd: fix cleanup (and avoid occasional crash) during shutdown (#7981, Sage Weil)</li>
<li>osd: fix log rotation under upstart (Sage Weil)</li>
<li>rgw: fix multipart upload when object has irregular size (#8846, Yehuda Sadeh, Sylvain Munaut)</li>
<li>rgw: improve bucket listing S3 compatibility (#8858, Yehuda Sadeh)</li>
<li>rgw: improve delimited bucket listing (Yehuda Sadeh)</li>
<li>rpm: do not restart daemons on upgrade (#8849, Alfredo Deza)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.80.5.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-80-4-firefly">
<h2>v0.80.4 Firefly<a class="headerlink" href="#v0-80-4-firefly" title="Permalink to this headline">¶</a></h2>
<p>This Firefly point release fixes an potential data corruption problem
when ceph-osd daemons run on top of XFS and service Firefly librbd
clients.  A recently added allocation hint that RBD utilizes triggers
an XFS bug on some kernels (Linux 3.2, and likely others) that leads
to data corruption and deep-scrub errors (and inconsistent PGs).  This
release avoids the situation by disabling the allocation hint until we
can validate which kernels are affected and/or are known to be safe to
use the hint on.</p>
<p>We recommend that all v0.80.x Firefly users urgently upgrade,
especially if they are using RBD.</p>
<div class="section" id="id2546">
<h3>Notable Changes<a class="headerlink" href="#id2546" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: disable XFS extsize hint by default (#8830, Samuel Just)</li>
<li>rgw: fix extra data pool default name (Yehuda Sadeh)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.80.4.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-80-3-firefly">
<h2>v0.80.3 Firefly<a class="headerlink" href="#v0-80-3-firefly" title="Permalink to this headline">¶</a></h2>
<p>This is the third Firefly point release.  It includes a single fix
for a radosgw regression that was discovered in v0.80.2 right after it
was released.</p>
<p>We recommand that all v0.80.x Firefly users upgrade.</p>
<div class="section" id="id2547">
<h3>Notable Changes<a class="headerlink" href="#id2547" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>radosgw: fix regression in manifest decoding (#8804, Sage Weil)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.80.3.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-80-2-firefly">
<h2>v0.80.2 Firefly<a class="headerlink" href="#v0-80-2-firefly" title="Permalink to this headline">¶</a></h2>
<p>This is the second Firefly point release.  It contains a range of
important fixes, including several bugs in the OSD cache tiering, some
compatibility checks that affect upgrade situations, several radosgw
bugs, and an irritating and unnecessary feature bit check that
prevents older clients from communicating with a cluster with any
erasure coded pools.</p>
<p>One someone large change in this point release is that the ceph RPM
package is separated into a ceph and ceph-common package, similar to
Debian.  The ceph-common package contains just the client libraries
without any of the server-side daemons.</p>
<p>We recommend that all v0.80.x Firefly users skip this release and use
v0.80.3.</p>
<div class="section" id="id2548">
<h3>Notable Changes<a class="headerlink" href="#id2548" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-disk: better debug logging (Alfredo Deza)</li>
<li>ceph-disk: fix preparation of OSDs with dmcrypt (#6700, Stephen F Taylor)</li>
<li>ceph-disk: partprobe on prepare to fix dm-crypt (#6966, Eric Eastman)</li>
<li>do not require ERASURE_CODE feature from clients (#8556, Sage Weil)</li>
<li>libcephfs-java: build with older JNI headers (Greg Farnum)</li>
<li>libcephfs-java: fix build with gcj-jdk (Dmitry Smirnov)</li>
<li>librados: fix osd op tid for redirected ops (#7588, Samuel Just)</li>
<li>librados: fix rados_pool_list buffer bounds checks (#8447, Sage Weil)</li>
<li>librados: resend ops when pool overlay changes (#8305, Sage Weil)</li>
<li>librbd, ceph-fuse: reduce CPU overhead for clean object check in cache (Haomai Wang)</li>
<li>mon: allow deletion of cephfs pools (John Spray)</li>
<li>mon: fix default pool ruleset choice (#8373, John Spray)</li>
<li>mon: fix health summary for mon low disk warning (Sage Weil)</li>
<li>mon: fix &#8216;osd pool set &lt;pool&gt; cache_target_full_ratio&#8217; (Geoffrey Hartz)</li>
<li>mon: fix quorum feature check (Greg Farnum)</li>
<li>mon: fix request forwarding in mixed firefly+dumpling clusters 9#8727, Joao Eduardo Luis)</li>
<li>mon: fix rule vs ruleset check in &#8216;osd pool set ... crush_ruleset&#8217; command (John Spray)</li>
<li>mon: make osd &#8216;down&#8217; count accurate (Sage Weil)</li>
<li>mon: set &#8216;next commit&#8217; in primary-affinity reply (Ilya Dryomov)</li>
<li>mon: verify CRUSH features are supported by all mons (#8738, Greg Farnum)</li>
<li>msgr: fix sequence negotiation during connection reset (Guang Yang)</li>
<li>osd: block scrub on blocked objects (#8011, Samuel Just)</li>
<li>osd: call XFS hint ioctl less often (#8241, Ilya Dryomov)</li>
<li>osd: copy xattr spill out marker on clone (Haomai Wang)</li>
<li>osd: fix flush of snapped objects (#8334, Samuel Just)</li>
<li>osd: fix hashindex restart of merge operation (#8332, Samuel Just)</li>
<li>osd: fix osdmap subscription bug causing startup hang (Greg Farnum)</li>
<li>osd: fix potential null deref (#8328, Sage Weil)</li>
<li>osd: fix shutdown race (#8319, Sage Weil)</li>
<li>osd: handle &#8216;none&#8217; in CRUSH results properly during peering (#8507, Samuel Just)</li>
<li>osd: set no spill out marker on new objects (Greg Farnum)</li>
<li>osd: skip op ordering debug checks on tiered pools (#8380, Sage Weil)</li>
<li>rados: enforce &#8216;put&#8217; alignment (Lluis Pamies-Juarez)</li>
<li>rest-api: fix for &#8216;rx&#8217; commands (Ailing Zhang)</li>
<li>rgw: calc user manifest etag and fix check (#8169, #8436, Yehuda Sadeh)</li>
<li>rgw: fetch attrs on multipart completion (#8452, Yehuda Sadeh, Sylvain Munaut)</li>
<li>rgw: fix buffer overflow for long instance ids (#8608, Yehuda Sadeh)</li>
<li>rgw: fix entity permission check on metadata put (#8428, Yehuda Sadeh)</li>
<li>rgw: fix multipart retry race (#8269, Yehuda Sadeh)</li>
<li>rpm: split ceph into ceph and ceph-common RPMs (Sandon Van Ness, Dan Mick)</li>
<li>sysvinit: continue startin daemons after failure doing mount (#8554, Sage Weil)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.80.2.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-80-1-firefly">
<h2>v0.80.1 Firefly<a class="headerlink" href="#v0-80-1-firefly" title="Permalink to this headline">¶</a></h2>
<p>This first Firefly point release fixes a few bugs, the most visible
being a problem that prevents scrub from completing in some cases.</p>
<div class="section" id="id2549">
<h3>Notable Changes<a class="headerlink" href="#id2549" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: revert incomplete scrub fix (Samuel Just)</li>
<li>rgw: fix stripe calculation for manifest objects (Yehuda Sadeh)</li>
<li>rgw: improve handling, memory usage for abort reads (Yehuda Sadeh)</li>
<li>rgw: send Swift user manifest HTTP header (Yehuda Sadeh)</li>
<li>libcephfs, ceph-fuse: expose MDS session state via admin socket (Yan, Zheng)</li>
<li>osd: add simple throttle for snap trimming (Sage Weil)</li>
<li>monclient: fix possible hang from ill-timed monitor connection failure (Sage Weil)</li>
<li>osd: fix trimming of past HitSets (Sage Weil)</li>
<li>osd: fix whiteouts for non-writeback cache modes (Sage Weil)</li>
<li>osd: prevent divide by zero in tiering agent (David Zafman)</li>
<li>osd: prevent busy loop when tiering agent can do no work (David Zafman)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.80.1.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-80-firefly">
<h2>v0.80 Firefly<a class="headerlink" href="#v0-80-firefly" title="Permalink to this headline">¶</a></h2>
<p>This release will form the basis for our long-term supported release
Firefly, v0.80.x.  The big new features are support for erasure coding
and cache tiering, although a broad range of other features, fixes,
and improvements have been made across the code base.  Highlights include:</p>
<ul class="simple">
<li><em>Erasure coding</em>: support for a broad range of erasure codes for lower
storage overhead and better data durability.</li>
<li><em>Cache tiering</em>: support for creating &#8216;cache pools&#8217; that store hot,
recently accessed objects with automatic demotion of colder data to
a base tier.  Typically the cache pool is backed by faster storage
devices like SSDs.</li>
<li><em>Primary affinity</em>: Ceph now has the ability to skew selection of
OSDs as the &#8220;primary&#8221; copy, which allows the read workload to be
cheaply skewed away from parts of the cluster without migrating any
data.</li>
<li><em>Key/value OSD backend</em> (experimental): An alternative storage backend
for Ceph OSD processes that puts all data in a key/value database like
leveldb.  This provides better performance for workloads dominated by
key/value operations (like radosgw bucket indices).</li>
<li><em>Standalone radosgw</em> (experimental): The radosgw process can now run
in a standalone mode without an apache (or similar) web server or
fastcgi.  This simplifies deployment and can improve performance.</li>
</ul>
<p>We expect to maintain a series of stable releases based on v0.80
Firefly for as much as a year.  In the meantime, development of Ceph
continues with the next release, Giant, which will feature work on the
CephFS distributed file system, more alternative storage backends
(like RocksDB and f2fs), RDMA support, support for pyramid erasure
codes, and additional functionality in the block device (RBD) like
copy-on-read and multisite mirroring.</p>
<div class="section" id="id2550">
<h3>Upgrade Sequencing<a class="headerlink" href="#id2550" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">If your existing cluster is running a version older than v0.67
Dumpling, please first upgrade to the latest Dumpling release before
upgrading to v0.80 Firefly.  Please refer to the <a class="reference internal" href="#dumpling-upgrade">Dumpling upgrade</a>
documentation.</p>
</li>
<li><p class="first">We recommand adding the following to the [mon] section of your
ceph.conf prior to upgrade:</p>
<div class="highlight-python"><pre>mon warn on legacy crush tunables = false</pre>
</div>
<p>This will prevent health warnings due to the use of legacy CRUSH
placement.  Although it is possible to rebalance existing data
across your cluster (see the upgrade notes below), we do not
normally recommend it for production environments as a large amount
of data will move and there is a significant performance impact from
the rebalancing.</p>
</li>
<li><p class="first">Upgrade daemons in the following order:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Monitors</li>
<li>OSDs</li>
<li>MDSs and/or radosgw</li>
</ol>
</div></blockquote>
<p>If the ceph-mds daemon is restarted first, it will wait until all
OSDs have been upgraded before finishing its startup sequence.  If
the ceph-mon daemons are not restarted prior to the ceph-osd
daemons, they will not correctly register their new capabilities
with the cluster and new features may not be usable until they are
restarted a second time.</p>
</li>
<li><p class="first">Upgrade radosgw daemons together.  There is a subtle change in behavior
for multipart uploads that prevents a multipart request that was initiated
with a new radosgw from being completed by an old radosgw.</p>
</li>
</ul>
</div>
<div class="section" id="upgrading-from-v0-79">
<h3>Upgrading from v0.79<a class="headerlink" href="#upgrading-from-v0-79" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>OSDMap&#8217;s json-formatted dump changed for keys &#8216;full&#8217; and &#8216;nearfull&#8217;.
What was previously being outputted as &#8216;true&#8217; or &#8216;false&#8217; strings are
now being outputted &#8216;true&#8217; and &#8216;false&#8217; booleans according to json syntax.</li>
<li>HEALTH_WARN on &#8216;mon osd down out interval == 0&#8217;. Having this option set
to zero on the leader acts much like having the &#8216;noout&#8217; flag set.  This
warning will only be reported if the monitor getting the &#8216;health&#8217; or
&#8216;status&#8217; request has this option set to zero.</li>
<li>Monitor &#8216;auth&#8217; commands now require the mon &#8216;x&#8217; capability.  This matches
dumpling v0.67.x and earlier, but differs from emperor v0.72.x.</li>
<li>A librados WATCH operation on a non-existent object now returns ENOENT;
previously it did not.</li>
<li>Librados interface change:  As there are no partial writes, the rados_write()
and rados_append() operations now return 0 on success like rados_write_full()
always has.  This includes the C++ interface equivalents and AIO return
values for the aio variants.</li>
<li>The radosgw init script (sysvinit) how requires that the &#8216;host = ...&#8217; line in
ceph.conf, if present, match the short hostname (the output of &#8216;hostname -s&#8217;),
not the fully qualified hostname or the (occasionally non-short) output of
&#8216;hostname&#8217;.  Failure to adjust this when upgrading from emperor or dumpling
may prevent the radosgw daemon from starting.</li>
</ul>
</div>
<div class="section" id="upgrading-from-v0-72-emperor">
<h3>Upgrading from v0.72 Emperor<a class="headerlink" href="#upgrading-from-v0-72-emperor" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>See notes above.</li>
<li>The &#8216;ceph -s&#8217; or &#8216;ceph status&#8217; command&#8217;s &#8216;num_in_osds&#8217; field in the
JSON and XML output has been changed from a string to an int.</li>
<li>The recently added &#8216;ceph mds set allow_new_snaps&#8217; command&#8217;s syntax
has changed slightly; it is now &#8216;ceph mds set allow_new_snaps true&#8217;.
The &#8216;unset&#8217; command has been removed; instead, set the value to
&#8216;false&#8217;.</li>
<li>The syntax for allowing snapshots is now &#8216;mds set allow_new_snaps
&lt;true|false&gt;&#8217; instead of &#8216;mds &lt;set,unset&gt; allow_new_snaps&#8217;.</li>
<li>&#8216;rbd ls&#8217; on a pool which never held rbd images now exits with code
0. It outputs nothing in plain format, or an empty list in
non-plain format. This is consistent with the behavior for a pool
which used to hold images, but contains none. Scripts relying on
this behavior should be updated.</li>
<li>The MDS requires a new OSD operation TMAP2OMAP, added in this release.  When
upgrading, be sure to upgrade and restart the ceph-osd daemons before the
ceph-mds daemon.  The MDS will refuse to start if any up OSDs do not support
the new feature.</li>
<li>The &#8216;ceph mds set_max_mds N&#8217; command is now deprecated in favor of
&#8216;ceph mds set max_mds N&#8217;.</li>
<li>The &#8216;osd pool create ...&#8217; syntax has changed for erasure pools.</li>
<li>The default CRUSH rules and layouts are now using the &#8216;bobtail&#8217;
tunables and defaults.  Upgaded clusters using the old values will
now present with a health WARN state.  This can be disabled by
adding &#8216;mon warn on legacy crush tunables = false&#8217; to ceph.conf and
restarting the monitors.  Alternatively, you can switch to the new
tunables with &#8216;ceph osd crush tunables firefly,&#8217; but keep in mind
that this will involve moving a <em>significant</em> portion of the data
already stored in the cluster and in a large cluster may take
several days to complete.  We do not recommend adjusting tunables on a
production cluster.</li>
<li>We now default to the &#8216;bobtail&#8217; CRUSH tunable values that are first supported
by Ceph clients in bobtail (v0.56) and Linux kernel version v3.9.  If you
plan to access a newly created Ceph cluster with an older kernel client, you
should use &#8216;ceph osd crush tunables legacy&#8217; to switch back to the legacy
behavior.  Note that making that change will likely result in some data
movement in the system, so adjust the setting before populating the new
cluster with data.</li>
<li>We now set the HASHPSPOOL flag on newly created pools (and new
clusters) by default.  Support for this flag first appeared in
v0.64; v0.67 Dumpling is the first major release that supports it.
It is first supported by the Linux kernel version v3.9.  If you plan
to access a newly created Ceph cluster with an older kernel or
clients (e.g, librados, librbd) from a pre-dumpling Ceph release,
you should add &#8216;osd pool default flag hashpspool = false&#8217; to the
&#8216;[global]&#8217; section of your &#8216;ceph.conf&#8217; prior to creating your
monitors (e.g., after &#8216;ceph-deploy new&#8217; but before &#8216;ceph-deploy mon
create ...&#8217;).</li>
<li>The configuration option &#8216;osd pool default crush rule&#8217; is deprecated
and replaced with &#8216;osd pool default crush replicated ruleset&#8217;. &#8216;osd
pool default crush rule&#8217; takes precedence for backward compatibility
and a deprecation warning is displayed when it is used.</li>
<li>As part of fix for #6796, &#8216;ceph osd pool set &lt;pool&gt; &lt;var&gt; &lt;arg&gt;&#8217; now
receives &lt;arg&gt; as an integer instead of a string.  This affects how
&#8216;hashpspool&#8217; flag is set/unset: instead of &#8216;true&#8217; or &#8216;false&#8217;, it now
must be &#8216;0&#8217; or &#8216;1&#8217;.</li>
<li>The behavior of the CRUSH &#8216;indep&#8217; choose mode has been changed.  No
ceph cluster should have been using this behavior unless someone has
manually extracted a crush map, modified a CRUSH rule to replace
&#8216;firstn&#8217; with &#8216;indep&#8217;, recompiled, and reinjected the new map into
the cluster.  If the &#8216;indep&#8217; mode is currently in use on a cluster,
the rule should be modified to use &#8216;firstn&#8217; instead, and the
administrator should wait until any data movement completes before
upgrading.</li>
<li>The &#8216;osd dump&#8217; command now dumps pool snaps as an array instead of an
object.</li>
</ul>
</div>
<div class="section" id="upgrading-from-v0-67-dumpling">
<h3>Upgrading from v0.67 Dumpling<a class="headerlink" href="#upgrading-from-v0-67-dumpling" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>See notes above.</li>
<li>ceph-fuse and radosgw now use the same default values for the admin
socket and log file paths that the other daemons (ceph-osd,
ceph-mon, etc.) do.  If you run these daemons as non-root, you may
need to adjust your ceph.conf to disable these options or to adjust
the permissions on /var/run/ceph and /var/log/ceph.</li>
<li>The MDS now disallows snapshots by default as they are not
considered stable.  The command &#8216;ceph mds set allow_snaps&#8217; will
enable them.</li>
<li>For clusters that were created before v0.44 (pre-argonaut, Spring
2012) and store radosgw data, the auto-upgrade from TMAP to OMAP
objects has been disabled.  Before upgrading, make sure that any
buckets created on pre-argonaut releases have been modified (e.g.,
by PUTing and then DELETEing an object from each bucket).  Any
cluster created with argonaut (v0.48) or a later release or not
using radosgw never relied on the automatic conversion and is not
affected by this change.</li>
<li>Any direct users of the &#8216;tmap&#8217; portion of the librados API should be
aware that the automatic tmap -&gt; omap conversion functionality has
been removed.</li>
<li>Most output that used K or KB (e.g., for kilobyte) now uses a
lower-case k to match the official SI convention.  Any scripts that
parse output and check for an upper-case K will need to be modified.</li>
<li>librados::Rados::pool_create_async() and librados::Rados::pool_delete_async()
don&#8217;t drop a reference to the completion object on error, caller needs to take
care of that. This has never really worked correctly and we were leaking an
object</li>
<li>&#8216;ceph osd crush set &lt;id&gt; &lt;weight&gt; &lt;loc..&gt;&#8217; no longer adds the osd to the
specified location, as that&#8217;s a job for &#8216;ceph osd crush add&#8217;.  It will
however continue to work just the same as long as the osd already exists
in the crush map.</li>
<li>The OSD now enforces that class write methods cannot both mutate an
object and return data.  The rbd.assign_bid method, the lone
offender, has been removed.  This breaks compatibility with
pre-bobtail librbd clients by preventing them from creating new
images.</li>
<li>librados now returns on commit instead of ack for synchronous calls.
This is a bit safer in the case where both OSDs and the client crash, and
is probably how it should have been acting from the beginning. Users are
unlikely to notice but it could result in lower performance in some
circumstances. Those who care should switch to using the async interfaces,
which let you specify safety semantics precisely.</li>
<li>The C++ librados AioComplete::get_version() method was incorrectly
returning an int (usually 32-bits).  To avoid breaking library
compatibility, a get_version64() method is added that returns the
full-width value.  The old method is deprecated and will be removed
in a future release.  Users of the C++ librados API that make use of
the get_version() method should modify their code to avoid getting a
value that is truncated from 64 to to 32 bits.</li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-79">
<h3>Notable changes since v0.79<a class="headerlink" href="#notable-changes-since-v0-79" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-fuse, libcephfs: fix several caching bugs (Yan, Zheng)</li>
<li>ceph-fuse: trim inodes in response to mds memory pressure (Yan, Zheng)</li>
<li>librados: fix inconsistencies in API error values (David Zafman)</li>
<li>librados: fix watch operations with cache pools (Sage Weil)</li>
<li>librados: new snap rollback operation (David Zafman)</li>
<li>mds: fix respawn (John Spray)</li>
<li>mds: misc bugs (Yan, Zheng)</li>
<li>mds: misc multi-mds fixes (Yan, Zheng)</li>
<li>mds: use shared_ptr for requests (Greg Farnum)</li>
<li>mon: fix peer feature checks (Sage Weil)</li>
<li>mon: require &#8216;x&#8217; mon caps for auth operations (Joao Luis)</li>
<li>mon: shutdown when removed from mon cluster (Joao Luis)</li>
<li>msgr: fix locking bug in authentication (Josh Durgin)</li>
<li>osd: fix bug in journal replay/restart (Sage Weil)</li>
<li>osd: many many many bug fixes with cache tiering (Samuel Just)</li>
<li>osd: track omap and hit_set objects in pg stats (Samuel Just)</li>
<li>osd: warn if agent cannot enable due to invalid (post-split) stats (Sage Weil)</li>
<li>rados bench: track metadata for multiple runs separately (Guang Yang)</li>
<li>rgw: fixed subuser modify (Yehuda Sadeh)</li>
<li>rpm: fix redhat-lsb dependency (Sage Weil, Alfredo Deza)</li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-72-emperor">
<h3>Notable changes since v0.72 Emperor<a class="headerlink" href="#notable-changes-since-v0-72-emperor" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>buffer: some zero-copy groundwork (Josh Durgin)</li>
<li>build: misc improvements (Ken Dreyer)</li>
<li>ceph-conf: stop creating bogus log files (Josh Durgin, Sage Weil)</li>
<li>ceph-crush-location: new hook for setting CRUSH location of osd daemons on start)</li>
<li>ceph-disk: avoid fd0 (Loic Dachary)</li>
<li>ceph-disk: generalize path names, add tests (Loic Dachary)</li>
<li>ceph-disk: misc improvements for puppet (Loic Dachary)</li>
<li>ceph-disk: several bug fixes (Loic Dachary)</li>
<li>ceph-fuse: fix race for sync reads (Sage Weil)</li>
<li>ceph-fuse, libcephfs: fix several caching bugs (Yan, Zheng)</li>
<li>ceph-fuse: trim inodes in response to mds memory pressure (Yan, Zheng)</li>
<li>ceph-kvstore-tool: expanded command set and capabilities (Joao Eduardo Luis)</li>
<li>ceph.spec: fix build dependency (Loic Dachary)</li>
<li>common: bloom filter improvements (Sage Weil)</li>
<li>common: check preexisting admin socket for active daemon before removing (Loic Dachary)</li>
<li>common: fix aligned buffer allocation (Loic Dachary)</li>
<li>common: fix authentication on big-endian architectures (Dan Mick)</li>
<li>common: fix config variable substitution (Loic Dachary)</li>
<li>common: portability changes to support libc++ (Noah Watkins)</li>
<li>common: switch to unordered_map from hash_map (Noah Watkins)</li>
<li>config: recursive metavariable expansion (Loic Dachary)</li>
<li>crush: default to bobtail tunables (Sage Weil)</li>
<li>crush: fix off-by-one error in recent refactor (Sage Weil)</li>
<li>crush: many additional tests (Loic Dachary)</li>
<li>crush: misc fixes, cleanups (Loic Dachary)</li>
<li>crush: new rule steps to adjust retry attempts (Sage Weil)</li>
<li>crush, osd: s/rep/replicated/ for less confusion (Loic Dachary)</li>
<li>crush: refactor descend_once behavior; support set_choose*_tries for replicated rules (Sage Weil)</li>
<li>crush: usability and test improvements (Loic Dachary)</li>
<li>debian: change directory ownership between ceph and ceph-common (Sage Weil)</li>
<li>debian: integrate misc fixes from downstream packaging (James Page)</li>
<li>doc: big update to install docs (John Wilkins)</li>
<li>doc: many many install doc improvements (John Wilkins)</li>
<li>doc: many many updates (John Wilkins)</li>
<li>doc: misc fixes (David Moreau Simard, Kun Huang)</li>
<li>erasure-code: improve buffer alignment (Loic Dachary)</li>
<li>erasure-code: rewrite region-xor using vector operations (Andreas Peters)</li>
<li>init: fix startup ordering/timeout problem with OSDs (Dmitry Smirnov)</li>
<li>libcephfs: fix resource leak (Zheng Yan)</li>
<li>librados: add C API coverage for atomic write operations (Christian Marie)</li>
<li>librados: fix inconsistencies in API error values (David Zafman)</li>
<li>librados: fix throttle leak (and eventual deadlock) (Josh Durgin)</li>
<li>librados: fix watch operations with cache pools (Sage Weil)</li>
<li>librados: new snap rollback operation (David Zafman)</li>
<li>librados, osd: new TMAP2OMAP operation (Yan, Zheng)</li>
<li>librados: read directly into user buffer (Rutger ter Borg)</li>
<li>librbd: fix use-after-free aio completion bug #5426 (Josh Durgin)</li>
<li>librbd: localize/distribute parent reads (Sage Weil)</li>
<li>librbd: skip zeroes/holes when copying sparse images (Josh Durgin)</li>
<li>mailmap: affiliation updates (Loic Dachary)</li>
<li>mailmap updates (Loic Dachary)</li>
<li>many portability improvements (Noah Watkins)</li>
<li>many unit test improvements (Loic Dachary)</li>
<li>mds: always store backtrace in default pool (Yan, Zheng)</li>
<li>mds: cope with MDS failure during creation (John Spray)</li>
<li>mds: fix cap migration behavior (Yan, Zheng)</li>
<li>mds: fix client session flushing (Yan, Zheng)</li>
<li>mds: fix crash from client sleep/resume (Zheng Yan)</li>
<li>mds: fix many many multi-mds bugs (Yan, Zheng)</li>
<li>mds: fix readdir end check (Zheng Yan)</li>
<li>mds: fix Resetter locking (Alexandre Oliva)</li>
<li>mds: fix respawn (John Spray)</li>
<li>mds: inline data support (Li Wang, Yunchuan Wen)</li>
<li>mds: misc bugs (Yan, Zheng)</li>
<li>mds: misc fixes for directory fragments (Zheng Yan)</li>
<li>mds: misc fixes for larger directories (Zheng Yan)</li>
<li>mds: misc fixes for multiple MDSs (Zheng Yan)</li>
<li>mds: misc multi-mds fixes (Yan, Zheng)</li>
<li>mds: remove .ceph directory (John Spray)</li>
<li>mds: store directories in omap instead of tmap (Yan, Zheng)</li>
<li>mds: update old-format backtraces opportunistically (Zheng Yan)</li>
<li>mds: use shared_ptr for requests (Greg Farnum)</li>
<li>misc cleanups from coverity (Xing Lin)</li>
<li>misc coverity fixes, cleanups (Danny Al-Gaaf)</li>
<li>misc coverity fixes (Xing Lin, Li Wang, Danny Al-Gaaf)</li>
<li>misc portability fixes (Noah Watkins, Alan Somers)</li>
<li>misc portability fixes (Noah Watkins, Christophe Courtaut, Alan Somers, huanjun)</li>
<li>misc portability work (Noah Watkins)</li>
<li>mon: add erasure profiles and improve erasure pool creation (Loic Dachary)</li>
<li>mon: add &#8216;mon getmap EPOCH&#8217; (Joao Eduardo Luis)</li>
<li>mon: allow adjustment of cephfs max file size via &#8216;ceph mds set max_file_size&#8217; (Sage Weil)</li>
<li>mon: allow debug quorum_{enter,exit} commands via admin socket</li>
<li>mon: &#8216;ceph osd pg-temp ...&#8217; and primary-temp commands (Ilya Dryomov)</li>
<li>mon: change mds allow_new_snaps syntax to be more consistent (Sage Weil)</li>
<li>mon: clean up initial crush rule creation (Loic Dachary)</li>
<li>mon: collect misc metadata about osd (os, kernel, etc.), new &#8216;osd metadata&#8217; command (Sage Weil)</li>
<li>mon: do not create erasure rules by default (Sage Weil)</li>
<li>mon: do not generate spurious MDSMaps in certain cases (Sage Weil)</li>
<li>mon: do not use keyring if auth = none (Loic Dachary)</li>
<li>mon: fix peer feature checks (Sage Weil)</li>
<li>mon: fix pg_temp leaks (Joao Eduardo Luis)</li>
<li>mon: fix pool count in &#8216;ceph -s&#8217; output (Sage Weil)</li>
<li>mon: handle more whitespace (newline, tab) in mon capabilities (Sage Weil)</li>
<li>mon: improve (replicate or erasure) pool creation UX (Loic Dachary)</li>
<li>mon: infrastructure to handle mixed-version mon cluster and cli/rest API (Greg Farnum)</li>
<li>mon: MForward tests (Loic Dachary)</li>
<li>mon: mkfs now idempotent (Loic Dachary)</li>
<li>mon: only seed new osdmaps to current OSDs (Sage Weil)</li>
<li>mon, osd: create erasure style crush rules (Loic Dachary, Sage Weil)</li>
<li>mon: &#8216;osd crush show-tunables&#8217; (Sage Weil)</li>
<li>mon: &#8216;osd dump&#8217; dumps pool snaps as array, not object (Dan Mick)</li>
<li>mon, osd: new &#8216;erasure&#8217; pool type (still not fully supported)</li>
<li>mon: persist quorum features to disk (Greg Farnum)</li>
<li>mon: prevent extreme changes in pool pg_num (Greg Farnum)</li>
<li>mon: require &#8216;x&#8217; mon caps for auth operations (Joao Luis)</li>
<li>mon: shutdown when removed from mon cluster (Joao Luis)</li>
<li>mon: take &#8216;osd pool set ...&#8217; value as an int, not string (Joao Eduardo Luis)</li>
<li>mon: track osd features in OSDMap (Joao Luis, David Zafman)</li>
<li>mon: trim MDSMaps (Joao Eduardo Luis)</li>
<li>mon: warn if crush has non-optimal tunables (Sage Weil)</li>
<li>mount.ceph: add -n for autofs support (Steve Stock)</li>
<li>msgr: fix locking bug in authentication (Josh Durgin)</li>
<li>msgr: fix messenger restart race (Xihui He)</li>
<li>msgr: improve connection error detection between clients and monitors (Greg Farnum, Sage Weil)</li>
<li>osd: add/fix CPU feature detection for jerasure (Loic Dachary)</li>
<li>osd: add HitSet tracking for read ops (Sage Weil, Greg Farnum)</li>
<li>osd: avoid touching leveldb for some xattrs (Haomai Wang, Sage Weil)</li>
<li>osd: backfill to multiple targets (David Zafman)</li>
<li>osd: backfill to osds not in acting set (David Zafman)</li>
<li>osd: cache pool support for snapshots (Sage Weil)</li>
<li>osd: client IO path changes for EC (Samuel Just)</li>
<li>osd: default to 3x replication</li>
<li>osd: do not include backfill targets in acting set (David Zafman)</li>
<li>osd: enable new hashpspool layout by default (Sage Weil)</li>
<li>osd: erasure plugin benchmarking tool (Loic Dachary)</li>
<li>osd: fix and cleanup misc backfill issues (David Zafman)</li>
<li>osd: fix bug in journal replay/restart (Sage Weil)</li>
<li>osd: fix copy-get omap bug (Sage Weil)</li>
<li>osd: fix linux kernel version detection (Ilya Dryomov)</li>
<li>osd: fix memstore segv (Haomai Wang)</li>
<li>osd: fix object_info_t encoding bug from emperor (Sam Just)</li>
<li>osd: fix omap_clear operation to not zap xattrs (Sam Just, Yan, Zheng)</li>
<li>osd: fix several bugs with tier infrastructure</li>
<li>osd: fix throttle thread (Haomai Wang)</li>
<li>osd: fix XFS detection (Greg Farnum, Sushma Gurram)</li>
<li>osd: generalize scrubbing infrastructure to allow EC (David Zafman)</li>
<li>osd: handle more whitespace (newline, tab) in osd capabilities (Sage Weil)</li>
<li>osd: ignore num_objects_dirty on scrub for old pools (Sage Weil)</li>
<li>osd: improved scrub checks on clones (Sage Weil, Sam Just)</li>
<li>osd: improve locking in fd lookup cache (Samuel Just, Greg Farnum)</li>
<li>osd: include more info in pg query result (Sage Weil)</li>
<li>osd, librados: fix full cluster handling (Josh Durgin)</li>
<li>osd: many erasure fixes (Sam Just)</li>
<li>osd: many many many bug fixes with cache tiering (Samuel Just)</li>
<li>osd: move to jerasure2 library (Loic Dachary)</li>
<li>osd: new &#8216;chassis&#8217; type in default crush hierarchy (Sage Weil)</li>
<li>osd: new keyvaluestore-dev backend based on leveldb (Haomai Wang)</li>
<li>osd: new OSDMap encoding (Greg Farnum)</li>
<li>osd: new tests for erasure pools (David Zafman)</li>
<li>osd: preliminary cache pool support (no snaps) (Greg Farnum, Sage Weil)</li>
<li>osd: reduce scrub lock contention (Guang Yang)</li>
<li>osd: requery unfound on stray notify (#6909) (Samuel Just)</li>
<li>osd: some PGBackend infrastructure (Samuel Just)</li>
<li>osd: support for new &#8216;memstore&#8217; (memory-backed) backend (Sage Weil)</li>
<li>osd: track erasure compatibility (David Zafman)</li>
<li>osd: track omap and hit_set objects in pg stats (Samuel Just)</li>
<li>osd: warn if agent cannot enable due to invalid (post-split) stats (Sage Weil)</li>
<li>rados: add &#8216;crush location&#8217;, smart replica selection/balancing (Sage Weil)</li>
<li>rados bench: track metadata for multiple runs separately (Guang Yang)</li>
<li>rados: some performance optimizations (Yehuda Sadeh)</li>
<li>rados tool: fix listomapvals (Josh Durgin)</li>
<li>rbd: add &#8216;rbdmap&#8217; init script for mapping rbd images on book (Adam Twardowski)</li>
<li>rbd: add rbdmap support for upstart (Laurent Barbe)</li>
<li>rbd: expose kernel rbd client options via &#8216;rbd map&#8217; (Ilya Dryomov)</li>
<li>rbd: fix bench-write command (Hoamai Wang)</li>
<li>rbd: make &#8216;rbd list&#8217; return empty list and success on empty pool (Josh Durgin)</li>
<li>rbd: prevent deletion of images with watchers (Ilya Dryomov)</li>
<li>rbd: support for 4096 mapped devices, up from ~250 (Ilya Dryomov)</li>
<li>rest-api: do not fail when no OSDs yet exist (Dan Mick)</li>
<li>rgw: add &#8216;status&#8217; command to sysvinit script (David Moreau Simard)</li>
<li>rgw: allow multiple frontends (Yehuda Sadeh)</li>
<li>rgw: allow use of an erasure data pool (Yehuda Sadeh)</li>
<li>rgw: convert bucket info to new format on demand (Yehuda Sadeh)</li>
<li>rgw: fixed subuser modify (Yehuda Sadeh)</li>
<li>rgw: fix error setting empty owner on ACLs (Yehuda Sadeh)</li>
<li>rgw: fix fastcgi deadlock (do not return data from librados callback) (Yehuda Sadeh)</li>
<li>rgw: fix many-part multipart uploads (Yehuda Sadeh)</li>
<li>rgw: fix misc CORS bugs (Robin H. Johnson)</li>
<li>rgw: fix object placement read op (Yehuda Sadeh)</li>
<li>rgw: fix reading bucket policy (#6940)</li>
<li>rgw: fix read_user_buckets &#8216;max&#8217; behavior (Yehuda Sadeh)</li>
<li>rgw: fix several CORS bugs (Robin H. Johnson)</li>
<li>rgw: fix use-after-free when releasing completion handle (Yehuda Sadeh)</li>
<li>rgw: improve swift temp URL support (Yehuda Sadeh)</li>
<li>rgw: make multi-object delete idempotent (Yehuda Sadeh)</li>
<li>rgw: optionally defer to bucket ACLs instead of object ACLs (Liam Monahan)</li>
<li>rgw: prototype mongoose frontend (Yehuda Sadeh)</li>
<li>rgw: several doc fixes (Alexandre Marangone)</li>
<li>rgw: support for password (instead of admin token) for keystone authentication (Christophe Courtaut)</li>
<li>rgw: switch from mongoose to civetweb (Yehuda Sadeh)</li>
<li>rgw: user quotas (Yehuda Sadeh)</li>
<li>rpm: fix redhat-lsb dependency (Sage Weil, Alfredo Deza)</li>
<li>specfile: fix RPM build on RHEL6 (Ken Dreyer, Derek Yarnell)</li>
<li>specfile: ship libdir/ceph (Key Dreyer)</li>
<li>sysvinit, upstart: prevent both init systems from starting the same daemons (Josh Durgin)</li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-67-dumpling">
<h3>Notable changes since v0.67 Dumpling<a class="headerlink" href="#notable-changes-since-v0-67-dumpling" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build cleanly under clang (Christophe Courtaut)</li>
<li>build: Makefile refactor (Roald J. van Loon)</li>
<li>build: fix [/usr]/sbin locations (Alan Somers)</li>
<li>ceph-disk: fix journal preallocation</li>
<li>ceph-fuse, radosgw: enable admin socket and logging by default</li>
<li>ceph-fuse: fix problem with readahead vs truncate race (Yan, Zheng)</li>
<li>ceph-fuse: trim deleted inodes from cache (Yan, Zheng)</li>
<li>ceph-fuse: use newer fuse api (Jianpeng Ma)</li>
<li>ceph-kvstore-tool: new tool for working with leveldb (copy, crc) (Joao Luis)</li>
<li>ceph-post-file: new command to easily share logs or other files with ceph devs</li>
<li>ceph: improve parsing of CEPH_ARGS (Benoit Knecht)</li>
<li>ceph: make -h behave when monitors are down</li>
<li>ceph: parse CEPH_ARGS env variable</li>
<li>common: bloom_filter improvements, cleanups</li>
<li>common: cache crc32c values where possible</li>
<li>common: correct SI is kB not KB (Dan Mick)</li>
<li>common: fix looping on BSD (Alan Somers)</li>
<li>common: migrate SharedPtrRegistry to use boost::shared_ptr&lt;&gt; (Loic Dachary)</li>
<li>common: misc portability fixes (Noah Watkins)</li>
<li>crc32c: fix optimized crc32c code (it now detects arch support properly)</li>
<li>crc32c: improved intel-optimized crc32c support (~8x faster on my laptop!)</li>
<li>crush: fix name caching</li>
<li>doc: erasure coding design notes (Loic Dachary)</li>
<li>hadoop: removed old version of shim to avoid confusing users (Noah Watkins)</li>
<li>librados, mon: ability to query/ping out-of-quorum monitor status (Joao Luis)</li>
<li>librados: fix async aio completion wakeup</li>
<li>librados: fix installed header #includes (Dan Mick)</li>
<li>librados: get_version64() method for C++ API</li>
<li>librados: hello_world example (Greg Farnum)</li>
<li>librados: sync calls now return on commit (instead of ack) (Greg Farnum)</li>
<li>librbd python bindings: fix parent image name limit (Josh Durgin)</li>
<li>librbd, ceph-fuse: avoid some sources of ceph-fuse, rbd cache stalls</li>
<li>mds: avoid leaking objects when deleting truncated files (Yan, Zheng)</li>
<li>mds: fix F_GETLK (Yan, Zheng)</li>
<li>mds: fix LOOKUPSNAP bug</li>
<li>mds: fix heap profiler commands (Joao Luis)</li>
<li>mds: fix locking deadlock (David Disseldorp)</li>
<li>mds: fix many bugs with stray (unlinked) inodes (Yan, Zheng)</li>
<li>mds: fix many directory fragmentation bugs (Yan, Zheng)</li>
<li>mds: fix mds rejoin with legacy parent backpointer xattrs (Alexandre Oliva)</li>
<li>mds: fix rare restart/failure race during fs creation</li>
<li>mds: fix standby-replay when we fall behind (Yan, Zheng)</li>
<li>mds: fix stray directory purging (Yan, Zheng)</li>
<li>mds: notify clients about deleted files (so they can release from their cache) (Yan, Zheng)</li>
<li>mds: several bug fixes with clustered mds (Yan, Zheng)</li>
<li>mon, osd: improve osdmap trimming logic (Samuel Just)</li>
<li>mon, osd: initial CLI for configuring tiering</li>
<li>mon: a few &#8216;ceph mon add&#8217; races fixed (command is now idempotent) (Joao Luis)</li>
<li>mon: allow (un)setting HASHPSPOOL flag on existing pools (Joao Luis)</li>
<li>mon: allow cap strings with . to be unquoted</li>
<li>mon: allow logging level of cluster log (/var/log/ceph/ceph.log) to be adjusted</li>
<li>mon: avoid rewriting full osdmaps on restart (Joao Luis)</li>
<li>mon: continue to discover peer addr info during election phase</li>
<li>mon: disallow CephFS snapshots until &#8216;ceph mds set allow_new_snaps&#8217; (Greg Farnum)</li>
<li>mon: do not expose uncommitted state from &#8216;osd crush {add,set} ...&#8217; (Joao Luis)</li>
<li>mon: fix &#8216;ceph osd crush reweight ...&#8217; (Joao Luis)</li>
<li>mon: fix &#8216;osd crush move ...&#8217; command for buckets (Joao Luis)</li>
<li>mon: fix byte counts (off by factor of 4) (Dan Mick, Joao Luis)</li>
<li>mon: fix paxos corner case</li>
<li>mon: kv properties for pools to support EC (Loic Dachary)</li>
<li>mon: make &#8216;osd pool rename&#8217; idempotent (Joao Luis)</li>
<li>mon: modify &#8216;auth add&#8217; semantics to make a bit more sense (Joao Luis)</li>
<li>mon: new &#8216;osd perf&#8217; command to dump recent performance information (Samuel Just)</li>
<li>mon: new and improved &#8216;ceph -s&#8217; or &#8216;ceph status&#8217; command (more info, easier to read)</li>
<li>mon: some auth check cleanups (Joao Luis)</li>
<li>mon: track per-pool stats (Joao Luis)</li>
<li>mon: warn about pools with bad pg_num</li>
<li>mon: warn when mon data stores grow very large (Joao Luis)</li>
<li>monc: fix small memory leak</li>
<li>new wireshark patches pulled into the tree (Kevin Jones)</li>
<li>objecter, librados: redirect requests based on cache tier config</li>
<li>objecter: fix possible hang when cluster is unpaused (Josh Durgin)</li>
<li>osd, librados: add new COPY_FROM rados operation</li>
<li>osd, librados: add new COPY_GET rados operations (used by COPY_FROM)</li>
<li>osd: &#8216;osd recover clone overlap limit&#8217; option to limit cloning during recovery (Samuel Just)</li>
<li>osd: COPY_GET on-wire encoding improvements (Greg Farnum)</li>
<li>osd: add &#8216;osd heartbeat min healthy ratio&#8217; configurable (was hard-coded at 33%)</li>
<li>osd: add option to disable pg log debug code (which burns CPU)</li>
<li>osd: allow cap strings with . to be unquoted</li>
<li>osd: automatically detect proper xattr limits (David Zafman)</li>
<li>osd: avoid extra copy in erasure coding reference implementation (Loic Dachary)</li>
<li>osd: basic cache pool redirects (Greg Farnum)</li>
<li>osd: basic whiteout, dirty flag support (not yet used)</li>
<li>osd: bloom_filter encodability, fixes, cleanups (Loic Dachary, Sage Weil)</li>
<li>osd: clean up and generalize copy-from code (Greg Farnum)</li>
<li>osd: cls_hello OSD class example</li>
<li>osd: erasure coding doc updates (Loic Dachary)</li>
<li>osd: erasure coding plugin infrastructure, tests (Loic Dachary)</li>
<li>osd: experiemental support for ZFS (zfsonlinux.org) (Yan, Zheng)</li>
<li>osd: fix RWORDER flags</li>
<li>osd: fix exponential backoff of slow request warnings (Loic Dachary)</li>
<li>osd: fix handling of racing read vs write (Samuel Just)</li>
<li>osd: fix version value returned by various operations (Greg Farnum)</li>
<li>osd: generalized temp object infrastructure</li>
<li>osd: ghobject_t infrastructure for EC (David Zafman)</li>
<li>osd: improvements for compatset support and storage (David Zafman)</li>
<li>osd: infrastructure to copy objects from other OSDs</li>
<li>osd: instrument peering states (David Zafman)</li>
<li>osd: misc copy-from improvements</li>
<li>osd: opportunistic crc checking on stored data (off by default)</li>
<li>osd: properly enforce RD/WR flags for rados classes</li>
<li>osd: reduce blocking on backing fs (Samuel Just)</li>
<li>osd: refactor recovery using PGBackend (Samuel Just)</li>
<li>osd: remove old magical tmap-&gt;omap conversion</li>
<li>osd: remove old pg log on upgrade (Samuel Just)</li>
<li>osd: revert xattr size limit (fixes large rgw uploads)</li>
<li>osd: use fdatasync(2) instead of fsync(2) to improve performance (Sam Just)</li>
<li>pybind: fix blacklisting nonce (Loic Dachary)</li>
<li>radosgw-agent: multi-region replication/DR</li>
<li>rgw: complete in-progress requests before shutting down</li>
<li>rgw: default log level is now more reasonable (Yehuda Sadeh)</li>
<li>rgw: fix S3 auth with response-* query string params (Sylvain Munaut, Yehuda Sadeh)</li>
<li>rgw: fix a few minor memory leaks (Yehuda Sadeh)</li>
<li>rgw: fix acl group check (Yehuda Sadeh)</li>
<li>rgw: fix inefficient use of std::list::size() (Yehuda Sadeh)</li>
<li>rgw: fix major CPU utilization bug with internal caching (Yehuda Sadeh, Mark Nelson)</li>
<li>rgw: fix ordering of write operations (preventing data loss on crash) (Yehuda Sadeh)</li>
<li>rgw: fix ordering of writes for mulitpart upload (Yehuda Sadeh)</li>
<li>rgw: fix various CORS bugs (Yehuda Sadeh)</li>
<li>rgw: fix/improve swift COPY support (Yehuda Sadeh)</li>
<li>rgw: improve help output (Christophe Courtaut)</li>
<li>rgw: misc fixes to support DR (Josh Durgin, Yehuda Sadeh)</li>
<li>rgw: per-bucket quota (Yehuda Sadeh)</li>
<li>rgw: validate S3 tokens against keystone (Roald J. van Loon)</li>
<li>rgw: wildcard support for keystone roles (Christophe Courtaut)</li>
<li>rpm: fix junit dependencies (Alan Grosskurth)</li>
<li>sysvinit radosgw: fix status return code (Danny Al-Gaaf)</li>
<li>sysvinit rbdmap: fix error &#8216;service rbdmap stop&#8217; (Laurent Barbe)</li>
<li>sysvinit: add condrestart command (Dan van der Ster)</li>
<li>sysvinit: fix shutdown order (mons last) (Alfredo Deza)</li>
</ul>
</div>
</div>
<div class="section" id="v0-79">
<h2>v0.79<a class="headerlink" href="#v0-79" title="Permalink to this headline">¶</a></h2>
<p>This release is intended to serve as a release candidate for firefly,
which will hopefully be v0.80.  No changes are being made to the code
base at this point except those that fix bugs.  Please test this
release if you intend to make use of the new erasure-coded pools or
cache tiers in firefly.</p>
<p>This release fixes a range of bugs found in v0.78 and streamlines the
user experience when creating erasure-coded pools.  There is also a
raft of fixes for the MDS (multi-mds, directory fragmentation, and
large directories).  The main notable new piece of functionality is a
small change to allow radosgw to use an erasure-coded pool for object
data.</p>
<div class="section" id="id2551">
<h3>Upgrading<a class="headerlink" href="#id2551" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Erasure pools created with v0.78 will no longer function with v0.79.  You
will need to delete the old pool and create a new one.</p>
</li>
<li><p class="first">A bug was fixed in the authentication handshake with big-endian
architectures that prevent authentication between big- and
little-endian machines in the same cluster.  If you have a cluster
that consists entirely of big-endian machines, you will need to
upgrade all daemons and clients and restart.</p>
</li>
<li><p class="first">The &#8216;ceph.file.layout&#8217; and &#8216;ceph.dir.layout&#8217; extended attributes are
no longer included in the listxattr(2) results to prevent problems with
&#8216;cp -a&#8217; and similar tools.</p>
</li>
<li><p class="first">Monitor &#8216;auth&#8217; read-only commands now expect the user to have &#8216;rx&#8217; caps.
This is the same behavior that was present in dumpling, but in emperor
and more recent development releases the &#8216;r&#8217; cap was sufficient.  The
affected commands are:</p>
<div class="highlight-python"><pre>ceph auth export
ceph auth get
ceph auth get-key
ceph auth print-key
ceph auth list</pre>
</div>
</li>
</ul>
</div>
<div class="section" id="id2552">
<h3>Notable Changes<a class="headerlink" href="#id2552" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-conf: stop creating bogus log files (Josh Durgin, Sage Weil)</li>
<li>common: fix authentication on big-endian architectures (Dan Mick)</li>
<li>debian: change directory ownership between ceph and ceph-common (Sage Weil)</li>
<li>init: fix startup ordering/timeout problem with OSDs (Dmitry Smirnov)</li>
<li>librbd: skip zeroes/holes when copying sparse images (Josh Durgin)</li>
<li>mds: cope with MDS failure during creation (John Spray)</li>
<li>mds: fix crash from client sleep/resume (Zheng Yan)</li>
<li>mds: misc fixes for directory fragments (Zheng Yan)</li>
<li>mds: misc fixes for larger directories (Zheng Yan)</li>
<li>mds: misc fixes for multiple MDSs (Zheng Yan)</li>
<li>mds: remove .ceph directory (John Spray)</li>
<li>misc coverity fixes, cleanups (Danny Al-Gaaf)</li>
<li>mon: add erasure profiles and improve erasure pool creation (Loic Dachary)</li>
<li>mon: &#8216;ceph osd pg-temp ...&#8217; and primary-temp commands (Ilya Dryomov)</li>
<li>mon: fix pool count in &#8216;ceph -s&#8217; output (Sage Weil)</li>
<li>msgr: improve connection error detection between clients and monitors (Greg Farnum, Sage Weil)</li>
<li>osd: add/fix CPU feature detection for jerasure (Loic Dachary)</li>
<li>osd: improved scrub checks on clones (Sage Weil, Sam Just)</li>
<li>osd: many erasure fixes (Sam Just)</li>
<li>osd: move to jerasure2 library (Loic Dachary)</li>
<li>osd: new tests for erasure pools (David Zafman)</li>
<li>osd: reduce scrub lock contention (Guang Yang)</li>
<li>rgw: allow use of an erasure data pool (Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v0-78">
<h2>v0.78<a class="headerlink" href="#v0-78" title="Permalink to this headline">¶</a></h2>
<p>This development release includes two key features: erasure coding and
cache tiering.  A huge amount of code was merged for this release and
several additional weeks were spent stabilizing the code base, and it
is now in a state where it is ready to be tested by a broader user
base.</p>
<p>This is <em>not</em> the firefly release.  Firefly will be delayed for at
least another sprint so that we can get some operational experience
with the new code and do some additional testing before committing to
long term support.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please note that while it is possible to create and test
erasure coded pools in this release, the pools will not be
usable when you upgrade to v0.79 as the OSDMap encoding will
subtlely change.  Please do not populate your test pools
with important data that can&#8217;t be reloaded.</p>
</div>
<div class="section" id="id2553">
<h3>Upgrading<a class="headerlink" href="#id2553" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Upgrade daemons in the following order:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Monitors</li>
<li>OSDs</li>
<li>MDSs and/or radosgw</li>
</ol>
</div></blockquote>
<p>If the ceph-mds daemon is restarted first, it will wait until all
OSDs have been upgraded before finishing its startup sequence.  If
the ceph-mon daemons are not restarted prior to the ceph-osd
daemons, they will not correctly register their new capabilities
with the cluster and new features may not be usable until they are
restarted a second time.</p>
</li>
<li><p class="first">Upgrade radosgw daemons together.  There is a subtle change in behavior
for multipart uploads that prevents a multipart request that was initiated
with a new radosgw from being completed by an old radosgw.</p>
</li>
<li><p class="first">CephFS recently added support for a new &#8216;backtrace&#8217; attribute on
file data objects that is used for lookup by inode number (i.e., NFS
reexport and hard links), and will later be used by fsck repair.
This replaces the existing anchor table mechanism that is used for
hard link resolution.  In order to completely phase that out, any
inode that has an outdated backtrace attribute will get updated when
the inode itself is modified.  This will result in some extra workload
after a legacy CephFS file system is upgraded.</p>
</li>
<li><p class="first">The per-op return code in librados&#8217; ObjectWriteOperation interface
is now filled in.</p>
</li>
<li><p class="first">The librados cmpxattr operation now handles xattrs containing null bytes as
data rather than null-terminated strings.</p>
</li>
<li><p class="first">Compound operations in librados that create and then delete the same object
are now explicitly disallowed (they fail with -EINVAL).</p>
</li>
<li><p class="first">The default leveldb cache size for the ceph-osd daemon has been
increased from 4 MB to 128 MB.  This will increase the memory
footprint of that process but tends to increase performance of omap
(key/value) objects (used for CephFS and the radosgw).  If memory in your
deployment is tight, you can preserve the old behavio by adding:</p>
<div class="highlight-python"><pre>leveldb write buffer size = 0
leveldb cache size = 0</pre>
</div>
<p>to your ceph.conf to get back the (leveldb) defaults.</p>
</li>
</ul>
</div>
<div class="section" id="id2554">
<h3>Notable Changes<a class="headerlink" href="#id2554" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-brag: new client and server tools (Sebastien Han, Babu Shanmugam)</li>
<li>ceph-disk: use partx on RHEL or CentOS instead of partprobe (Alfredo Deza)</li>
<li>ceph: fix combination of &#8216;tell&#8217; and interactive mode (Joao Eduardo Luis)</li>
<li>ceph-fuse: fix bugs with inline data and multiple MDSs (Zheng Yan)</li>
<li>client: fix getcwd() to use new LOOKUPPARENT operation (Zheng Yan)</li>
<li>common: fall back to json-pretty for admin socket (Loic Dachary)</li>
<li>common: fix &#8216;config dump&#8217; debug prefix (Danny Al-Gaaf)</li>
<li>common: misc coverity fixes (Danny Al-Gaaf)</li>
<li>common: throtller, shared_cache performance improvements, TrackedOp (Greg Farnum, Samuel Just)</li>
<li>crush: fix JSON schema for dump (John Spray)</li>
<li>crush: misc cleanups, tests (Loic Dachary)</li>
<li>crush: new vary_r tunable (Sage Weil)</li>
<li>crush: prevent invalid buckets of type 0 (Sage Weil)</li>
<li>keyvaluestore: add perfcounters, misc bug fixes (Haomai Wang)</li>
<li>keyvaluestore: portability improvements (Noah Watkins)</li>
<li>libcephfs: API changes to better support NFS reexport via Ganesha (Matt Benjamin, Adam Emerson, Andrey Kuznetsov, Casey Bodley, David Zafman)</li>
<li>librados: API documentation improvements (John Wilkins, Josh Durgin)</li>
<li>librados: fix object enumeration bugs; allow iterator assignment (Josh Durgin)</li>
<li>librados: streamline tests (Josh Durgin)</li>
<li>librados: support for atomic read and omap operations for C API (Josh Durgin)</li>
<li>librados: support for osd and mon command timeouts (Josh Durgin)</li>
<li>librbd: pass allocation hints to OSD (Ilya Dryomov)</li>
<li>logrotate: fix bug that prevented rotation for some daemons (Loic Dachary)</li>
<li>mds: avoid duplicated discovers during recovery (Zheng Yan)</li>
<li>mds: fix file lock owner checks (Zheng Yan)</li>
<li>mds: fix LOOKUPPARENT, new LOOKUPNAME ops for reliable NFS reexport (Zheng Yan)</li>
<li>mds: fix xattr handling on setxattr (Zheng Yan)</li>
<li>mds: fix xattrs in getattr replies (Sage Weil)</li>
<li>mds: force backtrace updates for old inodes on update (Zheng Yan)</li>
<li>mds: several multi-mds and dirfrag bug fixes (Zheng Yan)</li>
<li>mon: encode erasure stripe width in pool metadata (Loic Dachary)</li>
<li>mon: erasure code crush rule creation (Loic Dachary)</li>
<li>mon: erasure code plugin support (Loic Dachary)</li>
<li>mon: fix bugs in initial post-mkfs quorum creation (Sage Weil)</li>
<li>mon: fix error output to terminal during startup (Joao Eduardo Luis)</li>
<li>mon: fix legacy CRUSH tunables warning (Sage Weil)</li>
<li>mon: fix osd_epochs lower bound tracking for map trimming (Sage Weil)</li>
<li>mon: fix OSDMap encoding features (Sage Weil, Aaron Ten Clay)</li>
<li>mon: fix &#8216;pg dump&#8217; JSON output (John Spray)</li>
<li>mon: include dirty stats in &#8216;ceph df detail&#8217; (Sage Weil)</li>
<li>mon: list quorum member names in quorum order (Sage Weil)</li>
<li>mon: prevent addition of non-empty cache tier (Sage Weil)</li>
<li>mon: prevent deletion of CephFS pools (John Spray)</li>
<li>mon: warn when cache tier approaches &#8216;full&#8217; (Sage Weil)</li>
<li>osd: allocation hint, with XFS support (Ilya Dryomov)</li>
<li>osd: erasure coded pool support (Samuel Just)</li>
<li>osd: fix bug causing slow/stalled recovery (#7706) (Samuel Just)</li>
<li>osd: fix bugs in log merging (Samuel Just)</li>
<li>osd: fix/clarify end-of-object handling on read (Loic Dachary)</li>
<li>osd: fix impolite mon session backoff, reconnect behavior (Greg Farnum)</li>
<li>osd: fix SnapContext cache id bug (Samuel Just)</li>
<li>osd: increase default leveldb cache size and write buffer (Sage Weil, Dmitry Smirnov)</li>
<li>osd: limit size of &#8216;osd bench ...&#8217; arguments (Joao Eduardo Luis)</li>
<li>osdmaptool: new &#8211;test-map-pgs mode (Sage Weil, Ilya Dryomov)</li>
<li>osd, mon: add primary-affinity to adjust selection of primaries (Sage Weil)</li>
<li>osd: new &#8216;status&#8217; admin socket command (Sage Weil)</li>
<li>osd: simple tiering agent (Sage Weil)</li>
<li>osd: store checksums for erasure coded object stripes (Samuel Just)</li>
<li>osd: tests for objectstore backends (Haomai Wang)</li>
<li>osd: various refactoring and bug fixes (Samuel Just, David Zafman)</li>
<li>rados: add &#8216;set-alloc-hint&#8217; command (Ilya Dryomov)</li>
<li>rbd-fuse: fix enumerate_images overflow, memory leak (Ilya Dryomov)</li>
<li>rbdmap: fix upstart script (Stephan Renatus)</li>
<li>rgw: avoid logging system events to usage log (Yehuda Sadeh)</li>
<li>rgw: fix Swift range reponse (Yehuda Sadeh)</li>
<li>rgw: improve scalability for manifest objects (Yehuda Sadeh)</li>
<li>rgw: misc fixes for multipart objects, policies (Yehuda Sadeh)</li>
<li>rgw: support non-standard MultipartUpload command (Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v0-77">
<h2>v0.77<a class="headerlink" href="#v0-77" title="Permalink to this headline">¶</a></h2>
<p>This is the final development release before the Firefly feature
freeze.  The main items in this release include some additional
refactoring work in the OSD IO path (include some locking
improvements), per-user quotas for the radosgw, a switch to civetweb
from mongoose for the prototype radosgw standalone mode, and a
prototype leveldb-based backend for the OSD.  The C librados API also
got support for atomic write operations (read side transactions will
appear in v0.78).</p>
<div class="section" id="id2555">
<h3>Upgrading<a class="headerlink" href="#id2555" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The &#8216;ceph -s&#8217; or &#8216;ceph status&#8217; command&#8217;s &#8216;num_in_osds&#8217; field in the
JSON and XML output has been changed from a string to an int.</li>
<li>The recently added &#8216;ceph mds set allow_new_snaps&#8217; command&#8217;s syntax
has changed slightly; it is now &#8216;ceph mds set allow_new_snaps true&#8217;.
The &#8216;unset&#8217; command has been removed; instead, set the value to
&#8216;false&#8217;.</li>
<li>The syntax for allowing snapshots is now &#8216;mds set allow_new_snaps
&lt;true|false&gt;&#8217; instead of &#8216;mds &lt;set,unset&gt; allow_new_snaps&#8217;.</li>
</ul>
</div>
<div class="section" id="id2556">
<h3>Notable Changes<a class="headerlink" href="#id2556" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: client IO path changes for EC (Samuel Just)</li>
<li>common: portability changes to support libc++ (Noah Watkins)</li>
<li>common: switch to unordered_map from hash_map (Noah Watkins)</li>
<li>rgw: switch from mongoose to civetweb (Yehuda Sadeh)</li>
<li>osd: improve locking in fd lookup cache (Samuel Just, Greg Farnum)</li>
<li>doc: many many updates (John Wilkins)</li>
<li>rgw: user quotas (Yehuda Sadeh)</li>
<li>mon: persist quorum features to disk (Greg Farnum)</li>
<li>mon: MForward tests (Loic Dachary)</li>
<li>mds: inline data support (Li Wang, Yunchuan Wen)</li>
<li>rgw: fix many-part multipart uploads (Yehuda Sadeh)</li>
<li>osd: new keyvaluestore-dev backend based on leveldb (Haomai Wang)</li>
<li>rbd: prevent deletion of images with watchers (Ilya Dryomov)</li>
<li>osd: avoid touching leveldb for some xattrs (Haomai Wang, Sage Weil)</li>
<li>mailmap: affiliation updates (Loic Dachary)</li>
<li>osd: new OSDMap encoding (Greg Farnum)</li>
<li>osd: generalize scrubbing infrastructure to allow EC (David Zafman)</li>
<li>rgw: several doc fixes (Alexandre Marangone)</li>
<li>librados: add C API coverage for atomic write operations (Christian Marie)</li>
<li>rgw: improve swift temp URL support (Yehuda Sadeh)</li>
<li>rest-api: do not fail when no OSDs yet exist (Dan Mick)</li>
<li>common: check preexisting admin socket for active daemon before removing (Loic Dachary)</li>
<li>osd: handle more whitespace (newline, tab) in osd capabilities (Sage Weil)</li>
<li>mon: handle more whitespace (newline, tab) in mon capabilities (Sage Weil)</li>
<li>rgw: make multi-object delete idempotent (Yehuda Sadeh)</li>
<li>crush: fix off-by-one error in recent refactor (Sage Weil)</li>
<li>rgw: fix read_user_buckets &#8216;max&#8217; behavior (Yehuda Sadeh)</li>
<li>mon: change mds allow_new_snaps syntax to be more consistent (Sage Weil)</li>
</ul>
</div>
</div>
<div class="section" id="v0-76">
<h2>v0.76<a class="headerlink" href="#v0-76" title="Permalink to this headline">¶</a></h2>
<p>This release includes another batch of updates for firefly
functionality.  Most notably, the cache pool infrastructure now
support snapshots, the OSD backfill functionality has been generalized
to include multiple targets (necessary for the coming erasure pools),
and there were performance improvements to the erasure code plugin on
capable processors.  The MDS now properly utilizes (and seamlessly
migrates to) the OSD key/value interface (aka omap) for storing directory
objects.  There continue to be many other fixes and improvements for
usability and code portability across the tree.</p>
<div class="section" id="id2557">
<h3>Upgrading<a class="headerlink" href="#id2557" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&#8216;rbd ls&#8217; on a pool which never held rbd images now exits with code
0. It outputs nothing in plain format, or an empty list in
non-plain format. This is consistent with the behavior for a pool
which used to hold images, but contains none. Scripts relying on
this behavior should be updated.</li>
<li>The MDS requires a new OSD operation TMAP2OMAP, added in this release.  When
upgrading, be sure to upgrade and restart the ceph-osd daemons before the
ceph-mds daemon.  The MDS will refuse to start if any up OSDs do not support
the new feature.</li>
<li>The &#8216;ceph mds set_max_mds N&#8217; command is now deprecated in favor of
&#8216;ceph mds set max_mds N&#8217;.</li>
</ul>
</div>
<div class="section" id="id2558">
<h3>Notable Changes<a class="headerlink" href="#id2558" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build: misc improvements (Ken Dreyer)</li>
<li>ceph-disk: generalize path names, add tests (Loic Dachary)</li>
<li>ceph-disk: misc improvements for puppet (Loic Dachary)</li>
<li>ceph-disk: several bug fixes (Loic Dachary)</li>
<li>ceph-fuse: fix race for sync reads (Sage Weil)</li>
<li>config: recursive metavariable expansion (Loic Dachary)</li>
<li>crush: usability and test improvements (Loic Dachary)</li>
<li>doc: misc fixes (David Moreau Simard, Kun Huang)</li>
<li>erasure-code: improve buffer alignment (Loic Dachary)</li>
<li>erasure-code: rewrite region-xor using vector operations (Andreas Peters)</li>
<li>librados, osd: new TMAP2OMAP operation (Yan, Zheng)</li>
<li>mailmap updates (Loic Dachary)</li>
<li>many portability improvements (Noah Watkins)</li>
<li>many unit test improvements (Loic Dachary)</li>
<li>mds: always store backtrace in default pool (Yan, Zheng)</li>
<li>mds: store directories in omap instead of tmap (Yan, Zheng)</li>
<li>mon: allow adjustment of cephfs max file size via &#8216;ceph mds set max_file_size&#8217; (Sage Weil)</li>
<li>mon: do not create erasure rules by default (Sage Weil)</li>
<li>mon: do not generate spurious MDSMaps in certain cases (Sage Weil)</li>
<li>mon: do not use keyring if auth = none (Loic Dachary)</li>
<li>mon: fix pg_temp leaks (Joao Eduardo Luis)</li>
<li>osd: backfill to multiple targets (David Zafman)</li>
<li>osd: cache pool support for snapshots (Sage Weil)</li>
<li>osd: fix and cleanup misc backfill issues (David Zafman)</li>
<li>osd: fix omap_clear operation to not zap xattrs (Sam Just, Yan, Zheng)</li>
<li>osd: ignore num_objects_dirty on scrub for old pools (Sage Weil)</li>
<li>osd: include more info in pg query result (Sage Weil)</li>
<li>osd: track erasure compatibility (David Zafman)</li>
<li>rbd: make &#8216;rbd list&#8217; return empty list and success on empty pool (Josh Durgin)</li>
<li>rgw: fix object placement read op (Yehuda Sadeh)</li>
<li>rgw: fix several CORS bugs (Robin H. Johnson)</li>
<li>specfile: fix RPM build on RHEL6 (Ken Dreyer, Derek Yarnell)</li>
<li>specfile: ship libdir/ceph (Key Dreyer)</li>
</ul>
</div>
</div>
<div class="section" id="v0-75">
<h2>v0.75<a class="headerlink" href="#v0-75" title="Permalink to this headline">¶</a></h2>
<p>This is a big release, with lots of infrastructure going in for
firefly.  The big items include a prototype standalone frontend for
radosgw (which does not require apache or fastcgi), tracking for read
activity on the osds (to inform tiering decisions), preliminary cache
pool support (no snapshots yet), and lots of bug fixes and other work
across the tree to get ready for the next batch of erasure coding
patches.</p>
<p>For comparison, here are the diff stats for the last few versions:</p>
<div class="highlight-python"><pre>v0.75 291 files changed, 82713 insertions(+), 33495 deletions(-)
v0.74 192 files changed, 17980 insertions(+), 1062 deletions(-)
v0.73 148 files changed, 4464 insertions(+), 2129 deletions(-)</pre>
</div>
<div class="section" id="id2559">
<h3>Upgrading<a class="headerlink" href="#id2559" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The &#8216;osd pool create ...&#8217; syntax has changed for erasure pools.</li>
<li>The default CRUSH rules and layouts are now using the latest and
greatest tunables and defaults.  Clusters using the old values will
now present with a health WARN state.  This can be disabled by
adding &#8216;mon warn on legacy crush tunables = false&#8217; to ceph.conf.</li>
</ul>
</div>
<div class="section" id="id2560">
<h3>Notable Changes<a class="headerlink" href="#id2560" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>common: bloom filter improvements (Sage Weil)</li>
<li>common: fix config variable substitution (Loic Dachary)</li>
<li>crush, osd: s/rep/replicated/ for less confusion (Loic Dachary)</li>
<li>crush: refactor descend_once behavior; support set_choose*_tries for replicated rules (Sage Weil)</li>
<li>librados: fix throttle leak (and eventual deadlock) (Josh Durgin)</li>
<li>librados: read directly into user buffer (Rutger ter Borg)</li>
<li>librbd: fix use-after-free aio completion bug #5426 (Josh Durgin)</li>
<li>librbd: localize/distribute parent reads (Sage Weil)</li>
<li>mds: fix Resetter locking (Alexandre Oliva)</li>
<li>mds: fix cap migration behavior (Yan, Zheng)</li>
<li>mds: fix client session flushing (Yan, Zheng)</li>
<li>mds: fix many many multi-mds bugs (Yan, Zheng)</li>
<li>misc portability work (Noah Watkins)</li>
<li>mon, osd: create erasure style crush rules (Loic Dachary, Sage Weil)</li>
<li>mon: &#8216;osd crush show-tunables&#8217; (Sage Weil)</li>
<li>mon: clean up initial crush rule creation (Loic Dachary)</li>
<li>mon: improve (replicate or erasure) pool creation UX (Loic Dachary)</li>
<li>mon: infrastructure to handle mixed-version mon cluster and cli/rest API (Greg Farnum)</li>
<li>mon: mkfs now idempotent (Loic Dachary)</li>
<li>mon: only seed new osdmaps to current OSDs (Sage Weil)</li>
<li>mon: track osd features in OSDMap (Joao Luis, David Zafman)</li>
<li>mon: warn if crush has non-optimal tunables (Sage Weil)</li>
<li>mount.ceph: add -n for autofs support (Steve Stock)</li>
<li>msgr: fix messenger restart race (Xihui He)</li>
<li>osd, librados: fix full cluster handling (Josh Durgin)</li>
<li>osd: add HitSet tracking for read ops (Sage Weil, Greg Farnum)</li>
<li>osd: backfill to osds not in acting set (David Zafman)</li>
<li>osd: enable new hashpspool layout by default (Sage Weil)</li>
<li>osd: erasure plugin benchmarking tool (Loic Dachary)</li>
<li>osd: fix XFS detection (Greg Farnum, Sushma Gurram)</li>
<li>osd: fix copy-get omap bug (Sage Weil)</li>
<li>osd: fix linux kernel version detection (Ilya Dryomov)</li>
<li>osd: fix memstore segv (Haomai Wang)</li>
<li>osd: fix several bugs with tier infrastructure</li>
<li>osd: fix throttle thread (Haomai Wang)</li>
<li>osd: preliminary cache pool support (no snaps) (Greg Farnum, Sage Weil)</li>
<li>rados tool: fix listomapvals (Josh Durgin)</li>
<li>rados: add &#8216;crush location&#8217;, smart replica selection/balancing (Sage Weil)</li>
<li>rados: some performance optimizations (Yehuda Sadeh)</li>
<li>rbd: add rbdmap support for upstart (Laurent Barbe)</li>
<li>rbd: expose kernel rbd client options via &#8216;rbd map&#8217; (Ilya Dryomov)</li>
<li>rbd: fix bench-write command (Hoamai Wang)</li>
<li>rbd: support for 4096 mapped devices, up from ~250 (Ilya Dryomov)</li>
<li>rgw: allow multiple frontends (Yehuda Sadeh)</li>
<li>rgw: convert bucket info to new format on demand (Yehuda Sadeh)</li>
<li>rgw: fix misc CORS bugs (Robin H. Johnson)</li>
<li>rgw: prototype mongoose frontend (Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v0-74">
<h2>v0.74<a class="headerlink" href="#v0-74" title="Permalink to this headline">¶</a></h2>
<p>This release includes a few substantial pieces for Firefly, including
a long-overdue switch to 3x replication by default and a switch to the
&#8220;new&#8221; CRUSH tunables by default (supported since bobtail).  There is
also a fix for a long-standing radosgw bug (stalled GET) that has
already been backported to emperor and dumpling.</p>
<div class="section" id="id2561">
<h3>Upgrading<a class="headerlink" href="#id2561" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>We now default to the &#8216;bobtail&#8217; CRUSH tunable values that are first supported
by Ceph clients in bobtail (v0.56) and Linux kernel version v3.9.  If you
plan to access a newly created Ceph cluster with an older kernel client, you
should use &#8216;ceph osd crush tunables legacy&#8217; to switch back to the legacy
behavior.  Note that making that change will likely result in some data
movement in the system, so adjust the setting before populating the new
cluster with data.</li>
<li>We now set the HASHPSPOOL flag on newly created pools (and new
clusters) by default.  Support for this flag first appeared in
v0.64; v0.67 Dumpling is the first major release that supports it.
It is first supported by the Linux kernel version v3.9.  If you plan
to access a newly created Ceph cluster with an older kernel or
clients (e.g, librados, librbd) from a pre-dumpling Ceph release,
you should add &#8216;osd pool default flag hashpspool = false&#8217; to the
&#8216;[global]&#8217; section of your &#8216;ceph.conf&#8217; prior to creating your
monitors (e.g., after &#8216;ceph-deploy new&#8217; but before &#8216;ceph-deploy mon
create ...&#8217;).</li>
<li>The configuration option &#8216;osd pool default crush rule&#8217; is deprecated
and replaced with &#8216;osd pool default crush replicated ruleset&#8217;. &#8216;osd
pool default crush rule&#8217; takes precedence for backward compatibility
and a deprecation warning is displayed when it is used.</li>
</ul>
</div>
<div class="section" id="id2562">
<h3>Notable Changes<a class="headerlink" href="#id2562" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>buffer: some zero-copy groundwork (Josh Durgin)</li>
<li>ceph-disk: avoid fd0 (Loic Dachary)</li>
<li>crush: default to bobtail tunables (Sage Weil)</li>
<li>crush: many additional tests (Loic Dachary)</li>
<li>crush: misc fixes, cleanups (Loic Dachary)</li>
<li>crush: new rule steps to adjust retry attempts (Sage Weil)</li>
<li>debian: integrate misc fixes from downstream packaging (James Page)</li>
<li>doc: big update to install docs (John Wilkins)</li>
<li>libcephfs: fix resource leak (Zheng Yan)</li>
<li>misc coverity fixes (Xing Lin, Li Wang, Danny Al-Gaaf)</li>
<li>misc portability fixes (Noah Watkins, Alan Somers)</li>
<li>mon, osd: new &#8216;erasure&#8217; pool type (still not fully supported)</li>
<li>mon: add &#8216;mon getmap EPOCH&#8217; (Joao Eduardo Luis)</li>
<li>mon: collect misc metadata about osd (os, kernel, etc.), new &#8216;osd metadata&#8217; command (Sage Weil)</li>
<li>osd: default to 3x replication</li>
<li>osd: do not include backfill targets in acting set (David Zafman)</li>
<li>osd: new &#8216;chassis&#8217; type in default crush hierarchy (Sage Weil)</li>
<li>osd: requery unfound on stray notify (#6909) (Samuel Just)</li>
<li>osd: some PGBackend infrastructure (Samuel Just)</li>
<li>osd: support for new &#8216;memstore&#8217; (memory-backed) backend (Sage Weil)</li>
<li>rgw: fix fastcgi deadlock (do not return data from librados callback) (Yehuda Sadeh)</li>
<li>rgw: fix reading bucket policy (#6940)</li>
<li>rgw: fix use-after-free when releasing completion handle (Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v0-73">
<h2>v0.73<a class="headerlink" href="#v0-73" title="Permalink to this headline">¶</a></h2>
<p>This release, the first development release after emperor, includes
many bug fixes and a few additional pieces of functionality.  The
first batch of larger changes will be landing in the next version,
v0.74.</p>
<div class="section" id="id2563">
<h3>Upgrading<a class="headerlink" href="#id2563" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>As part of fix for #6796, &#8216;ceph osd pool set &lt;pool&gt; &lt;var&gt; &lt;arg&gt;&#8217; now
receives &lt;arg&gt; as an integer instead of a string.  This affects how
&#8216;hashpspool&#8217; flag is set/unset: instead of &#8216;true&#8217; or &#8216;false&#8217;, it now
must be &#8216;0&#8217; or &#8216;1&#8217;.</li>
<li>The behavior of the CRUSH &#8216;indep&#8217; choose mode has been changed.  No
ceph cluster should have been using this behavior unless someone has
manually extracted a crush map, modified a CRUSH rule to replace
&#8216;firstn&#8217; with &#8216;indep&#8217;, recompiled, and reinjected the new map into
the cluster.  If the &#8216;indep&#8217; mode is currently in use on a cluster,
the rule should be modified to use &#8216;firstn&#8217; instead, and the
administrator should wait until any data movement completes before
upgrading.</li>
<li>The &#8216;osd dump&#8217; command now dumps pool snaps as an array instead of an
object.</li>
<li>The radosgw init script (sysvinit) how requires that the &#8216;host = ...&#8217; line in
ceph.conf, if present, match the short hostname (the output of &#8216;hostname -s&#8217;),
not the fully qualified hostname or the (occasionally non-short) output of
&#8216;hostname&#8217;.  Failure to adjust this when upgrading from emperor or dumpling
may prevent the radosgw daemon from starting.</li>
</ul>
</div>
<div class="section" id="id2564">
<h3>Notable Changes<a class="headerlink" href="#id2564" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-crush-location: new hook for setting CRUSH location of osd daemons on start</li>
<li>ceph-kvstore-tool: expanded command set and capabilities (Joao Eduardo Luis)</li>
<li>ceph.spec: fix build dependency (Loic Dachary)</li>
<li>common: fix aligned buffer allocation (Loic Dachary)</li>
<li>doc: many many install doc improvements (John Wilkins)</li>
<li>mds: fix readdir end check (Zheng Yan)</li>
<li>mds: update old-format backtraces opportunistically (Zheng Yan)</li>
<li>misc cleanups from coverity (Xing Lin)</li>
<li>misc portability fixes (Noah Watkins, Christophe Courtaut, Alan Somers, huanjun)</li>
<li>mon: &#8216;osd dump&#8217; dumps pool snaps as array, not object (Dan Mick)</li>
<li>mon: allow debug quorum_{enter,exit} commands via admin socket</li>
<li>mon: prevent extreme changes in pool pg_num (Greg Farnum)</li>
<li>mon: take &#8216;osd pool set ...&#8217; value as an int, not string (Joao Eduardo Luis)</li>
<li>mon: trim MDSMaps (Joao Eduardo Luis)</li>
<li>osd: fix object_info_t encoding bug from emperor (Sam Just)</li>
<li>rbd: add &#8216;rbdmap&#8217; init script for mapping rbd images on book (Adam Twardowski)</li>
<li>rgw: add &#8216;status&#8217; command to sysvinit script (David Moreau Simard)</li>
<li>rgw: fix error setting empty owner on ACLs (Yehuda Sadeh)</li>
<li>rgw: optionally defer to bucket ACLs instead of object ACLs (Liam Monahan)</li>
<li>rgw: support for password (instead of admin token) for keystone authentication (Christophe Courtaut)</li>
<li>sysvinit, upstart: prevent both init systems from starting the same daemons (Josh Durgin)</li>
</ul>
</div>
</div>
<div class="section" id="v0-72-3-emperor-pending-release">
<h2>v0.72.3 Emperor (pending release)<a class="headerlink" href="#v0-72-3-emperor-pending-release" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2565">
<h3>Upgrading<a class="headerlink" href="#id2565" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Monitor &#8216;auth&#8217; read-only commands now expect the user to have &#8216;rx&#8217; caps.
This is the same behavior that was present in dumpling, but in emperor
and more recent development releases the &#8216;r&#8217; cap was sufficient.  Note that
this backported security fix will break mon keys that are using the following
commands but do not have the &#8216;x&#8217; bit in the mon capability:</p>
<div class="highlight-python"><pre>ceph auth export
ceph auth get
ceph auth get-key
ceph auth print-key
ceph auth list</pre>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="v0-72-2-emperor">
<h2>v0.72.2 Emperor<a class="headerlink" href="#v0-72-2-emperor" title="Permalink to this headline">¶</a></h2>
<p>This is the second bugfix release for the v0.72.x Emperor series.  We
have fixed a hang in radosgw, and fixed (again) a problem with monitor
CLI compatiblity with mixed version monitors.  (In the future this
will no longer be a problem.)</p>
<div class="section" id="id2566">
<h3>Upgrading<a class="headerlink" href="#id2566" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The JSON schema for the &#8216;osd pool set ...&#8217; command changed slightly.  Please
avoid issuing this particular command via the CLI while there is a mix of
v0.72.1 and v0.72.2 monitor daemons running.</li>
<li>As part of fix for #6796, &#8216;ceph osd pool set &lt;pool&gt; &lt;var&gt; &lt;arg&gt;&#8217; now
receives &lt;arg&gt; as an integer instead of a string.  This affects how
&#8216;hashpspool&#8217; flag is set/unset: instead of &#8216;true&#8217; or &#8216;false&#8217;, it now
must be &#8216;0&#8217; or &#8216;1&#8217;.</li>
</ul>
</div>
<div class="section" id="changes">
<h3>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: &#8216;osd pool set ...&#8217; syntax change</li>
<li>osd: added test for missing on-disk HEAD object</li>
<li>osd: fix osd bench block size argument</li>
<li>rgw: fix hang on large object GET</li>
<li>rgw: fix rare use-after-free</li>
<li>rgw: various DR bug fixes</li>
<li>rgw: do not return error on empty owner when setting ACL</li>
<li>sysvinit, upstart: prevent starting daemons using both init systems</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.72.2.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-72-1-emperor">
<h2>v0.72.1 Emperor<a class="headerlink" href="#v0-72-1-emperor" title="Permalink to this headline">¶</a></h2>
<div class="section" id="important-note">
<h3>Important Note<a class="headerlink" href="#important-note" title="Permalink to this headline">¶</a></h3>
<p>When you are upgrading from Dumpling to Emperor, do not run any of the
&#8220;ceph osd pool set&#8221; commands while your monitors are running separate versions.
Doing so could result in inadvertently changing cluster configuration settings
that exhaust compute resources in your OSDs.</p>
</div>
<div class="section" id="id2567">
<h3>Changes<a class="headerlink" href="#id2567" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: fix upgrade bug #6761</li>
<li>ceph_filestore_tool: introduced tool to repair errors caused by #6761</li>
</ul>
<p>This release addresses issue #6761.  Upgrading to Emperor can cause
reads to begin returning ENFILE (too many open files).  v0.72.1 fixes
that upgrade issue and adds a tool ceph_filestore_tool to repair osd
stores affected by this bug.</p>
<p>To repair a cluster affected by this bug:</p>
<ol class="arabic">
<li><p class="first">Upgrade all osd machines to v0.72.1</p>
</li>
<li><p class="first">Install the ceph-test package on each osd machine to get ceph_filestore_tool</p>
</li>
<li><p class="first">Stop all osd processes</p>
</li>
<li><p class="first">To see all lost objects, run the following on each osd with the osd stopped and
the osd data directory mounted:</p>
<div class="highlight-python"><pre>ceph_filestore_tool --list-lost-objects=true --filestore-path=&lt;path-to-osd-filestore&gt; --journal-path=&lt;path-to-osd-journal&gt;</pre>
</div>
</li>
<li><p class="first">To fix all lost objects, run the following on each osd with the
osd stopped and the osd data directory mounted:</p>
<div class="highlight-python"><pre>ceph_filestore_tool --fix-lost-objects=true --list-lost-objects=true --filestore-path=&lt;path-to-osd-filestore&gt; --journal-path=&lt;path-to-osd-journal&gt;</pre>
</div>
</li>
<li><p class="first">Once lost objects have been repaired on each osd, you can restart
the cluster.</p>
</li>
</ol>
<p>Note, the ceph_filestore_tool performs a scan of all objects on the
osd and may take some time.</p>
</div>
</div>
<div class="section" id="v0-72-emperor">
<h2>v0.72 Emperor<a class="headerlink" href="#v0-72-emperor" title="Permalink to this headline">¶</a></h2>
<p>This is the fifth major release of Ceph, the fourth since adopting a
3-month development cycle.  This release brings several new features,
including multi-datacenter replication for the radosgw, improved
usability, and lands a lot of incremental performance and internal
refactoring work to support upcoming features in Firefly.</p>
<div class="section" id="id2568">
<h3>Important Note<a class="headerlink" href="#id2568" title="Permalink to this headline">¶</a></h3>
<p>When you are upgrading from Dumpling to Emperor, do not run any of the
&#8220;ceph osd pool set&#8221; commands while your monitors are running separate versions.
Doing so could result in inadvertently changing cluster configuration settings
that exhaust compute resources in your OSDs.</p>
</div>
<div class="section" id="highlights">
<h3>Highlights<a class="headerlink" href="#highlights" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>common: improved crc32c performance</li>
<li>librados: new example client and class code</li>
<li>mds: many bug fixes and stability improvements</li>
<li>mon: health warnings when pool pg_num values are not reasonable</li>
<li>mon: per-pool performance stats</li>
<li>osd, librados: new object copy primitives</li>
<li>osd: improved interaction with backend file system to reduce latency</li>
<li>osd: much internal refactoring to support ongoing erasure coding and tiering support</li>
<li>rgw: bucket quotas</li>
<li>rgw: improved CORS support</li>
<li>rgw: performance improvements</li>
<li>rgw: validate S3 tokens against Keystone</li>
</ul>
<p>Coincident with core Ceph, the Emperor release also brings:</p>
<ul class="simple">
<li>radosgw-agent: support for multi-datacenter replication for disaster recovery</li>
<li>tgt: improved support for iSCSI via upstream tgt</li>
</ul>
<p>Packages for both are available on ceph.com.</p>
</div>
<div class="section" id="id2569">
<h3>Upgrade sequencing<a class="headerlink" href="#id2569" title="Permalink to this headline">¶</a></h3>
<p>There are no specific upgrade restrictions on the order or sequence of
upgrading from 0.67.x Dumpling. However, you cannot run any of the
&#8220;ceph osd pool set&#8221; commands while your monitors are running separate versions.
Doing so could result in inadvertently changing cluster configuration settings
and exhausting compute resources in your OSDs.</p>
<p>It is also possible to do a rolling upgrade from 0.61.x Cuttlefish,
but there are ordering restrictions.  (This is the same set of
restrictions for Cuttlefish to Dumpling.)</p>
<ol class="arabic simple">
<li>Upgrade ceph-common on all nodes that will use the command line &#8216;ceph&#8217; utility.</li>
<li>Upgrade all monitors (upgrade ceph package, restart ceph-mon
daemons).  This can happen one daemon or host at a time.  Note that
because cuttlefish and dumpling monitors can&#8217;t talk to each other,
all monitors should be upgraded in relatively short succession to
minimize the risk that an a untimely failure will reduce
availability.</li>
<li>Upgrade all osds (upgrade ceph package, restart ceph-osd daemons).
This can happen one daemon or host at a time.</li>
<li>Upgrade radosgw (upgrade radosgw package, restart radosgw daemons).</li>
</ol>
</div>
<div class="section" id="upgrading-from-v0-71">
<h3>Upgrading from v0.71<a class="headerlink" href="#upgrading-from-v0-71" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-fuse and radosgw now use the same default values for the admin
socket and log file paths that the other daemons (ceph-osd,
ceph-mon, etc.) do.  If you run these daemons as non-root, you may
need to adjust your ceph.conf to disable these options or to adjust
the permissions on /var/run/ceph and /var/log/ceph.</li>
</ul>
</div>
<div class="section" id="id2570">
<h3>Upgrading from v0.67 Dumpling<a class="headerlink" href="#id2570" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-fuse and radosgw now use the same default values for the admin
socket and log file paths that the other daemons (ceph-osd,
ceph-mon, etc.) do.  If you run these daemons as non-root, you may
need to adjust your ceph.conf to disable these options or to adjust
the permissions on /var/run/ceph and /var/log/ceph.</li>
<li>The MDS now disallows snapshots by default as they are not
considered stable.  The command &#8216;ceph mds set allow_snaps&#8217; will
enable them.</li>
<li>For clusters that were created before v0.44 (pre-argonaut, Spring
2012) and store radosgw data, the auto-upgrade from TMAP to OMAP
objects has been disabled.  Before upgrading, make sure that any
buckets created on pre-argonaut releases have been modified (e.g.,
by PUTing and then DELETEing an object from each bucket).  Any
cluster created with argonaut (v0.48) or a later release or not
using radosgw never relied on the automatic conversion and is not
affected by this change.</li>
<li>Any direct users of the &#8216;tmap&#8217; portion of the librados API should be
aware that the automatic tmap -&gt; omap conversion functionality has
been removed.</li>
<li>Most output that used K or KB (e.g., for kilobyte) now uses a
lower-case k to match the official SI convention.  Any scripts that
parse output and check for an upper-case K will need to be modified.</li>
<li>librados::Rados::pool_create_async() and librados::Rados::pool_delete_async()
don&#8217;t drop a reference to the completion object on error, caller needs to take
care of that. This has never really worked correctly and we were leaking an
object</li>
<li>&#8216;ceph osd crush set &lt;id&gt; &lt;weight&gt; &lt;loc..&gt;&#8217; no longer adds the osd to the
specified location, as that&#8217;s a job for &#8216;ceph osd crush add&#8217;.  It will
however continue to work just the same as long as the osd already exists
in the crush map.</li>
<li>The OSD now enforces that class write methods cannot both mutate an
object and return data.  The rbd.assign_bid method, the lone
offender, has been removed.  This breaks compatibility with
pre-bobtail librbd clients by preventing them from creating new
images.</li>
<li>librados now returns on commit instead of ack for synchronous calls.
This is a bit safer in the case where both OSDs and the client crash, and
is probably how it should have been acting from the beginning. Users are
unlikely to notice but it could result in lower performance in some
circumstances. Those who care should switch to using the async interfaces,
which let you specify safety semantics precisely.</li>
<li>The C++ librados AioComplete::get_version() method was incorrectly
returning an int (usually 32-bits).  To avoid breaking library
compatibility, a get_version64() method is added that returns the
full-width value.  The old method is deprecated and will be removed
in a future release.  Users of the C++ librados API that make use of
the get_version() method should modify their code to avoid getting a
value that is truncated from 64 to to 32 bits.</li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-71">
<h3>Notable Changes since v0.71<a class="headerlink" href="#notable-changes-since-v0-71" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build: fix [/usr]/sbin locations (Alan Somers)</li>
<li>ceph-fuse, radosgw: enable admin socket and logging by default</li>
<li>ceph: make -h behave when monitors are down</li>
<li>common: cache crc32c values where possible</li>
<li>common: fix looping on BSD (Alan Somers)</li>
<li>librados, mon: ability to query/ping out-of-quorum monitor status (Joao Luis)</li>
<li>librbd python bindings: fix parent image name limit (Josh Durgin)</li>
<li>mds: avoid leaking objects when deleting truncated files (Yan, Zheng)</li>
<li>mds: fix F_GETLK (Yan, Zheng)</li>
<li>mds: fix many bugs with stray (unlinked) inodes (Yan, Zheng)</li>
<li>mds: fix many directory fragmentation bugs (Yan, Zheng)</li>
<li>mon: allow (un)setting HASHPSPOOL flag on existing pools (Joao Luis)</li>
<li>mon: make &#8216;osd pool rename&#8217; idempotent (Joao Luis)</li>
<li>osd: COPY_GET on-wire encoding improvements (Greg Farnum)</li>
<li>osd: bloom_filter encodability, fixes, cleanups (Loic Dachary, Sage Weil)</li>
<li>osd: fix handling of racing read vs write (Samuel Just)</li>
<li>osd: reduce blocking on backing fs (Samuel Just)</li>
<li>radosgw-agent: multi-region replication/DR</li>
<li>rgw: fix/improve swift COPY support (Yehuda Sadeh)</li>
<li>rgw: misc fixes to support DR (Josh Durgin, Yehuda Sadeh)</li>
<li>rgw: per-bucket quota (Yehuda Sadeh)</li>
<li>rpm: fix junit dependencies (Alan Grosskurth)</li>
</ul>
</div>
<div class="section" id="id2571">
<h3>Notable Changes since v0.67 Dumpling<a class="headerlink" href="#id2571" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build cleanly under clang (Christophe Courtaut)</li>
<li>build: Makefile refactor (Roald J. van Loon)</li>
<li>build: fix [/usr]/sbin locations (Alan Somers)</li>
<li>ceph-disk: fix journal preallocation</li>
<li>ceph-fuse, radosgw: enable admin socket and logging by default</li>
<li>ceph-fuse: fix problem with readahead vs truncate race (Yan, Zheng)</li>
<li>ceph-fuse: trim deleted inodes from cache (Yan, Zheng)</li>
<li>ceph-fuse: use newer fuse api (Jianpeng Ma)</li>
<li>ceph-kvstore-tool: new tool for working with leveldb (copy, crc) (Joao Luis)</li>
<li>ceph-post-file: new command to easily share logs or other files with ceph devs</li>
<li>ceph: improve parsing of CEPH_ARGS (Benoit Knecht)</li>
<li>ceph: make -h behave when monitors are down</li>
<li>ceph: parse CEPH_ARGS env variable</li>
<li>common: bloom_filter improvements, cleanups</li>
<li>common: cache crc32c values where possible</li>
<li>common: correct SI is kB not KB (Dan Mick)</li>
<li>common: fix looping on BSD (Alan Somers)</li>
<li>common: migrate SharedPtrRegistry to use boost::shared_ptr&lt;&gt; (Loic Dachary)</li>
<li>common: misc portability fixes (Noah Watkins)</li>
<li>crc32c: fix optimized crc32c code (it now detects arch support properly)</li>
<li>crc32c: improved intel-optimized crc32c support (~8x faster on my laptop!)</li>
<li>crush: fix name caching</li>
<li>doc: erasure coding design notes (Loic Dachary)</li>
<li>hadoop: removed old version of shim to avoid confusing users (Noah Watkins)</li>
<li>librados, mon: ability to query/ping out-of-quorum monitor status (Joao Luis)</li>
<li>librados: fix async aio completion wakeup</li>
<li>librados: fix installed header #includes (Dan Mick)</li>
<li>librados: get_version64() method for C++ API</li>
<li>librados: hello_world example (Greg Farnum)</li>
<li>librados: sync calls now return on commit (instead of ack) (Greg Farnum)</li>
<li>librbd python bindings: fix parent image name limit (Josh Durgin)</li>
<li>librbd, ceph-fuse: avoid some sources of ceph-fuse, rbd cache stalls</li>
<li>mds: avoid leaking objects when deleting truncated files (Yan, Zheng)</li>
<li>mds: fix F_GETLK (Yan, Zheng)</li>
<li>mds: fix LOOKUPSNAP bug</li>
<li>mds: fix heap profiler commands (Joao Luis)</li>
<li>mds: fix locking deadlock (David Disseldorp)</li>
<li>mds: fix many bugs with stray (unlinked) inodes (Yan, Zheng)</li>
<li>mds: fix many directory fragmentation bugs (Yan, Zheng)</li>
<li>mds: fix mds rejoin with legacy parent backpointer xattrs (Alexandre Oliva)</li>
<li>mds: fix rare restart/failure race during fs creation</li>
<li>mds: fix standby-replay when we fall behind (Yan, Zheng)</li>
<li>mds: fix stray directory purging (Yan, Zheng)</li>
<li>mds: notify clients about deleted files (so they can release from their cache) (Yan, Zheng)</li>
<li>mds: several bug fixes with clustered mds (Yan, Zheng)</li>
<li>mon, osd: improve osdmap trimming logic (Samuel Just)</li>
<li>mon, osd: initial CLI for configuring tiering</li>
<li>mon: a few &#8216;ceph mon add&#8217; races fixed (command is now idempotent) (Joao Luis)</li>
<li>mon: allow (un)setting HASHPSPOOL flag on existing pools (Joao Luis)</li>
<li>mon: allow cap strings with . to be unquoted</li>
<li>mon: allow logging level of cluster log (/var/log/ceph/ceph.log) to be adjusted</li>
<li>mon: avoid rewriting full osdmaps on restart (Joao Luis)</li>
<li>mon: continue to discover peer addr info during election phase</li>
<li>mon: disallow CephFS snapshots until &#8216;ceph mds set allow_new_snaps&#8217; (Greg Farnum)</li>
<li>mon: do not expose uncommitted state from &#8216;osd crush {add,set} ...&#8217; (Joao Luis)</li>
<li>mon: fix &#8216;ceph osd crush reweight ...&#8217; (Joao Luis)</li>
<li>mon: fix &#8216;osd crush move ...&#8217; command for buckets (Joao Luis)</li>
<li>mon: fix byte counts (off by factor of 4) (Dan Mick, Joao Luis)</li>
<li>mon: fix paxos corner case</li>
<li>mon: kv properties for pools to support EC (Loic Dachary)</li>
<li>mon: make &#8216;osd pool rename&#8217; idempotent (Joao Luis)</li>
<li>mon: modify &#8216;auth add&#8217; semantics to make a bit more sense (Joao Luis)</li>
<li>mon: new &#8216;osd perf&#8217; command to dump recent performance information (Samuel Just)</li>
<li>mon: new and improved &#8216;ceph -s&#8217; or &#8216;ceph status&#8217; command (more info, easier to read)</li>
<li>mon: some auth check cleanups (Joao Luis)</li>
<li>mon: track per-pool stats (Joao Luis)</li>
<li>mon: warn about pools with bad pg_num</li>
<li>mon: warn when mon data stores grow very large (Joao Luis)</li>
<li>monc: fix small memory leak</li>
<li>new wireshark patches pulled into the tree (Kevin Jones)</li>
<li>objecter, librados: redirect requests based on cache tier config</li>
<li>objecter: fix possible hang when cluster is unpaused (Josh Durgin)</li>
<li>osd, librados: add new COPY_FROM rados operation</li>
<li>osd, librados: add new COPY_GET rados operations (used by COPY_FROM)</li>
<li>osd: &#8216;osd recover clone overlap limit&#8217; option to limit cloning during recovery (Samuel Just)</li>
<li>osd: COPY_GET on-wire encoding improvements (Greg Farnum)</li>
<li>osd: add &#8216;osd heartbeat min healthy ratio&#8217; configurable (was hard-coded at 33%)</li>
<li>osd: add option to disable pg log debug code (which burns CPU)</li>
<li>osd: allow cap strings with . to be unquoted</li>
<li>osd: automatically detect proper xattr limits (David Zafman)</li>
<li>osd: avoid extra copy in erasure coding reference implementation (Loic Dachary)</li>
<li>osd: basic cache pool redirects (Greg Farnum)</li>
<li>osd: basic whiteout, dirty flag support (not yet used)</li>
<li>osd: bloom_filter encodability, fixes, cleanups (Loic Dachary, Sage Weil)</li>
<li>osd: clean up and generalize copy-from code (Greg Farnum)</li>
<li>osd: cls_hello OSD class example</li>
<li>osd: erasure coding doc updates (Loic Dachary)</li>
<li>osd: erasure coding plugin infrastructure, tests (Loic Dachary)</li>
<li>osd: experiemental support for ZFS (zfsonlinux.org) (Yan, Zheng)</li>
<li>osd: fix RWORDER flags</li>
<li>osd: fix exponential backoff of slow request warnings (Loic Dachary)</li>
<li>osd: fix handling of racing read vs write (Samuel Just)</li>
<li>osd: fix version value returned by various operations (Greg Farnum)</li>
<li>osd: generalized temp object infrastructure</li>
<li>osd: ghobject_t infrastructure for EC (David Zafman)</li>
<li>osd: improvements for compatset support and storage (David Zafman)</li>
<li>osd: infrastructure to copy objects from other OSDs</li>
<li>osd: instrument peering states (David Zafman)</li>
<li>osd: misc copy-from improvements</li>
<li>osd: opportunistic crc checking on stored data (off by default)</li>
<li>osd: properly enforce RD/WR flags for rados classes</li>
<li>osd: reduce blocking on backing fs (Samuel Just)</li>
<li>osd: refactor recovery using PGBackend (Samuel Just)</li>
<li>osd: remove old magical tmap-&gt;omap conversion</li>
<li>osd: remove old pg log on upgrade (Samuel Just)</li>
<li>osd: revert xattr size limit (fixes large rgw uploads)</li>
<li>osd: use fdatasync(2) instead of fsync(2) to improve performance (Sam Just)</li>
<li>pybind: fix blacklisting nonce (Loic Dachary)</li>
<li>radosgw-agent: multi-region replication/DR</li>
<li>rgw: complete in-progress requests before shutting down</li>
<li>rgw: default log level is now more reasonable (Yehuda Sadeh)</li>
<li>rgw: fix S3 auth with response-* query string params (Sylvain Munaut, Yehuda Sadeh)</li>
<li>rgw: fix a few minor memory leaks (Yehuda Sadeh)</li>
<li>rgw: fix acl group check (Yehuda Sadeh)</li>
<li>rgw: fix inefficient use of std::list::size() (Yehuda Sadeh)</li>
<li>rgw: fix major CPU utilization bug with internal caching (Yehuda Sadeh, Mark Nelson)</li>
<li>rgw: fix ordering of write operations (preventing data loss on crash) (Yehuda Sadeh)</li>
<li>rgw: fix ordering of writes for mulitpart upload (Yehuda Sadeh)</li>
<li>rgw: fix various CORS bugs (Yehuda Sadeh)</li>
<li>rgw: fix/improve swift COPY support (Yehuda Sadeh)</li>
<li>rgw: improve help output (Christophe Courtaut)</li>
<li>rgw: misc fixes to support DR (Josh Durgin, Yehuda Sadeh)</li>
<li>rgw: per-bucket quota (Yehuda Sadeh)</li>
<li>rgw: validate S3 tokens against keystone (Roald J. van Loon)</li>
<li>rgw: wildcard support for keystone roles (Christophe Courtaut)</li>
<li>rpm: fix junit dependencies (Alan Grosskurth)</li>
<li>sysvinit radosgw: fix status return code (Danny Al-Gaaf)</li>
<li>sysvinit rbdmap: fix error &#8216;service rbdmap stop&#8217; (Laurent Barbe)</li>
<li>sysvinit: add condrestart command (Dan van der Ster)</li>
<li>sysvinit: fix shutdown order (mons last) (Alfredo Deza)</li>
</ul>
</div>
</div>
<div class="section" id="v0-71">
<h2>v0.71<a class="headerlink" href="#v0-71" title="Permalink to this headline">¶</a></h2>
<p>This development release includes a significant amount of new code and
refactoring, as well as a lot of preliminary functionality that will be needed
for erasure coding and tiering support.  There are also several significant
patch sets improving this with the MDS.</p>
<div class="section" id="id2572">
<h3>Upgrading<a class="headerlink" href="#id2572" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The MDS now disallows snapshots by default as they are not
considered stable.  The command &#8216;ceph mds set allow_snaps&#8217; will
enable them.</li>
<li>For clusters that were created before v0.44 (pre-argonaut, Spring
2012) and store radosgw data, the auto-upgrade from TMAP to OMAP
objects has been disabled.  Before upgrading, make sure that any
buckets created on pre-argonaut releases have been modified (e.g.,
by PUTing and then DELETEing an object from each bucket).  Any
cluster created with argonaut (v0.48) or a later release or not
using radosgw never relied on the automatic conversion and is not
affected by this change.</li>
<li>Any direct users of the &#8216;tmap&#8217; portion of the librados API should be
aware that the automatic tmap -&gt; omap conversion functionality has
been removed.</li>
<li>Most output that used K or KB (e.g., for kilobyte) now uses a
lower-case k to match the official SI convention.  Any scripts that
parse output and check for an upper-case K will need to be modified.</li>
</ul>
</div>
<div class="section" id="id2573">
<h3>Notable Changes<a class="headerlink" href="#id2573" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build: Makefile refactor (Roald J. van Loon)</li>
<li>ceph-disk: fix journal preallocation</li>
<li>ceph-fuse: trim deleted inodes from cache (Yan, Zheng)</li>
<li>ceph-fuse: use newer fuse api (Jianpeng Ma)</li>
<li>ceph-kvstore-tool: new tool for working with leveldb (copy, crc) (Joao Luis)</li>
<li>common: bloom_filter improvements, cleanups</li>
<li>common: correct SI is kB not KB (Dan Mick)</li>
<li>common: misc portability fixes (Noah Watkins)</li>
<li>hadoop: removed old version of shim to avoid confusing users (Noah Watkins)</li>
<li>librados: fix installed header #includes (Dan Mick)</li>
<li>librbd, ceph-fuse: avoid some sources of ceph-fuse, rbd cache stalls</li>
<li>mds: fix LOOKUPSNAP bug</li>
<li>mds: fix standby-replay when we fall behind (Yan, Zheng)</li>
<li>mds: fix stray directory purging (Yan, Zheng)</li>
<li>mon: disallow CephFS snapshots until &#8216;ceph mds set allow_new_snaps&#8217; (Greg Farnum)</li>
<li>mon, osd: improve osdmap trimming logic (Samuel Just)</li>
<li>mon: kv properties for pools to support EC (Loic Dachary)</li>
<li>mon: some auth check cleanups (Joao Luis)</li>
<li>mon: track per-pool stats (Joao Luis)</li>
<li>mon: warn about pools with bad pg_num</li>
<li>osd: automatically detect proper xattr limits (David Zafman)</li>
<li>osd: avoid extra copy in erasure coding reference implementation (Loic Dachary)</li>
<li>osd: basic cache pool redirects (Greg Farnum)</li>
<li>osd: basic whiteout, dirty flag support (not yet used)</li>
<li>osd: clean up and generalize copy-from code (Greg Farnum)</li>
<li>osd: erasure coding doc updates (Loic Dachary)</li>
<li>osd: erasure coding plugin infrastructure, tests (Loic Dachary)</li>
<li>osd: fix RWORDER flags</li>
<li>osd: fix exponential backoff of slow request warnings (Loic Dachary)</li>
<li>osd: generalized temp object infrastructure</li>
<li>osd: ghobject_t infrastructure for EC (David Zafman)</li>
<li>osd: improvements for compatset support and storage (David Zafman)</li>
<li>osd: misc copy-from improvements</li>
<li>osd: opportunistic crc checking on stored data (off by default)</li>
<li>osd: refactor recovery using PGBackend (Samuel Just)</li>
<li>osd: remove old magical tmap-&gt;omap conversion</li>
<li>pybind: fix blacklisting nonce (Loic Dachary)</li>
<li>rgw: default log level is now more reasonable (Yehuda Sadeh)</li>
<li>rgw: fix acl group check (Yehuda Sadeh)</li>
<li>sysvinit: fix shutdown order (mons last) (Alfredo Deza)</li>
</ul>
</div>
</div>
<div class="section" id="v0-70">
<h2>v0.70<a class="headerlink" href="#v0-70" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2574">
<h3>Upgrading<a class="headerlink" href="#id2574" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>librados::Rados::pool_create_async() and librados::Rados::pool_delete_async()
don&#8217;t drop a reference to the completion object on error, caller needs to take
care of that. This has never really worked correctly and we were leaking an
object</li>
<li>&#8216;ceph osd crush set &lt;id&gt; &lt;weight&gt; &lt;loc..&gt;&#8217; no longer adds the osd to the
specified location, as that&#8217;s a job for &#8216;ceph osd crush add&#8217;.  It will
however continue to work just the same as long as the osd already exists
in the crush map.</li>
</ul>
</div>
<div class="section" id="id2575">
<h3>Notable Changes<a class="headerlink" href="#id2575" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: a few &#8216;ceph mon add&#8217; races fixed (command is now idempotent) (Joao Luis)</li>
<li>crush: fix name caching</li>
<li>rgw: fix a few minor memory leaks (Yehuda Sadeh)</li>
<li>ceph: improve parsing of CEPH_ARGS (Benoit Knecht)</li>
<li>mon: avoid rewriting full osdmaps on restart (Joao Luis)</li>
<li>crc32c: fix optimized crc32c code (it now detects arch support properly)</li>
<li>mon: fix &#8216;ceph osd crush reweight ...&#8217; (Joao Luis)</li>
<li>osd: revert xattr size limit (fixes large rgw uploads)</li>
<li>mds: fix heap profiler commands (Joao Luis)</li>
<li>rgw: fix inefficient use of std::list::size() (Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v0-69">
<h2>v0.69<a class="headerlink" href="#v0-69" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2576">
<h3>Upgrading<a class="headerlink" href="#id2576" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The sysvinit /etc/init.d/ceph script will, by default, update the
CRUSH location of an OSD when it starts.  Previously, if the
monitors were not available, this command would hang indefinitely.
Now, that step will time out after 10 seconds and the ceph-osd daemon
will not be started.</li>
<li>Users of the librados C++ API should replace users of get_version()
with get_version64() as the old method only returns a 32-bit value
for a 64-bit field.  The existing 32-bit get_version() method is now
deprecated.</li>
<li>The OSDs are now more picky that request payload match their
declared size.  A write operation across N bytes that includes M
bytes of data will now be rejected.  No known clients do this, but
the because the server-side behavior has changed it is possible that
an application misusing the interface may now get errors.</li>
<li>The OSD now enforces that class write methods cannot both mutate an
object and return data.  The rbd.assign_bid method, the lone
offender, has been removed.  This breaks compatibility with
pre-bobtail librbd clients by preventing them from creating new
images.</li>
<li>librados now returns on commit instead of ack for synchronous calls.
This is a bit safer in the case where both OSDs and the client crash, and
is probably how it should have been acting from the beginning. Users are
unlikely to notice but it could result in lower performance in some
circumstances. Those who care should switch to using the async interfaces,
which let you specify safety semantics precisely.</li>
<li>The C++ librados AioComplete::get_version() method was incorrectly
returning an int (usually 32-bits).  To avoid breaking library
compatibility, a get_version64() method is added that returns the
full-width value.  The old method is deprecated and will be removed
in a future release.  Users of the C++ librados API that make use of
the get_version() method should modify their code to avoid getting a
value that is truncated from 64 to to 32 bits.</li>
</ul>
</div>
<div class="section" id="id2577">
<h3>Notable Changes<a class="headerlink" href="#id2577" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>build cleanly under clang (Christophe Courtaut)</li>
<li>common: migrate SharedPtrRegistry to use boost::shared_ptr&lt;&gt; (Loic Dachary)</li>
<li>doc: erasure coding design notes (Loic Dachary)</li>
<li>improved intel-optimized crc32c support (~8x faster on my laptop!)</li>
<li>librados: get_version64() method for C++ API</li>
<li>mds: fix locking deadlock (David Disseldorp)</li>
<li>mon, osd: initial CLI for configuring tiering</li>
<li>mon: allow cap strings with . to be unquoted</li>
<li>mon: continue to discover peer addr info during election phase</li>
<li>mon: fix &#8216;osd crush move ...&#8217; command for buckets (Joao Luis)</li>
<li>mon: warn when mon data stores grow very large (Joao Luis)</li>
<li>objecter, librados: redirect requests based on cache tier config</li>
<li>osd, librados: add new COPY_FROM rados operation</li>
<li>osd, librados: add new COPY_GET rados operations (used by COPY_FROM)</li>
<li>osd: add &#8216;osd heartbeat min healthy ratio&#8217; configurable (was hard-coded at 33%)</li>
<li>osd: add option to disable pg log debug code (which burns CPU)</li>
<li>osd: allow cap strings with . to be unquoted</li>
<li>osd: fix version value returned by various operations (Greg Farnum)</li>
<li>osd: infrastructure to copy objects from other OSDs</li>
<li>osd: use fdatasync(2) instead of fsync(2) to improve performance (Sam Just)</li>
<li>rgw: fix major CPU utilization bug with internal caching (Yehuda Sadeh, Mark Nelson)</li>
<li>rgw: fix ordering of write operations (preventing data loss on crash) (Yehuda Sadeh)</li>
<li>rgw: fix ordering of writes for mulitpart upload (Yehuda Sadeh)</li>
<li>rgw: fix various CORS bugs (Yehuda Sadeh)</li>
<li>rgw: improve help output (Christophe Courtaut)</li>
<li>rgw: validate S3 tokens against keystone (Roald J. van Loon)</li>
<li>rgw: wildcard support for keystone roles (Christophe Courtaut)</li>
<li>sysvinit radosgw: fix status return code (Danny Al-Gaaf)</li>
<li>sysvinit rbdmap: fix error &#8216;service rbdmap stop&#8217; (Laurent Barbe)</li>
</ul>
</div>
</div>
<div class="section" id="v0-68">
<h2>v0.68<a class="headerlink" href="#v0-68" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2578">
<h3>Upgrading<a class="headerlink" href="#id2578" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&#8216;ceph osd crush set &lt;id&gt; &lt;weight&gt; &lt;loc..&gt;&#8217; no longer adds the osd to the
specified location, as that&#8217;s a job for &#8216;ceph osd crush add&#8217;.  It will
however continue to work just the same as long as the osd already exists
in the crush map.</li>
<li>The OSD now enforces that class write methods cannot both mutate an
object and return data.  The rbd.assign_bid method, the lone
offender, has been removed.  This breaks compatibility with
pre-bobtail librbd clients by preventing them from creating new
images.</li>
<li>librados now returns on commit instead of ack for synchronous calls.
This is a bit safer in the case where both OSDs and the client crash, and
is probably how it should have been acting from the beginning. Users are
unlikely to notice but it could result in lower performance in some
circumstances. Those who care should switch to using the async interfaces,
which let you specify safety semantics precisely.</li>
<li>The C++ librados AioComplete::get_version() method was incorrectly
returning an int (usually 32-bits).  To avoid breaking library
compatibility, a get_version64() method is added that returns the
full-width value.  The old method is deprecated and will be removed
in a future release.  Users of the C++ librados API that make use of
the get_version() method should modify their code to avoid getting a
value that is truncated from 64 to to 32 bits.</li>
</ul>
</div>
<div class="section" id="id2579">
<h3>Notable Changes<a class="headerlink" href="#id2579" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-fuse: fix problem with readahead vs truncate race (Yan, Zheng)</li>
<li>ceph-post-file: new command to easily share logs or other files with ceph devs</li>
<li>ceph: parse CEPH_ARGS env variable</li>
<li>librados: fix async aio completion wakeup</li>
<li>librados: hello_world example (Greg Farnum)</li>
<li>librados: sync calls now return on commit (instead of ack) (Greg Farnum)</li>
<li>mds: fix mds rejoin with legacy parent backpointer xattrs (Alexandre Oliva)</li>
<li>mds: fix rare restart/failure race during fs creation</li>
<li>mds: notify clients about deleted files (so they can release from their cache) (Yan, Zheng)</li>
<li>mds: several bug fixes with clustered mds (Yan, Zheng)</li>
<li>mon: allow logging level of cluster log (/var/log/ceph/ceph.log) to be adjusted</li>
<li>mon: do not expose uncommitted state from &#8216;osd crush {add,set} ...&#8217; (Joao Luis)</li>
<li>mon: fix byte counts (off by factor of 4) (Dan Mick, Joao Luis)</li>
<li>mon: fix paxos corner case</li>
<li>mon: modify &#8216;auth add&#8217; semantics to make a bit more sense (Joao Luis)</li>
<li>mon: new &#8216;osd perf&#8217; command to dump recent performance information (Samuel Just)</li>
<li>mon: new and improved &#8216;ceph -s&#8217; or &#8216;ceph status&#8217; command (more info, easier to read)</li>
<li>monc: fix small memory leak</li>
<li>new wireshark patches pulled into the tree (Kevin Jones)</li>
<li>objecter: fix possible hang when cluster is unpaused (Josh Durgin)</li>
<li>osd: &#8216;osd recover clone overlap limit&#8217; option to limit cloning during recovery (Samuel Just)</li>
<li>osd: cls_hello OSD class example</li>
<li>osd: experiemental support for ZFS (zfsonlinux.org) (Yan, Zheng)</li>
<li>osd: instrument peering states (David Zafman)</li>
<li>osd: properly enforce RD/WR flags for rados classes</li>
<li>osd: remove old pg log on upgrade (Samuel Just)</li>
<li>rgw: complete in-progress requests before shutting down</li>
<li>rgw: fix S3 auth with response-* query string params (Sylvain Munaut, Yehuda Sadeh)</li>
<li>sysvinit: add condrestart command (Dan van der Ster)</li>
</ul>
</div>
</div>
<div class="section" id="v0-67-12-dumpling-draft">
<h2>v0.67.12 &#8220;Dumpling&#8221; (draft)<a class="headerlink" href="#v0-67-12-dumpling-draft" title="Permalink to this headline">¶</a></h2>
<p>This stable update for Dumpling fixes a few longstanding issues with
backfill in the OSD that can lead to stalled IOs.  There is also a fix
for memory utilization for reads in librbd when caching is enabled,
and then several other small fixes across the rest of the system.</p>
<p>Dumpling users who have encountered IO stalls during backfill and who
do not expect to upgrade to Firefly soon should upgrade.  Everyone
else should upgrade to Firefly already.  This is likely to be the last stable
release for the 0.67.x Dumpling series.</p>
<div class="section" id="id2580">
<h3>Notable Changes<a class="headerlink" href="#id2580" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>buffer: fix buffer rebuild alignment corner case (#6614 #6003 Loic Dachary, Samuel Just)</li>
<li>ceph-disk: reprobe partitions after zap (#9665 #9721 Loic Dachary)</li>
<li>ceph-disk: use partx instead of partprobe when appropriate (Loic Dachary)</li>
<li>common: add $cctid meta variable (#6228 Adam Crume)</li>
<li>crush: fix get_full_location_ordered (Sage Weil)</li>
<li>crush: pick ruleset id that matches rule_id (#9675 Xiaoxi Chen)</li>
<li>libcephfs: fix tid wrap bug (#9869 Greg Farnum)</li>
<li>libcephfs: get osd location on -1 should return EINVAL (Sage Weil)</li>
<li>librados: fix race condition with C API and op timeouts (#9582 Sage Weil)</li>
<li>librbd: constrain max number of in-flight read requests (#9854 Jason Dillaman)</li>
<li>librbd: enforce cache size on read requests (Jason Dillaman)</li>
<li>librbd: fix invalid close in image open failure path (#10030 Jason Dillaman)</li>
<li>librbd: fix read hang on sparse files (Jason Dillaman)</li>
<li>librbd: gracefully handle deleted/renamed pools (#10270 #10122 Jason Dillaman)</li>
<li>librbd: protect list_children from invalid child pool ioctxs (#10123 Jason Dillaman)</li>
<li>mds: fix ctime updates from clients without dirty caps (#9514 Greg Farnum)</li>
<li>mds: fix rare NULL dereference in cap update path (Greg Farnum)</li>
<li>mds: fix assertion caused by system clock backwards (#11053 Yan, Zheng)</li>
<li>mds: store backtrace on straydir (Yan, Zheng)</li>
<li>osd: fix journal committed_thru update after replay (#6756 Samuel Just)</li>
<li>osd: fix memory leak, busy loop on snap trim (#9113 Samuel Just)</li>
<li>osd: fix misc peering, recovery bugs (#10168 Samuel Just)</li>
<li>osd: fix purged_snap field on backfill start (#9487 Sage Weil, Samuel Just)</li>
<li>osd: handle no-op write with snapshot corner case (#10262 Sage Weil, Loic Dachary)</li>
<li>osd: respect RWORDERED rados flag (Sage Weil)</li>
<li>osd: several backfill fixes and refactors (Samuel Just, David Zafman)</li>
<li>rgw: send http status reason explicitly in fastcgi (Yehuda Sadeh)</li>
</ul>
</div>
</div>
<div class="section" id="v0-67-11-dumpling">
<h2>v0.67.11 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-11-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This stable update for Dumpling fixes several important bugs that
affect a small set of users.</p>
<p>We recommend that all Dumpling users upgrade at their convenience.  If
none of these issues are affecting your deployment there is no
urgency.</p>
<div class="section" id="id2581">
<h3>Notable Changes<a class="headerlink" href="#id2581" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>common: fix sending dup cluster log items (#9080 Sage Weil)</li>
<li>doc: several doc updates (Alfredo Deza)</li>
<li>libcephfs-java: fix build against older JNI headesr (Greg Farnum)</li>
<li>librados: fix crash in op timeout path (#9362 Matthias Kiefer, Sage Weil)</li>
<li>librbd: fix crash using clone of flattened image (#8845 Josh Durgin)</li>
<li>librbd: fix error path cleanup when failing to open image (#8912 Josh Durgin)</li>
<li>mon: fix crash when adjusting pg_num before any OSDs are added (#9052 Sage Weil)</li>
<li>mon: reduce log noise from paxos (Aanchal Agrawal, Sage Weil)</li>
<li>osd: allow scrub and snap trim thread pool IO priority to be adjusted (Sage Weil)</li>
<li>osd: fix mount/remount sync race (#9144 Sage Weil)</li>
</ul>
</div>
</div>
<div class="section" id="v0-67-10-dumpling">
<h2>v0.67.10 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-10-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This stable update release for Dumpling includes primarily fixes for
RGW, including several issues with bucket listings and a potential
data corruption problem when multiple multi-part uploads race.  There is also
some throttling capability added in the OSD for scrub that can mitigate the
performance impact on production clusters.</p>
<p>We recommend that all Dumpling users upgrade at their convenience.</p>
<div class="section" id="id2582">
<h3>Notable Changes<a class="headerlink" href="#id2582" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-disk: partprobe befoere settle, fixing dm-crypt (#6966, Eric Eastman)</li>
<li>librbd: add invalidate cache interface (Josh Durgin)</li>
<li>librbd: close image if remove_child fails (Ilya Dryomov)</li>
<li>librbd: fix potential null pointer dereference (Danny Al-Gaaf)</li>
<li>librbd: improve writeback checks, performance (Haomai Wang)</li>
<li>librbd: skip zeroes when copying image (#6257, Josh Durgin)</li>
<li>mon: fix rule(set) check on &#8216;ceph pool set ... crush_ruleset ...&#8217; (#8599, John Spray)</li>
<li>mon: shut down if mon is removed from cluster (#6789, Joao Eduardo Luis)</li>
<li>osd: fix filestore perf reports to mon (Sage Weil)</li>
<li>osd: force any new or updated xattr into leveldb if E2BIG from XFS (#7779, Sage Weil)</li>
<li>osd: lock snapdir object during write to fix race with backfill (Samuel Just)</li>
<li>osd: option sleep during scrub (Sage Weil)</li>
<li>osd: set io priority on scrub and snap trim threads (Sage Weil)</li>
<li>osd: &#8216;status&#8217; admin socket command (Sage Weil)</li>
<li>rbd: tolerate missing NULL terminator on block_name_prefix (#7577, Dan Mick)</li>
<li>rgw: calculate user manifest (#8169, Yehuda Sadeh)</li>
<li>rgw: fix abort on chunk read error, avoid using extra memory (#8289, Yehuda Sadeh)</li>
<li>rgw: fix buffer overflow on bucket instance id (#8608, Yehuda Sadeh)</li>
<li>rgw: fix crash in swift CORS preflight request (#8586, Yehuda Sadeh)</li>
<li>rgw: fix implicit removal of old objects on object creation (#8972, Patrycja Szablowska, Yehuda Sadeh)</li>
<li>rgw: fix MaxKeys in bucket listing (Yehuda Sadeh)</li>
<li>rgw: fix race with multiple updates to a single multipart object (#8269, Yehuda Sadeh)</li>
<li>rgw: improve bucket listing with delimiter (Yehuda Sadeh)</li>
<li>rgw: include NextMarker in bucket listing (#8858, Yehuda Sadeh)</li>
<li>rgw: return error early on non-existent bucket (#7064, Yehuda Sadeh)</li>
<li>rgw: set truncation flag correctly in bucket listing (Yehuda Sadeh)</li>
<li>sysvinit: continue starting daemons after pre-mount error (#8554, Sage Weil)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.67.10.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-67-9-dumpling">
<h2>v0.67.9 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-9-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This Dumpling point release fixes several minor bugs. The most
prevalent in the field is one that occasionally prevents OSDs from
starting on recently created clusters.</p>
<p>We recommend that all Dumpling users upgrade at their convenience.</p>
<div class="section" id="id2583">
<h3>Notable Changes<a class="headerlink" href="#id2583" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-fuse, libcephfs: client admin socket command to kick and inspect MDS sessions (#8021, Zheng Yan)</li>
<li>monclient: fix failure detection during mon handshake (#8278, Sage Weil)</li>
<li>mon: set tid on no-op PGStatsAck messages (#8280, Sage Weil)</li>
<li>msgr: fix a rare bug with connection negotiation between OSDs (Guang Yang)</li>
<li>osd: allow snap trim throttling with simple delay (#6278, Sage Weil)</li>
<li>osd: check for splitting when processing recover/backfill reservations (#6565, Samuel Just)</li>
<li>osd: fix backfill position tracking (#8162, Samuel Just)</li>
<li>osd: fix bug in backfill stats (Samuel Just)</li>
<li>osd: fix bug preventing OSD startup for infant clusters (#8162, Greg Farnum)</li>
<li>osd: fix rare PG resurrection race causing an incomplete PG (#7740, Samuel Just)</li>
<li>osd: only complete replicas count toward min_size (#7805, Samuel Just)</li>
<li>rgw: allow setting ACLs with empty owner (#6892, Yehuda Sadeh)</li>
<li>rgw: send user manifest header field (#8170, Yehuda Sadeh)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.67.9.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-67-8-dumpling">
<h2>v0.67.8 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-8-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This Dumpling point release fixes several non-critical issues since
v0.67.7.  The most notable bug fixes are an auth fix in librbd
(observed as an occasional crash from KVM), an improvement in the
network failure detection with the monitor, and several hard to hit
OSD crashes or hangs.</p>
<p>We recommend that all users upgrade at their convenience.</p>
<div class="section" id="id2584">
<h3>Upgrading<a class="headerlink" href="#id2584" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The &#8216;rbd ls&#8217; function now returns success and returns an empty when a pool
does not store any rbd images.  Previously it would return an ENOENT error.</li>
<li>Ceph will now issue a health warning if the &#8216;mon osd down out
interval&#8217; config option is set to zero.  This warning can be
disabled by adding &#8216;mon warn on osd down out interval zero = false&#8217;
to ceph.conf.</li>
</ul>
</div>
<div class="section" id="id2585">
<h3>Notable Changes<a class="headerlink" href="#id2585" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>all: improve keepalive detection of failed monitor connections (#7888, Sage Weil)</li>
<li>ceph-fuse, libcephfs: pin inodes during readahead, fixing rare crash (#7867, Sage Weil)</li>
<li>librbd: make cache writeback a bit less aggressive (Sage Weil)</li>
<li>librbd: make symlink for qemu to detect librbd in RPM (#7293, Josh Durgin)</li>
<li>mon: allow &#8216;hashpspool&#8217; pool flag to be set and unset (Loic Dachary)</li>
<li>mon: commit paxos state only after entire quorum acks, fixing rare race where prior round state is readable (#7736, Sage Weil)</li>
<li>mon: make elections and timeouts a bit more robust (#7212, Sage Weil)</li>
<li>mon: prevent extreme pool split operations (Greg Farnum)</li>
<li>mon: wait for quorum for get_version requests to close rare pool creation race (#7997, Sage Weil)</li>
<li>mon: warn on &#8216;mon osd down out interval = 0&#8217; (#7784, Joao Luis)</li>
<li>msgr: fix byte-order for auth challenge, fixing auth errors on big-endian clients (#7977, Dan Mick)</li>
<li>msgr: fix occasional crash in authentication code (usually triggered by librbd) (#6840, Josh Durgin)</li>
<li>msgr: fix rebind() race (#6992, Xihui He)</li>
<li>osd: avoid timeouts during slow PG deletion (#6528, Samuel Just)</li>
<li>osd: fix bug in pool listing during recovery (#6633, Samuel Just)</li>
<li>osd: fix queue limits, fixing recovery stalls (#7706, Samuel Just)</li>
<li>osd: fix rare peering crashes (#6722, #6910, Samuel Just)</li>
<li>osd: fix rare recovery hang (#6681, Samuel Just)</li>
<li>osd: improve error handling on journal errors (#7738, Sage Weil)</li>
<li>osd: reduce load on the monitor from OSDMap subscriptions (Greg Farnum)</li>
<li>osd: rery GetLog on peer osd startup, fixing some rare peering stalls (#6909, Samuel Just)</li>
<li>osd: reset journal state on remount to fix occasional crash on OSD startup (#8019, Sage Weil)</li>
<li>osd: share maps with peers more aggressively (Greg Farnum)</li>
<li>rbd: make it harder to delete an rbd image that is currently in use (#7076, Ilya Drymov)</li>
<li>rgw: deny writes to secondary zone by non-system users (#6678, Yehuda Sadeh)</li>
<li>rgw: do&#8217;nt log system requests in usage log (#6889, Yehuda Sadeh)</li>
<li>rgw: fix bucket recreation (#6951, Yehuda Sadeh)</li>
<li>rgw: fix Swift range response (#7099, Julien Calvet, Yehuda Sadeh)</li>
<li>rgw: fix URL escaping (#8202, Yehuda Sadeh)</li>
<li>rgw: fix whitespace trimming in http headers (#7543, Yehuda Sadeh)</li>
<li>rgw: make multi-object deletion idempotent (#7346, Yehuda Sadeh)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.67.8.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-67-7-dumpling">
<h2>v0.67.7 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-7-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This Dumpling point release fixes a few critical issues in v0.67.6.</p>
<p>All v0.67.6 users are urgently encouraged to upgrade.  We also
recommend that all v0.67.5 (or older) users upgrade.</p>
<div class="section" id="id2586">
<h3>Upgrading<a class="headerlink" href="#id2586" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Once you have upgraded a radosgw instance or OSD to v0.67.7, you should not
downgrade to a previous version.</li>
</ul>
</div>
<div class="section" id="id2587">
<h3>Notable Changes<a class="headerlink" href="#id2587" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-disk: additional unit tests</li>
<li>librbd: revert caching behavior change in v0.67.6</li>
<li>osd: fix problem reading xattrs due to incomplete backport in v0.67.6</li>
<li>radosgw-admin: fix reading object policy</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.67.7.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-67-6-dumpling">
<h2>v0.67.6 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-6-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This Dumpling point release contains a number of important fixed for
the OSD, monitor, and radosgw.  Most significantly, a change that
forces large object attributes to spill over into leveldb has been
backported that can prevent objects and the cluster from being damaged
by large attributes (which can be induced via the radosgw).  There is
also a set of fixes that improves data safety and RADOS semantics when
the cluster becomes full and then non-full.</p>
<p>We recommend that all 0.67.x Dumpling users skip this release and upgrade to v0.67.7.</p>
<div class="section" id="id2588">
<h3>Upgrading<a class="headerlink" href="#id2588" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The OSD has long contained a feature that allows large xattrs to
spill over into the leveldb backing store in situations where not
all local file systems are able to store them reliably.  This option
is now enabled unconditionally in order to avoid rare cases where
storing large xattrs renders the object unreadable. This is known to
be triggered by very large multipart objects, but could be caused by
other workloads as well.  Although there is some small risk that
performance for certain workloads will degrade, it is more important
that data be retrievable.  Note that newer versions of Ceph (e.g.,
firefly) do some additional work to avoid the potential performance
regression in this case, but that is current considered too complex
for backport to the Dumpling stable series.</li>
<li>It is very dangerous to downgrade from v0.67.6 to a prior version of
Dumpling.  If the old version does not have &#8216;filestore xattr use
omap = true&#8217; it may not be able to read all xattrs for an object and
can cause undefined behavior.</li>
</ul>
</div>
<div class="section" id="id2589">
<h3>Notable changes<a class="headerlink" href="#id2589" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-disk: misc bug fixes, particularly on RHEL (Loic Dachary, Alfredo Deza, various)</li>
<li>ceph-fuse, libcephfs: fix crash from read over certain sparseness patterns (Sage Weil)</li>
<li>ceph-fuse, libcephfs: fix integer overflow for sync reads racing with appends (Sage Weil)</li>
<li>ceph.spec: fix udev rule when building RPM under RHEL (Derek Yarnell)</li>
<li>common: fix crash from bad format from admin socket (Loic Dachary)</li>
<li>librados: add optional timeouts (Josh Durgin)</li>
<li>librados: do not leak budget when resending localized or redirected ops (Josh Durgin)</li>
<li>librados, osd: fix and improve full cluster handling (Josh Durgin)</li>
<li>librbd: fix use-after-free when updating perfcounters during image close (Josh Durgin)</li>
<li>librbd: remove limit on objects in cache (Josh Durgin)</li>
<li>mon: avoid on-disk full OSDMap corruption from pg_temp removal (Sage Weil)</li>
<li>mon: avoid stray pg_temp entries from pool deletion race (Joao Eduardo Luis)</li>
<li>mon: do not generate spurious MDSMaps from laggy daemons (Joao Eduardo Luis)</li>
<li>mon: fix error code from &#8216;osd rm|down|out|in ...&#8217; commands (Loic Dachary)</li>
<li>mon: include all health items in summary output (John Spray)</li>
<li>osd: fix occasional race/crash during startup (Sage Weil)</li>
<li>osd: ignore stray OSDMap messages during init (Sage Weil)</li>
<li>osd: unconditionally let xattrs overflow into leveldb (David Zafman)</li>
<li>rados: fix a few error checks for the CLI (Josh Durgin)</li>
<li>rgw: convert legacy bucket info objects on demand (Yehuda Sadeh)</li>
<li>rgw: fix bug causing system users to lose privileges (Yehuda Sadeh)</li>
<li>rgw: fix CORS bugs related to headers and case sensitivity (Robin H. Johnson)</li>
<li>rgw: fix multipart object listing (Yehuda Sadeh)</li>
<li>rgw: fix racing object creations (Yehuda Sadeh)</li>
<li>rgw: fix racing object put and delete (Yehuda Sadeh)</li>
<li>rgw: fix S3 auth when using response-* query string params (Sylvain Munaut)</li>
<li>rgw: use correct secret key for POST authentication (Robin H. Johnson)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.67.6.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-67-5-dumpling">
<h2>v0.67.5 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-5-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This release includes a few critical bug fixes for the radosgw,
including a fix for hanging operations on large objects.  There are also
several bug fixes for radosgw multi-site replications, and a few
backported features.  Also, notably, the &#8216;osd perf&#8217; command (which dumps
recent performance information about active OSDs) has been backported.</p>
<p>We recommend that all 0.67.x Dumpling users upgrade.</p>
<div class="section" id="id2590">
<h3>Notable changes<a class="headerlink" href="#id2590" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-fuse: fix crash in caching code</li>
<li>mds: fix looping in populate_mydir()</li>
<li>mds: fix standby-replay race</li>
<li>mon: accept &#8216;osd pool set ...&#8217; as string</li>
<li>mon: backport: &#8216;osd perf&#8217; command to dump recent OSD performance stats</li>
<li>osd: add feature compat check for upcoming object sharding</li>
<li>osd: fix osd bench block size argument</li>
<li>rbd.py: increase parent name size limit</li>
<li>rgw: backport: allow wildcard in supported keystone roles</li>
<li>rgw: backport: improve swift COPY behavior</li>
<li>rgw: backport: log and open admin socket by default</li>
<li>rgw: backport: validate S3 tokens against keystone</li>
<li>rgw: fix bucket removal</li>
<li>rgw: fix client error code for chunked PUT failure</li>
<li>rgw: fix hang on large object GET</li>
<li>rgw: fix rare use-after-free</li>
<li>rgw: various DR bug fixes</li>
<li>sysvinit, upstart: prevent starting daemons using both init systems</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.67.5.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-67-4-dumpling">
<h2>v0.67.4 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-4-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This point release fixes an important performance issue with radosgw,
keystone authentication token caching, and CORS.  All users
(especially those of rgw) are encouraged to upgrade.</p>
<div class="section" id="id2591">
<h3>Notable changes<a class="headerlink" href="#id2591" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>crush: fix invalidation of cached names</li>
<li>crushtool: do not crash on non-unique bucket ids</li>
<li>mds: be more careful when decoding LogEvents</li>
<li>mds: fix heap check debugging commands</li>
<li>mon: avoid rebuilding old full osdmaps</li>
<li>mon: fix &#8216;ceph crush move ...&#8217;</li>
<li>mon: fix &#8216;ceph osd crush reweight ...&#8217;</li>
<li>mon: fix writeout of full osdmaps during trim</li>
<li>mon: limit size of transactions</li>
<li>mon: prevent both unmanaged and pool snaps</li>
<li>osd: disable xattr size limit (prevents upload of large rgw objects)</li>
<li>osd: fix recovery op throttling</li>
<li>osd: fix throttling of log messages for very slow requests</li>
<li>rgw: drain pending requests before completing write</li>
<li>rgw: fix CORS</li>
<li>rgw: fix inefficient list::size() usage</li>
<li>rgw: fix keystone token expiration</li>
<li>rgw: fix minor memory leaks</li>
<li>rgw: fix null termination of buffer</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.67.4.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-67-3-dumpling">
<h2>v0.67.3 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-3-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This point release fixes a few important performance regressions with
the OSD (both with CPU and disk utilization), as well as several other
important but less common problems.  We recommend that all production users
upgrade.</p>
<div class="section" id="id2592">
<h3>Notable Changes<a class="headerlink" href="#id2592" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-disk: partprobe after creation journal partition</li>
<li>ceph-disk: specify fs type when mounting</li>
<li>ceph-post-file: new utility to help share logs and other files with ceph developers</li>
<li>libcephfs: fix truncate vs readahead race (crash)</li>
<li>mds: fix flock/fcntl lock deadlock</li>
<li>mds: fix rejoin loop when encountering pre-dumpling backpointers</li>
<li>mon: allow name and addr discovery during election stage</li>
<li>mon: always refresh after Paxos store_state (fixes recovery corner case)</li>
<li>mon: fix off-by-4x bug with osd byte counts</li>
<li>osd: add and disable &#8216;pg log keys debug&#8217; by default</li>
<li>osd: add option to disable throttling</li>
<li>osd: avoid leveldb iterators for pg log append and trim</li>
<li>osd: fix readdir_r invocations</li>
<li>osd: use fdatasync instead of sync</li>
<li>radosgw: fix sysvinit script return status</li>
<li>rbd: relicense as LGPL2</li>
<li>rgw: flush pending data on multipart upload</li>
<li>rgw: recheck object name during S3 POST</li>
<li>rgw: reorder init/startup</li>
<li>rpm: fix debuginfo package build</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.67.3.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-67-2-dumpling">
<h2>v0.67.2 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-2-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This is an imporant point release for Dumpling.  Most notably, it
fixes a problem when upgrading directly from v0.56.x Bobtail to
v0.67.x Dumpling (without stopping at v0.61.x Cuttlefish along the
way).  It also fixes a problem with the CLI parsing of the CEPH_ARGS
environment variable, high CPU utilization by the ceph-osd daemons,
and cleans up the radosgw shutdown sequence.</p>
<div class="section" id="id2593">
<h3>Notable Changes<a class="headerlink" href="#id2593" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>objecter: resend linger requests when cluster goes from full to non-full</li>
<li>ceph: parse CEPH_ARGS environment variable</li>
<li>librados: fix small memory leak</li>
<li>osd: remove old log objects on upgrade (fixes bobtail -&gt; dumpling jump)</li>
<li>osd: disable PGLog::check() via config option (fixes CPU burn)</li>
<li>rgw: drain requests on shutdown</li>
<li>rgw: misc memory leaks on shutdown</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.67.2.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-67-1-dumpling">
<h2>v0.67.1 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-1-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This is a minor point release for Dumpling that fixes problems with
OpenStack and librbd hangs when caching is disabled.</p>
<div class="section" id="id2594">
<h3>Notable changes<a class="headerlink" href="#id2594" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>librados, librbd: fix constructor for python bindings with certain
usages (in particular, that used by OpenStack)</li>
<li>librados, librbd: fix aio_flush wakeup when cache is disabled</li>
<li>librados: fix locking for aio completion refcounting</li>
<li>fixes &#8216;ceph &#8211;admin-daemon ...&#8217; command error code on error</li>
<li>fixes &#8216;ceph daemon ... config set ...&#8217; command for boolean config
options.</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.67.1.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-67-dumpling">
<h2>v0.67 &#8220;Dumpling&#8221;<a class="headerlink" href="#v0-67-dumpling" title="Permalink to this headline">¶</a></h2>
<p>This is the fourth major release of Ceph, code-named &#8220;Dumpling.&#8221;  The
headline features for this release include:</p>
<ul class="simple">
<li>Multi-site support for radosgw.  This includes the ability to set up
separate &#8220;regions&#8221; in the same or different Ceph clusters that share
a single S3/Swift bucket/container namespace.</li>
<li>RESTful API endpoint for Ceph cluster administration.
ceph-rest-api, a wrapper around ceph_rest_api.py, can be used to
start up a test single-threaded HTTP server that provides access to
cluster information and administration in very similar ways to the
ceph commandline tool.  ceph_rest_api.py can be used as a WSGI
application for deployment in a more-capable web server.  See
ceph-rest-api.8 for more.</li>
<li>Object namespaces in librados.</li>
</ul>
<div class="section" id="dumpling-upgrade">
<span id="id2595"></span><h3>Upgrade Sequencing<a class="headerlink" href="#dumpling-upgrade" title="Permalink to this headline">¶</a></h3>
<p>It is possible to do a rolling upgrade from Cuttlefish to Dumpling.</p>
<ol class="arabic simple">
<li>Upgrade ceph-common on all nodes that will use the command line
&#8216;ceph&#8217; utility.</li>
<li>Upgrade all monitors (upgrade ceph package, restart ceph-mon
daemons).  This can happen one daemon or host at a time.  Note that
because cuttlefish and dumpling monitors can&#8217;t talk to each other,
all monitors should be upgraded in relatively short succession to
minimize the risk that an a untimely failure will reduce
availability.</li>
<li>Upgrade all osds (upgrade ceph package, restart ceph-osd daemons).
This can happen one daemon or host at a time.</li>
<li>Upgrade radosgw (upgrade radosgw package, restart radosgw daemons).</li>
</ol>
</div>
<div class="section" id="upgrading-from-v0-66">
<h3>Upgrading from v0.66<a class="headerlink" href="#upgrading-from-v0-66" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">There is monitor internal protocol change, which means that v0.67
ceph-mon daemons cannot talk to v0.66 or older daemons.  We
recommend upgrading all monitors at once (or in relatively quick
succession) to minimize the possibility of downtime.</p>
</li>
<li><p class="first">The output of &#8216;ceph status &#8211;format=json&#8217; or &#8216;ceph -s &#8211;format=json&#8217;
has changed to return status information in a more structured and
usable format.</p>
</li>
<li><p class="first">The &#8216;ceph pg dump_stuck [threshold]&#8217; command used to require a
&#8211;threshold or -t prefix to the threshold argument, but now does
not.</p>
</li>
<li><p class="first">Many more ceph commands now output formatted information; select
with &#8216;&#8211;format=&lt;format&gt;&#8217;, where &lt;format&gt; can be &#8216;json&#8217;, &#8216;json-pretty&#8217;,
&#8216;xml&#8217;, or &#8216;xml-pretty&#8217;.</p>
</li>
<li><p class="first">The &#8216;ceph pg &lt;pgid&gt; ...&#8217; commands (like &#8216;ceph pg &lt;pgid&gt; query&#8217;) are
deprecated in favor of &#8216;ceph tell &lt;pgid&gt; ...&#8217;.  This makes the
distinction between &#8216;ceph pg &lt;command&gt; &lt;pgid&gt;&#8217; and &#8216;ceph pg &lt;pgid&gt;
&lt;command&gt;&#8217; less awkward by making it clearer that the &#8216;tell&#8217;
commands are talking to the OSD serving the placement group, not the
monitor.</p>
</li>
<li><p class="first">The &#8216;ceph &#8211;admin-daemon &lt;path&gt; &lt;command ...&gt;&#8217; used to accept the
command and arguments as either a single string or as separate
arguments.  It will now only accept the command spread across
multiple arguments.  This means that any script which does something
like:</p>
<div class="highlight-python"><pre>ceph --admin-daemon /var/run/ceph/ceph-osd.0.asok 'config set debug_ms 1'</pre>
</div>
<p>needs to remove the quotes.  Also, note that the above can now be
shortened to:</p>
<div class="highlight-python"><pre>ceph daemon osd.0 config set debug_ms 1</pre>
</div>
</li>
<li><p class="first">The radosgw caps were inconsistently documented to be either &#8216;mon =
allow r&#8217; or &#8216;mon = allow rw&#8217;.  The &#8216;mon = allow rw&#8217; is required for
radosgw to create its own pools.  All documentation has been updated
accordingly.</p>
</li>
<li><p class="first">The radosgw copy object operation may return extra progress info
during the operation. At this point it will only happen when doing
cross zone copy operations. The S3 response will now return extra
&lt;Progress&gt; field under the &lt;CopyResult&gt; container. The Swift
response will now send the progress as a json array.</p>
</li>
<li><p class="first">In v0.66 and v0.65 the HASHPSPOOL pool flag was enabled by default
for new pools, but has been disabled again until Linux kernel client
support reaches more distributions and users.</p>
</li>
<li><p class="first">ceph-osd now requires a max file descriptor limit (e.g., <tt class="docutils literal"><span class="pre">ulimit</span> <span class="pre">-n</span>
<span class="pre">...</span></tt>) of at least
filestore_wbthrottle_(xfs|btrfs)_inodes_hard_limit (5000 by default)
in order to accomodate the new write back throttle system.  On
Ubuntu, upstart now sets the fd limit to 32k.  On other platforms,
the sysvinit script will set it to 32k by default (still
overrideable via max_open_files).  If this field has been customized
in ceph.conf it should likely be adjusted upwards.</p>
</li>
</ul>
</div>
<div class="section" id="upgrading-from-v0-61-cuttlefish">
<h3>Upgrading from v0.61 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#upgrading-from-v0-61-cuttlefish" title="Permalink to this headline">¶</a></h3>
<p>In addition to the above notes about upgrading from v0.66:</p>
<ul>
<li><p class="first">There has been a huge revamp of the &#8216;ceph&#8217; command-line interface
implementation.  The <tt class="docutils literal"><span class="pre">ceph-common</span></tt> client library needs to be
upgrade before <tt class="docutils literal"><span class="pre">ceph-mon</span></tt> is restarted in order to avoid problems
using the CLI (the old <tt class="docutils literal"><span class="pre">ceph</span></tt> client utility cannot talk to the
new <tt class="docutils literal"><span class="pre">ceph-mon</span></tt>).</p>
</li>
<li><p class="first">The CLI is now very careful about sending the &#8216;status&#8217; one-liner
output to stderr and command output to stdout.  Scripts relying on
output should take care.</p>
</li>
<li><p class="first">The &#8216;ceph osd tell ...&#8217; and &#8216;ceph mon tell ...&#8217; commands are no
longer supported.  Any callers should use:</p>
<div class="highlight-python"><pre>ceph tell osd.&lt;id or *&gt; ...
ceph tell mon.&lt;id or name or *&gt; ...</pre>
</div>
<p>The &#8216;ceph mds tell ...&#8217; command is still there, but will soon also
transition to &#8216;ceph tell mds.&lt;id or name or *&gt; ...&#8217;</p>
</li>
<li><p class="first">The &#8216;ceph osd crush add ...&#8217; command used to take one of two forms:</p>
<div class="highlight-python"><pre>ceph osd crush add 123 osd.123 &lt;weight&gt; &lt;location ...&gt;
ceph osd crush add osd.123 &lt;weight&gt; &lt;location ...&gt;</pre>
</div>
<p>This is because the id and crush name are redundant.  Now only the
simple form is supported, where the osd name/id can either be a bare
id (integer) or name (osd.&lt;id&gt;):</p>
<div class="highlight-python"><pre>ceph osd crush add osd.123 &lt;weight&gt; &lt;location ...&gt;
ceph osd crush add 123 &lt;weight&gt; &lt;location ...&gt;</pre>
</div>
</li>
<li><p class="first">There is now a maximum RADOS object size, configurable via &#8216;osd max
object size&#8217;, defaulting to 100 GB.  Note that this has no effect on
RBD, CephFS, or radosgw, which all stripe over objects. If you are
using librados and storing objects larger than that, you will need
to adjust &#8216;osd max object size&#8217;, and should consider using smaller
objects instead.</p>
</li>
<li><p class="first">The &#8216;osd min down {reporters|reports}&#8217; config options have been
renamed to &#8216;mon osd min down {reporters|reports}&#8217;, and the
documentation has been updated to reflect that these options apply
to the monitors (who process failure reports) and not OSDs.  If you
have adjusted these settings, please update your <tt class="docutils literal"><span class="pre">ceph.conf</span></tt>
accordingly.</p>
</li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-66">
<h3>Notable changes since v0.66<a class="headerlink" href="#notable-changes-since-v0-66" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: sync improvements (performance and robustness)</li>
<li>mon: many bug fixes (paxos and services)</li>
<li>mon: fixed bugs in recovery and io rate reporting (negative/large values)</li>
<li>mon: collect metadata on osd performance</li>
<li>mon: generate health warnings from slow or stuck requests</li>
<li>mon: expanded &#8211;format=&lt;json|xml|...&gt; support for monitor commands</li>
<li>mon: scrub function for verifying data integrity</li>
<li>mon, osd: fix old osdmap trimming logic</li>
<li>mon: enable leveldb caching by default</li>
<li>mon: more efficient storage of PG metadata</li>
<li>ceph-rest-api: RESTful endpoint for administer cluster (mirrors CLI)</li>
<li>rgw: multi-region support</li>
<li>rgw: infrastructure to support georeplication of bucket and user metadata</li>
<li>rgw: infrastructure to support georeplication of bucket data</li>
<li>rgw: COPY object support between regions</li>
<li>rbd: /etc/ceph/rbdmap file for mapping rbd images on startup</li>
<li>osd: many bug fixes</li>
<li>osd: limit number of incremental osdmaps sent to peers (could cause osds to be wrongly marked down)</li>
<li>osd: more efficient small object recovery</li>
<li>osd, librados: support for object namespaces</li>
<li>osd: automatically enable xattrs on leveldb as necessary</li>
<li>mds: fix bug in LOOKUPINO (used by nfs reexport)</li>
<li>mds: fix O_TRUNC locking</li>
<li>msgr: fixed race condition in inter-osd network communication</li>
<li>msgr: fixed various memory leaks related to network sessions</li>
<li>ceph-disk: fixes for unusual device names, partition detection</li>
<li>hypertable: fixes for hypertable CephBroker bindings</li>
<li>use SSE4.2 crc32c instruction if present</li>
</ul>
</div>
<div class="section" id="notable-changes-since-v0-61-cuttlefish">
<h3>Notable changes since v0.61 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#notable-changes-since-v0-61-cuttlefish" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>add &#8216;config get&#8217; admin socket command</li>
<li>ceph-conf: &#8211;show-config-value now reflects daemon defaults</li>
<li>ceph-disk: add &#8216;[un]suppress-active DEV&#8217; command</li>
<li>ceph-disk: avoid mounting over an existing osd in /var/lib/ceph/osd/*</li>
<li>ceph-disk: fixes for unusual device names, partition detection</li>
<li>ceph-disk: improved handling of odd device names</li>
<li>ceph-disk: many fixes for RHEL/CentOS, Fedora, wheezy</li>
<li>ceph-disk: simpler, more robust locking</li>
<li>ceph-fuse, libcephfs: fix a few caps revocation bugs</li>
<li>ceph-fuse, libcephfs: fix read zeroing at EOF</li>
<li>ceph-fuse, libcephfs: fix request refcounting bug (hang on shutdown)</li>
<li>ceph-fuse, libcephfs: fix truncatation bug on &gt;4MB files (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: fix for cap release/hang</li>
<li>ceph-fuse: add ioctl support</li>
<li>ceph-fuse: fixed long-standing O_NOATIME vs O_LAZY bug</li>
<li>ceph-rest-api: RESTful endpoint for administer cluster (mirrors CLI)</li>
<li>ceph, librados: fix resending of commands on mon reconnect</li>
<li>daemons: create /var/run/ceph as needed</li>
<li>debian wheezy: fix udev rules</li>
<li>debian, specfile: packaging cleanups</li>
<li>debian: fix upstart behavior with upgrades</li>
<li>debian: rgw: stop daemon on uninstall</li>
<li>debian: stop daemons on uninstall; fix dependencies</li>
<li>hypertable: fixes for hypertable CephBroker bindings</li>
<li>librados python binding cleanups</li>
<li>librados python: fix xattrs &gt; 4KB (Josh Durgin)</li>
<li>librados: configurable max object size (default 100 GB)</li>
<li>librados: new calls to administer the cluster</li>
<li>librbd: ability to read from local replicas</li>
<li>librbd: locking tests (Josh Durgin)</li>
<li>librbd: make default options/features for newly created images (e.g., via qemu-img) configurable</li>
<li>librbd: parallelize delete, rollback, flatten, copy, resize</li>
<li>many many fixes from static code analysis (Danny Al-Gaaf)</li>
<li>mds: fix O_TRUNC locking</li>
<li>mds: fix bug in LOOKUPINO (used by nfs reexport)</li>
<li>mds: fix rare hang after client restart</li>
<li>mds: fix several bugs (Yan, Zheng)</li>
<li>mds: many backpointer improvements (Yan, Zheng)</li>
<li>mds: many fixes for mds clustering</li>
<li>mds: misc stability fixes (Yan, Zheng, Greg Farnum)</li>
<li>mds: new robust open-by-ino support (Yan, Zheng)</li>
<li>mds: support robust lookup by ino number (good for NFS) (Yan, Zheng)</li>
<li>mon, ceph: huge revamp of CLI and internal admin API. (Dan Mick)</li>
<li>mon, osd: fix old osdmap trimming logic</li>
<li>mon, osd: many memory leaks fixed</li>
<li>mon: better trim/compaction behavior</li>
<li>mon: collect metadata on osd performance</li>
<li>mon: enable leveldb caching by default</li>
<li>mon: expanded &#8211;format=&lt;json|xml|...&gt; support for monitor commands</li>
<li>mon: fix election timeout</li>
<li>mon: fix leveldb compression, trimming</li>
<li>mon: fix start fork behavior</li>
<li>mon: fix units in &#8216;ceph df&#8217; output</li>
<li>mon: fix validation of mds ids from CLI commands</li>
<li>mon: fixed bugs in recovery and io rate reporting (negative/large values)</li>
<li>mon: generate health warnings from slow or stuck requests</li>
<li>mon: many bug fixes (paxos and services, sync)</li>
<li>mon: many stability fixes (Joao Luis)</li>
<li>mon: more efficient storage of PG metadata</li>
<li>mon: new &#8211;extract-monmap to aid disaster recovery</li>
<li>mon: new capability syntax</li>
<li>mon: scrub function for verifying data integrity</li>
<li>mon: simplify PaxosService vs Paxos interaction, fix readable/writeable checks</li>
<li>mon: sync improvements (performance and robustness)</li>
<li>mon: tuning, performance improvements</li>
<li>msgr: fix various memory leaks</li>
<li>msgr: fixed race condition in inter-osd network communication</li>
<li>msgr: fixed various memory leaks related to network sessions</li>
<li>osd, librados: support for object namespaces</li>
<li>osd, mon: optionally dump leveldb transactions to a log</li>
<li>osd: automatically enable xattrs on leveldb as necessary</li>
<li>osd: avoid osd flapping from asymmetric network failure</li>
<li>osd: break blacklisted client watches (David Zafman)</li>
<li>osd: close narrow journal race</li>
<li>osd: do not use fadvise(DONTNEED) on XFS (data corruption on power cycle)</li>
<li>osd: fix for an op ordering bug</li>
<li>osd: fix handling for split after upgrade from bobtail</li>
<li>osd: fix incorrect mark-down of osds</li>
<li>osd: fix internal heartbeart timeouts when scrubbing very large objects</li>
<li>osd: fix memory/network inefficiency during deep scrub</li>
<li>osd: fixed problem with front-side heartbeats and mixed clusters (David Zafman)</li>
<li>osd: limit number of incremental osdmaps sent to peers (could cause osds to be wrongly marked down)</li>
<li>osd: many bug fixes</li>
<li>osd: monitor both front and back interfaces</li>
<li>osd: more efficient small object recovery</li>
<li>osd: new writeback throttling (for less bursty write performance) (Sam Just)</li>
<li>osd: pg log (re)writes are now vastly more efficient (faster peering) (Sam Just)</li>
<li>osd: ping/heartbeat on public and private interfaces</li>
<li>osd: prioritize recovery for degraded PGs</li>
<li>osd: re-use partially deleted PG contents when present (Sam Just)</li>
<li>osd: recovery and peering performance improvements</li>
<li>osd: resurrect partially deleted PGs</li>
<li>osd: verify both front and back network are working before rejoining cluster</li>
<li>rados: clonedata command for cli</li>
<li>radosgw-admin: create keys for new users by default</li>
<li>rbd: /etc/ceph/rbdmap file for mapping rbd images on startup</li>
<li>rgw: COPY object support between regions</li>
<li>rgw: fix CORS bugs</li>
<li>rgw: fix locking issue, user operation mask,</li>
<li>rgw: fix radosgw-admin buckets list (Yehuda Sadeh)</li>
<li>rgw: fix usage log scanning for large, untrimmed logs</li>
<li>rgw: handle deep uri resources</li>
<li>rgw: infrastructure to support georeplication of bucket and user metadata</li>
<li>rgw: infrastructure to support georeplication of bucket data</li>
<li>rgw: multi-region support</li>
<li>sysvinit: fix enumeration of local daemons</li>
<li>sysvinit: fix osd crush weight calculation when using -a</li>
<li>sysvinit: handle symlinks in /var/lib/ceph/osd/*</li>
<li>use SSE4.2 crc32c instruction if present</li>
</ul>
</div>
</div>
<div class="section" id="v0-66">
<h2>v0.66<a class="headerlink" href="#v0-66" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2596">
<h3>Upgrading<a class="headerlink" href="#id2596" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>There is now a configurable maximum rados object size, defaulting to 100 GB.  If you
are using librados and storing objects larger than that, you will need to adjust
&#8216;osd max object size&#8217;, and should consider using smaller objects instead.</li>
</ul>
</div>
<div class="section" id="id2597">
<h3>Notable changes<a class="headerlink" href="#id2597" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: pg log (re)writes are now vastly more efficient (faster peering) (Sam Just)</li>
<li>osd: fixed problem with front-side heartbeats and mixed clusters (David Zafman)</li>
<li>mon: tuning, performance improvements</li>
<li>mon: simplify PaxosService vs Paxos interaction, fix readable/writeable checks</li>
<li>rgw: fix radosgw-admin buckets list (Yehuda Sadeh)</li>
<li>mds: support robust lookup by ino number (good for NFS) (Yan, Zheng)</li>
<li>mds: fix several bugs (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: fix truncatation bug on &gt;4MB files (Yan, Zheng)</li>
<li>ceph/librados: fix resending of commands on mon reconnect</li>
<li>librados python: fix xattrs &gt; 4KB (Josh Durgin)</li>
<li>librados: configurable max object size (default 100 GB)</li>
<li>msgr: fix various memory leaks</li>
<li>ceph-fuse: fixed long-standing O_NOATIME vs O_LAZY bug</li>
<li>ceph-fuse, libcephfs: fix request refcounting bug (hang on shutdown)</li>
<li>ceph-fuse, libcephfs: fix read zeroing at EOF</li>
<li>ceph-conf: &#8211;show-config-value now reflects daemon defaults</li>
<li>ceph-disk: simpler, more robust locking</li>
<li>ceph-disk: avoid mounting over an existing osd in /var/lib/ceph/osd/*</li>
<li>sysvinit: handle symlinks in /var/lib/ceph/osd/*</li>
</ul>
</div>
</div>
<div class="section" id="v0-65">
<h2>v0.65<a class="headerlink" href="#v0-65" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2598">
<h3>Upgrading<a class="headerlink" href="#id2598" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Huge revamp of the &#8216;ceph&#8217; command-line interface implementation.
The <tt class="docutils literal"><span class="pre">ceph-common</span></tt> client library needs to be upgrade before
<tt class="docutils literal"><span class="pre">ceph-mon</span></tt> is restarted in order to avoid problems using the CLI
(the old <tt class="docutils literal"><span class="pre">ceph</span></tt> client utility cannot talk to the new
<tt class="docutils literal"><span class="pre">ceph-mon</span></tt>).</p>
</li>
<li><p class="first">The CLI is now very careful about sending the &#8216;status&#8217; one-liner
output to stderr and command output to stdout.  Scripts relying on
output should take care.</p>
</li>
<li><p class="first">The &#8216;ceph osd tell ...&#8217; and &#8216;ceph mon tell ...&#8217; commands are no
longer supported.  Any callers should use:</p>
<div class="highlight-python"><pre>ceph tell osd.&lt;id or *&gt; ...
ceph tell mon.&lt;id or name or *&gt; ...</pre>
</div>
<p>The &#8216;ceph mds tell ...&#8217; command is still there, but will soon also
transition to &#8216;ceph tell mds.&lt;id or name or *&gt; ...&#8217;</p>
</li>
<li><p class="first">The &#8216;ceph osd crush add ...&#8217; command used to take one of two forms:</p>
<div class="highlight-python"><pre>ceph osd crush add 123 osd.123 &lt;weight&gt; &lt;location ...&gt;
ceph osd crush add osd.123 &lt;weight&gt; &lt;location ...&gt;</pre>
</div>
<p>This is because the id and crush name are redundant.  Now only the
simple form is supported, where the osd name/id can either be a bare
id (integer) or name (osd.&lt;id&gt;):</p>
<div class="highlight-python"><pre>ceph osd crush add osd.123 &lt;weight&gt; &lt;location ...&gt;
ceph osd crush add 123 &lt;weight&gt; &lt;location ...&gt;</pre>
</div>
</li>
<li><p class="first">There is now a maximum RADOS object size, configurable via &#8216;osd max
object size&#8217;, defaulting to 100 GB.  Note that this has no effect on
RBD, CephFS, or radosgw, which all stripe over objects.</p>
</li>
</ul>
</div>
<div class="section" id="id2599">
<h3>Notable changes<a class="headerlink" href="#id2599" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon, ceph: huge revamp of CLI and internal admin API. (Dan Mick)</li>
<li>mon: new capability syntax</li>
<li>osd: do not use fadvise(DONTNEED) on XFS (data corruption on power cycle)</li>
<li>osd: recovery and peering performance improvements</li>
<li>osd: new writeback throttling (for less bursty write performance) (Sam Just)</li>
<li>osd: ping/heartbeat on public and private interfaces</li>
<li>osd: avoid osd flapping from asymmetric network failure</li>
<li>osd: re-use partially deleted PG contents when present (Sam Just)</li>
<li>osd: break blacklisted client watches (David Zafman)</li>
<li>mon: many stability fixes (Joao Luis)</li>
<li>mon, osd: many memory leaks fixed</li>
<li>mds: misc stability fixes (Yan, Zheng, Greg Farnum)</li>
<li>mds: many backpointer improvements (Yan, Zheng)</li>
<li>mds: new robust open-by-ino support (Yan, Zheng)</li>
<li>ceph-fuse, libcephfs: fix a few caps revocation bugs</li>
<li>librados: new calls to administer the cluster</li>
<li>librbd: locking tests (Josh Durgin)</li>
<li>ceph-disk: improved handling of odd device names</li>
<li>ceph-disk: many fixes for RHEL/CentOS, Fedora, wheezy</li>
<li>many many fixes from static code analysis (Danny Al-Gaaf)</li>
<li>daemons: create /var/run/ceph as needed</li>
</ul>
</div>
</div>
<div class="section" id="v0-64">
<h2>v0.64<a class="headerlink" href="#v0-64" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2600">
<h3>Upgrading<a class="headerlink" href="#id2600" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New pools now have the HASHPSPOOL flag set by default to provide
better distribution over OSDs.  Support for this feature was
introduced in v0.59 and Linux kernel version v3.9.  If you wish to
access the cluster from an older kernel, set the &#8216;osd pool default
flag hashpspool = false&#8217; option in your ceph.conf prior to creating
the cluster or creating new pools.  Note that the presense of any
pool in the cluster with the flag enabled will make the OSD require
support from all clients.</li>
</ul>
</div>
<div class="section" id="id2601">
<h3>Notable changes<a class="headerlink" href="#id2601" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: monitor both front and back interfaces</li>
<li>osd: verify both front and back network are working before rejoining cluster</li>
<li>osd: fix memory/network inefficiency during deep scrub</li>
<li>osd: fix incorrect mark-down of osds</li>
<li>mon: fix start fork behavior</li>
<li>mon: fix election timeout</li>
<li>mon: better trim/compaction behavior</li>
<li>mon: fix units in &#8216;ceph df&#8217; output</li>
<li>mon, osd: misc memory leaks</li>
<li>librbd: make default options/features for newly created images (e.g., via qemu-img) configurable</li>
<li>mds: many fixes for mds clustering</li>
<li>mds: fix rare hang after client restart</li>
<li>ceph-fuse: add ioctl support</li>
<li>ceph-fuse/libcephfs: fix for cap release/hang</li>
<li>rgw: handle deep uri resources</li>
<li>rgw: fix CORS bugs</li>
<li>ceph-disk: add &#8216;[un]suppress-active DEV&#8217; command</li>
<li>debian: rgw: stop daemon on uninstall</li>
<li>debian: fix upstart behavior with upgrades</li>
</ul>
</div>
</div>
<div class="section" id="v0-63">
<h2>v0.63<a class="headerlink" href="#v0-63" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2602">
<h3>Upgrading<a class="headerlink" href="#id2602" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The &#8216;osd min down {reporters|reports}&#8217; config options have been
renamed to &#8216;mon osd min down {reporters|reports}&#8217;, and the
documentation has been updated to reflect that these options apply
to the monitors (who process failure reports) and not OSDs.  If you
have adjusted these settings, please update your <tt class="docutils literal"><span class="pre">ceph.conf</span></tt>
accordingly.</li>
</ul>
</div>
<div class="section" id="id2603">
<h3>Notable Changes<a class="headerlink" href="#id2603" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>librbd: parallelize delete, rollback, flatten, copy, resize</li>
<li>librbd: ability to read from local replicas</li>
<li>osd: resurrect partially deleted PGs</li>
<li>osd: prioritize recovery for degraded PGs</li>
<li>osd: fix internal heartbeart timeouts when scrubbing very large objects</li>
<li>osd: close narrow journal race</li>
<li>rgw: fix usage log scanning for large, untrimmed logs</li>
<li>rgw: fix locking issue, user operation mask,</li>
<li>initscript: fix osd crush weight calculation when using -a</li>
<li>initscript: fix enumeration of local daemons</li>
<li>mon: several fixes to paxos, sync</li>
<li>mon: new &#8211;extract-monmap to aid disaster recovery</li>
<li>mon: fix leveldb compression, trimming</li>
<li>add &#8216;config get&#8217; admin socket command</li>
<li>rados: clonedata command for cli</li>
<li>debian: stop daemons on uninstall; fix dependencies</li>
<li>debian wheezy: fix udev rules</li>
<li>many many small fixes from coverity scan</li>
</ul>
</div>
</div>
<div class="section" id="v0-62">
<h2>v0.62<a class="headerlink" href="#v0-62" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2604">
<h3>Notable Changes<a class="headerlink" href="#id2604" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: fix validation of mds ids from CLI commands</li>
<li>osd: fix for an op ordering bug</li>
<li>osd, mon: optionally dump leveldb transactions to a log</li>
<li>osd: fix handling for split after upgrade from bobtail</li>
<li>debian, specfile: packaging cleanups</li>
<li>radosgw-admin: create keys for new users by default</li>
<li>librados python binding cleanups</li>
<li>misc code cleanups</li>
</ul>
</div>
</div>
<div class="section" id="v0-61-9-cuttlefish">
<h2>v0.61.9 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#v0-61-9-cuttlefish" title="Permalink to this headline">¶</a></h2>
<p>This point release resolves several low to medium-impact bugs across
the code base, and fixes a performance problem (CPU utilization) with
radosgw.  We recommend that all production cuttlefish users upgrade.</p>
<div class="section" id="id2605">
<h3>Notable Changes<a class="headerlink" href="#id2605" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph, ceph-authtool: fix help (Danny Al-Gaaf)</li>
<li>ceph-disk: partprobe after creating journal partition</li>
<li>ceph-disk: specific fs type when mounting (Alfredo Deza)</li>
<li>ceph-fuse: fix bug when compiled against old versions</li>
<li>ceph-fuse: fix use-after-free in caching code (Yan, Zheng)</li>
<li>ceph-fuse: misc caching bugs</li>
<li>ceph.spec: remove incorrect mod_fcgi dependency (Gary Lowell)</li>
<li>crush: fix name caching</li>
<li>librbd: fix bug when unpausing cluster (Josh Durgin)</li>
<li>mds: fix LAZYIO lock hang</li>
<li>mds: fix bug in file size recovery (after client crash)</li>
<li>mon: fix paxos recovery corner case</li>
<li>osd: fix exponential backoff for slow request warnings (Loic Dachary)</li>
<li>osd: fix readdir_r usage</li>
<li>osd: fix startup for long-stopped OSDs</li>
<li>rgw: avoid std::list::size() to avoid wasting CPU cycles (Yehuda Sadeh)</li>
<li>rgw: drain pending requests during write (fixes data safety issue) (Yehuda Sadeh)</li>
<li>rgw: fix authenticated users group ACL check (Yehuda Sadeh)</li>
<li>rgw: fix bug in POST (Yehuda Sadeh)</li>
<li>rgw: fix sysvinit script &#8216;status&#8217; command, return value (Danny Al-Gaaf)</li>
<li>rgw: reduce default log level (Yehuda Sadeh)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.61.9.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-61-8-cuttlefish">
<h2>v0.61.8 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#v0-61-8-cuttlefish" title="Permalink to this headline">¶</a></h2>
<p>This release includes a number of important issues, including rare
race conditions in the OSD, a few monitor bugs, and fixes for RBD
flush behavior.  We recommend that production users upgrade at their
convenience.</p>
<div class="section" id="id2606">
<h3>Notable Changes<a class="headerlink" href="#id2606" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>librados: fix async aio completion wakeup</li>
<li>librados: fix aio completion locking</li>
<li>librados: fix rare deadlock during shutdown</li>
<li>osd: fix race when queueing recovery operations</li>
<li>osd: fix possible race during recovery</li>
<li>osd: optionally preload rados classes on startup (disabled by default)</li>
<li>osd: fix journal replay corner condition</li>
<li>osd: limit size of peering work queue batch (to speed up peering)</li>
<li>mon: fix paxos recovery corner case</li>
<li>mon: fix rare hang when monmap updates during an election</li>
<li>mon: make &#8216;osd pool mksnap ...&#8217; avoid exposing uncommitted state</li>
<li>mon: make &#8216;osd pool rmsnap ...&#8217; not racy, avoid exposing uncommitted state</li>
<li>mon: fix bug during mon cluster expansion</li>
<li>rgw: fix crash during multi delete operation</li>
<li>msgr: fix race conditions during osd network reinitialization</li>
<li>ceph-disk: apply mount options when remounting</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.61.8.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-61-7-cuttlefish">
<h2>v0.61.7 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#v0-61-7-cuttlefish" title="Permalink to this headline">¶</a></h2>
<p>This release fixes another regression preventing monitors to start after
undergoing certain upgrade sequences, as well as some corner cases with
Paxos and support for unusual device names in ceph-disk/ceph-deploy.</p>
<div class="section" id="id2607">
<h3>Notable Changes<a class="headerlink" href="#id2607" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: fix regression in latest full osdmap retrieval</li>
<li>mon: fix a long-standing bug in a paxos corner case</li>
<li>ceph-disk: improved support for unusual device names (e.g., /dev/cciss/c0d0)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.61.7.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-61-6-cuttlefish">
<h2>v0.61.6 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#v0-61-6-cuttlefish" title="Permalink to this headline">¶</a></h2>
<p>This release fixes a regression in v0.61.5 that could prevent monitors
from restarting.  This affects any cluster that was upgraded from a
previous version of Ceph (and not freshly created with v0.61.5).</p>
<p>All users are strongly recommended to upgrade.</p>
<div class="section" id="id2608">
<h3>Notable Changes<a class="headerlink" href="#id2608" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: record latest full osdmap</li>
<li>mon: work around previous bug in which latest full osdmap is not recorded</li>
<li>mon: avoid scrub while updating</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.61.6.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-61-5-cuttlefish">
<h2>v0.61.5 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#v0-61-5-cuttlefish" title="Permalink to this headline">¶</a></h2>
<p>This release most improves stability of the monitor and fixes a few
bugs with the ceph-disk utility (used by ceph-deploy).  We recommand
that all v0.61.x users upgrade.</p>
<div class="section" id="id2609">
<h3>Upgrading<a class="headerlink" href="#id2609" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>This release fixes a 32-bit vs 64-bit arithmetic bug with the
feature bits.  An unfortunate consequence of the fix is that 0.61.4
(or earlier) ceph-mon daemons can&#8217;t form a quorum with 0.61.5 (or
later) monitors.  To avoid the possibility of service disruption, we
recommend you upgrade all monitors at once.</li>
</ul>
</div>
<div class="section" id="id2610">
<h3>Notable Changes<a class="headerlink" href="#id2610" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: misc sync improvements (faster, more reliable, better tuning)</li>
<li>mon: enable leveldb cache by default (big performance improvement)</li>
<li>mon: new scrub feature (primarily for diagnostic, testing purposes)</li>
<li>mon: fix occasional leveldb assertion on startup</li>
<li>mon: prevent reads until initial state is committed</li>
<li>mon: improved logic for trimming old osdmaps</li>
<li>mon: fix pick_addresses bug when expanding mon cluster</li>
<li>mon: several small paxos fixes, improvements</li>
<li>mon: fix bug osdmap trim behavior</li>
<li>osd: fix several bugs with PG stat reporting</li>
<li>osd: limit number of maps shared with peers (which could cause domino failures)</li>
<li>rgw: fix radosgw-admin buckets list (for all buckets)</li>
<li>mds: fix occasional client failure to reconnect</li>
<li>mds: fix bad list traversal after unlink</li>
<li>mds: fix underwater dentry cleanup (occasional crash after mds restart)</li>
<li>libcephfs, ceph-fuse: fix occasional hangs on umount</li>
<li>libcephfs, ceph-fuse: fix old bug with O_LAZY vs O_NOATIME confusion</li>
<li>ceph-disk: more robust journal device detection on RHEL/CentOS</li>
<li>ceph-disk: better, simpler locking</li>
<li>ceph-disk: do not inadvertantely mount over existing osd mounts</li>
<li>ceph-disk: better handling for unusual device names</li>
<li>sysvinit, upstart: handle symlinks in /var/lib/ceph/*</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.61.5.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-61-4-cuttlefish">
<h2>v0.61.4 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#v0-61-4-cuttlefish" title="Permalink to this headline">¶</a></h2>
<p>This release resolves a possible data corruption on power-cycle when
using XFS, a few outstanding problems with monitor sync, several
problems with ceph-disk and ceph-deploy operation, and a problem with
OSD memory usage during scrub.</p>
<div class="section" id="id2611">
<h3>Upgrading<a class="headerlink" href="#id2611" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>No issues.</li>
</ul>
</div>
<div class="section" id="id2612">
<h3>Notable Changes<a class="headerlink" href="#id2612" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: fix daemon exit behavior when error is encountered on startup</li>
<li>mon: more robust sync behavior</li>
<li>osd: do not use sync_file_range(2), posix_fadvise(...DONTNEED) (can cause data corruption on power loss on XFS)</li>
<li>osd: avoid unnecessary log rewrite (improves peering speed)</li>
<li>osd: fix scrub efficiency bug (problematic on old clusters)</li>
<li>rgw: fix listing objects that start with underscore</li>
<li>rgw: fix deep URI resource, CORS bugs</li>
<li>librados python binding: fix truncate on 32-bit architectures</li>
<li>ceph-disk: fix udev rules</li>
<li>rpm: install sysvinit script on package install</li>
<li>ceph-disk: fix OSD start on machine reboot on Debian wheezy</li>
<li>ceph-disk: activate OSD when journal device appears second</li>
<li>ceph-disk: fix various bugs on RHEL/CentOS 6.3</li>
<li>ceph-disk: add &#8216;zap&#8217; command</li>
<li>ceph-disk: add &#8216;[un]suppress-activate&#8217; command for preparing spare disks</li>
<li>upstart: start on runlevel [2345] (instead of after the first network interface starts)</li>
<li>ceph-fuse, libcephfs: handle mds session reset during session open</li>
<li>ceph-fuse, libcephfs: fix two capability revocation bugs</li>
<li>ceph-fuse: fix thread creation on startup</li>
<li>all daemons: create /var/run/ceph directory on startup if missing</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.61.4.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-61-3-cuttlefish">
<h2>v0.61.3 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#v0-61-3-cuttlefish" title="Permalink to this headline">¶</a></h2>
<p>This release resolves a number of problems with the monitors and leveldb that users have
been seeing.  Please upgrade.</p>
<div class="section" id="id2613">
<h3>Upgrading<a class="headerlink" href="#id2613" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>There is one known problem with mon upgrades from bobtail.  If the
ceph-mon conversion on startup is aborted or fails for some reason, we
do not correctly error out, but instead continue with (in certain cases)
odd results.  Please be careful if you have to restart the mons during
the upgrade.  A 0.61.4 release with a fix will be out shortly.</li>
<li>In the meantime, for current cuttlefish users, v0.61.3 is safe to use.</li>
</ul>
</div>
<div class="section" id="id2614">
<h3>Notable Changes<a class="headerlink" href="#id2614" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: paxos state trimming fix (resolves runaway disk usage)</li>
<li>mon: finer-grained compaction on trim</li>
<li>mon: discard messages from disconnected clients (lowers load)</li>
<li>mon: leveldb compaction and other stats available via admin socket</li>
<li>mon: async compaction (lower overhead)</li>
<li>mon: fix bug incorrectly marking osds down with insufficient failure reports</li>
<li>osd: fixed small bug in pg request map</li>
<li>osd: avoid rewriting pg info on every osdmap</li>
<li>osd: avoid internal heartbeta timeouts when scrubbing very large objects</li>
<li>osd: fix narrow race with journal replay</li>
<li>mon: fixed narrow pg split race</li>
<li>rgw: fix leaked space when copying object</li>
<li>rgw: fix iteration over large/untrimmed usage logs</li>
<li>rgw: fix locking issue with ops log socket</li>
<li>rgw: require matching version of librados</li>
<li>librbd: make image creation defaults configurable (e.g., create format 2 images via qemu-img)</li>
<li>fix units in &#8216;ceph df&#8217; output</li>
<li>debian: fix prerm/postinst hooks to start/stop daemons appropriately</li>
<li>upstart: allow uppercase daemons names (and thus hostnames)</li>
<li>sysvinit: fix enumeration of local daemons by type</li>
<li>sysvinit: fix osd weight calcuation when using -a</li>
<li>fix build on unsigned char platforms (e.g., arm)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.61.3.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-61-2-cuttlefish">
<h2>v0.61.2 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#v0-61-2-cuttlefish" title="Permalink to this headline">¶</a></h2>
<p>This release disables a monitor debug log that consumes disk space and
fixes a bug when upgrade some monitors from bobtail to cuttlefish.</p>
<div class="section" id="id2615">
<h3>Notable Changes<a class="headerlink" href="#id2615" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: fix conversion of stores with duplicated GV values</li>
<li>mon: disable &#8216;mon debug dump transactions&#8217; by default</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.61.2.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-61-1-cuttlefish">
<h2>v0.61.1 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#v0-61-1-cuttlefish" title="Permalink to this headline">¶</a></h2>
<p>This release fixes a problem when upgrading a bobtail cluster that had
snapshots to cuttlefish.</p>
<div class="section" id="id2616">
<h3>Notable Changes<a class="headerlink" href="#id2616" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: handle upgrade when legacy snap collections are present; repair from previous failed restart</li>
<li>ceph-create-keys: fix race with ceph-mon startup (which broke &#8216;ceph-deploy gatherkeys ...&#8217;)</li>
<li>ceph-create-keys: gracefully handle bad response from ceph-osd</li>
<li>sysvinit: do not assume default osd_data when automatically weighting OSD</li>
<li>osd: avoid crash from ill-behaved classes using getomapvals</li>
<li>debian: fix squeeze dependency</li>
<li>mon: debug options to log or dump leveldb transactions</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.61.1.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-61-cuttlefish">
<h2>v0.61 &#8220;Cuttlefish&#8221;<a class="headerlink" href="#v0-61-cuttlefish" title="Permalink to this headline">¶</a></h2>
<div class="section" id="upgrading-from-v0-60">
<h3>Upgrading from v0.60<a class="headerlink" href="#upgrading-from-v0-60" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The ceph-deploy tool is now the preferred method of provisioning
new clusters.  For existing clusters created via mkcephfs that
would like to transition to the new tool, there is a migration
path, documented at <a class="reference external" href="../rados/deployment/ceph-deploy-transition">Transitioning to ceph-deploy</a>.</li>
<li>The sysvinit script (/etc/init.d/ceph) will now verify (and, if
necessary, update) the OSD&#8217;s position in the CRUSH map on startup.
(The upstart script has always worked this way.) By default, this
ensures that the OSD is under a &#8216;host&#8217; with a name that matches the
hostname (<tt class="docutils literal"><span class="pre">hostname</span> <span class="pre">-s</span></tt>).  Legacy clusters create with mkcephfs do
this by default, so this should not cause any problems, but legacy
clusters with customized CRUSH maps with an alternate structure
should set <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">crush</span> <span class="pre">update</span> <span class="pre">on</span> <span class="pre">start</span> <span class="pre">=</span> <span class="pre">false</span></tt>.</li>
<li>radosgw-admin now uses the term zone instead of cluster to describe
each instance of the radosgw data store (and corresponding
collection of radosgw daemons).  The usage for the radosgw-admin
command and the &#8216;rgw zone root pool&#8217; config options have changed
accordingly.</li>
<li>rbd progress indicators now go to standard error instead of standard
out.  (You can disable progress with &#8211;no-progress.)</li>
<li>The &#8216;rbd resize ...&#8217; command now requires the &#8211;allow-shrink option
when resizing to a smaller size.  Expanding images to a larger size
is unchanged.</li>
<li>Please review the changes going back to 0.56.4 if you are upgrading
all the way from bobtail.</li>
<li>The old &#8216;ceph stop_cluster&#8217; command has been removed.</li>
<li>The sysvinit script now uses the ceph.conf file on the remote host
when starting remote daemons via the &#8216;-a&#8217; option.  Note that if &#8216;-a&#8217;
is used in conjunction with &#8216;-c path&#8217;, the path must also be present
on the remote host (it is not copied to a temporary file, as it was
previously).</li>
</ul>
</div>
<div class="section" id="upgrading-from-v0-56-4-bobtail">
<h3>Upgrading from v0.56.4 &#8220;Bobtail&#8221;<a class="headerlink" href="#upgrading-from-v0-56-4-bobtail" title="Permalink to this headline">¶</a></h3>
<p>Please see <a class="reference external" href="../install/upgrading-ceph/#upgrading-from-bobtail-to-cuttlefish">Upgrading from Bobtail to Cuttlefish</a> for details.</p>
<ul class="simple">
<li>The ceph-deploy tool is now the preferred method of provisioning
new clusters.  For existing clusters created via mkcephfs that
would like to transition to the new tool, there is a migration
path, documented at <a class="reference external" href="../rados/deployment/ceph-deploy-transition">Transitioning to ceph-deploy</a>.</li>
</ul>
<ul class="simple">
<li>The sysvinit script (/etc/init.d/ceph) will now verify (and, if
necessary, update) the OSD&#8217;s position in the CRUSH map on startup.
(The upstart script has always worked this way.) By default, this
ensures that the OSD is under a &#8216;host&#8217; with a name that matches the
hostname (<tt class="docutils literal"><span class="pre">hostname</span> <span class="pre">-s</span></tt>).  Legacy clusters create with mkcephfs do
this by default, so this should not cause any problems, but legacy
clusters with customized CRUSH maps with an alternate structure
should set <tt class="docutils literal"><span class="pre">osd</span> <span class="pre">crush</span> <span class="pre">update</span> <span class="pre">on</span> <span class="pre">start</span> <span class="pre">=</span> <span class="pre">false</span></tt>.</li>
<li>radosgw-admin now uses the term zone instead of cluster to describe
each instance of the radosgw data store (and corresponding
collection of radosgw daemons).  The usage for the radosgw-admin
command and the &#8216;rgw zone root pool&#8217; config optoins have changed
accordingly.</li>
<li>rbd progress indicators now go to standard error instead of standard
out.  (You can disable progress with &#8211;no-progress.)</li>
<li>The &#8216;rbd resize ...&#8217; command now requires the &#8211;allow-shrink option
when resizing to a smaller size.  Expanding images to a larger size
is unchanged.</li>
<li>Please review the changes going back to 0.56.4 if you are upgrading
all the way from bobtail.</li>
<li>The old &#8216;ceph stop_cluster&#8217; command has been removed.</li>
<li>The sysvinit script now uses the ceph.conf file on the remote host
when starting remote daemons via the &#8216;-a&#8217; option.  Note that if &#8216;-a&#8217;
is used in conjuction with &#8216;-c path&#8217;, the path must also be present
on the remote host (it is not copied to a temporary file, as it was
previously).</li>
<li>The monitor is using a completely new storage strategy and
intra-cluster protocol.  This means that cuttlefish and bobtail
monitors do not talk to each other.  When you upgrade each one, it
will convert its local data store to the new format.  Once you
upgrade a majority, the quorum will be formed using the new protocol
and the old monitors will be blocked out until they too get
upgraded.  For this reason, we recommend not running a mixed-version
cluster for very long.</li>
<li>ceph-mon now requires the creation of its data directory prior to
&#8211;mkfs, similarly to what happens on ceph-osd.  This directory is no
longer automatically created, and custom scripts should be adjusted to
reflect just that.</li>
<li>The monitor now enforces that MDS names be unique.  If you have
multiple daemons start with with the same id (e.g., <tt class="docutils literal"><span class="pre">mds.a</span></tt>) the
second one will implicitly mark the first as failed.  This makes
things less confusing and makes a daemon restart faster (we no
longer wait for the stopped daemon to time out) but existing
multi-mds configurations may need to be adjusted accordingly to give
daemons unique names.</li>
<li>The &#8216;ceph osd pool delete &lt;poolname&gt;&#8217; and &#8216;rados rmpool &lt;poolname&gt;&#8217;
now have safety interlocks with loud warnings that make you confirm
pool removal.  Any scripts curenty rely on these functions zapping
data without confirmation need to be adjusted accordingly.</li>
</ul>
</div>
<div class="section" id="notable-changes-from-v0-60">
<h3>Notable Changes from v0.60<a class="headerlink" href="#notable-changes-from-v0-60" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>rbd: incremental backups</li>
<li>rbd: only set STRIPINGV2 feature if striping parameters are incompatible with old versions</li>
<li>rbd: require &#8211;allow-shrink for resizing images down</li>
<li>librbd: many bug fixes</li>
<li>rgw: management REST API</li>
<li>rgw: fix object corruption on COPY to self</li>
<li>rgw: new sysvinit script for rpm-based systems</li>
<li>rgw: allow buckets with &#8216;_&#8217;</li>
<li>rgw: CORS support</li>
<li>mon: many fixes</li>
<li>mon: improved trimming behavior</li>
<li>mon: fix data conversion/upgrade problem (from bobtail)</li>
<li>mon: ability to tune leveldb</li>
<li>mon: config-keys service to store arbitrary data on monitor</li>
<li>mon: &#8216;osd crush add|link|unlink|add-bucket ...&#8217; commands</li>
<li>mon: trigger leveldb compaction on trim</li>
<li>osd: per-rados pool quotas (objects, bytes)</li>
<li>osd: tool to export, import, and delete PGs from an individual OSD data store</li>
<li>osd: notify mon on clean shutdown to avoid IO stall</li>
<li>osd: improved detection of corrupted journals</li>
<li>osd: ability to tune leveldb</li>
<li>osd: improve client request throttling</li>
<li>osd, librados: fixes to the LIST_SNAPS operation</li>
<li>osd: improvements to scrub error repair</li>
<li>osd: better prevention of wedging OSDs with ENOSPC</li>
<li>osd: many small fixes</li>
<li>mds: fix xattr handling on root inode</li>
<li>mds: fixed bugs in journal replay</li>
<li>mds: many fixes</li>
<li>librados: clean up snapshot constant definitions</li>
<li>libcephfs: calls to query CRUSH topology (used by Hadoop)</li>
<li>ceph-fuse, libcephfs: misc fixes to mds session management</li>
<li>ceph-fuse: disabled cache invalidation (again) due to potential deadlock with kernel</li>
<li>sysvinit: try to start all daemons despite early failures</li>
<li>ceph-disk: new &#8216;list&#8217; command</li>
<li>ceph-disk: hotplug fixes for RHEL/CentOS</li>
<li>ceph-disk: fix creation of OSD data partitions on &gt;2TB disks</li>
<li>osd: fix udev rules for RHEL/CentOS systems</li>
<li>fix daemon logging during initial startup</li>
</ul>
</div>
<div class="section" id="notable-changes-from-v0-56-bobtail">
<h3>Notable changes from v0.56 &#8220;Bobtail&#8221;<a class="headerlink" href="#notable-changes-from-v0-56-bobtail" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>always use installed system leveldb (Gary Lowell)</li>
<li>auth: ability to require new cephx signatures on messages (still off by default)</li>
<li>buffer unit testing (Loic Dachary)</li>
<li>ceph tool: some CLI interface cleanups</li>
<li>ceph-disk: improve multicluster support, error handling (Sage Weil)</li>
<li>ceph-disk: support for dm-crypt (Alexandre Marangone)</li>
<li>ceph-disk: support for sysvinit, directories or partitions (not full disks)</li>
<li>ceph-disk: fix mkfs args on old distros (Alexandre Marangone)</li>
<li>ceph-disk: fix creation of OSD data partitions on &gt;2TB disks</li>
<li>ceph-disk: hotplug fixes for RHEL/CentOS</li>
<li>ceph-disk: new &#8216;list&#8217; command</li>
<li>ceph-fuse, libcephfs: misc fixes to mds session management</li>
<li>ceph-fuse: disabled cache invalidation (again) due to potential deadlock with kernel</li>
<li>ceph-fuse: enable kernel cache invalidation (Sam Lang)</li>
<li>ceph-fuse: fix statfs(2) reporting</li>
<li>ceph-fuse: session handling cleanup, bug fixes (Sage Weil)</li>
<li>crush: ability to create, remove rules via CLI</li>
<li>crush: update weights for all instances of an item, not just the first (Sage Weil)</li>
<li>fix daemon logging during initial startup</li>
<li>fixed log rotation (Gary Lowell)</li>
<li>init-ceph, mkcephfs: close a few security holes with -a  (Sage Weil)</li>
<li>libcephfs: calls to query CRUSH topology (used by Hadoop)</li>
<li>libcephfs: many fixes, cleanups with the Java bindings</li>
<li>libcephfs: new topo API requests for Hadoop (Noah Watkins)</li>
<li>librados: clean up snapshot constant definitions</li>
<li>librados: fix linger bugs (Josh Durgin)</li>
<li>librbd: fixed flatten deadlock (Josh Durgin)</li>
<li>librbd: fixed some locking issues with flatten (Josh Durgin)</li>
<li>librbd: many bug fixes</li>
<li>librbd: optionally wait for flush before enabling writeback (Josh Durgin)</li>
<li>many many cleanups (Danny Al-Gaaf)</li>
<li>mds, ceph-fuse: fix bugs with replayed requests after MDS restart (Sage Weil)</li>
<li>mds, ceph-fuse: manage layouts via xattrs</li>
<li>mds: allow xattrs on root</li>
<li>mds: fast failover between MDSs (enforce unique mds names)</li>
<li>mds: fix xattr handling on root inode</li>
<li>mds: fixed bugs in journal replay</li>
<li>mds: improve session cleanup (Sage Weil)</li>
<li>mds: many fixes (Yan Zheng)</li>
<li>mds: misc bug fixes with clustered MDSs and failure recovery</li>
<li>mds: misc bug fixes with readdir</li>
<li>mds: new encoding for all data types (to allow forward/backward compatbility) (Greg Farnum)</li>
<li>mds: store and update backpointers/traces on directory, file objects (Sam Lang)</li>
<li>mon: &#8216;osd crush add|link|unlink|add-bucket ...&#8217; commands</li>
<li>mon: ability to tune leveldb</li>
<li>mon: approximate recovery, IO workload stats</li>
<li>mon: avoid marking entire CRUSH subtrees out (e.g., if an entire rack goes offline)</li>
<li>mon: config-keys service to store arbitrary data on monitor</li>
<li>mon: easy adjustment of crush tunables via &#8216;ceph osd crush tunables ...&#8217;</li>
<li>mon: easy creation of crush rules vai &#8216;ceph osd rule ...&#8217;</li>
<li>mon: fix data conversion/upgrade problem (from bobtail)</li>
<li>mon: improved trimming behavior</li>
<li>mon: many fixes</li>
<li>mon: new &#8216;ceph df [detail]&#8217; command</li>
<li>mon: new checks for identifying and reporting clock drift</li>
<li>mon: rearchitected to utilize single instance of paxos and a key/value store (Joao Luis)</li>
<li>mon: safety check for pool deletion</li>
<li>mon: shut down safely if disk approaches full (Joao Luis)</li>
<li>mon: trigger leveldb compaction on trim</li>
<li>msgr: fix comparison of IPv6 addresses (fixes monitor bringup via ceph-deploy, chef)</li>
<li>msgr: fixed race in connection reset</li>
<li>msgr: optionally tune TCP buffer size to avoid throughput collapse (Jim Schutt)</li>
<li>much code cleanup and optimization (Danny Al-Gaaf)</li>
<li>osd, librados: ability to list watchers (David Zafman)</li>
<li>osd, librados: fixes to the LIST_SNAPS operation</li>
<li>osd, librados: new listsnaps command (David Zafman)</li>
<li>osd: a few journaling bug fixes</li>
<li>osd: ability to tune leveldb</li>
<li>osd: add &#8216;noscrub&#8217;, &#8216;nodeepscrub&#8217; osdmap flags (David Zafman)</li>
<li>osd: better prevention of wedging OSDs with ENOSPC</li>
<li>osd: ceph-filestore-dump tool for debugging</li>
<li>osd: connection handling bug fixes</li>
<li>osd: deep-scrub omap keys/values</li>
<li>osd: default to libaio for the journal (some performance boost)</li>
<li>osd: fix hang in &#8216;journal aio = true&#8217; mode (Sage Weil)</li>
<li>osd: fix pg log trimming (avoids memory bloat on degraded clusters)</li>
<li>osd: fix udev rules for RHEL/CentOS systems</li>
<li>osd: fixed bug in journal checksums (Sam Just)</li>
<li>osd: improved client request throttling</li>
<li>osd: improved handling when disk fills up (David Zafman)</li>
<li>osd: improved journal corruption detection (Sam Just)</li>
<li>osd: improved detection of corrupted journals</li>
<li>osd: improvements to scrub error repair</li>
<li>osd: make tracking of object snapshot metadata more efficient (Sam Just)</li>
<li>osd: many small fixes</li>
<li>osd: misc fixes to PG split (Sam Just)</li>
<li>osd: move pg info, log into leveldb (== better performance) (David Zafman)</li>
<li>osd: notify mon on clean shutdown to avoid IO stall</li>
<li>osd: per-rados pool quotas (objects, bytes)</li>
<li>osd: refactored watch/notify infrastructure (fixes protocol, removes many bugs) (Sam Just)</li>
<li>osd: support for improved hashing of PGs across OSDs via HASHPSPOOL pool flag and feature</li>
<li>osd: tool to export, import, and delete PGs from an individual OSD data store</li>
<li>osd: trim log more aggressively, avoid appearance of leak memory</li>
<li>osd: validate snap collections on startup</li>
<li>osd: verify snap collections on startup (Sam Just)</li>
<li>radosgw: ACL grants in headers (Caleb Miles)</li>
<li>radosgw: ability to listen to fastcgi via a port (Guilhem Lettron)</li>
<li>radosgw: fix object copy onto self (Yehuda Sadeh)</li>
<li>radosgw: misc fixes</li>
<li>rbd-fuse: new tool, package</li>
<li>rbd: avoid FIEMAP when importing from file (it can be buggy)</li>
<li>rbd: incremental backups</li>
<li>rbd: only set STRIPINGV2 feature if striping parameters are incompatible with old versions</li>
<li>rbd: require &#8211;allow-shrink for resizing images down</li>
<li>rbd: udevadm settle on map/unmap to avoid various races (Dan Mick)</li>
<li>rbd: wait for udev to settle in strategic places (avoid spurious errors, failures)</li>
<li>rgw: CORS support</li>
<li>rgw: allow buckets with &#8216;_&#8217;</li>
<li>rgw: fix Content-Length on 32-bit machines (Jan Harkes)</li>
<li>rgw: fix log rotation</li>
<li>rgw: fix object corruption on COPY to self</li>
<li>rgw: fixed &gt;4MB range requests (Jan Harkes)</li>
<li>rgw: new sysvinit script for rpm-based systems</li>
<li>rpm/deb: do not remove /var/lib/ceph on purge (v0.59 was the only release to do so)</li>
<li>sysvinit: try to start all daemons despite early failures</li>
<li>upstart: automatically set osd weight based on df (Guilhem Lettron)</li>
<li>use less memory for logging by default</li>
</ul>
</div>
</div>
<div class="section" id="v0-60">
<h2>v0.60<a class="headerlink" href="#v0-60" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2617">
<h3>Upgrading<a class="headerlink" href="#id2617" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Please note that the recently added librados &#8216;list_snaps&#8217; function
call is in a state of flux and is changing slightly in v0.61.  You
are advised not to make use of it in v0.59 or v0.60.</li>
</ul>
</div>
<div class="section" id="id2618">
<h3>Notable Changes<a class="headerlink" href="#id2618" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: make tracking of object snapshot metadata more efficient (Sam Just)</li>
<li>osd: misc fixes to PG split (Sam Just)</li>
<li>osd: improve journal corruption detection (Sam Just)</li>
<li>osd: improve handling when disk fills up (David Zafman)</li>
<li>osd: add &#8216;noscrub&#8217;, &#8216;nodeepscrub&#8217; osdmap flags (David Zafman)</li>
<li>osd: fix hang in &#8216;journal aio = true&#8217; mode (Sage Weil)</li>
<li>ceph-disk-prepare: fix mkfs args on old distros (Alexandre Marangone)</li>
<li>ceph-disk-activate: improve multicluster support, error handling (Sage Weil)</li>
<li>librbd: optionally wait for flush before enabling writeback (Josh Durgin)</li>
<li>crush: update weights for all instances of an item, not just the first (Sage Weil)</li>
<li>mon: shut down safely if disk approaches full (Joao Luis)</li>
<li>rgw: fix Content-Length on 32-bit machines (Jan Harkes)</li>
<li>mds: store and update backpointers/traces on directory, file objects (Sam Lang)</li>
<li>mds: improve session cleanup (Sage Weil)</li>
<li>mds, ceph-fuse: fix bugs with replayed requests after MDS restart (Sage Weil)</li>
<li>ceph-fuse: enable kernel cache invalidation (Sam Lang)</li>
<li>libcephfs: new topo API requests for Hadoop (Noah Watkins)</li>
<li>ceph-fuse: session handling cleanup, bug fixes (Sage Weil)</li>
<li>much code cleanup and optimization (Danny Al-Gaaf)</li>
<li>use less memory for logging by default</li>
<li>upstart: automatically set osd weight based on df (Guilhem Lettron)</li>
<li>init-ceph, mkcephfs: close a few security holes with -a  (Sage Weil)</li>
<li>rpm/deb: do not remove /var/lib/ceph on purge (v0.59 was the only release to do so)</li>
</ul>
</div>
</div>
<div class="section" id="v0-59">
<h2>v0.59<a class="headerlink" href="#v0-59" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2619">
<h3>Upgrading<a class="headerlink" href="#id2619" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The monitor is using a completely new storage strategy and
intra-cluster protocol.  This means that v0.59 and pre-v0.59
monitors do not talk to each other.  When you upgrade each one, it
will convert its local data store to the new format.  Once you
upgrade a majority, the quorum will be formed using the new protocol
and the old monitors will be blocked out until they too get
upgraded.  For this reason, we recommend not running a mixed-version
cluster for very long.</li>
<li>ceph-mon now requires the creation of its data directory prior to
&#8211;mkfs, similarly to what happens on ceph-osd.  This directory is no
longer automatically created, and custom scripts should be adjusted to
reflect just that.</li>
</ul>
</div>
<div class="section" id="id2620">
<h3>Notable Changes<a class="headerlink" href="#id2620" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>mon: rearchitected to utilize single instance of paxos and a key/value store (Joao Luis)</li>
<li>mon: new &#8216;ceph df [detail]&#8217; command</li>
<li>osd: support for improved hashing of PGs across OSDs via HASHPSPOOL pool flag and feature</li>
<li>osd: refactored watch/notify infrastructure (fixes protocol, removes many bugs) (Sam Just)</li>
<li>osd, librados: ability to list watchers (David Zafman)</li>
<li>osd, librados: new listsnaps command (David Zafman)</li>
<li>osd: trim log more aggressively, avoid appearance of leak memory</li>
<li>osd: misc split fixes</li>
<li>osd: a few journaling bug fixes</li>
<li>osd: connection handling bug fixes</li>
<li>rbd: avoid FIEMAP when importing from file (it can be buggy)</li>
<li>librados: fix linger bugs (Josh Durgin)</li>
<li>librbd: fixed flatten deadlock (Josh Durgin)</li>
<li>rgw: fixed &gt;4MB range requests (Jan Harkes)</li>
<li>rgw: fix log rotation</li>
<li>mds: allow xattrs on root</li>
<li>ceph-fuse: fix statfs(2) reporting</li>
<li>msgr: optionally tune TCP buffer size to avoid throughput collapse (Jim Schutt)</li>
<li>consume less memory for logging by default</li>
<li>always use system leveldb (Gary Lowell)</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="v0-58">
<h2>v0.58<a class="headerlink" href="#v0-58" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2621">
<h3>Upgrading<a class="headerlink" href="#id2621" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The monitor now enforces that MDS names be unique.  If you have
multiple daemons start with with the same id (e.g., <tt class="docutils literal"><span class="pre">mds.a</span></tt>) the
second one will implicitly mark the first as failed.  This makes
things less confusing and makes a daemon restart faster (we no
longer wait for the stopped daemon to time out) but existing
multi-mds configurations may need to be adjusted accordingly to give
daemons unique names.</li>
</ul>
</div>
<div class="section" id="id2622">
<h3>Notable Changes<a class="headerlink" href="#id2622" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>librbd: fixed some locking issues with flatten (Josh Durgin)</li>
<li>rbd: udevadm settle on map/unmap to avoid various races (Dan Mick)</li>
<li>osd: move pg info, log into leveldb (== better performance) (David Zafman)</li>
<li>osd: fix pg log trimming (avoids memory bloat on degraded clusters)</li>
<li>osd: fixed bug in journal checksums (Sam Just)</li>
<li>osd: verify snap collections on startup (Sam Just)</li>
<li>ceph-disk-prepare/activate: support for dm-crypt (Alexandre Marangone)</li>
<li>ceph-disk-prepare/activate: support for sysvinit, directories or partitions (not full disks)</li>
<li>msgr: fixed race in connection reset</li>
<li>msgr: fix comparison of IPv6 addresses (fixes monitor bringup via ceph-deploy, chef)</li>
<li>radosgw: fix object copy onto self (Yehuda Sadeh)</li>
<li>radosgw: ACL grants in headers (Caleb Miles)</li>
<li>radosgw: ability to listen to fastcgi via a port (Guilhem Lettron)</li>
<li>mds: new encoding for all data types (to allow forward/backward compatbility) (Greg Farnum)</li>
<li>mds: fast failover between MDSs (enforce unique mds names)</li>
<li>crush: ability to create, remove rules via CLI</li>
<li>many many cleanups (Danny Al-Gaaf)</li>
<li>buffer unit testing (Loic Dachary)</li>
<li>fixed log rotation (Gary Lowell)</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="v0-57">
<h2>v0.57<a class="headerlink" href="#v0-57" title="Permalink to this headline">¶</a></h2>
<p>This development release has a lot of additional functionality
accumulated over the last couple months.  Most of the bug fixes (with
the notable exception of the MDS related work) has already been
backported to v0.56.x, and is not mentioned here.</p>
<div class="section" id="id2623">
<h3>Upgrading<a class="headerlink" href="#id2623" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The &#8216;ceph osd pool delete &lt;poolname&gt;&#8217; and &#8216;rados rmpool &lt;poolname&gt;&#8217;
now have safety interlocks with loud warnings that make you confirm
pool removal.  Any scripts curenty rely on these functions zapping
data without confirmation need to be adjusted accordingly.</li>
</ul>
</div>
<div class="section" id="id2624">
<h3>Notable Changes<a class="headerlink" href="#id2624" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: default to libaio for the journal (some performance boost)</li>
<li>osd: validate snap collections on startup</li>
<li>osd: ceph-filestore-dump tool for debugging</li>
<li>osd: deep-scrub omap keys/values</li>
<li>ceph tool: some CLI interface cleanups</li>
<li>mon: easy adjustment of crush tunables via &#8216;ceph osd crush tunables ...&#8217;</li>
<li>mon: easy creation of crush rules vai &#8216;ceph osd rule ...&#8217;</li>
<li>mon: approximate recovery, IO workload stats</li>
<li>mon: avoid marking entire CRUSH subtrees out (e.g., if an entire rack goes offline)</li>
<li>mon: safety check for pool deletion</li>
<li>mon: new checks for identifying and reporting clock drift</li>
<li>radosgw: misc fixes</li>
<li>rbd: wait for udev to settle in strategic places (avoid spurious errors, failures)</li>
<li>rbd-fuse: new tool, package</li>
<li>mds, ceph-fuse: manage layouts via xattrs</li>
<li>mds: misc bug fixes with clustered MDSs and failure recovery</li>
<li>mds: misc bug fixes with readdir</li>
<li>libcephfs: many fixes, cleanups with the Java bindings</li>
<li>auth: ability to require new cephx signatures on messages (still off by default)</li>
</ul>
</div>
</div>
<div class="section" id="v0-56-7-bobtail">
<h2>v0.56.7 &#8220;bobtail&#8221;<a class="headerlink" href="#v0-56-7-bobtail" title="Permalink to this headline">¶</a></h2>
<p>This bobtail update fixes a range of radosgw bugs (including an easily
triggered crash from multi-delete), a possible data corruption issue
with power failure on XFS, and several OSD problems, including a
memory &#8220;leak&#8221; that will affect aged clusters.</p>
<div class="section" id="id2625">
<h3>Notable changes<a class="headerlink" href="#id2625" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-fuse: create finisher flags after fork()</li>
<li>debian: fix prerm/postinst hooks; do not restart daemons on upgrade</li>
<li>librados: fix async aio completion wakeup (manifests as rbd hang)</li>
<li>librados: fix hang when osd becomes full and then not full</li>
<li>librados: fix locking for aio completion refcounting</li>
<li>librbd python bindings: fix stripe_unit, stripe_count</li>
<li>librbd: make image creation default configurable</li>
<li>mon: fix validation of mds ids in mon commands</li>
<li>osd: avoid excessive disk updates during peering</li>
<li>osd: avoid excessive memory usage on scrub</li>
<li>osd: avoid heartbeat failure/suicide when scrubbing</li>
<li>osd: misc minor bug fixes</li>
<li>osd: use fdatasync instead of sync_file_range (may avoid xfs power-loss corruption)</li>
<li>rgw: escape prefix correctly when listing objects</li>
<li>rgw: fix copy attrs</li>
<li>rgw: fix crash on multi delete</li>
<li>rgw: fix locking/crash when using ops log socket</li>
<li>rgw: fix usage logging</li>
<li>rgw: handle deep uri resources</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.56.7.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-56-6-bobtail">
<h2>v0.56.6 &#8220;bobtail&#8221;<a class="headerlink" href="#v0-56-6-bobtail" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2626">
<h3>Notable changes<a class="headerlink" href="#id2626" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>rgw: fix garbage collection</li>
<li>rpm: fix package dependencies</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.56.6.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-56-5-bobtail">
<h2>v0.56.5 &#8220;bobtail&#8221;<a class="headerlink" href="#v0-56-5-bobtail" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2627">
<h3>Upgrading<a class="headerlink" href="#id2627" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ceph-disk[-prepare,-activate] behavior has changed in various ways.
There should not be any compatibility issues, but chef users should
be aware.</li>
</ul>
</div>
<div class="section" id="id2628">
<h3>Notable changes<a class="headerlink" href="#id2628" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: fix recording of quorum feature set (important for argonaut -&gt; bobtail -&gt; cuttlefish mon upgrades)</li>
<li>osd: minor peering bug fixes</li>
<li>osd: fix a few bugs when pools are renamed</li>
<li>osd: fix occasionally corrupted pg stats</li>
<li>osd: fix behavior when broken v0.56[.0] clients connect</li>
<li>rbd: avoid FIEMAP ioctl on import (it is broken on some kernels)</li>
<li>librbd: fixes for several request/reply ordering bugs</li>
<li>librbd: only set STRIPINGV2 feature on new images when needed</li>
<li>librbd: new async flush method to resolve qemu hangs (requires QEMU update as well)</li>
<li>librbd: a few fixes to flatten</li>
<li>ceph-disk: support for dm-crypt</li>
<li>ceph-disk: many backports to allow bobtail deployments with ceph-deploy, chef</li>
<li>sysvinit: do not stop starting daemons on first failure</li>
<li>udev: fixed rules for redhat-based distros</li>
<li>build fixes for raring</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.56.5.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-56-4-bobtail">
<h2>v0.56.4 &#8220;bobtail&#8221;<a class="headerlink" href="#v0-56-4-bobtail" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2629">
<h3>Upgrading<a class="headerlink" href="#id2629" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>There is a fix in the syntax for the output of &#8216;ceph osd tree &#8211;format=json&#8217;.</li>
<li>The MDS disk format has changed from prior releases <em>and</em> from v0.57.  In particular,
upgrades to v0.56.4 are safe, but you cannot move from v0.56.4 to v0.57 if you are using
the MDS for CephFS; you must upgrade directly to v0.58 (or later) instead.</li>
</ul>
</div>
<div class="section" id="id2630">
<h3>Notable changes<a class="headerlink" href="#id2630" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mon: fix bug in bringup with IPv6</li>
<li>reduce default memory utilization by internal logging (all daemons)</li>
<li>rgw: fix for bucket removal</li>
<li>rgw: reopen logs after log rotation</li>
<li>rgw: fix multipat upload listing</li>
<li>rgw: don&#8217;t copy object when copied onto self</li>
<li>osd: fix caps parsing for pools with - or _</li>
<li>osd: allow pg log trimming when degraded, scrubbing, recoverying (reducing memory consumption)</li>
<li>osd: fix potential deadlock when &#8216;journal aio = true&#8217;</li>
<li>osd: various fixes for collection creation/removal, rename, temp collections</li>
<li>osd: various fixes for PG split</li>
<li>osd: deep-scrub omap key/value data</li>
<li>osd: fix rare bug in journal replay</li>
<li>osd: misc fixes for snapshot tracking</li>
<li>osd: fix leak in recovery reservations on pool deletion</li>
<li>osd: fix bug in connection management</li>
<li>osd: fix for op ordering when rebalancing</li>
<li>ceph-fuse: report file system size with correct units</li>
<li>mds: get and set directory layout policies via virtual xattrs</li>
<li>mds: on-disk format revision (see upgrading note above)</li>
<li>mkcephfs, init-ceph: close potential security issues with predictable filenames</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.56.4.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-56-3-bobtail">
<h2>v0.56.3 &#8220;bobtail&#8221;<a class="headerlink" href="#v0-56-3-bobtail" title="Permalink to this headline">¶</a></h2>
<p>This release has several bug fixes surrounding OSD stability.  Most
significantly, an issue with OSDs being unresponsive shortly after
startup (and occasionally crashing due to an internal heartbeat check)
is resolved.  Please upgrade.</p>
<div class="section" id="id2631">
<h3>Upgrading<a class="headerlink" href="#id2631" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">A bug was fixed in which the OSDMap epoch for PGs without any IO
requests was not recorded.  If there are pools in the cluster that
are completely idle (for example, the <tt class="docutils literal"><span class="pre">data</span></tt> and <tt class="docutils literal"><span class="pre">metadata</span></tt>
pools normally used by CephFS), and a large number of OSDMap epochs
have elapsed since the <tt class="docutils literal"><span class="pre">ceph-osd</span></tt> daemon was last restarted, those
maps will get reprocessed when the daemon restarts.  This process
can take a while if there are a lot of maps.  A workaround is to
&#8216;touch&#8217; any idle pools with IO prior to restarting the daemons after
packages are upgraded:</p>
<div class="highlight-python"><pre>rados bench 10 write -t 1 -b 4096 -p {POOLNAME}</pre>
</div>
<p>This will typically generate enough IO to touch every PG in the pool
without generating significant cluster load, and also cleans up any
temporary objects it creates.</p>
</li>
</ul>
</div>
<div class="section" id="id2632">
<h3>Notable changes<a class="headerlink" href="#id2632" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: flush peering work queue prior to start</li>
<li>osd: persist osdmap epoch for idle PGs</li>
<li>osd: fix and simplify connection handling for heartbeats</li>
<li>osd: avoid crash on invalid admin command</li>
<li>mon: fix rare races with monitor elections and commands</li>
<li>mon: enforce that OSD reweights be between 0 and 1 (NOTE: not CRUSH weights)</li>
<li>mon: approximate client, recovery bandwidth logging</li>
<li>radosgw: fixed some XML formatting to conform to Swift API inconsistency</li>
<li>radosgw: fix usage accounting bug; add repair tool</li>
<li>radosgw: make fallback URI configurable (necessary on some web servers)</li>
<li>librbd: fix handling for interrupted &#8216;unprotect&#8217; operations</li>
<li>mds, ceph-fuse: allow file and directory layouts to be modified via virtual xattrs</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.56.3.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-56-2-bobtail">
<h2>v0.56.2 &#8220;bobtail&#8221;<a class="headerlink" href="#v0-56-2-bobtail" title="Permalink to this headline">¶</a></h2>
<p>This release has a wide range of bug fixes, stability improvements, and some performance improvements.  Please upgrade.</p>
<div class="section" id="id2633">
<h3>Upgrading<a class="headerlink" href="#id2633" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The meaning of the &#8216;osd scrub min interval&#8217; and &#8216;osd scrub max
interval&#8217; has changed slightly.  The min interval used to be
meaningless, while the max interval would only trigger a scrub if
the load was sufficiently low.  Now, the min interval option works
the way the old max interval did (it will trigger a scrub after this
amount of time if the load is low), while the max interval will
force a scrub regardless of load.  The default options have been
adjusted accordingly.  If you have customized these in ceph.conf,
please review their values when upgrading.</li>
<li>CRUSH maps that are generated by default when calling <tt class="docutils literal"><span class="pre">ceph-mon</span>
<span class="pre">--mkfs</span></tt> directly now distribute replicas across hosts instead of
across OSDs.  Any provisioning tools that are being used by Ceph may
be affected, although probably for the better, as distributing across
hosts is a much more commonly sought behavior.  If you use
<tt class="docutils literal"><span class="pre">mkcephfs</span></tt> to create the cluster, the default CRUSH rule is still
inferred by the number of hosts and/or racks in the initial ceph.conf.</li>
</ul>
</div>
<div class="section" id="id2634">
<h3>Notable changes<a class="headerlink" href="#id2634" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: snapshot trimming fixes</li>
<li>osd: scrub snapshot metadata</li>
<li>osd: fix osdmap trimming</li>
<li>osd: misc peering fixes</li>
<li>osd: stop heartbeating with peers if internal threads are stuck/hung</li>
<li>osd: PG removal is friendlier to other workloads</li>
<li>osd: fix recovery start delay (was causing very slow recovery)</li>
<li>osd: fix scheduling of explicitly requested scrubs</li>
<li>osd: fix scrub interval config options</li>
<li>osd: improve recovery vs client io tuning</li>
<li>osd: improve &#8216;slow request&#8217; warning detail for better diagnosis</li>
<li>osd: default CRUSH map now distributes across hosts, not OSDs</li>
<li>osd: fix crash on 32-bit hosts triggered by librbd clients</li>
<li>librbd: fix error handling when talking to older OSDs</li>
<li>mon: fix a few rare crashes</li>
<li>ceph command: ability to easily adjust CRUSH tunables</li>
<li>radosgw: object copy does not copy source ACLs</li>
<li>rados command: fix omap command usage</li>
<li>sysvinit script: set ulimit -n properly on remote hosts</li>
<li>msgr: fix narrow race with message queuing</li>
<li>fixed compilation on some old distros (e.g., RHEL 5.x)</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.56.2.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-56-1-bobtail">
<h2>v0.56.1 &#8220;bobtail&#8221;<a class="headerlink" href="#v0-56-1-bobtail" title="Permalink to this headline">¶</a></h2>
<p>This release has two critical fixes.  Please upgrade.</p>
<div class="section" id="id2635">
<h3>Upgrading<a class="headerlink" href="#id2635" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>There is a protocol compatibility problem between v0.56 and any
other version that is now fixed.  If your radosgw or RBD clients are
running v0.56, they will need to be upgraded too.  If they are
running a version prior to v0.56, they can be left as is.</li>
</ul>
</div>
<div class="section" id="id2636">
<h3>Notable changes<a class="headerlink" href="#id2636" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: fix commit sequence for XFS, ext4 (or any other non-btrfs) to prevent data loss on power cycle or kernel panic</li>
<li>osd: fix compatibility for CALL operation</li>
<li>osd: process old osdmaps prior to joining cluster (fixes slow startup)</li>
<li>osd: fix a couple of recovery-related crashes</li>
<li>osd: fix large io requests when journal is in (non-default) aio mode</li>
<li>log: fix possible deadlock in logging code</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.56.1.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-56-bobtail">
<h2>v0.56 &#8220;bobtail&#8221;<a class="headerlink" href="#v0-56-bobtail" title="Permalink to this headline">¶</a></h2>
<p>Bobtail is the second stable release of Ceph, named in honor of the
<cite>Bobtail Squid</cite>: <a class="reference external" href="http://en.wikipedia.org/wiki/Bobtail_squid">http://en.wikipedia.org/wiki/Bobtail_squid</a>.</p>
<div class="section" id="key-features-since-v0-48-argonaut">
<h3>Key features since v0.48 &#8220;argonaut&#8221;<a class="headerlink" href="#key-features-since-v0-48-argonaut" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Object Storage Daemon (OSD): improved threading, small-io performance, and performance during recovery</li>
<li>Object Storage Daemon (OSD): regular &#8220;deep&#8221; scrubbing of all stored data to detect latent disk errors</li>
<li>RADOS Block Device (RBD): support for copy-on-write clones of images.</li>
<li>RADOS Block Device (RBD): better client-side caching.</li>
<li>RADOS Block Device (RBD): advisory image locking</li>
<li>Rados Gateway (RGW): support for efficient usage logging/scraping (for billing purposes)</li>
<li>Rados Gateway (RGW): expanded S3 and Swift API coverage (e.g., POST, multi-object delete)</li>
<li>Rados Gateway (RGW): improved striping for large objects</li>
<li>Rados Gateway (RGW): OpenStack Keystone integration</li>
<li>RPM packages for Fedora, RHEL/CentOS, OpenSUSE, and SLES</li>
<li>mkcephfs: support for automatically formatting and mounting XFS and ext4 (in addition to btrfs)</li>
</ul>
</div>
<div class="section" id="id2637">
<h3>Upgrading<a class="headerlink" href="#id2637" title="Permalink to this headline">¶</a></h3>
<p>Please refer to the document <a class="reference external" href="../install/upgrading-ceph/#upgrading-from-argonaut-to-bobtail">Upgrading from Argonaut to Bobtail</a> for details.</p>
<ul>
<li><p class="first">Cephx authentication is now enabled by default (since v0.55).
Upgrading a cluster without adjusting the Ceph configuration will
likely prevent the system from starting up on its own.  We recommend
first modifying the configuration to indicate that authentication is
disabled, and only then upgrading to the latest version.:</p>
<div class="highlight-python"><pre>auth client required = none
auth service required = none
auth cluster required = none</pre>
</div>
</li>
<li><p class="first">Ceph daemons can be upgraded one-by-one while the cluster is online
and in service.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">ceph-osd</span></tt> daemons must be upgraded and restarted <em>before</em> any
<tt class="docutils literal"><span class="pre">radosgw</span></tt> daemons are restarted, as they depend on some new
ceph-osd functionality.  (The <tt class="docutils literal"><span class="pre">ceph-mon</span></tt>, <tt class="docutils literal"><span class="pre">ceph-osd</span></tt>, and
<tt class="docutils literal"><span class="pre">ceph-mds</span></tt> daemons can be upgraded and restarted in any order.)</p>
</li>
<li><p class="first">Once each individual daemon has been upgraded and restarted, it
cannot be downgraded.</p>
</li>
<li><p class="first">The cluster of <tt class="docutils literal"><span class="pre">ceph-mon</span></tt> daemons will migrate to a new internal
on-wire protocol once all daemons in the quorum have been upgraded.
Upgrading only a majority of the nodes (e.g., two out of three) may
expose the cluster to a situation where a single additional failure
may compromise availability (because the non-upgraded daemon cannot
participate in the new protocol).  We recommend not waiting for an
extended period of time between <tt class="docutils literal"><span class="pre">ceph-mon</span></tt> upgrades.</p>
</li>
<li><p class="first">The ops log and usage log for radosgw are now off by default.  If
you need these logs (e.g., for billing purposes), you must enable
them explicitly.  For logging of all operations to objects in the
<tt class="docutils literal"><span class="pre">.log</span></tt> pool (see <tt class="docutils literal"><span class="pre">radosgw-admin</span> <span class="pre">log</span> <span class="pre">...</span></tt>):</p>
<div class="highlight-python"><pre>rgw enable ops log = true</pre>
</div>
<p>For usage logging of aggregated bandwidth usage (see <tt class="docutils literal"><span class="pre">radosgw-admin</span>
<span class="pre">usage</span> <span class="pre">...</span></tt>):</p>
<div class="highlight-python"><pre>rgw enable usage log = true</pre>
</div>
</li>
<li><p class="first">You should not create or use &#8220;format 2&#8221; RBD images until after all
<tt class="docutils literal"><span class="pre">ceph-osd</span></tt> daemons have been upgraded.  Note that &#8220;format 1&#8221; is
still the default.  You can use the new <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">osd</span> <span class="pre">ls</span></tt> and
<tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">tell</span> <span class="pre">osd.N</span> <span class="pre">version</span></tt> commands to doublecheck your cluster.
<tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">osd</span> <span class="pre">ls</span></tt> will give a list of all OSD IDs that are part of the
cluster, and you can use that to write a simple shell loop to display
all the OSD version strings:</p>
<div class="highlight-python"><pre>for i in $(ceph osd ls); do
    ceph tell osd.${i} version
done</pre>
</div>
</li>
</ul>
</div>
<div class="section" id="compatibility-changes">
<h3>Compatibility changes<a class="headerlink" href="#compatibility-changes" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The &#8216;ceph osd create [&lt;uuid&gt;]&#8217; command now rejects an argument that
is not a UUID.  (Previously it would take take an optional integer
OSD id.)  This correct syntax has been &#8216;ceph osd create [&lt;uuid&gt;]&#8217;
since v0.47, but the older calling convention was being silently
ignored.</p>
</li>
<li><p class="first">The CRUSH map root nodes now have type <tt class="docutils literal"><span class="pre">root</span></tt> instead of type
<tt class="docutils literal"><span class="pre">pool</span></tt>.  This avoids confusion with RADOS pools, which are not
directly related.  Any scripts or tools that use the <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">osd</span>
<span class="pre">crush</span> <span class="pre">...</span></tt> commands may need to be adjusted accordingly.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">osd</span> <span class="pre">pool</span> <span class="pre">create</span> <span class="pre">&lt;poolname&gt;</span> <span class="pre">&lt;pgnum&gt;</span></tt> command now requires
the <tt class="docutils literal"><span class="pre">pgnum</span></tt> argument. Previously this was optional, and would
default to 8, which was almost never a good number.</p>
</li>
<li><p class="first">Degraded mode (when there fewer than the desired number of replicas)
is now more configurable on a per-pool basis, with the min_size
parameter. By default, with min_size 0, this allows I/O to objects
with N - floor(N/2) replicas, where N is the total number of
expected copies. Argonaut behavior was equivalent to having min_size
= 1, so I/O would always be possible if any completely up to date
copy remained. min_size = 1 could result in lower overall
availability in certain cases, such as flapping network partitions.</p>
</li>
<li><p class="first">The sysvinit start/stop script now defaults to adjusting the max
open files ulimit to 16384.  On most systems the default is 1024, so
this is an increase and won&#8217;t break anything.  If some system has a
higher initial value, however, this change will lower the limit.
The value can be adjusted explicitly by adding an entry to the
<tt class="docutils literal"><span class="pre">ceph.conf</span></tt> file in the appropriate section.  For example:</p>
<div class="highlight-python"><pre>[global]
        max open files = 32768</pre>
</div>
</li>
<li><p class="first">&#8216;rbd lock list&#8217; and &#8216;rbd showmapped&#8217; no longer use tabs as
separators in their output.</p>
</li>
<li><p class="first">There is configurable limit on the number of PGs when creating a new
pool, to prevent a user from accidentally specifying a ridiculous
number for pg_num.  It can be adjusted via the &#8216;mon max pool pg num&#8217;
option on the monitor, and defaults to 65536 (the current max
supported by the Linux kernel client).</p>
</li>
<li><p class="first">The osd capabilities associated with a rados user have changed
syntax since 0.48 argonaut. The new format is mostly backwards
compatible, but there are two backwards-incompatible changes:</p>
<ul class="simple">
<li>specifying a list of pools in one grant, i.e.
&#8216;allow r pool=foo,bar&#8217; is now done in separate grants, i.e.
&#8216;allow r pool=foo, allow r pool=bar&#8217;.</li>
<li>restricting pool access by pool owner (&#8216;allow r uid=foo&#8217;) is
removed. This feature was not very useful and unused in practice.</li>
</ul>
<p>The new format is documented in the ceph-authtool man page.</p>
</li>
<li><p class="first">&#8216;rbd cp&#8217; and &#8216;rbd rename&#8217; use rbd as the default destination pool,
regardless of what pool the source image is in. Previously they
would default to the same pool as the source image.</p>
</li>
<li><p class="first">&#8216;rbd export&#8217; no longer prints a message for each object written. It
just reports percent complete like other long-lasting operations.</p>
</li>
<li><p class="first">&#8216;ceph osd tree&#8217; now uses 4 decimal places for weight so output is
nicer for humans</p>
</li>
<li><p class="first">Several monitor operations are now idempotent:</p>
<ul class="simple">
<li>ceph osd pool create</li>
<li>ceph osd pool delete</li>
<li>ceph osd pool mksnap</li>
<li>ceph osd rm</li>
<li>ceph pg &lt;pgid&gt; revert</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id2638">
<h3>Notable changes<a class="headerlink" href="#id2638" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>auth: enable cephx by default</li>
<li>auth: expanded authentication settings for greater flexibility</li>
<li>auth: sign messages when using cephx</li>
<li>build fixes for Fedora 18, CentOS/RHEL 6</li>
<li>ceph: new &#8216;osd ls&#8217; and &#8216;osd tell &lt;osd.N&gt; version&#8217; commands</li>
<li>ceph-debugpack: misc improvements</li>
<li>ceph-disk-prepare: creates and labels GPT partitions</li>
<li>ceph-disk-prepare: support for external journals, default mount/mkfs options, etc.</li>
<li>ceph-fuse/libcephfs: many misc fixes, admin socket debugging</li>
<li>ceph-fuse: fix handling for .. in root directory</li>
<li>ceph-fuse: many fixes (including memory leaks, hangs)</li>
<li>ceph-fuse: mount helper (mount.fuse.ceph) for use with /etc/fstab</li>
<li>ceph.spec: misc packaging fixes</li>
<li>common: thread pool sizes can now be adjusted at runtime</li>
<li>config: $pid is now available as a metavariable</li>
<li>crush: default root of tree type is now &#8216;root&#8217; instead of &#8216;pool&#8217; (to avoid confusiong wrt rados pools)</li>
<li>crush: fixed retry behavior with chooseleaf via tunable</li>
<li>crush: tunables documented; feature bit now present and enforced</li>
<li>libcephfs: java wrapper</li>
<li>librados: several bug fixes (rare races, locking errors)</li>
<li>librados: some locking fixes</li>
<li>librados: watch/notify fixes, misc memory leaks</li>
<li>librbd: a few fixes to &#8216;discard&#8217; support</li>
<li>librbd: fine-grained striping feature</li>
<li>librbd: fixed memory leaks</li>
<li>librbd: fully functional and documented image cloning</li>
<li>librbd: image (advisory) locking</li>
<li>librbd: improved caching (of object non-existence)</li>
<li>librbd: &#8216;flatten&#8217; command to sever clone parent relationship</li>
<li>librbd: &#8216;protect&#8217;/&#8217;unprotect&#8217; commands to prevent clone parent from being deleted</li>
<li>librbd: clip requests past end-of-image.</li>
<li>librbd: fixes an issue with some windows guests running in qemu (remove floating point usage)</li>
<li>log: fix in-memory buffering behavior (to only write log messages on crash)</li>
<li>mds: fix ino release on abort session close, relative getattr path, mds shutdown, other misc items</li>
<li>mds: misc fixes</li>
<li>mkcephfs: fix for default keyring, osd data/journal locations</li>
<li>mkcephfs: support for formatting xfs, ext4 (as well as btrfs)</li>
<li>init: support for automatically mounting xfs and ext4 osd data directories</li>
<li>mon, radosgw, ceph-fuse: fixed memory leaks</li>
<li>mon: improved ENOSPC, fs error checking</li>
<li>mon: less-destructive ceph-mon &#8211;mkfs behavior</li>
<li>mon: misc fixes</li>
<li>mon: more informative info about stuck PGs in &#8216;health detail&#8217;</li>
<li>mon: information about recovery and backfill in &#8216;pg &lt;pgid&gt; query&#8217;</li>
<li>mon: new &#8216;osd crush create-or-move ...&#8217; command</li>
<li>mon: new &#8216;osd crush move ...&#8217; command lets you rearrange your CRUSH hierarchy</li>
<li>mon: optionally dump &#8216;osd tree&#8217; in json</li>
<li>mon: configurable cap on maximum osd number (mon max osd)</li>
<li>mon: many bug fixes (various races causing ceph-mon crashes)</li>
<li>mon: new on-disk metadata to facilitate future mon changes (post-bobtail)</li>
<li>mon: election bug fixes</li>
<li>mon: throttle client messages (limit memory consumption)</li>
<li>mon: throttle osd flapping based on osd history (limits osdmap ΄thrashing&#8217; on overloaded or unhappy clusters)</li>
<li>mon: &#8216;report&#8217; command for dumping detailed cluster status (e.g., for use when reporting bugs)</li>
<li>mon: osdmap flags like noup, noin now cause a health warning</li>
<li>msgr: improved failure handling code</li>
<li>msgr: many bug fixes</li>
<li>osd, mon: honor new &#8216;nobackfill&#8217; and &#8216;norecover&#8217; osdmap flags</li>
<li>osd, mon: use feature bits to lock out clients lacking CRUSH tunables when they are in use</li>
<li>osd: backfill reservation framework (to avoid flooding new osds with backfill data)</li>
<li>osd: backfill target reservations (improve performance during recovery)</li>
<li>osd: better tracking of recent slow operations</li>
<li>osd: capability grammar improvements, bug fixes</li>
<li>osd: client vs recovery io prioritization</li>
<li>osd: crush performance improvements</li>
<li>osd: default journal size to 5 GB</li>
<li>osd: experimental support for PG &#8220;splitting&#8221; (pg_num adjustment for existing pools)</li>
<li>osd: fix memory leak on certain error paths</li>
<li>osd: fixed detection of EIO errors from fs on read</li>
<li>osd: major refactor of PG peering and threading</li>
<li>osd: many bug fixes</li>
<li>osd: more/better dump info about in-progress operations</li>
<li>osd: new caps structure (see compatibility notes)</li>
<li>osd: new &#8216;deep scrub&#8217; will compare object content across replicas (once per week by default)</li>
<li>osd: new &#8216;lock&#8217; rados class for generic object locking</li>
<li>osd: optional &#8216;min&#8217; pg size</li>
<li>osd: recovery reservations</li>
<li>osd: scrub efficiency improvement</li>
<li>osd: several out of order reply bug fixes</li>
<li>osd: several rare peering cases fixed</li>
<li>osd: some performance improvements related to request queuing</li>
<li>osd: use entire device if journal is a block device</li>
<li>osd: use syncfs(2) when kernel supports it, even if glibc does not</li>
<li>osd: various fixes for out-of-order op replies</li>
<li>rados: ability to copy, rename pools</li>
<li>rados: bench command now cleans up after itself</li>
<li>rados: &#8216;cppool&#8217; command to copy rados pools</li>
<li>rados: &#8216;rm&#8217; now accepts a list of objects to be removed</li>
<li>radosgw: POST support</li>
<li>radosgw: REST API for managing usage stats</li>
<li>radosgw: fix bug in bucket stat updates</li>
<li>radosgw: fix copy-object vs attributes</li>
<li>radosgw: fix range header for large objects, ETag quoting, GMT dates, other compatibility fixes</li>
<li>radosgw: improved garbage collection framework</li>
<li>radosgw: many small fixes, cleanups</li>
<li>radosgw: openstack keystone integration</li>
<li>radosgw: stripe large (non-multipart) objects</li>
<li>radosgw: support for multi-object deletes</li>
<li>radosgw: support for swift manifest objects</li>
<li>radosgw: vanity bucket dns names</li>
<li>radosgw: various API compatibility fixes</li>
<li>rbd: import from stdin, export to stdout</li>
<li>rbd: new &#8216;ls -l&#8217; option to view images with metadata</li>
<li>rbd: use generic id and keyring options for &#8216;rbd map&#8217;</li>
<li>rbd: don&#8217;t issue usage on errors</li>
<li>udev: fix symlink creation for rbd images containing partitions</li>
<li>upstart: job files for all daemon types (not enabled by default)</li>
<li>wireshark: ceph protocol dissector patch updated</li>
</ul>
</div>
</div>
<div class="section" id="v0-54">
<h2>v0.54<a class="headerlink" href="#v0-54" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2639">
<h3>Upgrading<a class="headerlink" href="#id2639" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The osd capabilities associated with a rados user have changed
syntax since 0.48 argonaut. The new format is mostly backwards
compatible, but there are two backwards-incompatible changes:</p>
<ul class="simple">
<li>specifying a list of pools in one grant, i.e.
&#8216;allow r pool=foo,bar&#8217; is now done in separate grants, i.e.
&#8216;allow r pool=foo, allow r pool=bar&#8217;.</li>
<li>restricting pool access by pool owner (&#8216;allow r uid=foo&#8217;) is
removed. This feature was not very useful and unused in practice.</li>
</ul>
<p>The new format is documented in the ceph-authtool man page.</p>
</li>
<li><p class="first">Bug fixes to the new osd capability format parsing properly validate
the allowed operations. If an existing rados user gets permissions
errors after upgrading, its capabilities were probably
misconfigured. See the ceph-authtool man page for details on osd
capabilities.</p>
</li>
<li><p class="first">&#8216;rbd lock list&#8217; and &#8216;rbd showmapped&#8217; no longer use tabs as
separators in their output.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v0-48-3-argonaut">
<h2>v0.48.3 &#8220;argonaut&#8221;<a class="headerlink" href="#v0-48-3-argonaut" title="Permalink to this headline">¶</a></h2>
<p>This release contains a critical fix that can prevent data loss or
corruption after a power loss or kernel panic event.  Please upgrade
immediately.</p>
<div class="section" id="id2640">
<h3>Upgrading<a class="headerlink" href="#id2640" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>If you are using the undocumented <tt class="docutils literal"><span class="pre">ceph-disk-prepare</span></tt> and
<tt class="docutils literal"><span class="pre">ceph-disk-activate</span></tt> tools, they have several new features and
some additional functionality.  Please review the changes in
behavior carefully before upgrading.</li>
<li>The .deb packages now require xfsprogs.</li>
</ul>
</div>
<div class="section" id="id2641">
<h3>Notable changes<a class="headerlink" href="#id2641" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>filestore: fix op_seq write order (fixes journal replay after power loss)</li>
<li>osd: fix occasional indefinitely hung &#8220;slow&#8221; request</li>
<li>osd: fix encoding for pool_snap_info_t when talking to pre-v0.48 clients</li>
<li>osd: fix heartbeat check</li>
<li>osd: reduce log noise about rbd watch</li>
<li>log: fixes for deadlocks in the internal logging code</li>
<li>log: make log buffer size adjustable</li>
<li>init script: fix for &#8216;ceph status&#8217; across machines</li>
<li>radosgw: fix swift error handling</li>
<li>radosgw: fix swift authentication concurrency bug</li>
<li>radosgw: don&#8217;t cache large objects</li>
<li>radosgw: fix some memory leaks</li>
<li>radosgw: fix timezone conversion on read</li>
<li>radosgw: relax date format restrictions</li>
<li>radosgw: fix multipart overwrite</li>
<li>radosgw: stop processing requests on client disconnect</li>
<li>radosgw: avoid adding port to url that already has a port</li>
<li>radosgw: fix copy to not override ETAG</li>
<li>common: make parsing of ip address lists more forgiving</li>
<li>common: fix admin socket compatibility with old protocol (for collectd plugin)</li>
<li>mon: drop dup commands on paxos reset</li>
<li>mds: fix loner selection for multiclient workloads</li>
<li>mds: fix compat bit checks</li>
<li>ceph-fuse: fix segfault on startup when keyring is missing</li>
<li>ceph-authtool: fix usage</li>
<li>ceph-disk-activate: misc backports</li>
<li>ceph-disk-prepare: misc backports</li>
<li>debian: depend on xfsprogs (we use xfs by default)</li>
<li>rpm: build rpms, some related Makefile changes</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.48.3argonaut.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-48-2-argonaut">
<h2>v0.48.2 &#8220;argonaut&#8221;<a class="headerlink" href="#v0-48-2-argonaut" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2642">
<h3>Upgrading<a class="headerlink" href="#id2642" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The default search path for keyring files now includes /etc/ceph/ceph.$name.keyring.  If such files are present on your cluster, be aware that by default they may now be used.</li>
<li>There are several changes to the upstart init files.  These have not been previously documented or recommended.  Any existing users should review the changes before upgrading.</li>
<li>The ceph-disk-prepare and ceph-disk-active scripts have been updated significantly.  These have not been previously documented or recommended.  Any existing users should review the changes before upgrading.</li>
</ul>
</div>
<div class="section" id="id2643">
<h3>Notable changes<a class="headerlink" href="#id2643" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mkcephfs: fix keyring generation for mds, osd when default paths are used</li>
<li>radosgw: fix bug causing occasional corruption of per-bucket stats</li>
<li>radosgw: workaround to avoid previously corrupted stats from going negative</li>
<li>radosgw: fix bug in usage stats reporting on busy buckets</li>
<li>radosgw: fix Content-Range: header for objects bigger than 2 GB.</li>
<li>rbd: avoid leaving watch acting when command line tool errors out (avoids 30s delay on subsequent operations)</li>
<li>rbd: friendlier use of &#8211;pool/&#8211;image options for import (old calling convention still works)</li>
<li>librbd: fix rare snapshot creation race (could &#8220;lose&#8221; a snap when creation is concurrent)</li>
<li>librbd: fix discard handling when spanning holes</li>
<li>librbd: fix memory leak on discard when caching is enabled</li>
<li>objecter: misc fixes for op reordering</li>
<li>objecter: fix for rare startup-time deadlock waiting for osdmap</li>
<li>ceph: fix usage</li>
<li>mon: reduce log noise about &#8220;check_sub&#8221;</li>
<li>ceph-disk-activate: misc fixes, improvements</li>
<li>ceph-disk-prepare: partition and format osd disks automatically</li>
<li>upstart: start everyone on a reboot</li>
<li>upstart: always update the osd crush location on start if specified in the config</li>
<li>config: add /etc/ceph/ceph.$name.keyring to default keyring search path</li>
<li>ceph.spec: don&#8217;t package crush headers</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.48.2argonaut.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-48-1-argonaut">
<h2>v0.48.1 &#8220;argonaut&#8221;<a class="headerlink" href="#v0-48-1-argonaut" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2644">
<h3>Upgrading<a class="headerlink" href="#id2644" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The radosgw usage trim function was effectively broken in v0.48.  Earlier it would remove more usage data than what was requested.  This is fixed in v0.48.1, but the fix is incompatible.  The v0.48 radosgw-admin tool cannot be used to initiate the trimming; please use the v0.48.1 version.</li>
<li>v0.48.1 now explicitly indicates support for the CRUSH_TUNABLES feature.  No other version of Ceph requires this, yet, but future versions will when the tunables are adjusted from their historical defaults.</li>
<li>There are no other compatibility changes between v0.48.1 and v0.48.</li>
</ul>
</div>
<div class="section" id="id2645">
<h3>Notable changes<a class="headerlink" href="#id2645" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mkcephfs: use default &#8216;keyring&#8217;, &#8216;osd data&#8217;, &#8216;osd journal&#8217; paths when not specified in conf</li>
<li>msgr: various fixes to socket error handling</li>
<li>osd: reduce scrub overhead</li>
<li>osd: misc peering fixes (past_interval sharing, pgs stuck in &#8216;peering&#8217; states)</li>
<li>osd: fail on EIO in read path (do not silently ignore read errors from failing disks)</li>
<li>osd: avoid internal heartbeat errors by breaking some large transactions into pieces</li>
<li>osd: fix osdmap catch-up during startup (catch up and then add daemon to osdmap)</li>
<li>osd: fix spurious &#8216;misdirected op&#8217; messages</li>
<li>osd: report scrub status via &#8216;pg ... query&#8217;</li>
<li>rbd: fix race when watch registrations are resent</li>
<li>rbd: fix rbd image id assignment scheme (new image data objects have slightly different names)</li>
<li>rbd: fix perf stats for cache hit rate</li>
<li>rbd tool: fix off-by-one in key name (crash when empty key specified)</li>
<li>rbd: more robust udev rules</li>
<li>rados tool: copy object, pool commands</li>
<li>radosgw: fix in usage stats trimming</li>
<li>radosgw: misc API compatibility fixes (date strings, ETag quoting, swift headers, etc.)</li>
<li>ceph-fuse: fix locking in read/write paths</li>
<li>mon: fix rare race corrupting on-disk data</li>
<li>config: fix admin socket &#8216;config set&#8217; command</li>
<li>log: fix in-memory log event gathering</li>
<li>debian: remove crush headers, include librados-config</li>
<li>rpm: add ceph-disk-{activate, prepare}</li>
</ul>
<p>For more detailed information, see <a class="reference download internal" href="../_downloads/v0.48.1argonaut.txt"><tt class="xref download docutils literal"><span class="pre">the</span> <span class="pre">complete</span> <span class="pre">changelog</span></tt></a>.</p>
</div>
</div>
<div class="section" id="v0-48-argonaut">
<h2>v0.48 &#8220;argonaut&#8221;<a class="headerlink" href="#v0-48-argonaut" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2646">
<h3>Upgrading<a class="headerlink" href="#id2646" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">This release includes a disk format upgrade.  Each ceph-osd daemon, upon startup, will migrate its locally stored data to the new format.  This process can take a while (for large object counts, even hours), especially on non-btrfs file systems.</p>
</li>
<li><p class="first">To keep the cluster available while the upgrade is in progress, we recommend you upgrade a storage node or rack at a time, and wait for the cluster to recover each time.  To prevent the cluster from moving data around in response to the OSD daemons being down for minutes or hours, you may want to:</p>
<div class="highlight-python"><pre>ceph osd set noout</pre>
</div>
<p>This will prevent the cluster from marking down OSDs as &#8220;out&#8221; and re-replicating the data elsewhere. If you do this, be sure to clear the flag when the upgrade is complete:</p>
<div class="highlight-python"><pre>ceph osd unset noout</pre>
</div>
</li>
<li><p class="first">There is a encoding format change internal to the monitor cluster. The monitor daemons are careful to switch to the new format only when all members of the quorum support it.  However, that means that a partial quorum with new code may move to the new format, and a recovering monitor running old code will be unable to join (it will crash).  If this occurs, simply upgrading the remaining monitor will resolve the problem.</p>
</li>
<li><p class="first">The ceph tool&#8217;s -s and -w commands from previous versions are incompatible with this version. Upgrade your client tools at the same time you upgrade the monitors if you rely on those commands.</p>
</li>
<li><p class="first">It is not possible to downgrade from v0.48 to a previous version.</p>
</li>
</ul>
</div>
<div class="section" id="id2647">
<h3>Notable changes<a class="headerlink" href="#id2647" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>osd: stability improvements</li>
<li>osd: capability model simplification</li>
<li>osd: simpler/safer &#8211;mkfs (no longer removes all files; safe to re-run on active osd)</li>
<li>osd: potentially buggy FIEMAP behavior disabled by default</li>
<li>rbd: caching improvements</li>
<li>rbd: improved instrumentation</li>
<li>rbd: bug fixes</li>
<li>radosgw: new, scalable usage logging infrastructure</li>
<li>radosgw: per-user bucket limits</li>
<li>mon: streamlined process for setting up authentication keys</li>
<li>mon: stability improvements</li>
<li>mon: log message throttling</li>
<li>doc: improved documentation (ceph, rbd, radosgw, chef, etc.)</li>
<li>config: new default locations for daemon keyrings</li>
<li>config: arbitrary variable substitutions</li>
<li>improved &#8216;admin socket&#8217; daemon admin interface (ceph &#8211;admin-daemon ...)</li>
<li>chef: support for multiple monitor clusters</li>
<li>upstart: basic support for monitors, mds, radosgw; osd support still a work in progress.</li>
</ul>
<p>The new default keyring locations mean that when enabling authentication (<tt class="docutils literal"><span class="pre">auth</span> <span class="pre">supported</span> <span class="pre">=</span> <span class="pre">cephx</span></tt>), keyring locations do not need to be specified if the keyring file is located inside the daemon&#8217;s data directory (<tt class="docutils literal"><span class="pre">/var/lib/ceph/$type/ceph-$id</span></tt> by default).</p>
<p>There is also a lot of librbd code in this release that is laying the groundwork for the upcoming layering functionality, but is not actually used. Likewise, the upstart support is still incomplete and not recommended; we will backport that functionality later if it turns out to be non-disruptive.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../start/">安装（快速）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/">安装（手动）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rbd/rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mgr/">Ceph 管理器守护进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/">开发文档</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#v12-0-2-luminous-dev">v12.0.2 Luminous (dev)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-changes-from-v12-0-1">Major changes from v12.0.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v12-0-1-luminous-dev">v12.0.1 Luminous (dev)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-changes-from-12-0-0">Major changes from 12.0.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-notable-changes">Other Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v12-0-0-luminous-dev">v12.0.0 Luminous (dev)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-changes-from-kraken">Major changes from Kraken</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v11-2-0-kraken">v11.2.0 Kraken</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-changes-from-jewel">Major Changes from Jewel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-kraken-release-candidate-11-1-0">Upgrading from Kraken release candidate 11.1.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-jewel">Upgrading from Jewel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bluestore">BlueStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-notes">Upgrade notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v11-0-2-kraken">v11.0.2 Kraken</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id55">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-2-7-jewel">v10.2.7 Jewel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id75">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-2-6-jewel">v10.2.6 Jewel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#osds-no-longer-send-enxio-by-default">OSDs No Longer Send ENXIO by Default</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id107">Other Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-2-5-jewel">v10.2.5 Jewel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id290">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-2-4-jewel">v10.2.4 Jewel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-hammer">Upgrading from hammer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id291">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-2-3-jewel">v10.2.3 Jewel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id390">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-2-2-jewel">v10.2.2 Jewel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id456">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-2-1-jewel">v10.2.1 Jewel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id458">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-2-0-jewel">v10.2.0 Jewel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-changes-from-infernalis">Major Changes from Infernalis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-changes-from-hammer">Major Changes from Hammer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#distro-compatibility">Distro compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-infernalis-or-hammer">Upgrading from Infernalis or Hammer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id460">Upgrading from Hammer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-firefly">Upgrading from Firefly</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-infernalis">Notable Changes since Infernalis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-hammer">Notable Changes since Hammer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-1-2-jewel-release-candidate">v10.1.2 Jewel (release candidate)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v10-1-1">Notable Changes since v10.1.1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-1-1-jewel-release-candidate">v10.1.1 Jewel (release candidate)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#know-issues-with-this-release-candidate">Know issues with this release candidate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v10-1-0">Notable Changes since v10.1.0</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-1-0-jewel-release-candidate">v10.1.0 Jewel (release candidate)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#known-issues-with-v10-1-0">Known Issues with v10.1.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v10-0-4">Notable Changes since v10.0.4</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-0-5">v10.0.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v10-0-4">v10.0.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1232">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-0-3">v10.0.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1388">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-0-2">v10.0.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1693">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-0-1">v10.0.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1935">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v10-0-0">v10.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2083">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v9-2-1-infernalis">v9.2.1 Infernalis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#upgrading">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2233">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v9-2-0-infernalis">v9.2.0 Infernalis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2271">Major Changes from Hammer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2272">Distro compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2273">Upgrading from Firefly</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2274">Upgrading from Hammer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2275">Notable Changes since Hammer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v9-1-0-infernalis-release-candidate">v9.1.0 Infernalis release candidate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#getting-the-release-candidate">Getting the release candidate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues">Known issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2276">Major Changes from Hammer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2277">Distro compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2278">Upgrading from Firefly</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2279">Upgrading from Hammer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2280">Upgrade notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2281">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v9-0-3">v9.0.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2282">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2283">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v9-0-2">v9.0.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2284">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v9-0-1">v9.0.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2285">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v9-0-0">v9.0.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2286">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-94-10-hammer">v0.94.10 Hammer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2287">Other Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-94-9-hammer">v0.94.9 Hammer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2348">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-94-8-hammer">v0.94.8 Hammer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2349">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-94-7-hammer">v0.94.7 Hammer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2388">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-94-6-hammer">v0.94.6 Hammer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2409">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-94-5-hammer">v0.94.5 Hammer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2454">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-94-4-hammer">v0.94.4 Hammer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2455">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-94-3-hammer">v0.94.3 Hammer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2467">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2468">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-94-2-hammer">v0.94.2 Hammer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-previous-hammer-release">Upgrading from previous Hammer release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2469">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-94-1-hammer">v0.94.1 Hammer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2470">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-94-hammer">v0.94 Hammer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dedication">Dedication</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2471">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-v0-87-x-giant">Upgrading from v0.87.x Giant</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-v0-80x-firefly-additional-notes">Upgrading from v0.80x Firefly (additional notes)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v0-93">Notable changes since v0.93</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v0-87-x-giant">Notable changes since v0.87.x Giant</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-93">v0.93</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2472">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2473">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-92">v0.92</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2474">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2475">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-91">v0.91</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2476">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2477">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-90">v0.90</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2478">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2479">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-89">v0.89</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2480">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2481">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-88">v0.88</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2482">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-87-2-giant">v0.87.2 Giant</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2483">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-87-1-giant">v0.87.1 Giant</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2484">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2485">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-87-giant">v0.87 Giant</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-sequencing">Upgrade Sequencing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-v0-80x-firefly">Upgrading from v0.80x Firefly</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v0-86">Notable Changes since v0.86</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v0-80-x-firefly">Notable Changes since v0.80.x Firefly</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-86">v0.86</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2486">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-85">v0.85</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2487">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2488">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-84">v0.84</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2489">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2490">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-83">v0.83</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2491">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2492">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-82">v0.82</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2493">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-81">v0.81</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2494">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2495">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-11-firefly">v0.80.11 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2496">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-10-firefly">v0.80.10 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2539">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-9-firefly">v0.80.9 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adjusting-crush-maps">Adjusting CRUSH maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2541">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-8-firefly">v0.80.8 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2542">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-7-firefly">v0.80.7 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2543">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-6-firefly">v0.80.6 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2544">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-5-firefly">v0.80.5 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2545">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-4-firefly">v0.80.4 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2546">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-3-firefly">v0.80.3 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2547">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-2-firefly">v0.80.2 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2548">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-1-firefly">v0.80.1 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2549">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-80-firefly">v0.80 Firefly</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2550">Upgrade Sequencing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-v0-79">Upgrading from v0.79</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-v0-72-emperor">Upgrading from v0.72 Emperor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-v0-67-dumpling">Upgrading from v0.67 Dumpling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v0-79">Notable changes since v0.79</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v0-72-emperor">Notable changes since v0.72 Emperor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v0-67-dumpling">Notable changes since v0.67 Dumpling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-79">v0.79</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2551">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2552">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-78">v0.78</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2553">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2554">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-77">v0.77</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2555">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2556">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-76">v0.76</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2557">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2558">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-75">v0.75</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2559">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2560">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-74">v0.74</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2561">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2562">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-73">v0.73</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2563">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2564">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-72-3-emperor-pending-release">v0.72.3 Emperor (pending release)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2565">Upgrading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-72-2-emperor">v0.72.2 Emperor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2566">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes">Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-72-1-emperor">v0.72.1 Emperor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#important-note">Important Note</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2567">Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-72-emperor">v0.72 Emperor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2568">Important Note</a></li>
<li class="toctree-l3"><a class="reference internal" href="#highlights">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2569">Upgrade sequencing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-v0-71">Upgrading from v0.71</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2570">Upgrading from v0.67 Dumpling</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v0-71">Notable Changes since v0.71</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2571">Notable Changes since v0.67 Dumpling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-71">v0.71</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2572">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2573">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-70">v0.70</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2574">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2575">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-69">v0.69</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2576">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2577">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-68">v0.68</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2578">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2579">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-12-dumpling-draft">v0.67.12 &#8220;Dumpling&#8221; (draft)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2580">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-11-dumpling">v0.67.11 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2581">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-10-dumpling">v0.67.10 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2582">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-9-dumpling">v0.67.9 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2583">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-8-dumpling">v0.67.8 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2584">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2585">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-7-dumpling">v0.67.7 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2586">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2587">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-6-dumpling">v0.67.6 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2588">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2589">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-5-dumpling">v0.67.5 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2590">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-4-dumpling">v0.67.4 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2591">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-3-dumpling">v0.67.3 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2592">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-2-dumpling">v0.67.2 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2593">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-1-dumpling">v0.67.1 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2594">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-67-dumpling">v0.67 &#8220;Dumpling&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dumpling-upgrade">Upgrade Sequencing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-v0-66">Upgrading from v0.66</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-v0-61-cuttlefish">Upgrading from v0.61 &#8220;Cuttlefish&#8221;</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v0-66">Notable changes since v0.66</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-since-v0-61-cuttlefish">Notable changes since v0.61 &#8220;Cuttlefish&#8221;</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-66">v0.66</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2596">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2597">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-65">v0.65</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2598">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2599">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-64">v0.64</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2600">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2601">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-63">v0.63</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2602">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2603">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-62">v0.62</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2604">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-61-9-cuttlefish">v0.61.9 &#8220;Cuttlefish&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2605">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-61-8-cuttlefish">v0.61.8 &#8220;Cuttlefish&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2606">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-61-7-cuttlefish">v0.61.7 &#8220;Cuttlefish&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2607">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-61-6-cuttlefish">v0.61.6 &#8220;Cuttlefish&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2608">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-61-5-cuttlefish">v0.61.5 &#8220;Cuttlefish&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2609">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2610">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-61-4-cuttlefish">v0.61.4 &#8220;Cuttlefish&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2611">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2612">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-61-3-cuttlefish">v0.61.3 &#8220;Cuttlefish&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2613">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2614">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-61-2-cuttlefish">v0.61.2 &#8220;Cuttlefish&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2615">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-61-1-cuttlefish">v0.61.1 &#8220;Cuttlefish&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2616">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-61-cuttlefish">v0.61 &#8220;Cuttlefish&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-v0-60">Upgrading from v0.60</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrading-from-v0-56-4-bobtail">Upgrading from v0.56.4 &#8220;Bobtail&#8221;</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-from-v0-60">Notable Changes from v0.60</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notable-changes-from-v0-56-bobtail">Notable changes from v0.56 &#8220;Bobtail&#8221;</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-60">v0.60</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2617">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2618">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-59">v0.59</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2619">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2620">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-58">v0.58</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2621">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2622">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-57">v0.57</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2623">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2624">Notable Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-56-7-bobtail">v0.56.7 &#8220;bobtail&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2625">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-56-6-bobtail">v0.56.6 &#8220;bobtail&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2626">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-56-5-bobtail">v0.56.5 &#8220;bobtail&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2627">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2628">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-56-4-bobtail">v0.56.4 &#8220;bobtail&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2629">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2630">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-56-3-bobtail">v0.56.3 &#8220;bobtail&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2631">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2632">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-56-2-bobtail">v0.56.2 &#8220;bobtail&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2633">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2634">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-56-1-bobtail">v0.56.1 &#8220;bobtail&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2635">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2636">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-56-bobtail">v0.56 &#8220;bobtail&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#key-features-since-v0-48-argonaut">Key features since v0.48 &#8220;argonaut&#8221;</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2637">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compatibility-changes">Compatibility changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2638">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-54">v0.54</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2639">Upgrading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-48-3-argonaut">v0.48.3 &#8220;argonaut&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2640">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2641">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-48-2-argonaut">v0.48.2 &#8220;argonaut&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2642">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2643">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-48-1-argonaut">v0.48.1 &#8220;argonaut&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2644">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2645">Notable changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-48-argonaut">v0.48 &#8220;argonaut&#8221;</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2646">Upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2647">Notable changes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../releases/">Ceph 版本</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary/">Ceph 术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../README/">中文版翻译说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="../translation-convention/">中文版词语翻译惯例</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../releases/" title="Ceph 版本"
             >next</a> |</li>
        <li class="right" >
          <a href="../dev/" title="向 Ceph 贡献：开发者指南"
             >previous</a> |</li>
        <li><a href="../">Ceph Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Red Hat, Inc, and contributors. Licensed under Creative Commons BY-SA.
    </div>
  </body>
</html>