
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Ceph 对象网关配置参考 &#8212; Ceph Documentation</title>
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="管理指南" href="../admin/" />
    <link rel="prev" title="存储池" href="../pools/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../admin/" title="管理指南"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../pools/" title="存储池"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" accesskey="U">Ceph 对象网关</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            

<div id="dev-warning" class="admonition note" style="display:none;">
  <p class="first admonition-title">Notice</p>
  <p class="last">This document is for a development version of Ceph.</p>
</div>

<div id="eol-warning" class="admonition warning" style="display:none;">
  <p class="first admonition-title">Warning</p>
  <p class="last">This document is for an unsupported version of Ceph.</p>
</div>
  <div id="docubetter" align="right" style="display:none; padding: 15px; font-weight: bold;">
    <a id="edit-on-github" href="https://github.com/ceph/ceph/edit/master/doc/radosgw/config-ref.rst" rel="nofollow">Edit on GitHub</a> | <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <div class="section" id="ceph">
<h1>Ceph 对象网关配置参考<a class="headerlink" href="#ceph" title="Permalink to this headline">¶</a></h1>
<p>下列的选项可加入 Ceph 配置文件（一般是 <code class="docutils literal notranslate"><span class="pre">ceph.conf</span></code> ）的
<code class="docutils literal notranslate"><span class="pre">[client.radosgw.{instance-name}]</span></code> 段下，很多选项都有默认值，你若未指定，自然用默认。</p>
<p>Configuration variables set under the <code class="docutils literal notranslate"><span class="pre">[client.radosgw.{instance-name}]</span></code>
section will not apply to rgw or radosgw-admin commands without an instance-name
specified in the command. Thus variables meant to be applied to all RGW
instances or all radosgw-admin commands can be put into the <code class="docutils literal notranslate"><span class="pre">[global]</span></code> or the
<code class="docutils literal notranslate"><span class="pre">[client]</span></code> section to avoid specifying instance-name.</p>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">frontends</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>配置的是 HTTP 前端。多个前端的配置可以写成逗号分隔的列表。各个前端的配置是空格分隔的一系列选项，各选项都得遵照 key=value 或 key 格式。所支持的选项请参考
<a class="reference external" href="../frontends">HTTP 前端</a>。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">beast</span> <span class="pre">port=7480</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">data</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>设置 Ceph 对象网关的数据文件位置。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">/var/lib/ceph/radosgw/$cluster-$id</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">enable</span> <span class="pre">apis</span></code></p>
<dl class="field-list">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>启用指定的 API 。</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>在<a class="reference external" href="../multisite">多站</a>配置中，任何要参与的 radosgw 例程都必须启用 <code class="docutils literal notranslate"><span class="pre">s3</span></code> API 。</p>
</div>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>所有 API ： <code class="docutils literal notranslate"><span class="pre">s3,</span> <span class="pre">swift,</span> <span class="pre">swift_auth,</span> <span class="pre">admin</span></code> 。</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">cache</span> <span class="pre">enabled</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>是否启用 Ceph 对象网关缓存。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">cache</span> <span class="pre">lru</span> <span class="pre">size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Ceph 对象网关缓存的条目限制。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">10000</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">socket</span> <span class="pre">path</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>域套接字的路径， <code class="docutils literal notranslate"><span class="pre">FastCgiExternalServer</span></code> 要使用此套接字。若未指定， Ceph 对象网关就不会以外部服务器运行。这里的路径必须与 <code class="docutils literal notranslate"><span class="pre">rgw.conf</span></code> 里的路径相同。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>N/A</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">fcgi</span> <span class="pre">socket</span> <span class="pre">backlog</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>fcgi 的套接字积压容量。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1024</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">host</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Ceph 对象网关例程所在主机，可以是 IP 地址或者主机名。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0.0.0.0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">port</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>例程接受请求的端口。若未指定， Ceph 对象网关将运行外部
FastCGI 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">dns</span> <span class="pre">name</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>所服务域的 DNS 名称。请参考 region 配置里的 <code class="docutils literal notranslate"><span class="pre">hostnames</span></code>
选项。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">script</span> <span class="pre">uri</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>如果请求中没带 <code class="docutils literal notranslate"><span class="pre">SCRIPT_URI</span></code> 变量，这里的设置可作为补救。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">request</span> <span class="pre">uri</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>如果请求中没带 <code class="docutils literal notranslate"><span class="pre">REQUEST_URI</span></code> 变量，这里的设置可作为补救。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">print</span> <span class="pre">continue</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>如果可能的话，启用 <code class="docutils literal notranslate"><span class="pre">100-continue</span></code> 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">remote</span> <span class="pre">addr</span> <span class="pre">param</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>远端地址参数。例如， HTTP 字段或者 <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code>
地址（如果用了反向代理）。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">REMOTE_ADDR</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">op</span> <span class="pre">thread</span> <span class="pre">timeout</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>在运行线程的超时值。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>600</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">op</span> <span class="pre">thread</span> <span class="pre">suicide</span> <span class="pre">timeout</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Ceph 对象网关进程的自杀超时值（ <code class="docutils literal notranslate"><span class="pre">timeout</span></code> ）。设置为 <code class="docutils literal notranslate"><span class="pre">0</span></code> 时禁用。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">thread</span> <span class="pre">pool</span> <span class="pre">size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>线程池的尺寸。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>100 threads.</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">num</span> <span class="pre">control</span> <span class="pre">oids</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>不同的 <code class="docutils literal notranslate"><span class="pre">rgw</span></code> 例程间用于缓存同步的通知对象数量。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">8</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">init</span> <span class="pre">timeout</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Ceph 对象网关放弃初始化前坚持的时间，秒。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">30</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">mime</span> <span class="pre">types</span> <span class="pre">file</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>MIME 类型数据库文件的路径，Swift 自动探测对象类型时要用到。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">/etc/mime.types</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">s3</span> <span class="pre">success</span> <span class="pre">create</span> <span class="pre">obj</span> <span class="pre">status</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">create-obj</span></code> 的另一种成功状态响应。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">resolve</span> <span class="pre">cname</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>如果主机名与 <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">dns</span> <span class="pre">name</span></code> 不同， <code class="docutils literal notranslate"><span class="pre">rgw</span></code> 是否应该用请求的 hostname 字段的 DNS CNAME 记录。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">obj</span> <span class="pre">stripe</span> <span class="pre">size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Ceph 对象网关的对象条带尺寸。关于条带化请参考<a class="reference external" href="../../architecture#data-striping">体系结构</a>。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">&lt;&lt;</span> <span class="pre">20</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">extended</span> <span class="pre">http</span> <span class="pre">attrs</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>为实体（用户、桶或对象）新增可设置的属性集。可以在上传实体时把这些额外属性设置在 HTTP 头的字段里、或者用 POST 方法修改；如果设置过，在此实体上执行 GET/HEAD 操作时这些属性就会以 HTTP 头的字段返回。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">实例</dt>
<dd class="field-even"><p>“content_foo, content_bar, x-foo-bar”</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">exit</span> <span class="pre">timeout</span> <span class="pre">secs</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>等待某一进程多长时间（秒）后无条件退出。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">120</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">get</span> <span class="pre">obj</span> <span class="pre">window</span> <span class="pre">size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>为单对象请求预留的窗口大小（字节）。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">16</span> <span class="pre">&lt;&lt;</span> <span class="pre">20</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">get</span> <span class="pre">obj</span> <span class="pre">max</span> <span class="pre">req</span> <span class="pre">size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>向 Ceph 存储集群发起的一次 GET 请求的最大尺寸。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">&lt;&lt;</span> <span class="pre">20</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">relaxed</span> <span class="pre">s3</span> <span class="pre">bucket</span> <span class="pre">names</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>对 US region 的桶启用宽松的桶名规则。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">list</span> <span class="pre">buckets</span> <span class="pre">max</span> <span class="pre">chunk</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>列举用户桶时，每次检出的最大桶数。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">override</span> <span class="pre">bucket</span> <span class="pre">index</span> <span class="pre">max</span> <span class="pre">shards</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>桶索引对象的分片数量， 0 表示没有分片。我们不建议把这个值设置得太大（比如大于 1000 ），因为这样会增加罗列桶时的开销。本变量应该配置在 client 或 global 段下，这样它就会自动应用到 radosgw-admin 命令。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">curl</span> <span class="pre">wait</span> <span class="pre">timeout</span> <span class="pre">ms</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>某些特定 <code class="docutils literal notranslate"><span class="pre">curl</span></code> 调用的超时值，毫秒。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">copy</span> <span class="pre">obj</span> <span class="pre">progress</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>长时间复制操作时允许输出对象进度。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">copy</span> <span class="pre">obj</span> <span class="pre">progress</span> <span class="pre">every</span> <span class="pre">bytes</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>复制进度输出的粒度，字节数。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1024</span> <span class="pre">*</span> <span class="pre">1024</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">admin</span> <span class="pre">entry</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>管理 URL 请求的入口点。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">admin</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">content</span> <span class="pre">length</span> <span class="pre">compat</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>允许兼容设置了 CONTENT_LENGTH 和 HTTP_CONTENT_LENGTH 的
FCGI 请求。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">bucket</span> <span class="pre">quota</span> <span class="pre">ttl</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>在配置的这段时间（单位为秒）内，缓存的配额信息还是有效的；超时后，配额信息需重新从集群读取。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">600</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">user</span> <span class="pre">quota</span> <span class="pre">bucket</span> <span class="pre">sync</span> <span class="pre">interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>桶的配额信息同步到集群前暂存的时间，单位为秒。在此期间，其它 RGW 例程看不到这个例程上的桶配额变更。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">180</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">user</span> <span class="pre">quota</span> <span class="pre">sync</span> <span class="pre">interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>桶的配额信息同步到集群前暂存的时间，单位为秒。在此期间，其它 RGW 例程看不到这个例程上的用户配额变更。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">180</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">bucket</span> <span class="pre">default</span> <span class="pre">quota</span> <span class="pre">max</span> <span class="pre">objects</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>每个桶默认的最大对象数量。如果没其它配额操作，只给新用户设置。对已有用户没影响。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">bucket</span> <span class="pre">default</span> <span class="pre">quota</span> <span class="pre">max</span> <span class="pre">size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>每个桶默认的最大容量，单位为字节。如果没其它配额操作，只给新用户设置。对已有用户没影响。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">user</span> <span class="pre">default</span> <span class="pre">quota</span> <span class="pre">max</span> <span class="pre">objects</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>用户默认的最大对象数，此用户的所有桶内的所有对象都计算在内。如果没其它配额操作，只给新用户设置。对已有用户没影响。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">user</span> <span class="pre">default</span> <span class="pre">quota</span> <span class="pre">max</span> <span class="pre">size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>用户默认的最大容量，单位为字节。如果没其它配额操作，只给新用户设置。对已有用户没影响。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">verify</span> <span class="pre">ssl</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>发出请求时验证 SSL 证书。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<div class="section" id="id2">
<h2>垃圾回收选项<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>The Ceph Object Gateway allocates storage for new objects immediately.</p>
<p>The Ceph Object Gateway purges the storage space used for deleted and overwritten
objects in the Ceph Storage cluster some time after the gateway deletes the
objects from the bucket index. The process of purging the deleted object data
from the Ceph Storage cluster is known as Garbage Collection or GC.</p>
<p>To view the queue of objects awaiting garbage collection, execute the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ radosgw-admin gc list

Note: specify --include-all to list all entries, including unexpired
</pre></div>
</div>
<p>Garbage collection is a background activity that may
execute continuously or during times of low loads, depending upon how the
administrator configures the Ceph Object Gateway. By default, the Ceph Object
Gateway conducts GC operations continuously. Since GC operations are a normal
part of Ceph Object Gateway operations, especially with object delete
operations, objects eligible for garbage collection exist most of the time.</p>
<p>Some workloads may temporarily or permanently outpace the rate of garbage
collection activity. This is especially true of delete-heavy workloads, where
many objects get stored for a short period of time and then deleted. For these
types of workloads, administrators can increase the priority of garbage
collection operations relative to other operations with the following
configuration parameters.</p>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">gc</span> <span class="pre">max</span> <span class="pre">objs</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>垃圾回收进程在一个处理周期内可处理的最大对象数。首次部署后请勿更改此值。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">32</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">gc</span> <span class="pre">obj</span> <span class="pre">min</span> <span class="pre">wait</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>对象可被删除并由垃圾回收器处理前最少等待多长时间。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">*</span> <span class="pre">3600</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">gc</span> <span class="pre">processor</span> <span class="pre">max</span> <span class="pre">time</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>两个连续的垃圾回收周期起点的最大时间间隔。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">3600</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">gc</span> <span class="pre">processor</span> <span class="pre">period</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>垃圾回收进程的运行周期。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">3600</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">gc</span> <span class="pre">max</span> <span class="pre">concurrent</span> <span class="pre">io</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The maximum number of concurrent IO operations that the RGW garbage
collection thread will use when purging old data.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id3">
<h2>多站设置<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">New in version Jewel.</span></p>
</div>
<p>你可以在 Ceph 配置文件中的各例程 <code class="docutils literal notranslate"><span class="pre">[client.radosgw.{instance-name}]</span></code>
段下设置下列选项。</p>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">zone</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>网关例程所在的域名称。如果没配置过域，可以用命令
<code class="docutils literal notranslate"><span class="pre">radosgw-admin</span> <span class="pre">zone</span> <span class="pre">default</span></code> 来配置集群范围的默认值。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">zonegroup</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>网关例程所在的域组名字。如果还没有域组，可以用
<code class="docutils literal notranslate"><span class="pre">radosgw-admin</span> <span class="pre">zonegroup</span> <span class="pre">default</span></code> 命令配置集群范围的默认值。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">realm</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>网关例程所在的 realm 。如果还没有 realm ，可以用
<code class="docutils literal notranslate"><span class="pre">radosgw-admin</span> <span class="pre">realm</span> <span class="pre">default</span></code> 命令配置集群范围的默认值。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">run</span> <span class="pre">sync</span> <span class="pre">thread</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>如果 realm 里有要同步的其它域，就派生出线程来处理数据和元数据的同步。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">data</span> <span class="pre">log</span> <span class="pre">window</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>数据日志条数窗口，秒。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">30</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">data</span> <span class="pre">log</span> <span class="pre">changes</span> <span class="pre">size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>内存中保留的数据变更日志条数。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">data</span> <span class="pre">log</span> <span class="pre">obj</span> <span class="pre">prefix</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>数据日志的对象名前缀。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">data_log</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">data</span> <span class="pre">log</span> <span class="pre">num</span> <span class="pre">shards</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>用于保存数据变更日志的分片（对象）数量。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">128</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">md</span> <span class="pre">log</span> <span class="pre">max</span> <span class="pre">shards</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>用于元数据日志的最大分片数量。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">64</span></code></p>
</dd>
</dl>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>开始同步后就不应该再更改
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">data</span> <span class="pre">log</span> <span class="pre">num</span> <span class="pre">shards</span></code> 和 <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">md</span> <span class="pre">log</span> <span class="pre">max</span> <span class="pre">shards</span></code> 的取值了。</p>
</div>
</div>
<div class="section" id="s3">
<h2>S3 选项<a class="headerlink" href="#s3" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">s3</span> <span class="pre">auth</span> <span class="pre">use</span> <span class="pre">ldap</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Should S3 authentication use LDAP.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="swift">
<h2>Swift 选项<a class="headerlink" href="#swift" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">enforce</span> <span class="pre">swift</span> <span class="pre">acls</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>强制使用 Swift 的访问控制列表（ ACL ）选项。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">token</span> <span class="pre">expiration</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Swift 令牌过期时间，秒。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">24</span> <span class="pre">*</span> <span class="pre">3600</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">url</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Ceph 对象网关 Swift 接口的 URL 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">url</span> <span class="pre">prefix</span></code></p>
<dl class="field-list">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Swift API 的 URL 前缀，为区别于 S3 API 的终结点。默认是
<code class="docutils literal notranslate"><span class="pre">swift</span></code> ，这样 Swift API 就会以 URL
<code class="docutils literal notranslate"><span class="pre">http://host:port/swift/v1</span></code> （或者，启用
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">account</span> <span class="pre">in</span> <span class="pre">url</span></code> 时将是
<code class="docutils literal notranslate"><span class="pre">http://host:port/swift/v1/AUTH_%(tenant_id)s</span></code> ）暴露出来。</p>
<p>为兼容起见，此选项为空字符串时，将使用默认值 <code class="docutils literal notranslate"><span class="pre">swift</span></code> ；如果你想要前缀为空，可以把此选项设置为 <code class="docutils literal notranslate"><span class="pre">/</span></code> 。</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you set this option to <code class="docutils literal notranslate"><span class="pre">/</span></code>, you must
disable the S3 API by modifying <code class="docutils literal notranslate"><span class="pre">rgw</span>
<span class="pre">enable</span> <span class="pre">apis</span></code> to exclude <code class="docutils literal notranslate"><span class="pre">s3</span></code>. It is not
possible to operate radosgw with <code class="docutils literal notranslate"><span class="pre">rgw</span>
<span class="pre">swift</span> <span class="pre">url</span> <span class="pre">prefix</span> <span class="pre">=</span> <span class="pre">/</span></code> and simultaneously
support both the S3 and Swift APIs. If you
do need to support both APIs without
prefixes, deploy multiple radosgw instances
to listen on different hosts (or ports)
instead, enabling some for S3 and some for
Swift.</p>
</div>
</dd>
<dt class="field-even">默认值</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">swift</span></code></p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">/swift-testing</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">auth</span> <span class="pre">url</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>验证 v1 版令牌的默认 URL （如果没用 Swift 内建认证）。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">auth</span> <span class="pre">entry</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Swift 认证 URL 的入口点。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">auth</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">account</span> <span class="pre">in</span> <span class="pre">url</span></code></p>
<dl class="field-list">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Whether or not the Swift account name should be included
in the Swift API URL.</p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">false</span></code> (the default), then the Swift API
will listen on a URL formed like
<code class="docutils literal notranslate"><span class="pre">http://host:port/&lt;rgw_swift_url_prefix&gt;/v1</span></code>, and the
account name (commonly a Keystone project UUID if
radosgw is configured with <a class="reference external" href="../keystone">Keystone integration</a>) will be inferred from request
headers.</p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the Swift API URL will be
<code class="docutils literal notranslate"><span class="pre">http://host:port/&lt;rgw_swift_url_prefix&gt;/v1/AUTH_&lt;account_name&gt;</span></code>
(or
<code class="docutils literal notranslate"><span class="pre">http://host:port/&lt;rgw_swift_url_prefix&gt;/v1/AUTH_&lt;keystone_project_id&gt;</span></code>)
instead, and the Keystone <code class="docutils literal notranslate"><span class="pre">object-store</span></code> endpoint must
accordingly be configured to include the
<code class="docutils literal notranslate"><span class="pre">AUTH_%(tenant_id)s</span></code> suffix.</p>
<p>You <strong>must</strong> set this option to <code class="docutils literal notranslate"><span class="pre">true</span></code> (and update the
Keystone service catalog) if you want radosgw to support
publicly-readable containers and <a class="reference external" href="../swift/tempurl">temporary URLs</a>.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">versioning</span> <span class="pre">enabled</span></code></p>
<dl class="field-list">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>启用 OpenStack 对象存储 API 的对象版本控制功能，这样客户端就能在想要做版本控制的容器上设置
<code class="docutils literal notranslate"><span class="pre">X-Versions-Location</span></code> 属性了，该属性用于指定存储着存档版本的容器。做版本控制的容器必须是同一个用户拥有的，因为要通过访问控制验证—— ACL <strong>不会</strong>被纳入版本控制。容器版本控制与 S3 对象版本控制机制不兼容。</p>
<p>还有个稍有不同的属性， <code class="docutils literal notranslate"><span class="pre">X-History-Location</span></code> ，
<a class="reference external" href="https://docs.openstack.org/swift/latest/api/object_versioning.html">OpenStack Swift</a>
也支持，是用于处理 <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> 操作的。现在还不支持。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">trust</span> <span class="pre">forwarded</span> <span class="pre">https</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>When a proxy in front of radosgw is used for ssl termination, radosgw
does not know whether incoming http connections are secure. Enable
this option to trust the <code class="docutils literal notranslate"><span class="pre">Forwarded</span></code> and <code class="docutils literal notranslate"><span class="pre">X-Forwarded-Proto</span></code> headers
sent by the proxy when determining whether the connection is secure.
This is required for some features, such as server side encryption.
(Never enable this setting if you do not have a trusted proxy in front of
radosgw, or else malicious users will be able to set these headers in
any request.)</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id4">
<h2>日志记录选项<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">log</span> <span class="pre">nonexistent</span> <span class="pre">bucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>让 Ceph 对象网关记录访问不存在的桶的请求。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">log</span> <span class="pre">object</span> <span class="pre">name</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>对象名的记录格式。关于格式说明见 <em class="manpage">date</em> 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Date</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">%Y-%m-%d-%H-%i-%n</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">log</span> <span class="pre">object</span> <span class="pre">name</span> <span class="pre">utc</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>记录的对象名是否需包含 UTC 时间，设置为 <code class="docutils literal notranslate"><span class="pre">false</span></code> 时将使用本地时间。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">usage</span> <span class="pre">max</span> <span class="pre">shards</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>使用率日志的最大数量。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">32</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">usage</span> <span class="pre">max</span> <span class="pre">user</span> <span class="pre">shards</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>单个用户使用率日志的最大数量。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">enable</span> <span class="pre">ops</span> <span class="pre">log</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>允许记录各次成功的 Ceph 对象网关操作。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">enable</span> <span class="pre">usage</span> <span class="pre">log</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>允许记录使用率日志。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">ops</span> <span class="pre">log</span> <span class="pre">rados</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>操作日志是否应该写入 Ceph 存储集群后端。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">ops</span> <span class="pre">log</span> <span class="pre">socket</span> <span class="pre">path</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>用于写入操作日志的 Unix 域套接字。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">ops</span> <span class="pre">log</span> <span class="pre">data</span> <span class="pre">backlog</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>最多积攒多少操作日志数据才写入 Unix 域套接字。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&lt;&lt;</span> <span class="pre">20</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">usage</span> <span class="pre">log</span> <span class="pre">flush</span> <span class="pre">threshold</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>使用率日志合并过多少条目才刷回。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>1024</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">usage</span> <span class="pre">log</span> <span class="pre">tick</span> <span class="pre">interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>每 <code class="docutils literal notranslate"><span class="pre">n</span></code> 秒执行一次使用率日志刷回。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">30</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">log</span> <span class="pre">http</span> <span class="pre">headers</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>操作日志里要记录的 HTTP 头，挨个罗列，以逗号分隔。头名字必须是全名，对大小写不敏感，单词用下划线分隔。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">示例</dt>
<dd class="field-even"><p>“http_x_forwarded_for, http_x_special_k”</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">intent</span> <span class="pre">log</span> <span class="pre">object</span> <span class="pre">name</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>意图日志对象名的记录格式。格式的详细说明见
<em class="manpage">date</em> 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Date</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">%Y-%m-%d-%i-%n</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">intent</span> <span class="pre">log</span> <span class="pre">object</span> <span class="pre">name</span> <span class="pre">utc</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>意图日志对象名是否应包含 UTC 时间，设置为 <code class="docutils literal notranslate"><span class="pre">false</span></code> 时使用本地时间。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="keystone">
<h2>Keystone 选项<a class="headerlink" href="#keystone" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">url</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Keystone 服务器的 URL 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">api</span> <span class="pre">version</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>与 Keystone 服务器通讯时，使用哪个版本（ 2 或 3 ）的
OpenStack Identity API 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">2</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">domain</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>使用 v3 版本的 OpenStack Identity API 时，需在这里设置具备管理权限的 OpenStack 域名。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">project</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>使用 v3 版本的 OpenStack Identity API 时，需在这里设置具备管理权限的 OpenStack 项目名。未设置时，将采用
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">tenant</span></code> 的值。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">token</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Keystone 的管理令牌（共享密钥）。在 Ceph RadosGW 认证时，会优先用管理令牌，然后才是管理凭证（
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">user</span></code> 、 <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">password</span></code> 、
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">tenant</span></code> 、 <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">project</span></code> 、
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">domain</span></code> ）。管理令牌功能正在被废弃。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">token</span> <span class="pre">path</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Path to a file containing the Keystone admin token
(shared secret).  In Ceph RadosGW authentication with
the admin token has priority over authentication with
the admin credentials
(<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">user</span></code>, <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">password</span></code>,
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">tenant</span></code>, <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">project</span></code>,
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">domain</span></code>).
The Keystone admin token has been deprecated, but can be
used to integrate with older environments.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">tenant</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>使用 v2 版本的 OpenStack Identity API 时，在这里配置具备管理权限的 OpenStack 租户（服务租户， Service Tenant
）的名字。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">user</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>使用 v2 版本的 OpenStack Identity API 时，在这里配置具备管理权限的 OpenStack 用户的名字，用来与 Keystone 认证（服务用户， Service User ）。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">password</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>使用 v2 版本的 OpenStack Identity API 时，在这里配置
OpenStack 管理用户的密码。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">password</span> <span class="pre">path</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Path to a file containing the password for OpenStack
admin user when using OpenStack Identity API v2.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">accepted</span> <span class="pre">roles</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>要接受请求所需的角色。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">Member,</span> <span class="pre">admin</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">token</span> <span class="pre">cache</span> <span class="pre">size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>各 Keystone 令牌缓存的最大条数。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">10000</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">revocation</span> <span class="pre">interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>令牌有效期查验的周期，秒。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">15</span> <span class="pre">*</span> <span class="pre">60</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">verify</span> <span class="pre">ssl</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>向 keystone 发出令牌请求时要核对 SSL 证书。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id5">
<h2>服务端加密选项<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">crypt</span> <span class="pre">s3</span> <span class="pre">kms</span> <span class="pre">backend</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Where the SSE-KMS encryption keys are stored. Supported KMS
systems are OpenStack Barbican (<code class="docutils literal notranslate"><span class="pre">barbican</span></code>, the default) and
HashiCorp Vault (<code class="docutils literal notranslate"><span class="pre">vault</span></code>).</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</div>
<div class="section" id="barbican">
<h2>Barbican 选项<a class="headerlink" href="#barbican" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">barbican</span> <span class="pre">url</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>访问 Barbican 服务器的 URL 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">barbican</span> <span class="pre">user</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>有权访问 <a class="reference external" href="../barbican">Barbican</a> 内<a class="reference external" href="../encryption">加密</a>密钥的 OpenStack 用户名。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">barbican</span> <span class="pre">password</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p><a class="reference external" href="../barbican">Barbican</a> 用户的密码。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">barbican</span> <span class="pre">tenant</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>使用 OpenStack Identity API v2 时，在这里配置与
<a class="reference external" href="../barbican">Barbican</a> 用户相关联的 OpenStack 租户名字。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">barbican</span> <span class="pre">project</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>使用 OpenStack Identity API v3 时，在这里配置与
<a class="reference external" href="../barbican">Barbican</a> 用户相关联的 OpenStack 项目名字。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">barbican</span> <span class="pre">domain</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>使用 OpenStack Identity API v3 时，在这里配置与
<a class="reference external" href="../barbican">Barbican</a> 用户相关联的 OpenStack 域名。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</div>
<div class="section" id="hashicorp-vault">
<h2>HashiCorp Vault 选项<a class="headerlink" href="#hashicorp-vault" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">crypt</span> <span class="pre">vault</span> <span class="pre">auth</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Type of authentication method to be used. The only method
currently supported is <code class="docutils literal notranslate"><span class="pre">token</span></code>.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">token</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">crypt</span> <span class="pre">vault</span> <span class="pre">token</span> <span class="pre">file</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>If authentication method is <code class="docutils literal notranslate"><span class="pre">token</span></code>, provide a path to the token
file, which should be readable only by Rados Gateway.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">crypt</span> <span class="pre">vault</span> <span class="pre">addr</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Vault server base address, e.g. <code class="docutils literal notranslate"><span class="pre">http://vaultserver:8200</span></code>.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">crypt</span> <span class="pre">vault</span> <span class="pre">prefix</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The Vault secret URL prefix, which can be used to restrict access
to a particular subset of the secret space, e.g. <code class="docutils literal notranslate"><span class="pre">/v1/secret/data</span></code>.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">crypt</span> <span class="pre">vault</span> <span class="pre">secret</span> <span class="pre">engine</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Vault Secret Engine to be used to retrieve encryption keys: choose
between kv-v2, transit.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">crypt</span> <span class="pre">vault</span> <span class="pre">namespace</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>If set, Vault Namespace provides tenant isolation for teams and individuals
on the same Vault Enterprise instance, e.g. <code class="docutils literal notranslate"><span class="pre">acme/tenant1</span></code></p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<div class="section" id="qos">
<h3>QoS 选项<a class="headerlink" href="#qos" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version Nautilus.</span></p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">civetweb</span></code> frontend has a threading model that uses a thread per
connection and hence automatically throttled by <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">thread</span> <span class="pre">pool</span> <span class="pre">size</span></code>
configurable when it comes to accepting connections. The <code class="docutils literal notranslate"><span class="pre">beast</span></code> frontend is
not restricted by the thread pool size when it comes to accepting new
connections, so a scheduler abstraction is introduced in Nautilus release which
for supporting ways for scheduling requests in the future.</p>
<p>Currently the scheduler defaults to a throttler which throttles the active
connections to a configured limit. QoS based on mClock is currently in an
<em>experimental</em> phase and not recommended for production yet. Current
implementation of <em>dmclock_client</em> op queue divides RGW Ops on admin, auth
(swift auth, sts) metadata &amp; data requests.</p>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">max</span> <span class="pre">concurrent</span> <span class="pre">requests</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Maximum number of concurrent HTTP requests that the beast frontend
will process. Tuning this can help to limit memory usage under
heavy load.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>1024</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">scheduler</span> <span class="pre">type</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The type of RGW Scheduler to use. Valid values are throttler,
dmclock. Currently defaults to throttler which throttles beast
frontend requests. dmclock is <em>experimental</em> and will need the
experimental flag set</p>
</dd>
</dl>
<p>The options below are to tune the experimental dmclock scheduler. For some
further reading on dmclock, see <a class="reference internal" href="../../rados/configuration/osd-config-ref/#dmclock-qos"><span class="std std-ref">基于 mClock 的 QoS</span></a>. <cite>op_class</cite> for the flags below is
one of admin, auth, metadata or data.</p>
<p><code class="docutils literal notranslate"><span class="pre">rgw_dmclock_&lt;op_class&gt;_res</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The mclock reservation for <cite>op_class</cite> requests</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>100.0</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw_dmclock_&lt;op_class&gt;_wgt</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The mclock weight for <cite>op_class</cite> requests</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>1.0</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">rgw_dmclock_&lt;op_class&gt;_lim</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The mclock limit for <cite>op_class</cite> requests</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">默认值</dt>
<dd class="field-odd"><p>0.0</p>
</dd>
</dl>
</div>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">安装 Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rbd/">Ceph 块设备</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Ceph 对象网关</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../install/install-ceph-gateway/">基于 Civetweb 手动安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frontends/">HTTP 前端</a></li>
<li class="toctree-l2"><a class="reference internal" href="../placement/">Pool Placement and Storage Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config-fcgi/">基于 Apache/FastCGI 的简单配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multisite/">多站配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pools/">存储池的配置</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">配置参考</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">垃圾回收选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">多站设置</a></li>
<li class="toctree-l3"><a class="reference internal" href="#s3">S3 选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#swift">Swift 选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">日志记录选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#keystone">Keystone 选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">服务端加密选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#barbican">Barbican 选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashicorp-vault">HashiCorp Vault 选项</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#qos">QoS 选项</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/">管理指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../s3/">S3 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../swift/">Swift API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../adminops/">管理操作 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/">Python 接口</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nfs/">通过 NFS 导出</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keystone/">与 OpenStack Keystone 对接</a></li>
<li class="toctree-l2"><a class="reference internal" href="../barbican/">与 OpenStack Barbican 对接</a></li>
<li class="toctree-l2"><a class="reference internal" href="../opa/">与 Open Policy Agent 对接</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multitenancy/">多租户</a></li>
<li class="toctree-l2"><a class="reference internal" href="../compression/">压缩</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ldap-auth/">LDAP 认证</a></li>
<li class="toctree-l2"><a class="reference internal" href="../encryption/">服务器端加密</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bucketpolicy/">桶策略</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dynamicresharding/">动态的桶索引重分片</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mfa/">多因子认证</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sync-modules/">同步模块</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layout/">RADOS 中的数据布局</a></li>
<li class="toctree-l2"><a class="reference internal" href="../STSLite/">STS Lite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../role/">Role</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/">故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/8/radosgw/">radosgw 手册页</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/8/radosgw-admin/">radosgw-admin 手册页</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/">Ceph 管理器守护进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/dashboard/">Ceph 仪表盘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/developer_guide/">开发者指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/internals/">Ceph 内幕</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../governance/">项目管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundation/">Ceph 基金会</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/general/">Ceph 版本（总目录）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/">Ceph 版本（索引）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Ceph 术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation_cn/">中文版翻译资源</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../admin/" title="管理指南"
             >next</a> |</li>
        <li class="right" >
          <a href="../pools/" title="存储池"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" >Ceph 对象网关</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>