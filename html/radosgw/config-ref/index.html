

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Ceph 对象网关配置参考 &mdash; Ceph Documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/ceph.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="管理指南" href="../admin/" />
    <link rel="prev" title="存储池" href="../pools/" /> 
</head>

<body class="wy-body-for-nav">

   
  <header class="top-bar">
    

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../">Ceph 对象网关</a> &raquo;</li>
        
      <li>Ceph 对象网关配置参考</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/radosgw/config-ref.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
  </header>
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #eee" >
          

          
            <a href="../../">
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">安装 Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rbd/">Ceph 块设备</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Ceph 对象网关</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../frontends/">HTTP 前端</a></li>
<li class="toctree-l2"><a class="reference internal" href="../placement/">存储池归置与存储类</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multisite/">多站配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multisite-sync-policy/">多站同步策略配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pools/">存储池的配置</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">配置参考</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lifecycle-settings">Lifecycle Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">垃圾回收选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">多站设置</a></li>
<li class="toctree-l3"><a class="reference internal" href="#s3">S3 选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#swift">Swift 选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">日志记录选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#keystone">Keystone 选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">服务端加密选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#barbican">Barbican 选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hashicorp-vault">HashiCorp Vault 选项</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#qos">QoS 选项</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../admin/">管理指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../s3/">S3 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rgw-cache/">Data caching and CDN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../swift/">Swift API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../adminops/">管理操作 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/">Python 接口</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nfs/">通过 NFS 导出</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keystone/">与 OpenStack Keystone 对接</a></li>
<li class="toctree-l2"><a class="reference internal" href="../barbican/">与 OpenStack Barbican 对接</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vault/">与 HashiCorp Vault 对接</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kmip/">KMIP Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../opa/">与 Open Policy Agent 对接</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multitenancy/">多租户</a></li>
<li class="toctree-l2"><a class="reference internal" href="../compression/">压缩</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ldap-auth/">LDAP 认证</a></li>
<li class="toctree-l2"><a class="reference internal" href="../encryption/">服务器端加密</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bucketpolicy/">桶策略</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dynamicresharding/">动态的桶索引重分片</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mfa/">多因子认证</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sync-modules/">同步模块</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notifications/">Bucket Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layout/">RADOS 中的数据布局</a></li>
<li class="toctree-l2"><a class="reference internal" href="../STS/">STS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../STSLite/">STS Lite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keycloak/">Keycloak</a></li>
<li class="toctree-l2"><a class="reference internal" href="../role/">Role</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session-tags/">Session Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../orphans/">Orphan List and Associated Tooliing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../oidc/">OpenID Connect Provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/">故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/8/radosgw/">radosgw 手册页</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/8/radosgw-admin/">radosgw-admin 手册页</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qat-accel/">使用 QAT 为加密和压缩提速</a></li>
<li class="toctree-l2"><a class="reference internal" href="../s3select/">S3-select</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lua-scripting/">Lua Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../d3n_datacache/">D3N Data Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloud-transition/">Cloud Transition</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/">Ceph 管理器守护进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/dashboard/">Ceph 仪表盘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/developer_guide/">开发者指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/internals/">Ceph 内幕</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../governance/">项目管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundation/">Ceph 基金会</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/general/">Ceph 版本（总目录）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/">Ceph 版本（索引）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Ceph 术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../jaegertracing/">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation_cn/">中文版翻译资源</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../">Ceph</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
<div id="dev-warning" class="admonition note">
  <p class="first admonition-title">Notice</p>
  <p class="last">This document is for a development version of Ceph.</p>
</div>
  <div id="docubetter" align="right" style="padding: 5px; font-weight: bold;">
    <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <div class="section" id="ceph">
<h1>Ceph 对象网关配置参考<a class="headerlink" href="#ceph" title="Permalink to this headline">¶</a></h1>
<p>下列的选项可加入 Ceph 配置文件（一般是 <code class="docutils literal notranslate"><span class="pre">ceph.conf</span></code> ）的
<code class="docutils literal notranslate"><span class="pre">[client.radosgw.{instance-name}]</span></code> 段下，很多选项都有默认值，你若未指定，自然用默认。</p>
<p>Configuration variables set under the <code class="docutils literal notranslate"><span class="pre">[client.radosgw.{instance-name}]</span></code>
section will not apply to rgw or radosgw-admin commands without an instance-name
specified in the command. Thus variables meant to be applied to all RGW
instances or all radosgw-admin options can be put into the <code class="docutils literal notranslate"><span class="pre">[global]</span></code> or the
<code class="docutils literal notranslate"><span class="pre">[client]</span></code> section to avoid specifying <code class="docutils literal notranslate"><span class="pre">instance-name</span></code>.</p>
<dl class="std confval">
<dt id="confval-rgw_frontends">
<code class="sig-name descname"><span class="pre">rgw_frontends</span></code><a class="headerlink" href="#confval-rgw_frontends" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>配置的是 HTTP 前端。 多个前端的配置可以写成逗号分隔的列表。 各个前端的配置是空格分隔的一系列选项， 各选项都得遵照
key=value 或 key 格式。 所支持的选项请参考 <a class="reference external" href="../frontends">HTTP 前端</a>。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">beast</span> <span class="pre">port=7480</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_data">
<code class="sig-name descname"><span class="pre">rgw_data</span></code><a class="headerlink" href="#confval-rgw_data" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>设置 Ceph 对象网关的数据文件位置。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">/var/lib/ceph/radosgw/$cluster-$id</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_enable_apis">
<code class="sig-name descname"><span class="pre">rgw_enable_apis</span></code><a class="headerlink" href="#confval-rgw_enable_apis" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>启用指定的 API 。</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>在<a class="reference external" href="../multisite">多站</a>配置中，
任何要参与的
radosgw 例程都
必须启用 <code class="docutils literal notranslate"><span class="pre">s3</span></code> API 。</p>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">s3,</span> <span class="pre">s3website,</span> <span class="pre">swift,</span> <span class="pre">swift_auth,</span> <span class="pre">admin,</span> <span class="pre">sts,</span> <span class="pre">iam,</span> <span class="pre">notifications</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_cache_enabled">
<code class="sig-name descname"><span class="pre">rgw_cache_enabled</span></code><a class="headerlink" href="#confval-rgw_cache_enabled" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>是否启用 Ceph 对象网关缓存。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_cache_lru_size"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_cache_lru_size</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_cache_lru_size">
<code class="sig-name descname"><span class="pre">rgw_cache_lru_size</span></code><a class="headerlink" href="#confval-rgw_cache_lru_size" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Ceph 对象网关缓存的条目限制。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">10000</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_cache_enabled"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_cache_enabled</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dns_name">
<code class="sig-name descname"><span class="pre">rgw_dns_name</span></code><a class="headerlink" href="#confval-rgw_dns_name" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>DNS 名称，本例程为这个域服务。请参考 region 配置里的 <code class="docutils literal notranslate"><span class="pre">hostnames</span></code> 选项。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_script_uri">
<code class="sig-name descname"><span class="pre">rgw_script_uri</span></code><a class="headerlink" href="#confval-rgw_script_uri" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>如果请求中没带 <code class="docutils literal notranslate"><span class="pre">SCRIPT_URI</span></code> 字段， 这里的设置可作为补救。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_request_uri">
<code class="sig-name descname"><span class="pre">rgw_request_uri</span></code><a class="headerlink" href="#confval-rgw_request_uri" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>如果请求中没带 <code class="docutils literal notranslate"><span class="pre">REQUEST_URI</span></code> 字段， 这里的设置可作为补救。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_print_continue">
<code class="sig-name descname"><span class="pre">rgw_print_continue</span></code><a class="headerlink" href="#confval-rgw_print_continue" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>如果可能的话，启用 <code class="docutils literal notranslate"><span class="pre">100-continue</span></code> 。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_remote_addr_param">
<code class="sig-name descname"><span class="pre">rgw_remote_addr_param</span></code><a class="headerlink" href="#confval-rgw_remote_addr_param" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>远端地址参数。例如， 包含了远端地址的 HTTP 字段、或者 <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code> 地址 （如果用了反向代理）。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">REMOTE_ADDR</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_enable_ops_log"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_enable_ops_log</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_op_thread_timeout">
<code class="sig-name descname"><span class="pre">rgw_op_thread_timeout</span></code><a class="headerlink" href="#confval-rgw_op_thread_timeout" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>在运行线程的超时值，秒。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">minutes</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_op_thread_suicide_timeout">
<code class="sig-name descname"><span class="pre">rgw_op_thread_suicide_timeout</span></code><a class="headerlink" href="#confval-rgw_op_thread_suicide_timeout" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Ceph 对象网关进程的自杀超时秒数（ <code class="docutils literal notranslate"><span class="pre">timeout</span></code> ）。 设置为 <code class="docutils literal notranslate"><span class="pre">0</span></code> 时禁用。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_thread_pool_size">
<code class="sig-name descname"><span class="pre">rgw_thread_pool_size</span></code><a class="headerlink" href="#confval-rgw_thread_pool_size" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>线程池的尺寸。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">512</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_num_control_oids">
<code class="sig-name descname"><span class="pre">rgw_num_control_oids</span></code><a class="headerlink" href="#confval-rgw_num_control_oids" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>不同的 <code class="docutils literal notranslate"><span class="pre">rgw</span></code> 例程间用于缓存同步的通知对象数量。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">8</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_init_timeout">
<code class="sig-name descname"><span class="pre">rgw_init_timeout</span></code><a class="headerlink" href="#confval-rgw_init_timeout" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Ceph 对象网关放弃初始化前坚持的秒数。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">minutes</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_mime_types_file">
<code class="sig-name descname"><span class="pre">rgw_mime_types_file</span></code><a class="headerlink" href="#confval-rgw_mime_types_file" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>MIME 类型数据库文件的路径， Swift 自动探测对象类型时要用到。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">/etc/mime.types</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_s3_success_create_obj_status">
<code class="sig-name descname"><span class="pre">rgw_s3_success_create_obj_status</span></code><a class="headerlink" href="#confval-rgw_s3_success_create_obj_status" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">create-obj</span></code> 的另一种成功状态响应。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_resolve_cname">
<code class="sig-name descname"><span class="pre">rgw_resolve_cname</span></code><a class="headerlink" href="#confval-rgw_resolve_cname" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>如果主机名与 <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">dns</span> <span class="pre">name</span></code> 不同， <code class="docutils literal notranslate"><span class="pre">rgw</span></code> 是否采用请求的 hostname 字段的 DNS CNAME 记录。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_obj_stripe_size">
<code class="sig-name descname"><span class="pre">rgw_obj_stripe_size</span></code><a class="headerlink" href="#confval-rgw_obj_stripe_size" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Ceph 对象网关的对象条带尺寸。 关于条带化请参考<a class="reference external" href="../../architecture#data-striping">体系结构</a>。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">4Mi</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_extended_http_attrs">
<code class="sig-name descname"><span class="pre">rgw_extended_http_attrs</span></code><a class="headerlink" href="#confval-rgw_extended_http_attrs" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>为实体（用户、桶或对象）新增可设置的属性集。 可以在上传实体时把这些额外属性设置在 HTTP 头的字段里、 或者用 POST 方法修改；
如果设置过，在此实体上执行 GET/HEAD 操作时这些属性就会以 HTTP 头的字段返回。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">example</dt>
<dd class="field-even"><p>content_foo, content_bar, x-foo-bar</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_exit_timeout_secs">
<code class="sig-name descname"><span class="pre">rgw_exit_timeout_secs</span></code><a class="headerlink" href="#confval-rgw_exit_timeout_secs" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>等待某一进程多少秒后无条件退出。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">minutes</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_get_obj_window_size">
<code class="sig-name descname"><span class="pre">rgw_get_obj_window_size</span></code><a class="headerlink" href="#confval-rgw_get_obj_window_size" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>单个对象读请求的窗口大小（字节）。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">16Mi</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_get_obj_max_req_size">
<code class="sig-name descname"><span class="pre">rgw_get_obj_max_req_size</span></code><a class="headerlink" href="#confval-rgw_get_obj_max_req_size" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>向 Ceph 存储集群发起的单次 GET 请求的最大尺寸。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">4Mi</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_multipart_min_part_size">
<code class="sig-name descname"><span class="pre">rgw_multipart_min_part_size</span></code><a class="headerlink" href="#confval-rgw_multipart_min_part_size" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>When doing a multipart upload, each part (other than the last part)
must be at least this size.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">5Mi</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_relaxed_s3_bucket_names">
<code class="sig-name descname"><span class="pre">rgw_relaxed_s3_bucket_names</span></code><a class="headerlink" href="#confval-rgw_relaxed_s3_bucket_names" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>对 US region 的桶启用宽松的桶名规则。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_list_buckets_max_chunk">
<code class="sig-name descname"><span class="pre">rgw_list_buckets_max_chunk</span></code><a class="headerlink" href="#confval-rgw_list_buckets_max_chunk" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>列举用户桶时， 每次检出的最大桶数。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_override_bucket_index_max_shards">
<code class="sig-name descname"><span class="pre">rgw_override_bucket_index_max_shards</span></code><a class="headerlink" href="#confval-rgw_override_bucket_index_max_shards" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>桶索引对象的分片数量， 0 表示没有分片。 我们不建议把这个值设置得太大（比如大于 1000 ）， 因为这样会增加罗列桶时的开销。
本变量应该配置在 client 或 global 段下， 这样它就会自动应用到 radosgw-admin 命令。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">uint</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_curl_wait_timeout_ms">
<code class="sig-name descname"><span class="pre">rgw_curl_wait_timeout_ms</span></code><a class="headerlink" href="#confval-rgw_curl_wait_timeout_ms" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>某些特定 <code class="docutils literal notranslate"><span class="pre">curl</span></code> 调用的超时值，毫秒。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_copy_obj_progress">
<code class="sig-name descname"><span class="pre">rgw_copy_obj_progress</span></code><a class="headerlink" href="#confval-rgw_copy_obj_progress" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>长时间复制操作时允许输出对象进度。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_copy_obj_progress_every_bytes">
<code class="sig-name descname"><span class="pre">rgw_copy_obj_progress_every_bytes</span></code><a class="headerlink" href="#confval-rgw_copy_obj_progress_every_bytes" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>复制进度输出的粒度，字节数。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1Mi</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_admin_entry">
<code class="sig-name descname"><span class="pre">rgw_admin_entry</span></code><a class="headerlink" href="#confval-rgw_admin_entry" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>管理 URL 请求的入口点。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">admin</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_content_length_compat">
<code class="sig-name descname"><span class="pre">rgw_content_length_compat</span></code><a class="headerlink" href="#confval-rgw_content_length_compat" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>允许兼容设置了 <code class="docutils literal notranslate"><span class="pre">CONTENT_LENGTH</span></code> 和 <code class="docutils literal notranslate"><span class="pre">HTTP_CONTENT_LENGTH</span></code> 的 FCGI 请求。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_bucket_quota_ttl">
<code class="sig-name descname"><span class="pre">rgw_bucket_quota_ttl</span></code><a class="headerlink" href="#confval-rgw_bucket_quota_ttl" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>缓存的配额信息仍然有效的秒数。 超时之后，配额信息需重新从集群读取。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">minutes</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_user_quota_bucket_sync_interval">
<code class="sig-name descname"><span class="pre">rgw_user_quota_bucket_sync_interval</span></code><a class="headerlink" href="#confval-rgw_user_quota_bucket_sync_interval" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>桶配额信息累积多少秒再同步到集群。 在这段时间里，其它 RGW 例程们看不到这个例程上的桶配额统计信息的变更。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">minutes</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_user_quota_sync_interval">
<code class="sig-name descname"><span class="pre">rgw_user_quota_sync_interval</span></code><a class="headerlink" href="#confval-rgw_user_quota_sync_interval" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>用户配额信息累积多少秒再同步到集群。 在这段时间里，其它 RGW 例程们看不到这个例程上的用户配额统计信息的变更。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">day</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_bucket_default_quota_max_objects">
<code class="sig-name descname"><span class="pre">rgw_bucket_default_quota_max_objects</span></code><a class="headerlink" href="#confval-rgw_bucket_default_quota_max_objects" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>每个桶默认的最大对象数量。 新用户如果没其它配额操作，就采用此值。对已有用户没影响。 这个变量应该设置在 client 或 global
段下， 这样配置对 radosgw-admin 命令也管用。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_bucket_default_quota_max_size">
<code class="sig-name descname"><span class="pre">rgw_bucket_default_quota_max_size</span></code><a class="headerlink" href="#confval-rgw_bucket_default_quota_max_size" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>每个桶默认的最大容量，单位为字节。 新用户如果没其它配额操作，就采用此值。对已有用户没影响。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_user_default_quota_max_objects">
<code class="sig-name descname"><span class="pre">rgw_user_default_quota_max_objects</span></code><a class="headerlink" href="#confval-rgw_user_default_quota_max_objects" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>用户默认的最大对象数，此用户的所有桶内的所有对象都计算在内。 新用户如果没另外指定配额，就采用此选项的值。 对已有用户没影响。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_user_default_quota_max_size">
<code class="sig-name descname"><span class="pre">rgw_user_default_quota_max_size</span></code><a class="headerlink" href="#confval-rgw_user_default_quota_max_size" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>如果没另外指定配额，此选项将为新用户设置的最大配额尺寸， 单位为字节。对已有用户没影响。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_verify_ssl">
<code class="sig-name descname"><span class="pre">rgw_verify_ssl</span></code><a class="headerlink" href="#confval-rgw_verify_ssl" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>发出请求时验证 SSL 证书。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_keystone_verify_ssl"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_keystone_verify_ssl</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_max_chunk_size">
<code class="sig-name descname"><span class="pre">rgw_max_chunk_size</span></code><a class="headerlink" href="#confval-rgw_max_chunk_size" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>The chunk size is the size of RADOS I/O requests that RGW sends when
accessing data objects. RGW read and write operations will never
request more than this amount in a single request. This also defines
the RGW head object size, as head operations need to be atomic, and
anything larger than this would require more than a single operation.
When RGW objects are written to the default storage class, up to this
amount of payload data will be stored alongside metadata in the head
object.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">4Mi</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<div class="section" id="lifecycle-settings">
<h2>Lifecycle Settings<a class="headerlink" href="#lifecycle-settings" title="Permalink to this headline">¶</a></h2>
<p>Bucket Lifecycle configuration can be used to manage your objects so they are stored
effectively throughout their lifetime. In past releases Lifecycle processing was rate-limited
by single threaded processing. With the Nautilus release this has been addressed and the
Ceph Object Gateway now allows for parallel thread processing of bucket lifecycles across
additional Ceph Object Gateway instances and replaces the in-order
index shard enumeration with a random ordered sequence.</p>
<p>There are two options in particular to look at when looking to increase the
aggressiveness of lifecycle processing:</p>
<dl class="std confval">
<dt id="confval-rgw_lc_max_worker">
<code class="sig-name descname"><span class="pre">rgw_lc_max_worker</span></code><a class="headerlink" href="#confval-rgw_lc_max_worker" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This option specifies the number of lifecycle worker threads to run in
parallel, thereby processing bucket and index shards simultaneously.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_lc_max_wp_worker">
<code class="sig-name descname"><span class="pre">rgw_lc_max_wp_worker</span></code><a class="headerlink" href="#confval-rgw_lc_max_wp_worker" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>This option specifies the number of threads in each lifecycle workers
work pool. This option can help accelerate processing each bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<p>These values can be tuned based upon your specific workload to further increase the
aggressiveness of lifecycle processing. For a workload with a larger number of buckets (thousands)
you would look at increasing the <a class="reference internal" href="#confval-rgw_lc_max_worker"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_lc_max_worker</span></code></a> value from the default value of 3 whereas for a
workload with a smaller number of buckets but higher number of objects (hundreds of thousands)
per bucket you would consider decreasing <a class="reference internal" href="#confval-rgw_lc_max_wp_worker"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_lc_max_wp_worker</span></code></a> from the default value of 3.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When looking to tune either of these specific values please validate the
current Cluster performance and Ceph Object Gateway utilization before increasing.</p>
</div>
</div>
<div class="section" id="id2">
<h2>垃圾回收选项<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>The Ceph Object Gateway allocates storage for new objects immediately.</p>
<p>The Ceph Object Gateway purges the storage space used for deleted and overwritten
objects in the Ceph Storage cluster some time after the gateway deletes the
objects from the bucket index. The process of purging the deleted object data
from the Ceph Storage cluster is known as Garbage Collection or GC.</p>
<p>To view the queue of objects awaiting garbage collection, execute the following</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt1:before {
  content: "$ ";
}
</style><span class="prompt1">radosgw-admin gc list</span>
</pre></div></div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>specify <code class="docutils literal notranslate"><span class="pre">--include-all</span></code> to list all entries, including unexpired</p>
</div>
<p>Garbage collection is a background activity that may
execute continuously or during times of low loads, depending upon how the
administrator configures the Ceph Object Gateway. By default, the Ceph Object
Gateway conducts GC operations continuously. Since GC operations are a normal
part of Ceph Object Gateway operations, especially with object delete
operations, objects eligible for garbage collection exist most of the time.</p>
<p>Some workloads may temporarily or permanently outpace the rate of garbage
collection activity. This is especially true of delete-heavy workloads, where
many objects get stored for a short period of time and then deleted. For these
types of workloads, administrators can increase the priority of garbage
collection operations relative to other operations with the following
configuration parameters.</p>
<dl class="std confval">
<dt id="confval-rgw_gc_max_objs">
<code class="sig-name descname"><span class="pre">rgw_gc_max_objs</span></code><a class="headerlink" href="#confval-rgw_gc_max_objs" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>垃圾回收进程在一个处理周期内可处理的最大对象数。 首次部署后请勿更改此值。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">32</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_gc_obj_min_wait"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_obj_min_wait</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_processor_max_time"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_processor_max_time</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_processor_period"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_processor_period</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_max_concurrent_io"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_max_concurrent_io</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_gc_obj_min_wait">
<code class="sig-name descname"><span class="pre">rgw_gc_obj_min_wait</span></code><a class="headerlink" href="#confval-rgw_gc_obj_min_wait" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>已被删除的对象最少等待多长时间， 才能由垃圾回收器清除和处理。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">hours</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_gc_max_objs"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_max_objs</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_processor_max_time"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_processor_max_time</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_processor_period"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_processor_period</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_max_concurrent_io"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_max_concurrent_io</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_gc_processor_max_time">
<code class="sig-name descname"><span class="pre">rgw_gc_processor_max_time</span></code><a class="headerlink" href="#confval-rgw_gc_processor_max_time" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>两个连续的垃圾回收周期起点的最大时间间隔。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">hour</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_gc_max_objs"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_max_objs</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_obj_min_wait"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_obj_min_wait</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_processor_period"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_processor_period</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_max_concurrent_io"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_max_concurrent_io</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_gc_processor_period">
<code class="sig-name descname"><span class="pre">rgw_gc_processor_period</span></code><a class="headerlink" href="#confval-rgw_gc_processor_period" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>垃圾回收进程的运行周期。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">hour</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_gc_max_objs"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_max_objs</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_obj_min_wait"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_obj_min_wait</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_processor_max_time"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_processor_max_time</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_max_concurrent_io"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_max_concurrent_io</span></code></a>, <code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_max_trim_chunk</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_gc_max_concurrent_io">
<code class="sig-name descname"><span class="pre">rgw_gc_max_concurrent_io</span></code><a class="headerlink" href="#confval-rgw_gc_max_concurrent_io" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>The maximum number of concurrent IO operations that the RGW garbage
collection thread will use when purging old data.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_gc_max_objs"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_max_objs</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_obj_min_wait"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_obj_min_wait</span></code></a>, <a class="reference internal" href="#confval-rgw_gc_processor_max_time"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_processor_max_time</span></code></a>, <code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_gc_max_trim_chunk</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Tuning Garbage Collection for Delete Heavy Workloads</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>As an initial step towards tuning Ceph Garbage Collection to be more aggressive the following options are suggested to be increased from their default configuration values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rgw_gc_max_concurrent_io</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">rgw_gc_max_trim_chunk</span> <span class="o">=</span> <span class="mi">64</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Modifying these values requires a restart of the RGW service.</p>
</div>
<p>Once these values have been increased from default please monitor for performance of the cluster during Garbage Collection to verify no adverse performance issues due to the increased values.</p>
</div>
<div class="section" id="id3">
<h2>多站设置<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">New in version Jewel.</span></p>
</div>
<p>你可以在 Ceph 配置文件中的各例程 <code class="docutils literal notranslate"><span class="pre">[client.radosgw.{instance-name}]</span></code>
段下设置下列选项。</p>
<dl class="std confval">
<dt id="confval-rgw_zone">
<code class="sig-name descname"><span class="pre">rgw_zone</span></code><a class="headerlink" href="#confval-rgw_zone" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>网关例程所在域的名称。 如果没配置过域，可以用命令 <code class="docutils literal notranslate"><span class="pre">radosgw-admin</span> <span class="pre">zone</span> <span class="pre">default</span></code> 来配置集群范围的默认值。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">see also</dt>
<dd class="field-even"><p><a class="reference internal" href="#confval-rgw_zonegroup"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_zonegroup</span></code></a>, <a class="reference internal" href="#confval-rgw_realm"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_realm</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_zonegroup">
<code class="sig-name descname"><span class="pre">rgw_zonegroup</span></code><a class="headerlink" href="#confval-rgw_zonegroup" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>网关例程所在域组的名字。 如果还没有设置域组，可以用 <code class="docutils literal notranslate"><span class="pre">radosgw-admin</span> <span class="pre">zonegroup</span> <span class="pre">default</span></code> 命令配置集群范围的默认值。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">see also</dt>
<dd class="field-even"><p><a class="reference internal" href="#confval-rgw_zone"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_zone</span></code></a>, <a class="reference internal" href="#confval-rgw_realm"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_realm</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_realm">
<code class="sig-name descname"><span class="pre">rgw_realm</span></code><a class="headerlink" href="#confval-rgw_realm" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>网关例程所在 realm 的名字。 如果还没有设置 realm ，可以用 <code class="docutils literal notranslate"><span class="pre">radosgw-admin</span> <span class="pre">realm</span> <span class="pre">default</span></code>
命令 设置集群范围的默认值。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_run_sync_thread">
<code class="sig-name descname"><span class="pre">rgw_run_sync_thread</span></code><a class="headerlink" href="#confval-rgw_run_sync_thread" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>如果 realm 里有要同步的其它域， 就派生出线程来处理数据和元数据的同步。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_data_log_window">
<code class="sig-name descname"><span class="pre">rgw_data_log_window</span></code><a class="headerlink" href="#confval-rgw_data_log_window" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>数据日志条数窗口，秒。（译者注：多长时间的日志封装一个文件？）</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">30</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_data_log_changes_size">
<code class="sig-name descname"><span class="pre">rgw_data_log_changes_size</span></code><a class="headerlink" href="#confval-rgw_data_log_changes_size" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>RGW will trigger update to the data log if the number of pending
entries reached this number.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_data_log_obj_prefix">
<code class="sig-name descname"><span class="pre">rgw_data_log_obj_prefix</span></code><a class="headerlink" href="#confval-rgw_data_log_obj_prefix" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>数据日志的对象名前缀。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">data_log</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_data_log_num_shards">
<code class="sig-name descname"><span class="pre">rgw_data_log_num_shards</span></code><a class="headerlink" href="#confval-rgw_data_log_num_shards" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>用于保存数据变更日志的分片（对象） 数量。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">128</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_md_log_max_shards">
<code class="sig-name descname"><span class="pre">rgw_md_log_max_shards</span></code><a class="headerlink" href="#confval-rgw_md_log_max_shards" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>用于元数据日志的最大分片数量。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">64</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<div class="admonition important">
<p class="admonition-title">Important</p>
<p>开始同步后就不应该再更改
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">data</span> <span class="pre">log</span> <span class="pre">num</span> <span class="pre">shards</span></code> 和 <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">md</span> <span class="pre">log</span> <span class="pre">max</span> <span class="pre">shards</span></code> 的取值了。</p>
</div>
</div>
<div class="section" id="s3">
<h2>S3 选项<a class="headerlink" href="#s3" title="Permalink to this headline">¶</a></h2>
<dl class="std confval">
<dt id="confval-rgw_s3_auth_use_ldap">
<code class="sig-name descname"><span class="pre">rgw_s3_auth_use_ldap</span></code><a class="headerlink" href="#confval-rgw_s3_auth_use_ldap" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>S3 认证是否使用 LDAP 。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="swift">
<h2>Swift 选项<a class="headerlink" href="#swift" title="Permalink to this headline">¶</a></h2>
<dl class="std confval">
<dt id="confval-rgw_enforce_swift_acls">
<code class="sig-name descname"><span class="pre">rgw_enforce_swift_acls</span></code><a class="headerlink" href="#confval-rgw_enforce_swift_acls" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>强制使用 Swift 的访问控制列表（ ACL ）选项。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_swift_tenant_name">
<code class="sig-name descname"><span class="pre">rgw_swift_tenant_name</span></code><a class="headerlink" href="#confval-rgw_swift_tenant_name" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Tenant name that is used when constructing the swift path.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">see also</dt>
<dd class="field-even"><p><a class="reference internal" href="#confval-rgw_swift_account_in_url"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_swift_account_in_url</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_swift_token_expiration">
<code class="sig-name descname"><span class="pre">rgw_swift_token_expiration</span></code><a class="headerlink" href="#confval-rgw_swift_token_expiration" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Swift 令牌过期时间，秒。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">day</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_swift_url">
<code class="sig-name descname"><span class="pre">rgw_swift_url</span></code><a class="headerlink" href="#confval-rgw_swift_url" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Ceph 对象网关 Swift 接口的 URL 。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">see also</dt>
<dd class="field-even"><p><a class="reference internal" href="#confval-rgw_swift_auth_entry"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_swift_auth_entry</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_swift_url_prefix">
<code class="sig-name descname"><span class="pre">rgw_swift_url_prefix</span></code><a class="headerlink" href="#confval-rgw_swift_url_prefix" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Swift API 的 URL 前缀，为区别于 S3 API 的终结点。
默认是 <code class="docutils literal notranslate"><span class="pre">swift</span></code> ，这样 Swift API 就会以 URL
<code class="docutils literal notranslate"><span class="pre">http://host:port/swift/v1</span></code> （或者，启用
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">swift</span> <span class="pre">account</span> <span class="pre">in</span> <span class="pre">url</span></code> 时将是
<code class="docutils literal notranslate"><span class="pre">http://host:port/swift/v1/AUTH_%(tenant_id)s</span></code> ）
暴露出来。</p>
<p>考虑到兼容性，此选项设置为空字符串时，
将使用默认值 <code class="docutils literal notranslate"><span class="pre">swift</span></code> ；
如果你想要前缀为空，
可以把此选项设置为 <code class="docutils literal notranslate"><span class="pre">/</span></code> 。</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you set this option to <code class="docutils literal notranslate"><span class="pre">/</span></code>, you must
disable the S3 API by modifying <code class="docutils literal notranslate"><span class="pre">rgw</span>
<span class="pre">enable</span> <span class="pre">apis</span></code> to exclude <code class="docutils literal notranslate"><span class="pre">s3</span></code>. It is not
possible to operate radosgw with <code class="docutils literal notranslate"><span class="pre">rgw</span>
<span class="pre">swift</span> <span class="pre">url</span> <span class="pre">prefix</span> <span class="pre">=</span> <span class="pre">/</span></code> and simultaneously
support both the S3 and Swift APIs. If you
do need to support both APIs without
prefixes, deploy multiple radosgw instances
to listen on different hosts (or ports)
instead, enabling some for S3 and some for
Swift.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">swift</span></code></p>
</dd>
<dt class="field-odd">example</dt>
<dd class="field-odd"><p>/swift-testing</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_swift_auth_url">
<code class="sig-name descname"><span class="pre">rgw_swift_auth_url</span></code><a class="headerlink" href="#confval-rgw_swift_auth_url" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>验证 v1 版令牌的、 RGW 要连接的默认 URL （如果没用 Swift 内建认证）。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_swift_auth_entry">
<code class="sig-name descname"><span class="pre">rgw_swift_auth_entry</span></code><a class="headerlink" href="#confval-rgw_swift_auth_entry" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Swift 认证 URL 的入口点。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">auth</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_swift_url"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_swift_url</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_swift_account_in_url">
<code class="sig-name descname"><span class="pre">rgw_swift_account_in_url</span></code><a class="headerlink" href="#confval-rgw_swift_account_in_url" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Whether or not the Swift account name should be included
in the Swift API URL.
If set to <code class="docutils literal notranslate"><span class="pre">false</span></code> (the default), then the Swift API
will listen on a URL formed like
<code class="docutils literal notranslate"><span class="pre">http://host:port/&lt;rgw_swift_url_prefix&gt;/v1</span></code>, and the
account name (commonly a Keystone project UUID if
radosgw is configured with <a class="reference external" href="../keystone">Keystone integration</a>) will be inferred from request
headers.
If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the Swift API URL will be
<code class="docutils literal notranslate"><span class="pre">http://host:port/&lt;rgw_swift_url_prefix&gt;/v1/AUTH_&lt;account_name&gt;</span></code>
(or
<code class="docutils literal notranslate"><span class="pre">http://host:port/&lt;rgw_swift_url_prefix&gt;/v1/AUTH_&lt;keystone_project_id</span>
<span class="pre">&gt;</span></code>)
instead, and the Keystone <code class="docutils literal notranslate"><span class="pre">object-store</span></code> endpoint must
accordingly be configured to include the
<code class="docutils literal notranslate"><span class="pre">AUTH_%(tenant_id)s</span></code> suffix.
You <strong>must</strong> set this option to <code class="docutils literal notranslate"><span class="pre">true</span></code> (and update the
Keystone service catalog) if you want radosgw to support
publicly-readable containers and <a class="reference external" href="../swift/tempurl">temporary URLs</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_swift_tenant_name"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_swift_tenant_name</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_swift_versioning_enabled">
<code class="sig-name descname"><span class="pre">rgw_swift_versioning_enabled</span></code><a class="headerlink" href="#confval-rgw_swift_versioning_enabled" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>启用 OpenStack 对象存储 API 的对象版本控制功能，
这样客户端就能在想要做版本控制的容器上设置
<code class="docutils literal notranslate"><span class="pre">X-Versions-Location</span></code> 属性了，
该属性用于指定存储着存档版本的容器。
做版本控制的容器必须是同一个用户拥有的，
因为要通过访问控制验证—— ACL <strong>不会</strong>被纳入版本控制。
容器版本控制与 S3 对象版本控制机制不兼容。</p>
<p>还有个稍有不同的属性， <code class="docutils literal notranslate"><span class="pre">X-History-Location</span></code> ，
<a class="reference external" href="https://docs.openstack.org/swift/latest/api/object_versioning.html">OpenStack Swift</a>
也支持，是用于处理 <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> 操作的。
现在还不支持。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_trust_forwarded_https">
<code class="sig-name descname"><span class="pre">rgw_trust_forwarded_https</span></code><a class="headerlink" href="#confval-rgw_trust_forwarded_https" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>When a proxy in front of radosgw is used for ssl termination, radosgw
does not know whether incoming http connections are secure. Enable
this option to trust the <code class="docutils literal notranslate"><span class="pre">Forwarded</span></code> and <code class="docutils literal notranslate"><span class="pre">X-Forwarded-Proto</span></code>
headers sent by the proxy when determining whether the connection is
secure. This is required for some features, such as server side
encryption. (Never enable this setting if you do not have a trusted
proxy in front of radosgw, or else malicious users will be able to set
these headers in any request.)</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_require_ssl</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="id4">
<h2>日志记录选项<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<dl class="std confval">
<dt id="confval-rgw_log_nonexistent_bucket">
<code class="sig-name descname"><span class="pre">rgw_log_nonexistent_bucket</span></code><a class="headerlink" href="#confval-rgw_log_nonexistent_bucket" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>让 Ceph 对象网关记录访问不存在的桶的请求。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_enable_ops_log"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_enable_ops_log</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_log_object_name">
<code class="sig-name descname"><span class="pre">rgw_log_object_name</span></code><a class="headerlink" href="#confval-rgw_log_object_name" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>对象名的记录格式。 关于格式说明见 <em class="manpage">date</em> 。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">%Y-%m-%d-%H-%i-%n</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_enable_ops_log"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_enable_ops_log</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_log_object_name_utc">
<code class="sig-name descname"><span class="pre">rgw_log_object_name_utc</span></code><a class="headerlink" href="#confval-rgw_log_object_name_utc" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>记录的对象名是否需包含 UTC 时间， 设置为 <code class="docutils literal notranslate"><span class="pre">false</span></code> 时将使用本地时间。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_enable_ops_log"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_enable_ops_log</span></code></a>, <a class="reference internal" href="#confval-rgw_log_object_name"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_log_object_name</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_usage_max_shards">
<code class="sig-name descname"><span class="pre">rgw_usage_max_shards</span></code><a class="headerlink" href="#confval-rgw_usage_max_shards" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>使用率日志的最大分片数量。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">32</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_enable_usage_log"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_enable_usage_log</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_usage_max_user_shards">
<code class="sig-name descname"><span class="pre">rgw_usage_max_user_shards</span></code><a class="headerlink" href="#confval-rgw_usage_max_user_shards" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>单个用户使用率日志的最大分片数量。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
<dt class="field-odd">min</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
<dt class="field-even">see also</dt>
<dd class="field-even"><p><a class="reference internal" href="#confval-rgw_enable_usage_log"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_enable_usage_log</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_enable_ops_log">
<code class="sig-name descname"><span class="pre">rgw_enable_ops_log</span></code><a class="headerlink" href="#confval-rgw_enable_ops_log" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>允许记录各个成功的 Ceph 对象网关操作。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_log_nonexistent_bucket"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_log_nonexistent_bucket</span></code></a>, <a class="reference internal" href="#confval-rgw_log_object_name"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_log_object_name</span></code></a>, <a class="reference internal" href="#confval-rgw_ops_log_rados"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_ops_log_rados</span></code></a>, <a class="reference internal" href="#confval-rgw_ops_log_socket_path"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_ops_log_socket_path</span></code></a>, <code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_ops_log_file_path</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_enable_usage_log">
<code class="sig-name descname"><span class="pre">rgw_enable_usage_log</span></code><a class="headerlink" href="#confval-rgw_enable_usage_log" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>允许记录使用率日志。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_usage_max_shards"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_usage_max_shards</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_ops_log_rados">
<code class="sig-name descname"><span class="pre">rgw_ops_log_rados</span></code><a class="headerlink" href="#confval-rgw_ops_log_rados" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>操作日志是否应该写入 Ceph 存储集群后端。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_enable_ops_log"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_enable_ops_log</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_ops_log_socket_path">
<code class="sig-name descname"><span class="pre">rgw_ops_log_socket_path</span></code><a class="headerlink" href="#confval-rgw_ops_log_socket_path" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>用于写入操作日志的 Unix 域套接字。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">see also</dt>
<dd class="field-even"><p><a class="reference internal" href="#confval-rgw_enable_ops_log"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_enable_ops_log</span></code></a>, <a class="reference internal" href="#confval-rgw_ops_log_data_backlog"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_ops_log_data_backlog</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_ops_log_data_backlog">
<code class="sig-name descname"><span class="pre">rgw_ops_log_data_backlog</span></code><a class="headerlink" href="#confval-rgw_ops_log_data_backlog" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>最多积攒多少操作日志数据才写入 Unix 域套接字。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">5Mi</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_enable_ops_log"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_enable_ops_log</span></code></a>, <a class="reference internal" href="#confval-rgw_ops_log_socket_path"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_ops_log_socket_path</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_usage_log_flush_threshold">
<code class="sig-name descname"><span class="pre">rgw_usage_log_flush_threshold</span></code><a class="headerlink" href="#confval-rgw_usage_log_flush_threshold" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>使用率日志合并过多少条目才同步地刷回。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1024</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_enable_usage_log"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_enable_usage_log</span></code></a>, <a class="reference internal" href="#confval-rgw_usage_log_tick_interval"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_usage_log_tick_interval</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_usage_log_tick_interval">
<code class="sig-name descname"><span class="pre">rgw_usage_log_tick_interval</span></code><a class="headerlink" href="#confval-rgw_usage_log_tick_interval" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>每 <code class="docutils literal notranslate"><span class="pre">n</span></code> 秒执行一次使用率日志数据刷回。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">30</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_enable_usage_log"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_enable_usage_log</span></code></a>, <a class="reference internal" href="#confval-rgw_usage_log_flush_threshold"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_usage_log_flush_threshold</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_log_http_headers">
<code class="sig-name descname"><span class="pre">rgw_log_http_headers</span></code><a class="headerlink" href="#confval-rgw_log_http_headers" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>操作日志里要记录的 HTTP 头，挨个罗列，以逗号分隔。 头名字必须是全名，对大小写不敏感， 单词用下划线分隔。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">example</dt>
<dd class="field-even"><p>http_x_forwarded_for, http_x_special_k</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="keystone">
<h2>Keystone 选项<a class="headerlink" href="#keystone" title="Permalink to this headline">¶</a></h2>
<dl class="std confval">
<dt id="confval-rgw_keystone_url">
<code class="sig-name descname"><span class="pre">rgw_keystone_url</span></code><a class="headerlink" href="#confval-rgw_keystone_url" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Keystone 服务器的 URL 。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_api_version">
<code class="sig-name descname"><span class="pre">rgw_keystone_api_version</span></code><a class="headerlink" href="#confval-rgw_keystone_api_version" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>与 Keystone 服务器通讯时，使用哪个版本（ 2 或 3 ）的 OpenStack Identity API 。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">2</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_admin_domain">
<code class="sig-name descname"><span class="pre">rgw_keystone_admin_domain</span></code><a class="headerlink" href="#confval-rgw_keystone_admin_domain" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>使用 v3 版本的 OpenStack Identity API 时， 需在这里设置具备管理权限的 OpenStack 域名。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_admin_project">
<code class="sig-name descname"><span class="pre">rgw_keystone_admin_project</span></code><a class="headerlink" href="#confval-rgw_keystone_admin_project" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>使用 v3 版本的 OpenStack Identity API 时， 需在这里设置具备管理权限的 OpenStack 项目名。
未设置时，将采用 <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span> <span class="pre">admin</span> <span class="pre">tenant</span></code> 的值。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_admin_token">
<code class="sig-name descname"><span class="pre">rgw_keystone_admin_token</span></code><a class="headerlink" href="#confval-rgw_keystone_admin_token" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Keystone 的管理令牌（共享密钥）。 在 Ceph RadosGW 认证时，会优先用管理令牌， 然后才是管理凭证（
<code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_user</span></code> 、 <code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_password</span></code> 、
<code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_tenant</span></code> 、 <code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_project</span></code> 、
<code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_domain</span></code> ）。 管理令牌功能已经废弃，但还能用来与旧环境对接。
应该优先考虑配置此选项，而非配置 <code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_token_path</span></code> ， 以免暴露令牌。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_admin_token_path">
<code class="sig-name descname"><span class="pre">rgw_keystone_admin_token_path</span></code><a class="headerlink" href="#confval-rgw_keystone_admin_token_path" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Path to a file containing the Keystone admin token (shared secret).
In Ceph RadosGW authentication with the admin token has priority over
authentication with the admin credentials
(<code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_user</span></code>, <code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_password</span></code>,
<code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_tenant</span></code>, <code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_project</span></code>,
<code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_domain</span></code>). The Keystone admin token has been
deprecated, but can be used to integrate with older environments.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_admin_tenant">
<code class="sig-name descname"><span class="pre">rgw_keystone_admin_tenant</span></code><a class="headerlink" href="#confval-rgw_keystone_admin_tenant" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>使用 v2 版本的 OpenStack Identity API 时，在这里配置具备管理权限的 OpenStack 租户（服务租户，
Service Tenant ）的名字。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_admin_user">
<code class="sig-name descname"><span class="pre">rgw_keystone_admin_user</span></code><a class="headerlink" href="#confval-rgw_keystone_admin_user" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>使用 v2 版本的 OpenStack Identity API 时，在这里配置具备管理权限的 OpenStack 用户的名字，用来与
Keystone 认证（服务用户， Service User ）。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_admin_password">
<code class="sig-name descname"><span class="pre">rgw_keystone_admin_password</span></code><a class="headerlink" href="#confval-rgw_keystone_admin_password" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>使用 v2 版本的 OpenStack Identity API 时， 在这里配置 OpenStack 管理用户的密码。 应该去配置
<code class="docutils literal notranslate"><span class="pre">rgw_keystone_admin_password_path</span></code> 而非这个选项，以免暴露令牌。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_admin_password_path">
<code class="sig-name descname"><span class="pre">rgw_keystone_admin_password_path</span></code><a class="headerlink" href="#confval-rgw_keystone_admin_password_path" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Path to a file containing the password for OpenStack admin user when
using OpenStack Identity API v2.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_accepted_roles">
<code class="sig-name descname"><span class="pre">rgw_keystone_accepted_roles</span></code><a class="headerlink" href="#confval-rgw_keystone_accepted_roles" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>要响应请求所需的角色。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">Member,</span> <span class="pre">admin</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_token_cache_size">
<code class="sig-name descname"><span class="pre">rgw_keystone_token_cache_size</span></code><a class="headerlink" href="#confval-rgw_keystone_token_cache_size" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>各 Keystone 令牌缓存的最大条数。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">10000</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_verify_ssl">
<code class="sig-name descname"><span class="pre">rgw_keystone_verify_ssl</span></code><a class="headerlink" href="#confval-rgw_keystone_verify_ssl" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>向 keystone 发出令牌请求时要核对 SSL 证书。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="id5">
<h2>服务端加密选项<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<dl class="std confval">
<dt id="confval-rgw_crypt_s3_kms_backend">
<code class="sig-name descname"><span class="pre">rgw_crypt_s3_kms_backend</span></code><a class="headerlink" href="#confval-rgw_crypt_s3_kms_backend" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Where the SSE-KMS encryption keys are stored. Supported KMS systems
are OpenStack Barbican (<code class="docutils literal notranslate"><span class="pre">barbican</span></code>, the default) and HashiCorp Vault
(<code class="docutils literal notranslate"><span class="pre">vault</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">barbican</span></code></p>
</dd>
<dt class="field-odd">valid choices</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">barbican</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vault</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">testing</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kmip</span></code></p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="barbican">
<h2>Barbican 选项<a class="headerlink" href="#barbican" title="Permalink to this headline">¶</a></h2>
<dl class="std confval">
<dt id="confval-rgw_barbican_url">
<code class="sig-name descname"><span class="pre">rgw_barbican_url</span></code><a class="headerlink" href="#confval-rgw_barbican_url" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>访问 Barbican 服务器的 URL 。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_barbican_user">
<code class="sig-name descname"><span class="pre">rgw_keystone_barbican_user</span></code><a class="headerlink" href="#confval-rgw_keystone_barbican_user" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>有权访问 <a class="reference external" href="../barbican">Barbican</a> 内<a class="reference external" href="../encryption">加密</a>密钥的 OpenStack 用户名。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_barbican_password">
<code class="sig-name descname"><span class="pre">rgw_keystone_barbican_password</span></code><a class="headerlink" href="#confval-rgw_keystone_barbican_password" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>与 <a class="reference external" href="../barbican">Barbican</a> 用户关联的密码。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_barbican_tenant">
<code class="sig-name descname"><span class="pre">rgw_keystone_barbican_tenant</span></code><a class="headerlink" href="#confval-rgw_keystone_barbican_tenant" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>使用 OpenStack Identity API v2 时， 在这里配置与 <a class="reference external" href="../barbican">Barbican</a> 用户相关联的 OpenStack
租户名字。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_barbican_project">
<code class="sig-name descname"><span class="pre">rgw_keystone_barbican_project</span></code><a class="headerlink" href="#confval-rgw_keystone_barbican_project" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>使用 OpenStack Identity API v3 时， 在这里配置与 <a class="reference external" href="../barbican">Barbican</a> 用户相关联的 OpenStack
项目名字。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_keystone_barbican_domain">
<code class="sig-name descname"><span class="pre">rgw_keystone_barbican_domain</span></code><a class="headerlink" href="#confval-rgw_keystone_barbican_domain" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>使用 OpenStack Identity API v3 时， 在这里配置与 <a class="reference external" href="../barbican">Barbican</a> 用户相关联的 OpenStack
域名。</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="hashicorp-vault">
<h2>HashiCorp Vault 选项<a class="headerlink" href="#hashicorp-vault" title="Permalink to this headline">¶</a></h2>
<dl class="std confval">
<dt id="confval-rgw_crypt_vault_auth">
<code class="sig-name descname"><span class="pre">rgw_crypt_vault_auth</span></code><a class="headerlink" href="#confval-rgw_crypt_vault_auth" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Type of authentication method to be used. The only method currently
supported is <code class="docutils literal notranslate"><span class="pre">token</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">token</span></code></p>
</dd>
<dt class="field-odd">valid choices</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">token</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">agent</span></code></p></li>
</ul>
</dd>
<dt class="field-even">see also</dt>
<dd class="field-even"><p><a class="reference internal" href="#confval-rgw_crypt_s3_kms_backend"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_s3_kms_backend</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_addr"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_addr</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_token_file"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_token_file</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_crypt_vault_token_file">
<code class="sig-name descname"><span class="pre">rgw_crypt_vault_token_file</span></code><a class="headerlink" href="#confval-rgw_crypt_vault_token_file" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>If authentication method is ‘token’, provide a path to the token file,
which for security reasons should readable only by Rados Gateway.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">see also</dt>
<dd class="field-even"><p><a class="reference internal" href="#confval-rgw_crypt_s3_kms_backend"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_s3_kms_backend</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_auth"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_auth</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_addr"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_addr</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_crypt_vault_addr">
<code class="sig-name descname"><span class="pre">rgw_crypt_vault_addr</span></code><a class="headerlink" href="#confval-rgw_crypt_vault_addr" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Vault server base address, e.g. <code class="docutils literal notranslate"><span class="pre">http://vaultserver:8200</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">see also</dt>
<dd class="field-even"><p><a class="reference internal" href="#confval-rgw_crypt_s3_kms_backend"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_s3_kms_backend</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_auth"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_auth</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_prefix"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_prefix</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_crypt_vault_prefix">
<code class="sig-name descname"><span class="pre">rgw_crypt_vault_prefix</span></code><a class="headerlink" href="#confval-rgw_crypt_vault_prefix" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>The Vault secret URL prefix, which can be used to restrict access to a
particular subset of the secret space, e.g. <code class="docutils literal notranslate"><span class="pre">/v1/secret/data</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">see also</dt>
<dd class="field-even"><p><a class="reference internal" href="#confval-rgw_crypt_s3_kms_backend"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_s3_kms_backend</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_addr"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_addr</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_auth"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_auth</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_crypt_vault_secret_engine">
<code class="sig-name descname"><span class="pre">rgw_crypt_vault_secret_engine</span></code><a class="headerlink" href="#confval-rgw_crypt_vault_secret_engine" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Vault Secret Engine to be used to retrieve encryption keys: choose
between kv-v2, transit.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">transit</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_crypt_s3_kms_backend"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_s3_kms_backend</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_auth"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_auth</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_addr"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_addr</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_crypt_vault_namespace">
<code class="sig-name descname"><span class="pre">rgw_crypt_vault_namespace</span></code><a class="headerlink" href="#confval-rgw_crypt_vault_namespace" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>If set, Vault Namespace provides tenant isolation for teams and
individuals on the same Vault Enterprise instance, e.g.
<code class="docutils literal notranslate"><span class="pre">acme/tenant1</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">see also</dt>
<dd class="field-even"><p><a class="reference internal" href="#confval-rgw_crypt_s3_kms_backend"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_s3_kms_backend</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_auth"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_auth</span></code></a>, <a class="reference internal" href="#confval-rgw_crypt_vault_addr"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_crypt_vault_addr</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<div class="section" id="qos">
<h3>QoS 选项<a class="headerlink" href="#qos" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version Nautilus.</span></p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">civetweb</span></code> frontend has a threading model that uses a thread per
connection and hence automatically throttled by <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">thread</span> <span class="pre">pool</span> <span class="pre">size</span></code>
configurable when it comes to accepting connections. The <code class="docutils literal notranslate"><span class="pre">beast</span></code> frontend is
not restricted by the thread pool size when it comes to accepting new
connections, so a scheduler abstraction is introduced in Nautilus release which
for supporting ways for scheduling requests in the future.</p>
<p>Currently the scheduler defaults to a throttler which throttles the active
connections to a configured limit. QoS based on mClock is currently in an
<em>experimental</em> phase and not recommended for production yet. Current
implementation of <em>dmclock_client</em> op queue divides RGW Ops on admin, auth
(swift auth, sts) metadata &amp; data requests.</p>
<dl class="std confval">
<dt id="confval-rgw_max_concurrent_requests">
<code class="sig-name descname"><span class="pre">rgw_max_concurrent_requests</span></code><a class="headerlink" href="#confval-rgw_max_concurrent_requests" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Maximum number of concurrent HTTP requests that the beast frontend
will process. Tuning this can help to limit memory usage under heavy
load.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1024</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_frontends"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_frontends</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_scheduler_type">
<code class="sig-name descname"><span class="pre">rgw_scheduler_type</span></code><a class="headerlink" href="#confval-rgw_scheduler_type" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>The RGW scheduler to use. Valid values are <code class="docutils literal notranslate"><span class="pre">throttler`</span> <span class="pre">and</span>
<span class="pre">``dmclock</span></code>. Currently defaults to <code class="docutils literal notranslate"><span class="pre">throttler</span></code> which throttles Beast
frontend requests. <code class="docutils literal notranslate"><span class="pre">dmclock`</span> <span class="pre">is</span> <span class="pre">*experimental*</span> <span class="pre">and</span> <span class="pre">requires</span> <span class="pre">the</span>
<span class="pre">``dmclock</span></code> to be included in the <code class="docutils literal notranslate"><span class="pre">experimental_feature_enabled</span></code>
configuration option.</p>
<p>The options below tune the experimental dmclock scheduler. For
additional reading on dmclock, see <a class="reference internal" href="../../rados/configuration/osd-config-ref/#dmclock-qos"><span class="std std-ref">基于 mClock 的 QoS</span></a>. <cite>op_class</cite> for
the flags below is
one of <code class="docutils literal notranslate"><span class="pre">admin</span></code>, <code class="docutils literal notranslate"><span class="pre">auth</span></code>, <code class="docutils literal notranslate"><span class="pre">metadata</span></code>, or <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">throttler</span></code></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_auth_res">
<code class="sig-name descname"><span class="pre">rgw_dmclock_auth_res</span></code><a class="headerlink" href="#confval-rgw_dmclock_auth_res" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock reservation for object data requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">200.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_auth_wgt"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_auth_wgt</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_auth_lim"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_auth_lim</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_auth_wgt">
<code class="sig-name descname"><span class="pre">rgw_dmclock_auth_wgt</span></code><a class="headerlink" href="#confval-rgw_dmclock_auth_wgt" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock weight for object data requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">100.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_auth_res"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_auth_res</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_auth_lim"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_auth_lim</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_auth_lim">
<code class="sig-name descname"><span class="pre">rgw_dmclock_auth_lim</span></code><a class="headerlink" href="#confval-rgw_dmclock_auth_lim" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock limit for object data requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_auth_res"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_auth_res</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_auth_wgt"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_auth_wgt</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_admin_res">
<code class="sig-name descname"><span class="pre">rgw_dmclock_admin_res</span></code><a class="headerlink" href="#confval-rgw_dmclock_admin_res" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock reservation for admin requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">100.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_admin_wgt"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_admin_wgt</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_admin_lim"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_admin_lim</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_admin_wgt">
<code class="sig-name descname"><span class="pre">rgw_dmclock_admin_wgt</span></code><a class="headerlink" href="#confval-rgw_dmclock_admin_wgt" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock weight for admin requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">100.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_admin_res"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_admin_res</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_admin_lim"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_admin_lim</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_admin_lim">
<code class="sig-name descname"><span class="pre">rgw_dmclock_admin_lim</span></code><a class="headerlink" href="#confval-rgw_dmclock_admin_lim" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock limit for admin requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_admin_res"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_admin_res</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_admin_wgt"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_admin_wgt</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_data_res">
<code class="sig-name descname"><span class="pre">rgw_dmclock_data_res</span></code><a class="headerlink" href="#confval-rgw_dmclock_data_res" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock reservation for object data requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">500.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_data_wgt"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_data_wgt</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_data_lim"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_data_lim</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_data_wgt">
<code class="sig-name descname"><span class="pre">rgw_dmclock_data_wgt</span></code><a class="headerlink" href="#confval-rgw_dmclock_data_wgt" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock weight for object data requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">500.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_data_res"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_data_res</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_data_lim"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_data_lim</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_data_lim">
<code class="sig-name descname"><span class="pre">rgw_dmclock_data_lim</span></code><a class="headerlink" href="#confval-rgw_dmclock_data_lim" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock limit for object data requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_data_res"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_data_res</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_data_wgt"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_data_wgt</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_metadata_res">
<code class="sig-name descname"><span class="pre">rgw_dmclock_metadata_res</span></code><a class="headerlink" href="#confval-rgw_dmclock_metadata_res" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock reservation for metadata requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">500.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_metadata_wgt"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_metadata_wgt</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_metadata_lim"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_metadata_lim</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_metadata_wgt">
<code class="sig-name descname"><span class="pre">rgw_dmclock_metadata_wgt</span></code><a class="headerlink" href="#confval-rgw_dmclock_metadata_wgt" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock weight for metadata requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">500.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_metadata_res"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_metadata_res</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_metadata_lim"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_metadata_lim</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt id="confval-rgw_dmclock_metadata_lim">
<code class="sig-name descname"><span class="pre">rgw_dmclock_metadata_lim</span></code><a class="headerlink" href="#confval-rgw_dmclock_metadata_lim" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>mclock limit for metadata requests</p>
<dl class="field-list simple">
<dt class="field-odd">type</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p>
</dd>
<dt class="field-even">default</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd>
<dt class="field-odd">see also</dt>
<dd class="field-odd"><p><a class="reference internal" href="#confval-rgw_dmclock_metadata_res"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_metadata_res</span></code></a>, <a class="reference internal" href="#confval-rgw_dmclock_metadata_wgt"><code class="xref std std-confval docutils literal notranslate"><span class="pre">rgw_dmclock_metadata_wgt</span></code></a></p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
</div>
</div>



           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../admin/" class="btn btn-neutral float-right" title="管理指南" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../pools/" class="btn btn-neutral float-left" title="存储池" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>