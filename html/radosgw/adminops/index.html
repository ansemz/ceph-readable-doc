
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>管理操作 &#8212; Ceph Documentation</title>
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="librgw (Python)" href="../api/" />
    <link rel="prev" title="Ruby Swift Examples" href="../swift/ruby/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../api/" title="librgw (Python)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../swift/ruby/" title="Ruby Swift Examples"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" accesskey="U">Ceph 对象网关</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            

<div id="dev-warning" class="admonition note" style="display:none;">
  <p class="first admonition-title">Notice</p>
  <p class="last">This document is for a development version of Ceph.</p>
</div>

<div id="eol-warning" class="admonition warning" style="display:none;">
  <p class="first admonition-title">Warning</p>
  <p class="last">This document is for an unsupported version of Ceph.</p>
</div>
  <div id="docubetter" align="right" style="display:none; padding: 15px; font-weight: bold;">
    <a id="edit-on-github" href="https://github.com/ceph/ceph/edit/master/doc/radosgw/adminops.rst" rel="nofollow">Edit on GitHub</a> | <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <div class="section" id="id1">
<h1>管理操作<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>An admin API request will be done on a URI that starts with the configurable ‘admin’
resource entry point. Authorization for the admin API duplicates the S3 authorization
mechanism. Some operations require that the user holds special administrative capabilities.
The response entity type (XML or JSON) may be specified as the ‘format’ option in the
request and defaults to JSON if not specified.</p>
<div class="section" id="get-usage">
<span id="id2"></span><h2>查看使用率<a class="headerlink" href="#get-usage" title="Permalink to this headline">¶</a></h2>
<p>请求带宽利用率信息。</p>
<p>注意：此功能默认是禁用的，可以在 ceph.conf 里的适当段落加上
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">enable</span> <span class="pre">usage</span> <span class="pre">log</span> <span class="pre">=</span> <span class="pre">true</span></code> 来启用，更改配置后需重启
radosgw 进程才能生效。</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>usage=read</p>
</dd>
</dl>
<div class="section" id="id3">
<h3>语法<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>GET /{admin}/usage?format=json HTTP/1.1
Host: {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>请求参数<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user for which the information is requested. If not specified will apply to all users.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">start</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Date and (optional) time that specifies the start time of the requested data.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">2012-09-25</span> <span class="pre">16:00:00</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">end</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Date and (optional) time that specifies the end time of the requested data (non-inclusive).</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">2012-09-25</span> <span class="pre">16:00:00</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">show-entries</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>指示是否返回数据条目。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [True]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">show-summary</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>指示是否返回数据汇总信息。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [True]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id5">
<h3>响应内容解析<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>如果成功，响应会包含请求的信息。</p>
<p><code class="docutils literal notranslate"><span class="pre">usage</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>A container for the usage information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">entries</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>A container for the usage entries information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>A container for the user data information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">owner</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The name of the user that owns the buckets.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The bucket name.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">time</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Time lower bound for which data is being specified (rounded to the beginning of the first relevant hour).</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">epoch</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The time specified in seconds since 1/1/1970.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">categories</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>A container for stats categories.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">entry</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>A container for stats entry.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">category</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Name of request category for which the stats are provided.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">bytes_sent</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Number of bytes sent by the RADOS Gateway.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">bytes_received</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Number of bytes received by the RADOS Gateway.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">ops</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Number of operations.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">successful_ops</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Number of successful operations.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">summary</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>A container for stats summary.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">total</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>A container for stats summary aggregated total.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
</div>
<div class="section" id="id6">
<h3>特殊错误响应<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>TBD.</p>
</div>
</div>
<div class="section" id="id7">
<h2>裁剪使用率日志<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>删除使用率信息。若未指定日期，会删除所有使用率信息。</p>
<p>注意：此功能默认是禁用的，可以在 ceph.conf 里的适当段落加上
<code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">enable</span> <span class="pre">usage</span> <span class="pre">log</span> <span class="pre">=</span> <span class="pre">true</span></code> 来启用，更改配置后需重启
radosgw 进程才能生效。</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>usage=write</p>
</dd>
</dl>
<div class="section" id="id8">
<h3>语法<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DELETE /{admin}/usage?format=json HTTP/1.1
Host: {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3>请求参数<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user for which the information is requested. If not specified will apply to all users.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">start</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Date and (optional) time that specifies the start time of the requested data.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">2012-09-25</span> <span class="pre">16:00:00</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">end</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Date and (optional) time that specifies the end time of the requested data (none inclusive).</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">2012-09-25</span> <span class="pre">16:00:00</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">remove-all</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>是否必需 when uid is not specified, in order to acknowledge multi user data removal.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [False]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id10">
<h3>特殊错误响应<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>TBD.</p>
</div>
</div>
<div class="section" id="id11">
<h2>查看用户信息<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<p>查看用户信息。</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>users=read</p>
</dd>
</dl>
<div class="section" id="id12">
<h3>语法<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>GET /{admin}/user?format=json HTTP/1.1
Host: {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="request-parameters">
<h3>Request Parameters<a class="headerlink" href="#request-parameters" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user for which the information is requested.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
</div>
<div class="section" id="id13">
<h3>响应内容解析<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>如果成功了，这个响应会包含此用户的信息。</p>
<p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>用户数据信息的一个容器。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">user_id</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>此用户的标识符。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">display_name</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>用户对外显示的名字。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">suspended</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>如果此用户被暂停，其值为 True 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">max_buckets</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The maximum number of buckets to be owned by the user.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">subusers</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Subusers associated with this user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">keys</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>S3 keys associated with this user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">swift_keys</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Swift keys associated with this user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">caps</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>User capabilities.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id14">
<h3>特殊错误响应<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
</div>
<div class="section" id="id15">
<h2>创建用户<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<p>新建一个用户。默认情况下，会自动创建一个 S3 密钥对、并在响应时返回。如果只提供了一个 <code class="docutils literal notranslate"><span class="pre">access-key</span></code> 或 <code class="docutils literal notranslate"><span class="pre">secret-key</span></code> ，缺失的那个密钥会自动生成。默认情况下，生成的密钥会加进密钥环，而非替换已有的密钥对；如果指定了 <code class="docutils literal notranslate"><span class="pre">access-key</span></code> 且引用的是此用户已有的密钥，此时会修改这个密钥。</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version Luminous.</span></p>
</div>
<p>指定租户 <code class="docutils literal notranslate"><span class="pre">tenant</span></code> 时，可以作为 uid 的一部分、或单独的请求参数。</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>users=write</p>
</dd>
</dl>
<div class="section" id="id16">
<h3>语法<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PUT /{admin}/user?format=json HTTP/1.1
Host: {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id17">
<h3>请求参数<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user ID to be created.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code> 可以带上租户名，遵守 <code class="docutils literal notranslate"><span class="pre">tenant$user</span></code> 语法就行，详情请参考<a class="reference internal" href="../multitenancy/#rgw-multitenancy"><span class="std std-ref">多租户</span></a>。</p>
<p><code class="docutils literal notranslate"><span class="pre">display-name</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The display name of the user to be created.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo</span> <span class="pre">user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">email</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The email address associated with the user.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo&#64;bar.com</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">key-type</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Key type to be generated, options are: swift, s3 (default).</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">s3</span></code> [<code class="docutils literal notranslate"><span class="pre">s3</span></code>]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">access-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specify access key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">ABCD0EF12GHIJ2K34LMN</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">secret-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specify secret key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0AbCDEFg1h2i34JklM5nop6QrSTUV+WxyzaBC7D8</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">user-caps</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>User capabilities.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">usage=read,</span> <span class="pre">write;</span> <span class="pre">users=read</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">generate-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Generate a new key pair and add to the existing keyring.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [True]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">max-buckets</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specify the maximum number of buckets the user can own.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>500 [1000]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">suspended</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specify whether the user should be suspended.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>False [False]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version Jewel.</span></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">tenant</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>用户所属的租户。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>string</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>tenant1</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="response-entities">
<h3>Response Entities<a class="headerlink" href="#response-entities" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the user information.</p>
<p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>A container for the user data information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">tenant</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>用户所属的租户。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">user_id</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user id.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">display_name</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Display name for the user.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">suspended</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>True if the user is suspended.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">max_buckets</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The maximum number of buckets to be owned by the user.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">subusers</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Subusers associated with this user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">keys</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>S3 keys associated with this user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">swift_keys</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Swift keys associated with this user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">caps</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>User capabilities.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id18">
<h3>特殊错误响应<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">UserExists</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Attempt to create existing user.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidAccessKey</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid access key specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidKey类型</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid key type specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidSecretKey</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid secret key specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidKey类型</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid key type specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">KeyExists</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Provided access key exists and belongs to another user.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">EmailExists</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Provided email address exists.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidCapability</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Attempt to grant invalid admin capability.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="modify-user">
<span id="id19"></span><h2>修改用户信息<a class="headerlink" href="#modify-user" title="Permalink to this headline">¶</a></h2>
<p>Modify a user.</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>users=write</p>
</dd>
</dl>
<div class="section" id="id20">
<h3>语法<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>POST /{admin}/user?format=json HTTP/1.1
Host: {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id21">
<h3>Request Parameters<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user ID to be modified.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">display-name</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The display name of the user to be modified.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo</span> <span class="pre">user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">email</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The email address to be associated with the user.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo&#64;bar.com</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">generate-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Generate a new key pair and add to the existing keyring.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [False]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">access-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specify access key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">ABCD0EF12GHIJ2K34LMN</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">secret-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specify secret key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0AbCDEFg1h2i34JklM5nop6QrSTUV+WxyzaBC7D8</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">key-type</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Key type to be generated, options are: swift, s3 (default).</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">s3</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">user-caps</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>User capabilities.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">usage=read,</span> <span class="pre">write;</span> <span class="pre">users=read</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">max-buckets</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specify the maximum number of buckets the user can own.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>500 [1000]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">suspended</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specify whether the user should be suspended.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>False [False]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id22">
<h3>Response Entities<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the user information.</p>
<p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>A container for the user data information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">user_id</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user id.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">display_name</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Display name for the user.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">suspended</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>True if the user is suspended.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">max_buckets</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The maximum number of buckets to be owned by the user.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">subusers</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Subusers associated with this user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">keys</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>S3 keys associated with this user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">swift_keys</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Swift keys associated with this user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">caps</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>User capabilities.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id23">
<h3>特殊错误响应<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">InvalidAccessKey</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid access key specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidKey类型</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid key type specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidSecretKey</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid secret key specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">KeyExists</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Provided access key exists and belongs to another user.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">EmailExists</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Provided email address exists.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidCapability</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Attempt to grant invalid admin capability.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="remove-user">
<span id="id24"></span><h2>删除用户<a class="headerlink" href="#remove-user" title="Permalink to this headline">¶</a></h2>
<p>Remove an existing user.</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>users=write</p>
</dd>
</dl>
<div class="section" id="id25">
<h3>语法<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DELETE /{admin}/user?format=json HTTP/1.1
Host: {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id26">
<h3>Request Parameters<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user ID to be removed.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes.</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">purge-data</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>When specified the buckets and objects belonging
to the user will also be removed.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id27">
<h3>Response Entities<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<p>None</p>
</div>
<div class="section" id="id28">
<h3>特殊错误响应<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
</div>
<div class="section" id="create-subuser">
<span id="id29"></span><h2>创建子用户<a class="headerlink" href="#create-subuser" title="Permalink to this headline">¶</a></h2>
<p>新建一个子用户（使用 Swift API 的客户端需要）。提醒一下，要创建可正常使用的子用户，必须用 <code class="docutils literal notranslate"><span class="pre">access</span></code> 授予权限；创建子用户时，如果没给 <code class="docutils literal notranslate"><span class="pre">subuser</span></code> 指定密钥 <code class="docutils literal notranslate"><span class="pre">secret</span></code> ，会自动生成一个。</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>users=write</p>
</dd>
</dl>
<div class="section" id="id30">
<h3>语法<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PUT /{admin}/user?subuser&amp;format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id31">
<h3>Request Parameters<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user ID under which a subuser is to  be created.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">subuser</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>指定要创建的子用户 ID 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">sub_foo</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">secret-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>指定密钥。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0AbCDEFg1h2i34JklM5nop6QrSTUV+WxyzaBC7D8</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">key-type</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Key type to be generated, options are: swift (default), s3.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">swift</span></code> [<code class="docutils literal notranslate"><span class="pre">swift</span></code>]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">access</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Set access permissions for sub-user, should be one
of <code class="docutils literal notranslate"><span class="pre">read,</span> <span class="pre">write,</span> <span class="pre">readwrite,</span> <span class="pre">full</span></code>.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">read</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">generate-secret</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Generate the secret key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [False]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id32">
<h3>Response Entities<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the subuser information.</p>
<p><code class="docutils literal notranslate"><span class="pre">subusers</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Subusers associated with the user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Subuser id.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">subusers</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">permissions</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Subuser access to user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">subusers</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id33">
<h3>特殊错误响应<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">SubuserExists</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specified subuser exists.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidKey类型</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid key type specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidSecretKey</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid secret key specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidAccess</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid subuser access specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="modify-subuser">
<span id="id34"></span><h2>修改子用户信息<a class="headerlink" href="#modify-subuser" title="Permalink to this headline">¶</a></h2>
<p>Modify an existing subuser</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>users=write</p>
</dd>
</dl>
<div class="section" id="id35">
<h3>语法<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>POST /{admin}/user?subuser&amp;format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id36">
<h3>Request Parameters<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user ID under which the subuser is to be modified.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">subuser</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The subuser ID to be modified.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">sub_foo</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">generate-secret</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Generate a new secret key for the subuser,
replacing the existing key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [False]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">secret</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specify secret key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0AbCDEFg1h2i34JklM5nop6QrSTUV+WxyzaBC7D8</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">key-type</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Key type to be generated, options are: swift (default), s3 .</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">swift</span></code> [<code class="docutils literal notranslate"><span class="pre">swift</span></code>]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">access</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Set access permissions for sub-user, should be one
of <code class="docutils literal notranslate"><span class="pre">read,</span> <span class="pre">write,</span> <span class="pre">readwrite,</span> <span class="pre">full</span></code>.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">read</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id37">
<h3>Response Entities<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the subuser information.</p>
<p><code class="docutils literal notranslate"><span class="pre">subusers</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Subusers associated with the user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Subuser id.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">subusers</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">permissions</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Subuser access to user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">subusers</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id38">
<h3>特殊错误响应<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">InvalidKey类型</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid key type specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidSecretKey</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid secret key specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidAccess</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid subuser access specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="remove-subuser">
<span id="id39"></span><h2>删除子用户<a class="headerlink" href="#remove-subuser" title="Permalink to this headline">¶</a></h2>
<p>Remove an existing subuser</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>users=write</p>
</dd>
</dl>
<div class="section" id="id40">
<h3>语法<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DELETE /{admin}/user?subuser&amp;format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id41">
<h3>Request Parameters<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user ID under which the subuser is to be removed.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">subuser</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The subuser ID to be removed.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">sub_foo</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">purge-keys</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Remove keys belonging to the subuser.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [True]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id42">
<h3>Response Entities<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
<div class="section" id="id43">
<h3>特殊错误响应<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
</div>
<div class="section" id="create-key">
<span id="id44"></span><h2>创建密钥<a class="headerlink" href="#create-key" title="Permalink to this headline">¶</a></h2>
<p>Create a new key. If a <code class="docutils literal notranslate"><span class="pre">subuser</span></code> is specified then by default created keys
will be swift type. If only one of <code class="docutils literal notranslate"><span class="pre">access-key</span></code> or <code class="docutils literal notranslate"><span class="pre">secret-key</span></code> is provided the
committed key will be automatically generated, that is if only <code class="docutils literal notranslate"><span class="pre">secret-key</span></code> is
specified then <code class="docutils literal notranslate"><span class="pre">access-key</span></code> will be automatically generated. By default, a
generated key is added to the keyring without replacing an existing key pair.
If <code class="docutils literal notranslate"><span class="pre">access-key</span></code> is specified and refers to an existing key owned by the user
then it will be modified. The response is a container listing all keys of the same
type as the key created. Note that when creating a swift key, specifying the option
<code class="docutils literal notranslate"><span class="pre">access-key</span></code> will have no effect. Additionally, only one swift key may be held by
each user or subuser.</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>users=write</p>
</dd>
</dl>
<div class="section" id="id45">
<h3>语法<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PUT /{admin}/user?key&amp;format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id46">
<h3>Request Parameters<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user ID to receive the new key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">subuser</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The subuser ID to receive the new key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">sub_foo</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">key-type</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Key type to be generated, options are: swift, s3 (default).</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">s3</span></code> [<code class="docutils literal notranslate"><span class="pre">s3</span></code>]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">access-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specify the access key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">AB01C2D3EF45G6H7IJ8K</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">secret-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specify the secret key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0ab/CdeFGhij1klmnopqRSTUv1WxyZabcDEFgHij</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">generate-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Generate a new key pair and add to the existing keyring.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [<code class="docutils literal notranslate"><span class="pre">True</span></code>]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id47">
<h3>Response Entities<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">keys</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Keys of type created associated with this user account.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user account associated with the key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">keys</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">access-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The access key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">keys</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">secret-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The secret key</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">keys</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id48">
<h3>特殊错误响应<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">InvalidAccessKey</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid access key specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidKey类型</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid key type specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidSecretKey</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid secret key specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InvalidKey类型</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Invalid key type specified.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">KeyExists</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Provided access key exists and belongs to another user.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="remove-key">
<span id="id49"></span><h2>删除密钥<a class="headerlink" href="#remove-key" title="Permalink to this headline">¶</a></h2>
<p>Remove an existing key.</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>users=write</p>
</dd>
</dl>
<div class="section" id="id50">
<h3>语法<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DELETE /{admin}/user?key&amp;format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id51">
<h3>Request Parameters<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">access-key</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The S3 access key belonging to the S3 key pair to remove.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">AB01C2D3EF45G6H7IJ8K</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user to remove the key from.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">subuser</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The subuser to remove the key from.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">sub_foo</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">key-type</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Key type to be removed, options are: swift, s3.
NOTE: 是否必需 to remove swift key.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">swift</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id52">
<h3>特殊错误响应<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
<div class="section" id="id53">
<h3>Response Entities<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
</div>
<div class="section" id="id54">
<h2>查看桶信息<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h2>
<p>获取一部分已有桶的相关信息。如果指定了 <code class="docutils literal notranslate"><span class="pre">uid</span></code> 却没有
<code class="docutils literal notranslate"><span class="pre">bucket</span></code> ，就会得到属于此用户的所有桶；如果还指定了
<code class="docutils literal notranslate"><span class="pre">bucket</span></code> ，就只去检索那一个桶的信息。</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>buckets=read</p>
</dd>
</dl>
<div class="section" id="id55">
<h3>语法<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>GET /{admin}/bucket?format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id56">
<h3>Request Parameters<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The bucket to return info on.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_bucket</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user to retrieve bucket information for.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">stats</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Return bucket statistics.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [False]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id57">
<h3>Response Entities<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h3>
<p>If successful the request returns a buckets container containing
the desired bucket information.</p>
<p><code class="docutils literal notranslate"><span class="pre">stats</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Per bucket information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">buckets</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Contains a list of one or more bucket containers.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Container for single bucket information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">buckets</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The name of the bucket.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">pool</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The pool the bucket is stored in.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The unique bucket id.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">marker</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Internal bucket tag.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">owner</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user id of the bucket owner.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">usage</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Storage usage information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">index</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Status of bucket index.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id58">
<h3>特殊错误响应<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">IndexRepairFailed</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Bucket index repair failed.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="check-bucket-index">
<span id="id59"></span><h2>检查桶索引<a class="headerlink" href="#check-bucket-index" title="Permalink to this headline">¶</a></h2>
<p>Check the index of an existing bucket. NOTE: to check multipart object
accounting with <code class="docutils literal notranslate"><span class="pre">check-objects</span></code>, <code class="docutils literal notranslate"><span class="pre">fix</span></code> must be set to True.</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>buckets=write</p>
</dd>
</dl>
<div class="section" id="id60">
<h3>语法<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>GET /{admin}/bucket?index&amp;format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id61">
<h3>Request Parameters<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The bucket to return info on.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_bucket</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">check-objects</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Check multipart object accounting.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [False]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">fix</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Also fix the bucket index when checking.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>False [False]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id62">
<h3>Response Entities<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">index</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Status of bucket index.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
</dl>
</div>
<div class="section" id="id63">
<h3>特殊错误响应<a class="headerlink" href="#id63" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">IndexRepairFailed</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Bucket index repair failed.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="remove-bucket">
<span id="id64"></span><h2>删除桶<a class="headerlink" href="#remove-bucket" title="Permalink to this headline">¶</a></h2>
<p>Delete an existing bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>buckets=write</p>
</dd>
</dl>
<div class="section" id="id65">
<h3>语法<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DELETE /{admin}/bucket?format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id66">
<h3>Request Parameters<a class="headerlink" href="#id66" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The bucket to remove.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_bucket</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">purge-objects</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Remove a buckets objects before deletion.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p>True [False]</p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id67">
<h3>Response Entities<a class="headerlink" href="#id67" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
<div class="section" id="id68">
<h3>特殊错误响应<a class="headerlink" href="#id68" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">BucketNotEmpty</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Attempted to delete non-empty bucket.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">ObjectRemovalFailed</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Unable to remove objects.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="unlink-bucket">
<span id="id69"></span><h2>解绑桶<a class="headerlink" href="#unlink-bucket" title="Permalink to this headline">¶</a></h2>
<p>解绑桶和用户，主要用于更改桶的所有者。</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>buckets=write</p>
</dd>
</dl>
<div class="section" id="id70">
<h3>语法<a class="headerlink" href="#id70" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>POST /{admin}/bucket?format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id71">
<h3>Request Parameters<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The bucket to unlink.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_bucket</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user ID to unlink the bucket from.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
</div>
<div class="section" id="id72">
<h3>Response Entities<a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
<div class="section" id="id73">
<h3>特殊错误响应<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">BucketUnlinkFailed</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Unable to unlink bucket from specified user.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="link-bucket">
<span id="id74"></span><h2>链接桶<a class="headerlink" href="#link-bucket" title="Permalink to this headline">¶</a></h2>
<p>把桶链接到指定用户，同时断开与之前用户的链接。</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>buckets=write</p>
</dd>
</dl>
<div class="section" id="id75">
<h3>语法<a class="headerlink" href="#id75" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PUT /{admin}/bucket?format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id76">
<h3>请求参数<a class="headerlink" href="#id76" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>要切断链接的桶。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_bucket</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">bucket-id</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>要切断链接的桶 id 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">示例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">dev.6607669.420</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>用户的 ID ，桶会被链接到此用户。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
</div>
<div class="section" id="id77">
<h3>Response Entities<a class="headerlink" href="#id77" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Container for single bucket information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The name of the bucket.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">pool</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The pool the bucket is stored in.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The unique bucket id.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">marker</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Internal bucket tag.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">owner</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user id of the bucket owner.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">usage</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Storage usage information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">index</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Status of bucket index.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id78">
<h3>特殊错误响应<a class="headerlink" href="#id78" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">BucketUnlinkFailed</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Unable to unlink bucket from specified user.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">BucketLinkFailed</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Unable to link bucket to specified user.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="remove-object">
<span id="id79"></span><h2>删除对象<a class="headerlink" href="#remove-object" title="Permalink to this headline">¶</a></h2>
<p>Remove an existing object. NOTE: Does not require owner to be non-suspended.</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>buckets=write</p>
</dd>
</dl>
<div class="section" id="id80">
<h3>语法<a class="headerlink" href="#id80" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DELETE /{admin}/bucket?object&amp;format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id81">
<h3>Request Parameters<a class="headerlink" href="#id81" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The bucket containing the object to be removed.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_bucket</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The object to remove.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo.txt</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
</div>
<div class="section" id="id82">
<h3>Response Entities<a class="headerlink" href="#id82" title="Permalink to this headline">¶</a></h3>
<p>None.</p>
</div>
<div class="section" id="id83">
<h3>特殊错误响应<a class="headerlink" href="#id83" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">NoSuchObject</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Specified object does not exist.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>404 Not Found</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">ObjectRemovalFailed</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Unable to remove objects.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>409 Conflict</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="get-bucket-or-object-policy">
<span id="id84"></span><h2>查看桶或对象的策略<a class="headerlink" href="#get-bucket-or-object-policy" title="Permalink to this headline">¶</a></h2>
<p>Read the policy of an object or bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>buckets=read</p>
</dd>
</dl>
<div class="section" id="id85">
<h3>语法<a class="headerlink" href="#id85" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>GET /{admin}/bucket?policy&amp;format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id86">
<h3>Request Parameters<a class="headerlink" href="#id86" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">bucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The bucket to read the policy from.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_bucket</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The object to read the policy from.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo.txt</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>No</p>
</dd>
</dl>
</div>
<div class="section" id="id87">
<h3>Response Entities<a class="headerlink" href="#id87" title="Permalink to this headline">¶</a></h3>
<p>If successful, returns the object or bucket policy</p>
<p><code class="docutils literal notranslate"><span class="pre">policy</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Access control policy.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
</dl>
</div>
<div class="section" id="id88">
<h3>特殊错误响应<a class="headerlink" href="#id88" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">IncompleteBody</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Either bucket was not specified for a bucket policy request or bucket
and object were not specified for an object policy request.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="add-a-user-capability">
<span id="id89"></span><h2>增加用户能力<a class="headerlink" href="#add-a-user-capability" title="Permalink to this headline">¶</a></h2>
<p>给指定用户增加管理能力。</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>users=write</p>
</dd>
</dl>
<div class="section" id="id90">
<h3>语法<a class="headerlink" href="#id90" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PUT /{admin}/user?caps&amp;format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id91">
<h3>请求参数<a class="headerlink" href="#id91" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>要给增加管理能力的用户 ID 。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">user-caps</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>给用户增加的管理能力。</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">usage=read,write;user=write</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
</div>
<div class="section" id="id92">
<h3>Response Entities<a class="headerlink" href="#id92" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the user’s capabilities.</p>
<p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>A container for the user data information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">user_id</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user id.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">caps</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>User capabilities.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id93">
<h3>特殊错误响应<a class="headerlink" href="#id93" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">InvalidCapability</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Attempt to grant invalid admin capability.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
</div>
<div class="section" id="request">
<h3>实例 Request<a class="headerlink" href="#request" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PUT /{admin}/user?caps&amp;user-caps=usage=read,write;user=write&amp;format=json HTTP/1.1
Host: {fqdn}
Content-类型: text/plain
Authorization: {your-authorization-token}
</pre></div>
</div>
</div>
</div>
<div class="section" id="remove-a-user-capability">
<span id="id94"></span><h2>删除用户能力<a class="headerlink" href="#remove-a-user-capability" title="Permalink to this headline">¶</a></h2>
<p>删除指定用户的管理能力。</p>
<dl class="field-list simple">
<dt class="field-odd">caps</dt>
<dd class="field-odd"><p>users=write</p>
</dd>
</dl>
<div class="section" id="id95">
<h3>语法<a class="headerlink" href="#id95" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>DELETE /{admin}/user?caps&amp;format=json HTTP/1.1
Host {fqdn}
</pre></div>
</div>
</div>
<div class="section" id="id96">
<h3>请求参数<a class="headerlink" href="#id96" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">uid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user ID to remove an administrative capability from.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">foo_user</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">user-caps</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The administrative capabilities to remove from the user.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">实例</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">usage=read,</span> <span class="pre">write</span></code></p>
</dd>
<dt class="field-even">是否必需</dt>
<dd class="field-even"><p>Yes</p>
</dd>
</dl>
</div>
<div class="section" id="id97">
<h3>Response Entities<a class="headerlink" href="#id97" title="Permalink to this headline">¶</a></h3>
<p>If successful, the response contains the user’s capabilities.</p>
<p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>A container for the user data information.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">user_id</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>The user id.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">caps</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>User capabilities.</p>
</dd>
<dt class="field-even">类型</dt>
<dd class="field-even"><p>Container</p>
</dd>
<dt class="field-odd">父节点</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">user</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="id98">
<h3>特殊错误响应<a class="headerlink" href="#id98" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">InvalidCapability</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>Attempt to remove an invalid admin capability.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>400 Bad Request</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">NoSuchCap</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>User does not possess specified capability.</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>404 Not Found</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="quotas">
<span id="id99"></span><h2>配额管理<a class="headerlink" href="#quotas" title="Permalink to this headline">¶</a></h2>
<p>你可以用管理操作 API 给用户和用户拥有的桶设置配额，设置细节见<a class="reference external" href="../admin#quota-management">配额管理</a>。可设置的配额包括桶内对象的最大数量、和最大尺寸（单位为 MB ）。</p>
<p>要查看配额信息，用户必须有 <code class="docutils literal notranslate"><span class="pre">users=read</span></code> 能力；要设置、修改或禁用配额，用户必须有 <code class="docutils literal notranslate"><span class="pre">users=write</span></code> 能力。详情见<a class="reference external" href="../admin">管理指南</a>。</p>
<p>管理配额的可用参数有：</p>
<ul class="simple">
<li><p><strong>桶：</strong> <code class="docutils literal notranslate"><span class="pre">bucket</span></code> 选项指定了配额针对的是用户拥有的桶。</p></li>
<li><p><strong>最大对象数：</strong> <code class="docutils literal notranslate"><span class="pre">max-objects</span></code> 选项用于指定最大对象数，负数表示禁用此选项。</p></li>
<li><p><strong>最大尺寸</strong> <code class="docutils literal notranslate"><span class="pre">max-size</span></code> 选项用于指定最大字节数，
<code class="docutils literal notranslate"><span class="pre">max-size-kb</span></code> 选项指定的以 KiB 为单位。负数表示禁用此选项。</p></li>
<li><p><strong>配额类型：</strong> <code class="docutils literal notranslate"><span class="pre">quota-type</span></code> 选项用于指定配额的适用范围，可以是 <code class="docutils literal notranslate"><span class="pre">bucket</span></code> 和 <code class="docutils literal notranslate"><span class="pre">user</span></code> 。</p></li>
<li><p><strong>配额开关：</strong> <code class="docutils literal notranslate"><span class="pre">enabled</span></code> 选项用于配置是否开启配额，取值可以是 ‘True’ 或 ‘False’ 。</p></li>
</ul>
<div class="section" id="get-user-quota">
<span id="id100"></span><h3>查看用户配额<a class="headerlink" href="#get-user-quota" title="Permalink to this headline">¶</a></h3>
<p>To get a quota, the user must have <code class="docutils literal notranslate"><span class="pre">users</span></code> capability set with <code class="docutils literal notranslate"><span class="pre">read</span></code>
permission.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>GET /admin/user?quota&amp;uid=&lt;uid&gt;&amp;quota-type=user
</pre></div>
</div>
</div>
<div class="section" id="id101">
<h3>设置用户配额<a class="headerlink" href="#id101" title="Permalink to this headline">¶</a></h3>
<p>To set a quota, the user must have <code class="docutils literal notranslate"><span class="pre">users</span></code> capability set with <code class="docutils literal notranslate"><span class="pre">write</span></code>
permission.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PUT /admin/user?quota&amp;uid=&lt;uid&gt;&amp;quota-type=user
</pre></div>
</div>
<p>The content must include a JSON representation of the quota settings
as encoded in the corresponding read operation.</p>
</div>
<div class="section" id="get-bucket-quota">
<span id="id102"></span><h3>查看桶配额<a class="headerlink" href="#get-bucket-quota" title="Permalink to this headline">¶</a></h3>
<p>To get a quota, the user must have <code class="docutils literal notranslate"><span class="pre">users</span></code> capability set with <code class="docutils literal notranslate"><span class="pre">read</span></code>
permission.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>GET /admin/user?quota&amp;uid=&lt;uid&gt;&amp;quota-type=bucket
</pre></div>
</div>
</div>
<div class="section" id="id103">
<h3>设置桶配额<a class="headerlink" href="#id103" title="Permalink to this headline">¶</a></h3>
<p>To set a quota, the user must have <code class="docutils literal notranslate"><span class="pre">users</span></code> capability set with <code class="docutils literal notranslate"><span class="pre">write</span></code>
permission.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PUT /admin/user?quota&amp;uid=&lt;uid&gt;&amp;quota-type=bucket
</pre></div>
</div>
<p>The content must include a JSON representation of the quota settings
as encoded in the corresponding read operation.</p>
</div>
<div class="section" id="id104">
<h3>设置个人桶的配额<a class="headerlink" href="#id104" title="Permalink to this headline">¶</a></h3>
<p>要设置配额，此用户必须有设置了 <code class="docutils literal notranslate"><span class="pre">write</span></code> 权限的 <code class="docutils literal notranslate"><span class="pre">buckets</span></code>
能力。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PUT /admin/bucket?quota&amp;uid=&lt;uid&gt;&amp;bucket=&lt;bucket-name&gt;&amp;quota
</pre></div>
</div>
<p>其内容必须包含一个以 JSON 格式表达的配额配置，如前面<a class="reference internal" href="#id103">设置桶配额</a>一节所述。</p>
</div>
</div>
<div class="section" id="id105">
<h2>标准错误响应<a class="headerlink" href="#id105" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">AccessDenied</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>访问被拒绝。</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>403 Forbidden</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">InternalError</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>服务器内部错误。</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>500 Internal Server Error</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">NoSuchUser</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>用户不存在。</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>404 Not Found</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">NoSuchBucket</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>桶不存在。</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>404 Not Found</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">NoSuchKey</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">描述</dt>
<dd class="field-odd"><p>此访问密钥不存在。</p>
</dd>
<dt class="field-even">状态码</dt>
<dd class="field-even"><p>404 Not Found</p>
</dd>
</dl>
</div>
<div class="section" id="id106">
<h2>绑定库<a class="headerlink" href="#id106" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Golang</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/IrekFasikhov/go-rgwadmin">IrekFasikhov/go-rgwadmin</a></p></li>
<li><p><a class="reference external" href="https://github.com/QuentinPerez/go-radosgw">QuentinPerez/go-radosgw</a></p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">Java</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/twonote/radosgw-admin4j">twonote/radosgw-admin4j</a></p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">Python</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/UMIACS/rgwadmin">UMIACS/rgwadmin</a></p></li>
<li><p><a class="reference external" href="https://github.com/valerytschopp/python-radosgw-admin">valerytschopp/python-radosgw-admin</a></p></li>
</ul>
</div></blockquote>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">安装 Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rbd/">Ceph 块设备</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Ceph 对象网关</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../install/install-ceph-gateway/">基于 Civetweb 手动安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frontends/">HTTP 前端</a></li>
<li class="toctree-l2"><a class="reference internal" href="../placement/">Pool Placement and Storage Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config-fcgi/">基于 Apache/FastCGI 的简单配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multisite/">多站配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pools/">存储池的配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config-ref/">配置参考</a></li>
<li class="toctree-l2"><a class="reference internal" href="../admin/">管理指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../s3/">S3 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../swift/">Swift API</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">管理操作 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-usage">查看使用率</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">请求参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">响应内容解析</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id7">裁剪使用率日志</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id8">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">请求参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id11">查看用户信息</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id12">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#request-parameters">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id13">响应内容解析</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id15">创建用户</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id16">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">请求参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#response-entities">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#modify-user">修改用户信息</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id20">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id21">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id23">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-user">删除用户</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id25">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id26">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id27">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id28">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#create-subuser">创建子用户</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id30">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id32">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id33">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#modify-subuser">修改子用户信息</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id35">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id36">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id37">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id38">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-subuser">删除子用户</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id40">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id41">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id42">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id43">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#create-key">创建密钥</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id45">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id46">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id47">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id48">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-key">删除密钥</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id50">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id51">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id52">特殊错误响应</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id53">Response Entities</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id54">查看桶信息</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id55">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id56">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id57">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id58">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#check-bucket-index">检查桶索引</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id60">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id61">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id62">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id63">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-bucket">删除桶</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id65">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id66">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id67">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id68">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#unlink-bucket">解绑桶</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id70">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id71">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id72">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id73">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#link-bucket">链接桶</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id75">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id76">请求参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id77">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id78">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-object">删除对象</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id80">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id81">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id82">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id83">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#get-bucket-or-object-policy">查看桶或对象的策略</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id85">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id86">Request Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id87">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id88">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#add-a-user-capability">增加用户能力</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id90">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id91">请求参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id92">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id93">特殊错误响应</a></li>
<li class="toctree-l4"><a class="reference internal" href="#request">实例 Request</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remove-a-user-capability">删除用户能力</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id95">语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id96">请求参数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id97">Response Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id98">特殊错误响应</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#quotas">配额管理</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#get-user-quota">查看用户配额</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id101">设置用户配额</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-bucket-quota">查看桶配额</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id103">设置桶配额</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id104">设置个人桶的配额</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id105">标准错误响应</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id106">绑定库</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api/">Python 接口</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nfs/">通过 NFS 导出</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keystone/">与 OpenStack Keystone 对接</a></li>
<li class="toctree-l2"><a class="reference internal" href="../barbican/">与 OpenStack Barbican 对接</a></li>
<li class="toctree-l2"><a class="reference internal" href="../opa/">与 Open Policy Agent 对接</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multitenancy/">多租户</a></li>
<li class="toctree-l2"><a class="reference internal" href="../compression/">压缩</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ldap-auth/">LDAP 认证</a></li>
<li class="toctree-l2"><a class="reference internal" href="../encryption/">服务器端加密</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bucketpolicy/">桶策略</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dynamicresharding/">动态的桶索引重分片</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mfa/">多因子认证</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sync-modules/">同步模块</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layout/">RADOS 中的数据布局</a></li>
<li class="toctree-l2"><a class="reference internal" href="../STSLite/">STS Lite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../role/">Role</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/">故障排除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/8/radosgw/">radosgw 手册页</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/8/radosgw-admin/">radosgw-admin 手册页</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/">Ceph 管理器守护进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/dashboard/">Ceph 仪表盘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/developer_guide/">开发者指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/internals/">Ceph 内幕</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../governance/">项目管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundation/">Ceph 基金会</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/general/">Ceph 版本（总目录）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/">Ceph 版本（索引）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Ceph 术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation_cn/">中文版翻译资源</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../api/" title="librgw (Python)"
             >next</a> |</li>
        <li class="right" >
          <a href="../swift/ruby/" title="Ruby Swift Examples"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" >Ceph 对象网关</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>