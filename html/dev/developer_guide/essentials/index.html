
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>必备知识 &#8212; Ceph Documentation</title>
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script src="../../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="next" title="何时、何处、并入了什么？" href="../merging/" />
    <link rel="prev" title="简介" href="../intro/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../merging/" title="何时、何处、并入了什么？"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../intro/" title="简介"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" accesskey="U">向 Ceph 贡献：开发者指南</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            

<div id="dev-warning" class="admonition note" style="display:none;">
  <p class="first admonition-title">Notice</p>
  <p class="last">This document is for a development version of Ceph.</p>
</div>

<div id="eol-warning" class="admonition warning" style="display:none;">
  <p class="first admonition-title">Warning</p>
  <p class="last">This document is for an unsupported version of Ceph.</p>
</div>
  <div id="docubetter" align="right" style="display:none; padding: 15px; font-weight: bold;">
    <a id="edit-on-github" href="https://github.com/ceph/ceph/edit/master/doc/dev/developer_guide/essentials.rst" rel="nofollow">Edit on GitHub</a> | <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <div class="section" id="id1">
<h1>必备知识<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>本章包含必要信息，每个 Ceph 开发者都应该知道。</p>
<div class="section" id="id2">
<h2>项目领导<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Ceph 项目是由 Sage Weil 领导的。另外，各主要项目组件有自己的领导，下面的表格罗列了所有领导、以及他们在 <a class="reference external" href="https://github.com/">GitHub</a> 上的昵称。</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 42%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Scope</p></th>
<th class="head"><p>Lead</p></th>
<th class="head"><p>GitHub nick</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Ceph</p></td>
<td><p>Sage Weil</p></td>
<td><p>liewegas</p></td>
</tr>
<tr class="row-odd"><td><p>RADOS</p></td>
<td><p>Neha Ojha</p></td>
<td><p>neha-ojha</p></td>
</tr>
<tr class="row-even"><td><p>RGW</p></td>
<td><p>Yehuda Sadeh</p></td>
<td><p>yehudasa</p></td>
</tr>
<tr class="row-odd"><td><p>RGW</p></td>
<td><p>Matt Benjamin</p></td>
<td><p>mattbenjamin</p></td>
</tr>
<tr class="row-even"><td><p>RBD</p></td>
<td><p>Jason Dillaman</p></td>
<td><p>dillaman</p></td>
</tr>
<tr class="row-odd"><td><p>CephFS</p></td>
<td><p>Patrick Donnelly</p></td>
<td><p>batrick</p></td>
</tr>
<tr class="row-even"><td><p>Dashboard</p></td>
<td><p>Lenz Grimmer</p></td>
<td><p>LenzGr</p></td>
</tr>
<tr class="row-odd"><td><p>MON</p></td>
<td><p>Joao Luis</p></td>
<td><p>jecluis</p></td>
</tr>
<tr class="row-even"><td><p>Build/Ops</p></td>
<td><p>Ken Dreyer</p></td>
<td><p>ktdreyer</p></td>
</tr>
<tr class="row-odd"><td><p>Docs</p></td>
<td><p>Zac Dover</p></td>
<td><p>zdover23</p></td>
</tr>
</tbody>
</table>
<p>上述表格里的 Ceph 专有缩写在 <a class="reference internal" href="../../../architecture/"><span class="doc">体系结构</span></a> 里面有解释。</p>
</div>
<div class="section" id="id3">
<h2>历史<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>请翻阅 <a class="reference external" href="https://en.wikipedia.org/wiki/Ceph_%28software%29#History">Wikipedia 的 History 这章</a>。</p>
</div>
<div class="section" id="id4">
<h2>软件许可<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>Ceph 是自由软件。</p>
<p>除非另有声明， Ceph 的源代码会以 LGPL2.1 或 LGPL3.0 许可证发布。其完整内容在
源码树顶极目录下的 <a class="reference external" href="https://github.com/ceph/ceph/blob/master/COPYING">COPYING</a> 文件内。</p>
</div>
<div class="section" id="id5">
<h2>源代码仓库<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>The source code of Ceph lives on <a class="reference external" href="https://github.com/">GitHub</a> in a number of repositories below
the <a class="reference external" href="https://github.com/ceph">Ceph “organization”</a>.</p>
<p>To make a meaningful contribution to the project as a developer, a working
knowledge of <a class="reference external" href="https://git-scm.com/doc">git</a> is essential.</p>
<p>Although the <a class="reference external" href="https://github.com/ceph">Ceph “organization”</a> includes several software repositories,
this document covers only one: <a class="reference external" href="https://github.com/ceph/ceph">https://github.com/ceph/ceph</a>.</p>
</div>
<div class="section" id="redmine">
<h2>Redmine 问题跟踪器<a class="headerlink" href="#redmine" title="Permalink to this headline">¶</a></h2>
<p>Although <a class="reference external" href="https://github.com/">GitHub</a> is used for code, Ceph-related issues (Bugs, Features,
Backports, Documentation, etc.) are tracked at <a class="reference external" href="http://tracker.ceph.com">http://tracker.ceph.com</a>,
which is powered by <a class="reference external" href="http://www.redmine.org">Redmine</a>.</p>
<p>The tracker has a Ceph project with a number of subprojects loosely
corresponding to the various architectural components (see
<a class="reference internal" href="../../../architecture/"><span class="doc">体系结构</span></a>).</p>
<p>Mere <a class="reference external" href="http://tracker.ceph.com/account/register">registration</a> in the tracker automatically grants permissions
sufficient to open new issues and comment on existing ones.</p>
<p>要报告软件缺陷或者提议新功能，请<a class="reference external" href="http://tracker.ceph.com/projects/ceph">跳转到 Ceph 项目</a>并点击 <a class="reference external" href="http://tracker.ceph.com/projects/ceph/issues/new">New issue</a> 。</p>
</div>
<div class="section" id="id7">
<h2>邮件列表<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">dev&#64;ceph.io</span></code> list is for discussion about the development of Ceph,
its interoperability with other technology, and the operations of the
project itself.</p>
<p>The email discussion list for Ceph development is open to all. Subscribe by
sending a message to <code class="docutils literal notranslate"><span class="pre">dev-request&#64;ceph.io</span></code> with the following line in the
body of the message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subscribe</span> <span class="n">ceph</span><span class="o">-</span><span class="n">devel</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ceph-devel&#64;vger.kernel.org</span></code> list is for discussion and patch review
for the Linux kernel Ceph client component. Note that this list used to
be an all-encompassing list for developers. So when searching the archives,
remember that this list contains the generic devel-ceph archives pre mid-2018.</p>
<p>Subscription works in the same way, by sending a message to
<code class="docutils literal notranslate"><span class="pre">majordomo&#64;vger.kernel.org</span></code> with the line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subscribe</span> <span class="n">ceph</span><span class="o">-</span><span class="n">devel</span>
</pre></div>
</div>
<p>in the body of the message.</p>
<p>Ceph development email discussions the list is open to all. Subscribe by
sending a message to <code class="docutils literal notranslate"><span class="pre">dev-request&#64;ceph.io</span></code> with the line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subscribe</span> <span class="n">ceph</span><span class="o">-</span><span class="n">devel</span>
</pre></div>
</div>
<p>要作为邮件正文发出。</p>
<p>Subscribing to the</p>
<p>还有<a class="reference external" href="https://ceph.com/irc/">其他与 Ceph 相关的邮件列表</a>。</p>
</div>
<div class="section" id="irc">
<h2>IRC<a class="headerlink" href="#irc" title="Permalink to this headline">¶</a></h2>
<p>In addition to mailing lists, the Ceph community also communicates in real
time using <a class="reference external" href="http://www.irchelp.org/">Internet Relay Chat</a>.</p>
<p>这里 <code class="docutils literal notranslate"><span class="pre">https://ceph.com/irc/</span></code> 介绍了如何配置 IRC 客户端、还有一堆频道。</p>
</div>
<div class="section" id="id9">
<h2>补丁的提交<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>The canonical instructions for submitting patches are contained in the
file <a class="reference external" href="https://github.com/ceph/ceph/blob/master/CONTRIBUTING.rst">CONTRIBUTING.rst</a> in the top-level directory of the source-code
tree. There may be some overlap between this guide and that file.</p>
<p>All newcomers are encouraged to read that file carefully.</p>
</div>
<div class="section" id="id10">
<h2>从源码构建<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>请参考 <a class="reference internal" href="../../../install/build-ceph/"><span class="doc">构建 Ceph</span></a> 。</p>
</div>
<div class="section" id="ccache">
<h2>用 ccache 加速本地构建<a class="headerlink" href="#ccache" title="Permalink to this headline">¶</a></h2>
<p>Rebuilds of the ceph source tree can benefit significantly from use of
<a class="reference external" href="https://ccache.samba.org/">ccache</a>.</p>
<p>Many a times while switching branches and such, one might see build failures
for certain older branches mostly due to older build artifacts. These rebuilds
can significantly benefit the use of ccache. For a full clean source tree, one
could do</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make clean

# note the following will nuke everything in the source tree that
# isn&#39;t tracked by git, so make sure to backup any log files /conf options

$ git clean -fdx; git submodule foreach git clean -fdx
</pre></div>
</div>
<p>ccache is available as a package in most distros. To build ceph with ccache
one can:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cmake -DWITH_CCACHE=ON ..
</pre></div>
</div>
<p>ccache can also be used for speeding up all builds in the system. for more
details refer to the <a class="reference external" href="https://ccache.samba.org/manual.html#_run_modes">run modes</a> of the ccache manual. The default settings
of <code class="docutils literal notranslate"><span class="pre">ccache</span></code> can be displayed with <code class="docutils literal notranslate"><span class="pre">ccache</span> <span class="pre">-s</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended to override the <code class="docutils literal notranslate"><span class="pre">max_size</span></code>, which is the size of
cache, defaulting to 10G, to a larger size like 25G or so. Refer to the
<a class="reference external" href="https://ccache.samba.org/manual.html#_configuration">configuration</a> section of ccache manual.</p>
</div>
<p>To further increase the cache hit rate and reduce compile times in a
development environment, it is possible to set version information and build
timestamps to fixed values, which avoids frequent rebuilds of binaries that
contain this information.</p>
<p>This can be achieved by adding the following settings to the <code class="docutils literal notranslate"><span class="pre">ccache</span></code>
configuration file <code class="docutils literal notranslate"><span class="pre">ccache.conf</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sloppiness</span> <span class="o">=</span> <span class="n">time_macros</span>
<span class="n">run_second_cpp</span> <span class="o">=</span> <span class="n">true</span>
</pre></div>
</div>
<p>Now, set the environment variable <code class="docutils literal notranslate"><span class="pre">SOURCE_DATE_EPOCH</span></code> to a fixed value (a
UNIX timestamp) and set <code class="docutils literal notranslate"><span class="pre">ENABLE_GIT_VERSION</span></code> to <code class="docutils literal notranslate"><span class="pre">OFF</span></code> when running
<code class="docutils literal notranslate"><span class="pre">cmake</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ export SOURCE_DATE_EPOCH=946684800
$ cmake -DWITH_CCACHE=ON -DENABLE_GIT_VERSION=OFF ..
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Binaries produced with these build options are not suitable for
production or debugging purposes, as they do not contain the correct build
time and git version information.</p>
</div>
</div>
<div class="section" id="id12">
<h2>开发模式的集群<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<p>参考 <a class="reference internal" href="../../quick_guide/"><span class="doc">开发者指南（快速）</span></a> 。</p>
</div>
<div class="section" id="kubernetes-rook">
<h2>Kubernetes/Rook 开发集群<a class="headerlink" href="#kubernetes-rook" title="Permalink to this headline">¶</a></h2>
<p>参考 <a class="reference internal" href="../../kubernetes/#kubernetes-dev"><span class="std std-ref">Hacking on Ceph in Kubernetes with Rook</span></a></p>
</div>
<div class="section" id="backporting">
<h2>补丁移植（ Backporting ）<a class="headerlink" href="#backporting" title="Permalink to this headline">¶</a></h2>
<p>All bugfixes should be merged to the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch before being
backported. To flag a bugfix for backporting, make sure it has a
<a class="reference external" href="http://tracker.ceph.com/">tracker issue</a> associated with it and set the <code class="docutils literal notranslate"><span class="pre">Backport</span></code> field to a
comma-separated list of previous releases (e.g. “hammer,jewel”) that you think
need the backport.
The rest (including the actual backporting) will be taken care of by the
<a class="reference external" href="http://tracker.ceph.com/projects/ceph-releases/wiki">Stable Releases and Backports</a> team.</p>
</div>
<div class="section" id="guidance-for-use-of-cluster-log">
<h2>Guidance for use of cluster log<a class="headerlink" href="#guidance-for-use-of-cluster-log" title="Permalink to this headline">¶</a></h2>
<p>If your patches emit messages to the Ceph cluster log, please consult
this: <a class="reference internal" href="../../logging/"><span class="doc">集群日志的用法</span></a>.</p>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">安装 Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph 管理器守护进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/dashboard/">Ceph 仪表盘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">体系结构</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">开发者指南</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../intro/">简介</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">必备知识</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">项目领导</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">历史</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">软件许可</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">源代码仓库</a></li>
<li class="toctree-l3"><a class="reference internal" href="#redmine">Redmine 问题跟踪器</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">邮件列表</a></li>
<li class="toctree-l3"><a class="reference internal" href="#irc">IRC</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">补丁的提交</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">从源码构建</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ccache">用 ccache 加速本地构建</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">开发模式的集群</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kubernetes-rook">Kubernetes/Rook 开发集群</a></li>
<li class="toctree-l3"><a class="reference internal" href="#backporting">补丁移植（ Backporting ）</a></li>
<li class="toctree-l3"><a class="reference internal" href="#guidance-for-use-of-cluster-log">Guidance for use of cluster log</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../merging/">何时、合并了什么</a></li>
<li class="toctree-l2"><a class="reference internal" href="../issue-tracker/">问题追踪器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic-workflow/">基本工作流</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tests-unit-tests/">测试：单元测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tests-integration-tests/">测试：集成测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running-tests-locally/">在本地运行测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running-tests-using-teuth/">用 Teuthology 运行集成测试</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running-tests-in-cloud/">在云端运行测试</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../internals/">Ceph 内幕</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../governance/">项目管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../foundation/">Ceph 基金会</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/general/">Ceph 版本（总目录）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/">Ceph 版本（索引）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Ceph 术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../translation_cn/">中文版翻译资源</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../merging/" title="何时、何处、并入了什么？"
             >next</a> |</li>
        <li class="right" >
          <a href="../intro/" title="简介"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" >向 Ceph 贡献：开发者指南</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>