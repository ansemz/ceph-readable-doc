
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>RBD Layering &#8212; Ceph Documentation</title>
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Ceph Release Process" href="../release-process/" />
    <link rel="prev" title="RBD Export &amp; Import" href="../rbd-export/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../release-process/" title="Ceph Release Process"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../rbd-export/" title="RBD Export &amp; Import"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../internals/" accesskey="U">Ceph 内幕</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            

<div id="dev-warning" class="admonition note" style="display:none;">
  <p class="first admonition-title">Notice</p>
  <p class="last">This document is for a development version of Ceph.</p>
</div>

<div id="eol-warning" class="admonition warning" style="display:none;">
  <p class="first admonition-title">Warning</p>
  <p class="last">This document is for an unsupported version of Ceph.</p>
</div>
  <div id="docubetter" align="right" style="display:none; padding: 15px; font-weight: bold;">
    <a id="edit-on-github" href="https://github.com/ceph/ceph/edit/master/doc/dev/rbd-layering.rst" rel="nofollow">Edit on GitHub</a> | <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <div class="section" id="rbd-layering">
<h1>RBD Layering<a class="headerlink" href="#rbd-layering" title="Permalink to this headline">¶</a></h1>
<p>RBD layering refers to the creation of copy-on-write clones of block
devices. This allows for fast image creation, for example to clone a
golden master image of a virtual machine into a new instance. To
simplify the semantics, you can only create a clone of a snapshot -
snapshots are always read-only, so the rest of the image is
unaffected, and there’s no possibility of writing to them
accidentally.</p>
<p>From a user’s perspective, a clone is just like any other rbd image.
You can take snapshots of them, read/write them, resize them, etc.
There are no restrictions on clones from a user’s viewpoint.</p>
<p>Note: the terms <cite>child</cite> and <cite>parent</cite> below mean an rbd image created
by cloning, and the rbd image snapshot a child was cloned from.</p>
<div class="section" id="command-line-interface">
<h2>Command line interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h2>
<p>Before cloning a snapshot, you must mark it as protected, to prevent
it from being deleted while child images refer to it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rbd snap protect pool/image@snap
</pre></div>
</div>
<p>Then you can perform the clone:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rbd clone [--parent] pool/parent@snap [--image] pool2/child1
</pre></div>
</div>
<p>You can create a clone with different object sizes from the parent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rbd clone --order 25 pool/parent@snap pool2/child2
</pre></div>
</div>
<p>To delete the parent, you must first mark it unprotected, which checks
that there are no children left:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rbd snap unprotect pool/image@snap
Cannot unprotect: Still in use by pool2/image2
$ rbd children pool/image@snap
pool2/child1
pool2/child2
$ rbd flatten pool2/child1
$ rbd rm pool2/child2
$ rbd snap rm pool/image@snap
Cannot remove a protected snapshot: pool/image@snap
$ rbd snap unprotect pool/image@snap
</pre></div>
</div>
<p>Then the snapshot can be deleted like normal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ rbd snap rm pool/image@snap
</pre></div>
</div>
</div>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="data-flow">
<h3>Data Flow<a class="headerlink" href="#data-flow" title="Permalink to this headline">¶</a></h3>
<p>In the initial implementation, called ‘trivial layering’, there will
be no tracking of which objects exist in a clone. A read that hits a
non-existent object will attempt to read from the parent snapshot, and
this will continue recursively until an object exists or an image with
no parent is found. This is done through the normal read path from
the parent, so differing object sizes between parents and children
do not matter.</p>
<p>Before a write to an object is performed, the object is checked for
existence. If it doesn’t exist, a copy-up operation is performed,
which means reading the relevant range of data from the parent
snapshot and writing it (plus the original write) to the child
image. To prevent races with multiple writes trying to copy-up the
same object, this copy-up operation will include an atomic create. If
the atomic create fails, the original write is done instead. This
copy-up operation is implemented as a class method so that extra
metadata can be stored by it in the future. In trivial layering, the
copy-up operation copies the entire range needed to the child object
(that is, the full size of the child object). A future optimization
could make this copy-up more fine-grained.</p>
<p>Another future optimization could be storing a bitmap of which objects
actually exist in a child. This would obviate the check for existence
before each write, and let reads go directly to the parent if needed.</p>
<p>These optimizations are discussed in:</p>
<p><a class="reference external" href="http://marc.info/?l=ceph-devel&amp;m=129867273303846">http://marc.info/?l=ceph-devel&amp;m=129867273303846</a></p>
</div>
<div class="section" id="parent-child-relationships">
<h3>Parent/Child relationships<a class="headerlink" href="#parent-child-relationships" title="Permalink to this headline">¶</a></h3>
<p>Children store a reference to their parent in their header, as a tuple
of (pool id, image id, snapshot id). This is enough information to
open the parent and read from it.</p>
<p>In addition to knowing which parent a given image has, we want to be
able to tell if a protected snapshot still has children. This is
accomplished with a new per-pool object, <cite>rbd_children</cite>, which maps
(parent pool id, parent image id, parent snapshot id) to a list of
child image ids. This is stored in the same pool as the child image
because the client creating a clone already has read/write access to
everything in this pool, but may not have write access to the parent’s
pool. This lets a client with read-only access to one pool clone a
snapshot from that pool into a pool they have full access to. It
increases the cost of unprotecting an image, since this needs to check
for children in every pool, but this is a rare operation. It would
likely only be done before removing old images, which is already much
more expensive because it involves deleting every data object in the
image.</p>
</div>
<div class="section" id="protection">
<h3>Protection<a class="headerlink" href="#protection" title="Permalink to this headline">¶</a></h3>
<p>Internally, protection_state is a field in the header object that
can be in three states. “protected”, “unprotected”, and
“unprotecting”. The first two are set as the result of “rbd
protect/unprotect”. The “unprotecting” state is set while the “rbd
unprotect” command checks for any child images. Only snapshots in the
“protected” state may be cloned, so the “unprotected” state prevents
a race like:</p>
<ol class="arabic simple">
<li><p>A: walk through all pools, look for clones, find none</p></li>
<li><p>B: create a clone</p></li>
<li><p>A: unprotect parent</p></li>
<li><p>A: rbd snap rm <a class="reference external" href="mailto:pool/parent&#37;&#52;&#48;snap">pool/parent<span>&#64;</span>snap</a></p></li>
</ol>
</div>
<div class="section" id="resizing">
<h3>Resizing<a class="headerlink" href="#resizing" title="Permalink to this headline">¶</a></h3>
<p>Resizing an rbd image is like truncating a sparse file. New space is
treated as zeroes, and shrinking an rbd image deletes the contents
beyond the old bounds. This means that if you have a 10G image full of
data, and you resize it down to 5G and then up to 10G again, the last
5G is treated as zeroes (and any objects that held that data were
removed when the image was shrunk).</p>
<p>Layering complicates this because the absence of an object no longer
implies it should be treated as zeroes - if the object is part of a
clone, it may mean that some data needs to be read from the parent.</p>
<p>To preserve the resizing behavior for clones, we need to keep track of
which objects could be stored in the parent. We can track this as the
amount of overlap the child has with the parent, since resizing only
changes the end of an image. When a child is created, its overlap
is the size of the parent snapshot. On each subsequent resize, the
overlap is <cite>min(overlap, new_size)</cite>. That is, shrinking the image
may shrinks the overlap, but increasing the image’s size does not
change the overlap.</p>
<p>Objects that do not exist past the overlap are treated as zeroes.
Objects that do not exist before that point fall back to reading
from the parent.</p>
<p>Since this overlap changes over time, we store it as part of the
metadata for a snapshot as well.</p>
</div>
<div class="section" id="renaming">
<h3>Renaming<a class="headerlink" href="#renaming" title="Permalink to this headline">¶</a></h3>
<p>Currently the rbd header object (that stores all the metadata about an
image) is named after the name of the image. This makes renaming
disrupt clients who have the image open (such as children reading from
a parent). To avoid this, we can name the header object by the
id of the image, which does not change. That is, the name of the
header object could be <cite>rbd_header.$id</cite>, where $id is a unique id for
the image in the pool.</p>
<p>When a client opens an image, all it knows is the name. There is
already a per-pool <cite>rbd_directory</cite> object that maps image names to
ids, but if we relied on it to get the id, we could not open any
images in that pool if that single object was unavailable. To avoid
this dependency, we can store the id of an image in an object called
<cite>rbd_id.$image_name</cite>, where $image_name is the name of the image. The
per-pool <cite>rbd_directory</cite> object is still useful for listing all images
in a pool, however.</p>
</div>
</div>
<div class="section" id="header-changes">
<h2>Header changes<a class="headerlink" href="#header-changes" title="Permalink to this headline">¶</a></h2>
<p>The header needs a few new fields:</p>
<ul class="simple">
<li><p>int64_t parent_pool_id</p></li>
<li><p>string parent_image_id</p></li>
<li><p>uint64_t parent_snap_id</p></li>
<li><p>uint64_t overlap (how much of the image may be referring to the parent)</p></li>
</ul>
<p>These are stored in a “parent” key, which is only present if the image
has a parent.</p>
<div class="section" id="cls-rbd">
<h3>cls_rbd<a class="headerlink" href="#cls-rbd" title="Permalink to this headline">¶</a></h3>
<p>Some new methods are needed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/***************** methods on the rbd header *********************/
/**
 * Sets the parent and overlap keys.
 * Fails if any of these keys exist, since the image already
 * had a parent.
 */
set_parent(uint64_t pool_id, string image_id, uint64_t snap_id)

/**
 * returns the parent pool id, image id, snap id, and overlap, or -ENOENT
 * if parent_pool_id does not exist or is -1
 */
get_parent(uint64_t snapid)

/**
 * Removes the parent key
 */
remove_parent() // after all parent data is copied to the child

/*************** methods on the rbd_children object *****************/

add_child(uint64_t parent_pool_id, string parent_image_id,
          uint64_t parent_snap_id, string image_id);
remove_child(uint64_t parent_pool_id, string parent_image_id,
             uint64_t parent_snap_id, string image_id);
/**
 * List ids of a given parent
 */
get_children(uint64_t parent_pool_id, string parent_image_id,
             uint64_t parent_snap_id, uint64_t max_return,
             string start);
/**
 * list parent
 */
get_parents(uint64_t max_return, uint64_t start_pool_id,
            string start_image_id, string start_snap_id);


/************ methods on the rbd_id.$image_name object **************/

set_id(string id)
get_id()

/************** methods on the rbd_directory object *****************/

dir_get_id(string name);
dir_get_name(string id);
dir_list(string start_after, uint64_t max_return);
dir_add_image(string name, string id);
dir_remove_image(string name, string id);
dir_rename_image(string src, string dest, string id);
</pre></div>
</div>
<p>Two existing methods will change if the image supports
layering:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">snapshot_add</span> <span class="o">-</span> <span class="n">stores</span> <span class="n">current</span> <span class="n">overlap</span> <span class="ow">and</span> <span class="n">has_parent</span> <span class="k">with</span>
               <span class="n">other</span> <span class="n">snapshot</span> <span class="n">metadata</span> <span class="p">(</span><span class="n">images</span> <span class="n">that</span> <span class="n">don</span><span class="s1">&#39;t have</span>
               <span class="n">layering</span> <span class="n">enabled</span> <span class="n">aren</span><span class="s1">&#39;t affected)</span>

<span class="n">set_size</span>     <span class="o">-</span> <span class="n">will</span> <span class="n">adjust</span> <span class="n">the</span> <span class="n">parent</span> <span class="n">overlap</span> <span class="n">down</span> <span class="k">as</span> <span class="n">needed</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="librbd">
<h3>librbd<a class="headerlink" href="#librbd" title="Permalink to this headline">¶</a></h3>
<p>Opening a child image opens its parent (and this will continue
recursively as needed). This means that an ImageCtx will contain a
pointer to the parent image context. Differing object sizes won’t
matter, since reading from the parent will go through the parent
image context.</p>
<p>Discard will need to change for layered images so that it only
truncates objects, and does not remove them. If we removed objects, we
could not tell if we needed to read them from the parent.</p>
<p>A new clone method will be added, which takes the same arguments as
create except size (size of the parent image is used).</p>
<p>Instead of expanding the rbd_info struct, we will break the metadata
retrieval into several API calls.  Right now, the only users of
rbd_stat() other than ‘rbd info’ only use it to retrieve image size.</p>
</div>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">安装 Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/">Ceph 管理器守护进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/dashboard/">Ceph 仪表盘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/">开发者指南</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../internals/">Ceph 内幕</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../blkin/">用 Blkin 追踪 Ceph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bluestore/">BlueStore Internals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cache-pool/">Cache pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cephfs-reclaim/">CephFS Reclaim Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cephfs-snapshots/">CephFS 快照</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cephx_protocol/">Cephx 认证协议详细阐述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config/">配置管理系统</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config-key/">config-key layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../context/">CephContext</a></li>
<li class="toctree-l2"><a class="reference internal" href="../corpus/">资料库结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cpu-profiler/">Oprofile 的安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cxx/">C++17 and libstdc++ ABI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../delayed-delete/">CephFS delayed deletion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev_cluster_deployement/">开发集群的部署</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev_cluster_deployement/#id6">在同一机器上部署多套开发集群</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development-workflow/">开发流程</a></li>
<li class="toctree-l2"><a class="reference internal" href="../documenting/">为 Ceph 写作文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../encoding/">序列化（编码、解码）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../erasure-coded-pool/">纠删码存储池</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file-striping/">File striping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../freebsd/">FreeBSD Implementation details</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generatedocs/">Ceph 文档的构建</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iana/">IANA 号</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernel-client-troubleshooting/">Kernel client troubleshooting (FS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kubernetes/">Hacking on Ceph in Kubernetes with Rook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libs/">Library architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging/">集群日志的用法</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logs/">调试日志</a></li>
<li class="toctree-l2"><a class="reference internal" href="../macos/">在 MacOS 上构建</a></li>
<li class="toctree-l2"><a class="reference internal" href="../messenger/">Messenger notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mon-bootstrap/">Monitor bootstrap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mon-on-disk-formats/">ON-DISK FORMAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mon-osdmap-prune/">FULL OSDMAP VERSION PRUNING</a></li>
<li class="toctree-l2"><a class="reference internal" href="../msgr2/">msgr2 协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network-encoding/">Network Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network-protocol/">网络协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="../object-store/">对象存储架构概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="../osd-class-path/">OSD class path issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peering/">互联</a></li>
<li class="toctree-l2"><a class="reference internal" href="../perf/">Using perf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../perf_counters/">性能计数器</a></li>
<li class="toctree-l2"><a class="reference internal" href="../perf_histograms/">Perf histograms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../placement-group/">PG （归置组）说明</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick_guide/">开发者指南（快速）</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rados-client-protocol/">RADOS 客户端协议</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rbd-diff/">RBD 增量备份</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rbd-export/">RBD Export &amp; Import</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">RBD Layering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#command-line-interface">Command line interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#implementation">Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data-flow">Data Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parent-child-relationships">Parent/Child relationships</a></li>
<li class="toctree-l4"><a class="reference internal" href="#protection">Protection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resizing">Resizing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#renaming">Renaming</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#header-changes">Header changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cls-rbd">cls_rbd</a></li>
<li class="toctree-l4"><a class="reference internal" href="#librbd">librbd</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../release-process/">Ceph Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../seastore/">SeaStore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sepia/">Sepia 社区测试实验室</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session_authentication/">Session Authentication for the Cephx Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/">测试笔记</a></li>
<li class="toctree-l2"><a class="reference internal" href="../versions/">Public OSD Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wireshark/">Wireshark Dissector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../osd_internals/">OSD 开发者文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mds_internals/">MDS 开发者文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../radosgw/">RADOS 网关开发者文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ceph-volume/">ceph-volume 开发者文档</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../governance/">项目管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundation/">Ceph 基金会</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/general/">Ceph 版本（总目录）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/">Ceph 版本（索引）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Ceph 术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation_cn/">中文版翻译资源</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../release-process/" title="Ceph Release Process"
             >next</a> |</li>
        <li class="right" >
          <a href="../rbd-export/" title="RBD Export &amp; Import"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../internals/" >Ceph 内幕</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>