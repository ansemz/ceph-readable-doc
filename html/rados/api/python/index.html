
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Librados (Python) &#8212; Ceph Documentation</title>
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script src="../../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="next" title="SDK for Ceph Object Classes" href="../objclass-sdk/" />
    <link rel="prev" title="LibradosPP (C++)" href="../libradospp/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../objclass-sdk/" title="SDK for Ceph Object Classes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../libradospp/" title="LibradosPP (C++)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../" >Ceph 存储集群</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../" accesskey="U">Ceph 存储集群 API</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            

<div id="dev-warning" class="admonition note" style="display:none;">
  <p class="first admonition-title">Notice</p>
  <p class="last">This document is for a development version of Ceph.</p>
</div>

<div id="eol-warning" class="admonition warning" style="display:none;">
  <p class="first admonition-title">Warning</p>
  <p class="last">This document is for an unsupported version of Ceph.</p>
</div>
  <div id="docubetter" align="right" style="display:none; padding: 15px; font-weight: bold;">
    <a id="edit-on-github" href="https://github.com/ceph/ceph/edit/master/doc/rados/api/python.rst" rel="nofollow">Edit on GitHub</a> | <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <div class="section" id="librados-python">
<h1>Librados (Python)<a class="headerlink" href="#librados-python" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">rados</span></code> 模块是 <code class="docutils literal notranslate"><span class="pre">librados</span></code> 的 Python 瘦封装。</p>
<div class="section" id="id1">
<h2>安装<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>To install Python libraries for Ceph, see <a class="reference external" href="../librados-intro#getting-librados-for-python">Getting librados for Python</a>.</p>
</div>
<div class="section" id="id2">
<h2>开工<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>You can create your own Ceph client using Python. The following tutorial will
show you how to import the Ceph Python module, connect to a Ceph cluster,  and
perform object operations as a <code class="docutils literal notranslate"><span class="pre">client.admin</span></code> user.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To use the Ceph Python bindings, you must have access to a
running Ceph cluster. To set one up quickly, see <a class="reference external" href="../../../start">Getting Started</a>.</p>
</div>
<p>First, create a Python source file for your Ceph client.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">:</span><span class="n">linenos</span><span class="p">:</span>
<span class="n">sudo</span> <span class="n">vim</span> <span class="n">client</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<div class="section" id="id3">
<h3>导入模块<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>要使用 <code class="docutils literal notranslate"><span class="pre">rados</span></code> 模块，需在源码文件里导入。</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>     <span class="kn">import</span> <span class="nn">rados</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id4">
<h3>配置集群句柄<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Before connecting to the Ceph Storage Cluster, create a cluster handle. By
default, the cluster handle assumes a cluster named <code class="docutils literal notranslate"><span class="pre">ceph</span></code> (i.e., the default
for deployment tools, and our Getting Started guides too),  and a
<code class="docutils literal notranslate"><span class="pre">client.admin</span></code> user name. You may change these defaults to suit your needs.</p>
<p>To connect to the Ceph Storage Cluster, your application needs to know where to
find the  Ceph Monitor. Provide this information to your application by
specifying the path to your Ceph configuration file, which contains the location
of the initial Ceph monitors.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span>     <span class="kn">import</span> <span class="nn">rados</span><span class="o">,</span> <span class="nn">sys</span>

     <span class="c1">#Create Handle Examples.</span>
     <span class="n">cluster</span> <span class="o">=</span> <span class="n">rados</span><span class="o">.</span><span class="n">Rados</span><span class="p">(</span><span class="n">conffile</span><span class="o">=</span><span class="s1">&#39;ceph.conf&#39;</span><span class="p">)</span>
     <span class="n">cluster</span> <span class="o">=</span> <span class="n">rados</span><span class="o">.</span><span class="n">Rados</span><span class="p">(</span><span class="n">conffile</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
     <span class="n">cluster</span> <span class="o">=</span> <span class="n">rados</span><span class="o">.</span><span class="n">Rados</span><span class="p">(</span><span class="n">conffile</span> <span class="o">=</span> <span class="s1">&#39;ceph.conf&#39;</span><span class="p">,</span> <span class="n">conf</span> <span class="o">=</span> <span class="nb">dict</span> <span class="p">(</span><span class="n">keyring</span> <span class="o">=</span> <span class="s1">&#39;/path/to/keyring&#39;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>Ensure that the <code class="docutils literal notranslate"><span class="pre">conffile</span></code> argument provides the path and file name of your
Ceph configuration file. You may use the <code class="docutils literal notranslate"><span class="pre">sys</span></code> module to avoid hard-coding the
Ceph configuration path and file name.</p>
<p>Your Python client also requires a client keyring. For this example, we use the
<code class="docutils literal notranslate"><span class="pre">client.admin</span></code> key by default. If you would like to specify the keyring when
creating the cluster handle, you may use the <code class="docutils literal notranslate"><span class="pre">conf</span></code> argument. Alternatively,
you may specify the keyring path in your Ceph configuration file. For example,
you may add something like the following line to you Ceph configuration file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">keyring</span> <span class="o">=</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">ceph</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">admin</span><span class="o">.</span><span class="n">keyring</span>
</pre></div>
</div>
<p>通过 Python 修改配置的额外细节见 <a class="reference internal" href="#id10">配置</a>。</p>
</div>
<div class="section" id="id5">
<h3>连接到集群<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Once you have a cluster handle configured, you may connect to the cluster.
With a connection to the cluster, you may execute methods that return
information about the cluster.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span>     <span class="kn">import</span> <span class="nn">rados</span><span class="o">,</span> <span class="nn">sys</span>

     <span class="n">cluster</span> <span class="o">=</span> <span class="n">rados</span><span class="o">.</span><span class="n">Rados</span><span class="p">(</span><span class="n">conffile</span><span class="o">=</span><span class="s1">&#39;ceph.conf&#39;</span><span class="p">)</span>
     <span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">librados version: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cluster</span><span class="o">.</span><span class="n">version</span><span class="p">())</span>
     <span class="k">print</span> <span class="s2">&quot;Will attempt to connect to: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cluster</span><span class="o">.</span><span class="n">conf_get</span><span class="p">(</span><span class="s1">&#39;mon initial members&#39;</span><span class="p">))</span>

<span class="hll">     <span class="n">cluster</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span>     <span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Cluster ID: &quot;</span> <span class="o">+</span> <span class="n">cluster</span><span class="o">.</span><span class="n">get_fsid</span><span class="p">()</span>

     <span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Cluster Statistics&quot;</span>
     <span class="k">print</span> <span class="s2">&quot;==================&quot;</span>
     <span class="n">cluster_stats</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">get_cluster_stats</span><span class="p">()</span>

     <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">cluster_stats</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
             <span class="k">print</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span>
</pre></div>
</td></tr></table></div>
<p>By default, Ceph authentication is <code class="docutils literal notranslate"><span class="pre">on</span></code>. Your application will need to know
the location of the keyring. The <code class="docutils literal notranslate"><span class="pre">python-ceph</span></code> module doesn’t have the default
location, so you need to specify the keyring path. The easiest way to specify
the keyring is to add it to the Ceph configuration file. The following Ceph
configuration file example uses the <code class="docutils literal notranslate"><span class="pre">client.admin</span></code> keyring you generated with
<code class="docutils literal notranslate"><span class="pre">ceph-deploy</span></code>.</p>
<div class="highlight-ini notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>     <span class="k">[global]</span>
     <span class="c1"># ... elided configuration</span>
     <span class="na">keyring</span><span class="o">=</span><span class="s">/path/to/keyring/ceph.client.admin.keyring</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id6">
<h3>管理存储池<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>When connected to the cluster, the <code class="docutils literal notranslate"><span class="pre">Rados</span></code> API allows you to manage pools. You
can list pools, check for the existence of a pool, create a pool and delete a
pool.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span>     <span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Pool Operations&quot;</span>
     <span class="k">print</span> <span class="s2">&quot;===============&quot;</span>

     <span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Available Pools&quot;</span>
     <span class="k">print</span> <span class="s2">&quot;----------------&quot;</span>
<span class="hll">     <span class="n">pools</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">list_pools</span><span class="p">()</span>
</span>
     <span class="k">for</span> <span class="n">pool</span> <span class="ow">in</span> <span class="n">pools</span><span class="p">:</span>
             <span class="k">print</span> <span class="n">pool</span>

     <span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Create &#39;test&#39; Pool&quot;</span>
     <span class="k">print</span> <span class="s2">&quot;------------------&quot;</span>
<span class="hll">     <span class="n">cluster</span><span class="o">.</span><span class="n">create_pool</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
</span>
     <span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Pool named &#39;test&#39; exists: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cluster</span><span class="o">.</span><span class="n">pool_exists</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
     <span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Verify &#39;test&#39; Pool Exists&quot;</span>
     <span class="k">print</span> <span class="s2">&quot;-------------------------&quot;</span>
<span class="hll">     <span class="n">pools</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">list_pools</span><span class="p">()</span>
</span>
     <span class="k">for</span> <span class="n">pool</span> <span class="ow">in</span> <span class="n">pools</span><span class="p">:</span>
             <span class="k">print</span> <span class="n">pool</span>

     <span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Delete &#39;test&#39; Pool&quot;</span>
     <span class="k">print</span> <span class="s2">&quot;------------------&quot;</span>
<span class="hll">     <span class="n">cluster</span><span class="o">.</span><span class="n">delete_pool</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
</span>     <span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Pool named &#39;test&#39; exists: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cluster</span><span class="o">.</span><span class="n">pool_exists</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id7">
<h3>输入/输出上下文<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Reading from and writing to the Ceph Storage Cluster requires an input/output
context (ioctx). You can create an ioctx with the <code class="docutils literal notranslate"><span class="pre">open_ioctx()</span></code> or
<code class="docutils literal notranslate"><span class="pre">open_ioctx2()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">Rados</span></code> class. The <code class="docutils literal notranslate"><span class="pre">ioctx_name</span></code> parameter
is the name of the  pool and <code class="docutils literal notranslate"><span class="pre">pool_id</span></code> is the ID of the pool you wish to use.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>     <span class="n">ioctx</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">open_ioctx</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>or</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>     <span class="n">ioctx</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">open_ioctx2</span><span class="p">(</span><span class="n">pool_id</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Once you have an I/O context, you can read/write objects, extended attributes,
and perform a number of other operations. After you complete operations, ensure
that you close the connection. For example:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>     <span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Closing the connection.&quot;</span>
     <span class="n">ioctx</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id8">
<h3>对象的写入、读取和删除<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Once you create an I/O context, you can write objects to the cluster. If you
write to an object that doesn’t exist, Ceph creates it. If you write to an
object that exists, Ceph overwrites it (except when you specify a range, and
then it only overwrites the range). You may read objects (and object ranges)
from the cluster. You may also remove objects from the cluster. For example:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Writing object &#39;hw&#39; with contents &#39;Hello World!&#39; to pool &#39;data&#39;.&quot;</span>
<span class="hll"><span class="n">ioctx</span><span class="o">.</span><span class="n">write_full</span><span class="p">(</span><span class="s2">&quot;hw&quot;</span><span class="p">,</span> <span class="s2">&quot;Hello World!&quot;</span><span class="p">)</span>
</span>
<span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Contents of object &#39;hw&#39;</span><span class="se">\n</span><span class="s2">------------------------</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="hll"><span class="k">print</span> <span class="n">ioctx</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;hw&quot;</span><span class="p">)</span>
</span>
<span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Removing object &#39;hw&#39;&quot;</span>
<span class="hll"><span class="n">ioctx</span><span class="o">.</span><span class="n">remove_object</span><span class="p">(</span><span class="s2">&quot;hw&quot;</span><span class="p">)</span>
</span></pre></div>
</td></tr></table></div>
</div>
<div class="section" id="xattrs">
<h3>XATTRS 的读取和写入<a class="headerlink" href="#xattrs" title="Permalink to this headline">¶</a></h3>
<p>Once you create an object, you can write extended attributes (XATTRs) to
the object and read XATTRs from the object. For example:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Writing XATTR &#39;lang&#39; with value &#39;en_US&#39; to object &#39;hw&#39;&quot;</span>
<span class="hll"><span class="n">ioctx</span><span class="o">.</span><span class="n">set_xattr</span><span class="p">(</span><span class="s2">&quot;hw&quot;</span><span class="p">,</span> <span class="s2">&quot;lang&quot;</span><span class="p">,</span> <span class="s2">&quot;en_US&quot;</span><span class="p">)</span>
</span>
<span class="k">print</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Getting XATTR &#39;lang&#39; from object &#39;hw&#39;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="hll"><span class="k">print</span> <span class="n">ioctx</span><span class="o">.</span><span class="n">get_xattr</span><span class="p">(</span><span class="s2">&quot;hw&quot;</span><span class="p">,</span> <span class="s2">&quot;lang&quot;</span><span class="p">)</span>
</span></pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id9">
<h3>罗列对象<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>If you want to examine the list of objects in a pool, you may
retrieve the list of objects and iterate over them with the object iterator.
For example:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="hll"><span class="n">object_iterator</span> <span class="o">=</span> <span class="n">ioctx</span><span class="o">.</span><span class="n">list_objects</span><span class="p">()</span>
</span>
<span class="k">while</span> <span class="bp">True</span> <span class="p">:</span>

        <span class="k">try</span> <span class="p">:</span>
<span class="hll">                <span class="n">rados_object</span> <span class="o">=</span> <span class="n">object_iterator</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
</span><span class="hll">                <span class="k">print</span> <span class="s2">&quot;Object contents = &quot;</span> <span class="o">+</span> <span class="n">rados_object</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span>
        <span class="k">except</span> <span class="ne">StopIteration</span> <span class="p">:</span>
                <span class="k">break</span>
</pre></div>
</td></tr></table></div>
<p>The <code class="docutils literal notranslate"><span class="pre">Object</span></code> class provides a file-like interface to an object, allowing
you to read and write content and extended attributes. Object operations using
the I/O context provide additional functionality and asynchronous capabilities.</p>
</div>
</div>
<div class="section" id="api">
<h2>集群句柄 API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Rados</span></code> class provides an interface into the Ceph Storage Daemon.</p>
<div class="section" id="id10">
<h3>配置<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Rados</span></code> class provides methods for getting and setting configuration
values, reading the Ceph configuration file, and parsing arguments. You
do not need to be connected to the Ceph Storage Cluster to invoke the following
methods. See <a class="reference external" href="../../configuration">Storage Cluster Configuration</a> for details on settings.</p>
<dl class="method">
<dt id="rados.Rados.conf_get">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">conf_get</code><span class="sig-paren">(</span><em class="sig-param">option</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.conf_get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Rados.conf_set">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">conf_set</code><span class="sig-paren">(</span><em class="sig-param">option</em>, <em class="sig-param">val</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.conf_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Rados.conf_read_file">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">conf_read_file</code><span class="sig-paren">(</span><em class="sig-param">path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.conf_read_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Rados.conf_parse_argv">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">conf_parse_argv</code><span class="sig-paren">(</span><em class="sig-param">args</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.conf_parse_argv" title="Permalink to this definition">¶</a></dt>
<dd><p>Rados.conf_parse_argv(self, args)</p>
<p>Parse known arguments from args, and remove; returned
args contain only those unknown to ceph</p>
</dd></dl>

<dl class="method">
<dt id="rados.Rados.version">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Rados.version(self)</p>
<p>Get the version number of the <code class="docutils literal notranslate"><span class="pre">librados</span></code> C library.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a tuple of <code class="docutils literal notranslate"><span class="pre">(major,</span> <span class="pre">minor,</span> <span class="pre">extra)</span></code> components of the
librados version</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="id11">
<h3>连接管理<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>Once you configure your cluster handle, you may connect to the cluster, check
the cluster <code class="docutils literal notranslate"><span class="pre">fsid</span></code>, retrieve cluster statistics, and disconnect (shutdown)
from the cluster. You may also assert that the cluster handle is in a particular
state (e.g., “configuring”, “connecting”, etc.).</p>
<dl class="method">
<dt id="rados.Rados.connect">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">connect</code><span class="sig-paren">(</span><em class="sig-param">timeout=0</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Rados.connect(self, timeout=0)</p>
<p>Connect to the cluster.  Use shutdown() to release resources.</p>
</dd></dl>

<dl class="method">
<dt id="rados.Rados.shutdown">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">shutdown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Rados.shutdown(self)</p>
<p>Disconnects from the cluster.  Call this explicitly when a
Rados.connect()ed object is no longer used.</p>
</dd></dl>

<dl class="method">
<dt id="rados.Rados.get_fsid">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">get_fsid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.get_fsid" title="Permalink to this definition">¶</a></dt>
<dd><p>Rados.get_fsid(self)</p>
<p>Get the fsid of the cluster as a hexadecimal string.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Error</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str - cluster fsid</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="rados.Rados.get_cluster_stats">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">get_cluster_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.get_cluster_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Rados.get_cluster_stats(self)</p>
<p>Read usage info about the cluster</p>
<p>This tells you total space, space used, space available, and number
of objects. These are not updated immediately when data is written,
they are eventually consistent.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>dict - contains the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">kb</span></code> (int) - total space</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kb_used</span></code> (int) - space used</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kb_avail</span></code> (int) - free space available</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_objects</span></code> (int) - number of objects</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="rados.Rados">
<em class="property">class </em><code class="sig-prename descclassname">rados.</code><code class="sig-name descname">Rados</code><a class="headerlink" href="#rados.Rados" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="rados.Rados.require_state">
<code class="sig-name descname">require_state</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.require_state" title="Permalink to this definition">¶</a></dt>
<dd><p>检查一下 Rados 对象是否处于指定状态。</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> – Any number of states to check as separate arguments</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">RadosStateError</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id12">
<h3>存储池操作<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>To use pool operation methods, you must connect to the Ceph Storage Cluster
first.  You may list the available pools, create a pool, check to see if a pool
exists,  and delete a pool.</p>
<dl class="method">
<dt id="rados.Rados.list_pools">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">list_pools</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.list_pools" title="Permalink to this definition">¶</a></dt>
<dd><p>Rados.list_pools(self)</p>
<p>Gets a list of pool names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list - of pool names.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="rados.Rados.create_pool">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">create_pool</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em>, <em class="sig-param">crush_rule=None</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.create_pool" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Rados.pool_exists">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">pool_exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.pool_exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Rados.delete_pool">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">delete_pool</code><span class="sig-paren">(</span><em class="sig-param">pool_name</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.delete_pool" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="id13">
<h2>输入/输出上下文 API<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<p>To write data to and read data from the Ceph Object Store, you must create
an Input/Output context (ioctx). The <cite>Rados</cite> class provides <cite>open_ioctx()</cite>
and <cite>open_ioctx2()</cite> methods. The remaining <code class="docutils literal notranslate"><span class="pre">ioctx</span></code> operations involve
invoking methods of the <cite>Ioctx</cite> and other classes.</p>
<dl class="method">
<dt id="rados.Rados.open_ioctx">
<code class="sig-prename descclassname">Rados.</code><code class="sig-name descname">open_ioctx</code><span class="sig-paren">(</span><em class="sig-param">ioctx_name</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Rados.open_ioctx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.require_ioctx_open">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">require_ioctx_open</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.require_ioctx_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Ioctx.require_ioctx_open(self)</p>
<p>Checks if the rados.Ioctx object state is ‘open’</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>IoctxStateError</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="rados.Ioctx.get_stats">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">get_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.get_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Ioctx.get_stats(self)</p>
<p>Get pool usage statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>dict - contains the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">num_bytes</span></code> (int) - size of pool in bytes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_kb</span></code> (int) - size of pool in kbytes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_objects</span></code> (int) - number of objects in the pool</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_object_clones</span></code> (int) - number of object clones</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_object_copies</span></code> (int) - number of object copies</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">num_objects_missing_on_primary</span></code> (int) - number of objets</dt><dd><p>missing on primary</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_objects_unfound</span></code> (int) - number of unfound objects</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_objects_degraded</span></code> (int) - number of degraded objects</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_rd</span></code> (int) - bytes read</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_rd_kb</span></code> (int) - kbytes read</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_wr</span></code> (int) - bytes written</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_wr_kb</span></code> (int) - kbytes written</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="rados.Ioctx.get_last_version">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">get_last_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.get_last_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Ioctx.get_last_version(self)</p>
<p>Return the version of the last object read or written to.</p>
<p>This exposes the internal version number of the last object read or
written via this io context</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>version of the last object used</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="rados.Ioctx.close">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Ioctx.close(self)</p>
<p>Close a rados.Ioctx object.</p>
<p>This just tells librados that you no longer need to use the io context.
It may not be freed immediately if there are pending asynchronous
requests on it, but you should not use an io context again after
calling this function on it.</p>
</dd></dl>

<div class="section" id="object-operations">
<h3>Object Operations<a class="headerlink" href="#object-operations" title="Permalink to this headline">¶</a></h3>
<p>The Ceph Storage Cluster stores data as objects. You can read and write objects
synchronously or asynchronously. You can read and write from offsets. An object
has a name (or key) and data.</p>
<dl class="method">
<dt id="rados.Ioctx.aio_write">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">aio_write</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">to_write</em>, <em class="sig-param">offset=0</em>, <em class="sig-param">oncomplete=None</em>, <em class="sig-param">onsafe=None</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.aio_write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.aio_write_full">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">aio_write_full</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">to_write</em>, <em class="sig-param">oncomplete=None</em>, <em class="sig-param">onsafe=None</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.aio_write_full" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.aio_append">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">aio_append</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">to_append</em>, <em class="sig-param">oncomplete=None</em>, <em class="sig-param">onsafe=None</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.aio_append" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.write">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">data</em>, <em class="sig-param">offset=0</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.write_full">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">write_full</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">data</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.write_full" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.aio_flush">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">aio_flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.aio_flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Ioctx.aio_flush(self)</p>
<p>Block until all pending writes in an io context are safe</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Error</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="rados.Ioctx.set_locator_key">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">set_locator_key</code><span class="sig-paren">(</span><em class="sig-param">loc_key</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.set_locator_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.aio_read">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">aio_read</code><span class="sig-paren">(</span><em class="sig-param">object_name</em>, <em class="sig-param">length</em>, <em class="sig-param">offset</em>, <em class="sig-param">oncomplete</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.aio_read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.read">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">length=8192</em>, <em class="sig-param">offset=0</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.stat">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">stat</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.stat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.trunc">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">trunc</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">size</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.trunc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.remove_object">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">remove_object</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.remove_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="id14">
<h3>对象的扩展属性<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>You may set extended attributes (XATTRs) on an object. You can retrieve a list
of objects or XATTRs and iterate over them.</p>
<dl class="method">
<dt id="rados.Ioctx.set_xattr">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">set_xattr</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">xattr_name</em>, <em class="sig-param">xattr_value</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.set_xattr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.get_xattrs">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">get_xattrs</code><span class="sig-paren">(</span><em class="sig-param">oid</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.get_xattrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.XattrIterator.__next__">
<code class="sig-prename descclassname">XattrIterator.</code><code class="sig-name descname">__next__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.XattrIterator.__next__" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the next xattr on the object</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>StopIteration</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pair - of name and value of the next Xattr</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="rados.Ioctx.get_xattr">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">get_xattr</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">xattr_name</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.get_xattr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Ioctx.rm_xattr">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">rm_xattr</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">xattr_name</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.rm_xattr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="object-interface">
<h2>Object Interface<a class="headerlink" href="#object-interface" title="Permalink to this headline">¶</a></h2>
<p>From an I/O context, you can retrieve a list of objects from a pool and iterate
over them. The object interface provide makes each object look like a file, and
you may perform synchronous operations on the  objects. For asynchronous
operations, you should use the I/O context methods.</p>
<dl class="method">
<dt id="rados.Ioctx.list_objects">
<code class="sig-prename descclassname">Ioctx.</code><code class="sig-name descname">list_objects</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Ioctx.list_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Ioctx.list_objects(self)</p>
<p>Get ObjectIterator on rados.Ioctx object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ObjectIterator</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="rados.ObjectIterator.__next__">
<code class="sig-prename descclassname">ObjectIterator.</code><code class="sig-name descname">__next__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.ObjectIterator.__next__" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the next object name and locator in the pool</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>StopIteration</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>next rados.Ioctx Object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="rados.Object.read">
<code class="sig-prename descclassname">Object.</code><code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">length = 1024*1024</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Object.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Object.write">
<code class="sig-prename descclassname">Object.</code><code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param">string_to_write</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Object.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Object.get_xattrs">
<code class="sig-prename descclassname">Object.</code><code class="sig-name descname">get_xattrs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Object.get_xattrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Object.get_xattr">
<code class="sig-prename descclassname">Object.</code><code class="sig-name descname">get_xattr</code><span class="sig-paren">(</span><em class="sig-param">xattr_name</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Object.get_xattr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Object.set_xattr">
<code class="sig-prename descclassname">Object.</code><code class="sig-name descname">set_xattr</code><span class="sig-paren">(</span><em class="sig-param">xattr_name</em>, <em class="sig-param">xattr_value</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Object.set_xattr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Object.rm_xattr">
<code class="sig-prename descclassname">Object.</code><code class="sig-name descname">rm_xattr</code><span class="sig-paren">(</span><em class="sig-param">xattr_name</em><span class="sig-paren">)</span><a class="headerlink" href="#rados.Object.rm_xattr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Object.stat">
<code class="sig-prename descclassname">Object.</code><code class="sig-name descname">stat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Object.stat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="rados.Object.remove">
<code class="sig-prename descclassname">Object.</code><code class="sig-name descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rados.Object.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">安装 Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephadm/">Cephadm</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Ceph 存储集群</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../configuration/">配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deployment/">部署</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/">运维</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/">手册页</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/">故障排除</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../">APIs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../librados-intro/">librados 简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../librados/">librados (C)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../libradospp/">librados (C++)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">librados (Python)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">开工</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id3">导入模块</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id4">配置集群句柄</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id5">连接到集群</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id6">管理存储池</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id7">输入/输出上下文</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id8">对象的写入、读取和删除</a></li>
<li class="toctree-l5"><a class="reference internal" href="#xattrs">XATTRS 的读取和写入</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id9">罗列对象</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#api">集群句柄 API</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#id10">配置</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id11">连接管理</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id12">存储池操作</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id13">输入/输出上下文 API</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#object-operations">Object Operations</a></li>
<li class="toctree-l5"><a class="reference internal" href="#id14">对象的扩展属性</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#object-interface">Object Interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../objclass-sdk/">object class</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph 管理器守护进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/dashboard/">Ceph 仪表盘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/developer_guide/">开发者指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/internals/">Ceph 内幕</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../governance/">项目管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../foundation/">Ceph 基金会</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/general/">Ceph 版本（总目录）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/">Ceph 版本（索引）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Ceph 术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../translation_cn/">中文版翻译资源</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../objclass-sdk/" title="SDK for Ceph Object Classes"
             >next</a> |</li>
        <li class="right" >
          <a href="../libradospp/" title="LibradosPP (C++)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../" >Ceph 存储集群</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../" >Ceph 存储集群 API</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>