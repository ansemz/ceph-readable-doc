
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SDK for Ceph Object Classes &mdash; Ceph Documentation</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Ceph Documentation" href="../../../" />
    <link rel="up" title="Ceph 存储集群 API" href="../" />
    <link rel="next" title="Ceph 文件系统" href="../../../cephfs/" />
    <link rel="prev" title="Librados (Python)" href="../python/" />
    

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../../cephfs/" title="Ceph 文件系统"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../python/" title="Librados (Python)"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../" >Ceph 存储集群</a> &raquo;</li>
          <li><a href="../" accesskey="U">Ceph 存储集群 API</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="sdk-for-ceph-object-classes">
<h1>SDK for Ceph Object Classes<a class="headerlink" href="#sdk-for-ceph-object-classes" title="Permalink to this headline">¶</a></h1>
<p><cite>Ceph</cite> can be extended by creating shared object classes called <cite>Ceph Object
Classes</cite>. The existing framework to build these object classes has dependencies
on the internal functionality of <cite>Ceph</cite>, which restricts users to build object
classes within the tree. The aim of this project is to create an independent
object class interface, which can be used to build object classes outside the
<cite>Ceph</cite> tree. This allows us to have two types of object classes, 1) those that
have in-tree dependencies and reside in the tree and 2) those that can make use
of the <cite>Ceph Object Class SDK framework</cite> and can be built outside of the <cite>Ceph</cite>
tree because they do not depend on any internal implementation of <cite>Ceph</cite>. This
project decouples object class development from Ceph and encourages creation
and distribution of object classes as packages.</p>
<p>In order to demonstrate the use of this framework, we have provided an example
called <tt class="docutils literal"><span class="pre">cls_sdk</span></tt>, which is a very simple object class that makes use of the
SDK framework. This object class resides in the <tt class="docutils literal"><span class="pre">src/cls</span></tt> directory.</p>
<div class="section" id="installing-objclass-h">
<h2>Installing objclass.h<a class="headerlink" href="#installing-objclass-h" title="Permalink to this headline">¶</a></h2>
<p>The object class interface that enables out-of-tree development of object
classes resides in <tt class="docutils literal"><span class="pre">src/include/rados/</span></tt> and gets installed with <cite>Ceph</cite>
installation. After running <tt class="docutils literal"><span class="pre">make</span> <span class="pre">install</span></tt>, you should be able to see it
in <tt class="docutils literal"><span class="pre">&lt;prefix&gt;/include/rados</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">rados</span>
</pre></div>
</div>
</div>
<div class="section" id="using-the-sdk-example">
<h2>Using the SDK example<a class="headerlink" href="#using-the-sdk-example" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">cls_sdk</span></tt> object class resides in <tt class="docutils literal"><span class="pre">src/cls/sdk/</span></tt>. This gets built and
loaded into Ceph, with the Ceph build process. You can run the
<tt class="docutils literal"><span class="pre">ceph_test_cls_sdk</span></tt> unittest, which resides in <tt class="docutils literal"><span class="pre">src/test/cls_sdk/</span></tt>,
to test this class.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/">安装（快速）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">安装（手动）</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Ceph 存储集群</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../configuration/">配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deployment/">部署</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/">运维</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/">手册页</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/">故障排除</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../">APIs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../librados-intro/">librados 简介</a></li>
<li class="toctree-l3"><a class="reference internal" href="../librados/">librados (C)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../libradospp/">librados (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/">librados (Python)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">object class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-objclass-h">Installing objclass.h</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-the-sdk-example">Using the SDK example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph 文件系统</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph 管理器守护进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/">开发文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/">Ceph 版本</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Ceph 术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../README/">中文版翻译说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../translation-convention/">中文版词语翻译惯例</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../../cephfs/" title="Ceph 文件系统"
             >next</a> |</li>
        <li class="right" >
          <a href="../python/" title="Librados (Python)"
             >previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../" >Ceph 存储集群</a> &raquo;</li>
          <li><a href="../" >Ceph 存储集群 API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Red Hat, Inc, and contributors. Licensed under Creative Commons BY-SA.
    </div>
  </body>
</html>