
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Placement Group States &mdash; Ceph Documentation</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Ceph Documentation" href="../../../" />
    <link rel="up" title="Placement Groups" href="../placement-groups/" />
    <link rel="next" title="Placement Group Concepts" href="../pg-concepts/" />
    <link rel="prev" title="Placement Groups" href="../placement-groups/" />
    <script type="text/javascript" src="http://ayni.ceph.com/public/js/ceph.js"></script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../pg-concepts/" title="Placement Group Concepts"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../placement-groups/" title="Placement Groups"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../" >Ceph Storage Cluster</a> &raquo;</li>
          <li><a href="../" >Cluster Operations</a> &raquo;</li>
          <li><a href="../placement-groups/" accesskey="U">Placement Groups</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="placement-group-states">
<h1>Placement Group States<a class="headerlink" href="#placement-group-states" title="Permalink to this headline">Â¶</a></h1>
<p>When checking a cluster&#8217;s status (e.g., running <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">-w</span></tt> or <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">-s</span></tt>),
Ceph will report on the status of the placement groups. A placement group has
one or more states. The optimum state for placement groups in the placement group
map is <tt class="docutils literal"><span class="pre">active</span> <span class="pre">+</span> <span class="pre">clean</span></tt>.</p>
<dl class="docutils">
<dt><em>Creating</em></dt>
<dd>Ceph is still creating the placement group.</dd>
<dt><em>Active</em></dt>
<dd>Ceph will process requests to the placement group.</dd>
<dt><em>Clean</em></dt>
<dd>Ceph replicated all objects in the placement group the correct number of times.</dd>
<dt><em>Down</em></dt>
<dd>A replica with necessary data is down, so the placement group is offline.</dd>
<dt><em>Scrubbing</em></dt>
<dd>Ceph is checking the placement group for inconsistencies.</dd>
<dt><em>Degraded</em></dt>
<dd>Ceph has not replicated some objects in the placement group the correct number of times yet.</dd>
<dt><em>Inconsistent</em></dt>
<dd>Ceph detects inconsistencies in the one or more replicas of an object in the placement group
(e.g. objects are the wrong size, objects are missing from one replica <em>after</em> recovery finished, etc.).</dd>
<dt><em>Peering</em></dt>
<dd>The placement group is undergoing the peering process</dd>
<dt><em>Repair</em></dt>
<dd>Ceph is checking the placement group and repairing any inconsistencies it finds (if possible).</dd>
<dt><em>Recovering</em></dt>
<dd>Ceph is migrating/synchronizing objects and their replicas.</dd>
<dt><em>Backfill</em></dt>
<dd>Ceph is scanning and synchronizing the entire contents of a placement group
instead of inferring what contents need to be synchronized from the logs of
recent operations. <em>Backfill</em> is a special case of recovery.</dd>
<dt><em>Wait-backfill</em></dt>
<dd>The placement group is waiting in line to start backfill.</dd>
<dt><em>Backfill-toofull</em></dt>
<dd>A backfill operation is waiting because the destination OSD is over its
full ratio.</dd>
<dt><em>Incomplete</em></dt>
<dd>Ceph detects that a placement group is missing information about
writes that may have occurred, or does not have any healthy
copies. If you see this state, try to start any failed OSDs that may
contain the needed information. In the case of an erasure coded pool
temporarily reducing min_size may allow recovery.</dd>
<dt><em>Stale</em></dt>
<dd>The placement group is in an unknown state - the monitors have not received
an update for it since the placement group mapping changed.</dd>
<dt><em>Remapped</em></dt>
<dd>The placement group is temporarily mapped to a different set of OSDs from what
CRUSH specified.</dd>
<dt><em>Undersized</em></dt>
<dd>The placement group fewer copies than the configured pool replication level.</dd>
<dt><em>Peered</em></dt>
<dd>The placement group has peered, but cannot serve client IO due to not having
enough copies to reach the pool&#8217;s configured min_size parameter.  Recovery
may occur in this state, so the pg may heal up to min_size eventually.</dd>
</dl>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/">Installation (Quick)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installation (Manual)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Ceph Storage Cluster</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../configuration/">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deployment/">Deployment</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../">Operations</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../operating/">Operating a Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../monitoring/">Monitoring a Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../monitoring-osd-pg/">Monitoring OSDs and PGs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-management/">User Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data-placement/">Data Placement Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pools/">Pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../erasure-code/">Erasure code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cache-tiering/">Cache Tiering</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../placement-groups/">Placement Groups</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../placement-groups/#a-preselection-of-pg-num">A preselection of pg_num</a></li>
<li class="toctree-l4"><a class="reference internal" href="../placement-groups/#how-are-placement-groups-used">How are Placement Groups used ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../placement-groups/#placement-groups-tradeoffs">Placement Groups Tradeoffs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../placement-groups/#choosing-the-number-of-placement-groups">Choosing the number of Placement Groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../placement-groups/#set-the-number-of-placement-groups">Set the Number of Placement Groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../placement-groups/#get-the-number-of-placement-groups">Get the Number of Placement Groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../placement-groups/#get-a-cluster-s-pg-statistics">Get a Cluster&#8217;s PG Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../placement-groups/#get-statistics-for-stuck-pgs">Get Statistics for Stuck PGs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../placement-groups/#get-a-pg-map">Get a PG Map</a></li>
<li class="toctree-l4"><a class="reference internal" href="../placement-groups/#get-a-pgs-statistics">Get a PGs Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../placement-groups/#scrub-a-placement-group">Scrub a Placement Group</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../placement-groups/#revert-lost">Revert Lost</a><ul class="current">
<li class="toctree-l5 current"><a class="current reference internal" href="">Placement Group States</a></li>
<li class="toctree-l5"><a class="reference internal" href="../pg-concepts/">Placement Group Concepts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../crush-map/">CRUSH Maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../add-or-rm-osds/">Adding/Removing OSDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../add-or-rm-mons/">Adding/Removing Monitors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../control/">Command Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/community/">The Ceph Community</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/troubleshooting-mon/">Troubleshooting Monitors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/troubleshooting-osd/">Troubleshooting OSDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/troubleshooting-pg/">Troubleshooting PGs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/log-and-debug/">Logging and Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/cpu-profiling/">CPU Profiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/memory-profiling/">Memory Profiling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../man/">Man Pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/">APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph Filesystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/rbd/">Ceph Block Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph Object Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/">Ceph Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../pg-concepts/" title="Placement Group Concepts"
             >next</a> |</li>
        <li class="right" >
          <a href="../placement-groups/" title="Placement Groups"
             >previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../" >Ceph Storage Cluster</a> &raquo;</li>
          <li><a href="../" >Cluster Operations</a> &raquo;</li>
          <li><a href="../placement-groups/" >Placement Groups</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Red Hat, Inc, and contributors. Licensed under Creative Commons BY-SA.
    </div>
  </body>
</html>