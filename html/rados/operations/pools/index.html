
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Pools &mdash; Ceph Documentation</title>
    
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Ceph Documentation" href="../../../" />
    <link rel="up" title="Cluster Operations" href="../" />
    <link rel="next" title="Erasure code" href="../erasure-code/" />
    <link rel="prev" title="Data Placement Overview" href="../data-placement/" />
    <script type="text/javascript" src="http://ayni.ceph.com/public/js/ceph.js"></script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../erasure-code/" title="Erasure code"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../data-placement/" title="Data Placement Overview"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../" >Ceph Storage Cluster</a> &raquo;</li>
          <li><a href="../" accesskey="U">Cluster Operations</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="pools">
<h1>Pools<a class="headerlink" href="#pools" title="Permalink to this headline">¶</a></h1>
<p>When you first deploy a cluster without creating a pool, Ceph uses the default
pools for storing data. A pool provides you with:</p>
<ul class="simple">
<li><strong>Resilience</strong>: You can set how many OSD are allowed to fail without losing data.
For replicated pools, it is the desired number of copies/replicas of an object.
A typical configuration stores an object and one additional copy
(i.e., <tt class="docutils literal"><span class="pre">size</span> <span class="pre">=</span> <span class="pre">2</span></tt>), but you can determine the number of copies/replicas.
For <a class="reference external" href="../erasure-code">erasure coded pools</a>, it is the number of coding chunks
(i.e. <tt class="docutils literal"><span class="pre">m=2</span></tt> in the <strong>erasure code profile</strong>)</li>
<li><strong>Placement Groups</strong>: You can set the number of placement groups for the pool.
A typical configuration uses approximately 100 placement groups per OSD to
provide optimal balancing without using up too many computing resources. When
setting up multiple pools, be careful to ensure you set a reasonable number of
placement groups for both the pool and the cluster as a whole.</li>
<li><strong>CRUSH Rules</strong>: When you store data in a pool, a CRUSH ruleset mapped to the
pool enables CRUSH to identify a rule for the placement of the object
and its replicas (or chunks for erasure coded pools) in your cluster.
You can create a custom CRUSH rule for your pool.</li>
<li><strong>Snapshots</strong>: When you create snapshots with <tt class="docutils literal"><span class="pre">ceph</span> <span class="pre">osd</span> <span class="pre">pool</span> <span class="pre">mksnap</span></tt>,
you effectively take a snapshot of a particular pool.</li>
</ul>
<p>To organize data into pools, you can list, create, and remove pools.
You can also view the utilization statistics for each pool.</p>
<div class="section" id="list-pools">
<h2>List Pools<a class="headerlink" href="#list-pools" title="Permalink to this headline">¶</a></h2>
<p>To list your cluster&#8217;s pools, execute:</p>
<div class="highlight-python"><pre>ceph osd lspools</pre>
</div>
<p>On a freshly installed cluster, only the <tt class="docutils literal"><span class="pre">rbd</span></tt> pool exists.</p>
</div>
<div class="section" id="create-a-pool">
<span id="createpool"></span><h2>Create a Pool<a class="headerlink" href="#create-a-pool" title="Permalink to this headline">¶</a></h2>
<p>Before creating pools, refer to the <a class="reference external" href="../../configuration/pool-pg-config-ref">Pool, PG and CRUSH Config Reference</a>.
Ideally, you should override the default value for the number of placement
groups in your Ceph configuration file, as the default is NOT ideal.
For details on placement group numbers refer to <a class="reference external" href="../placement-groups#set-the-number-of-placement-groups">setting the number of placement groups</a></p>
<p>For example:</p>
<div class="highlight-python"><pre>osd pool default pg num = 100
osd pool default pgp num = 100</pre>
</div>
<p>To create a pool, execute:</p>
<div class="highlight-python"><pre>ceph osd pool create {pool-name} {pg-num} [{pgp-num}] [replicated] \
     [crush-ruleset-name] [expected-num-objects]
ceph osd pool create {pool-name} {pg-num}  {pgp-num}   erasure \
     [erasure-code-profile] [crush-ruleset-name] [expected_num_objects]</pre>
</div>
<p>Where:</p>
<p><tt class="docutils literal"><span class="pre">{pool-name}</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The name of the pool. It must be unique.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Required:</th><td class="field-body">Yes.</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">{pg-num}</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The total number of placement groups for the pool. See <a class="reference external" href="../placement-groups">Placement
Groups</a>  for details on calculating a suitable number. The
default value <tt class="docutils literal"><span class="pre">8</span></tt> is NOT suitable for most systems.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Required:</th><td class="field-body">Yes.</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">8</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">{pgp-num}</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The total number of placement groups for placement purposes. This
<strong>should be equal to the total number of placement groups</strong>, except
for placement group splitting scenarios.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Required:</th><td class="field-body">Yes. Picks up default or Ceph configuration value if not specified.</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">8</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">{replicated|erasure}</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The pool type which may either be <strong>replicated</strong> to
recover from lost OSDs by keeping multiple copies of the
objects or <strong>erasure</strong> to get a kind of
<a class="reference external" href="../erasure-code">generalized RAID5</a> capability.
The <strong>replicated</strong> pools require more
raw storage but implement all Ceph operations. The
<strong>erasure</strong> pools require less raw storage but only
implement a subset of the available operations.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Required:</th><td class="field-body">No.</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">replicated</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">[crush-ruleset-name]</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The name of a CRUSH ruleset to use for this pool.  The specified
ruleset must exist.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Required:</th><td class="field-body">No.</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">For <strong>replicated</strong> pools it is the ruleset specified by the <tt class="docutils literal"><span class="pre">osd</span>
<span class="pre">pool</span> <span class="pre">default</span> <span class="pre">crush</span> <span class="pre">replicated</span> <span class="pre">ruleset</span></tt> config variable.  This
ruleset must exist.
For <strong>erasure</strong> pools it is <tt class="docutils literal"><span class="pre">erasure-code</span></tt> if the <tt class="docutils literal"><span class="pre">default</span></tt>
<a class="reference external" href="../erasure-code-profile">erasure code profile</a> is used or <tt class="docutils literal"><span class="pre">{pool-name}</span></tt> otherwise.  This
ruleset will be created implicitly if it doesn&#8217;t exist already.</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">[erasure-code-profile=profile]</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">For <strong>erasure</strong> pools only. Use the <a class="reference external" href="../erasure-code-profile">erasure code profile</a>. It
must be an existing profile as defined by
<strong>osd erasure-code-profile set</strong>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Required:</th><td class="field-body">No.</td>
</tr>
</tbody>
</table>
<p>When you create a pool, set the number of placement groups to a reasonable value
(e.g., <tt class="docutils literal"><span class="pre">100</span></tt>). Consider the total number of placement groups per OSD too.
Placement groups are computationally expensive, so performance will degrade when
you have many pools with many placement groups (e.g., 50 pools with 100
placement groups each). The point of diminishing returns depends upon the power
of the OSD host.</p>
<p>See <a class="reference external" href="../placement-groups">Placement Groups</a> for details on calculating an appropriate number of
placement groups for your pool.</p>
<p><tt class="docutils literal"><span class="pre">[expected-num-objects]</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The expected number of objects for this pool. By setting this value (
together with a negative <strong>filestore merge threshold</strong>), the PG folder
splitting would happen at the pool creation time, to avoid the latency
impact to do a runtime folder splitting.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Required:</th><td class="field-body">No.</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">0, no splitting at the pool creation time.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="set-pool-quotas">
<h2>Set Pool Quotas<a class="headerlink" href="#set-pool-quotas" title="Permalink to this headline">¶</a></h2>
<p>You can set pool quotas for the maximum number of bytes and/or the maximum
number of objects per pool.</p>
<div class="highlight-python"><pre>ceph osd pool set-quota {pool-name} [max_objects {obj-count}] [max_bytes {bytes}]</pre>
</div>
<p>For example:</p>
<div class="highlight-python"><pre>ceph osd pool set-quota data max_objects 10000</pre>
</div>
<p>To remove a quota, set its value to <tt class="docutils literal"><span class="pre">0</span></tt>.</p>
</div>
<div class="section" id="delete-a-pool">
<h2>Delete a Pool<a class="headerlink" href="#delete-a-pool" title="Permalink to this headline">¶</a></h2>
<p>To delete a pool, execute:</p>
<div class="highlight-python"><pre>ceph osd pool delete {pool-name} [{pool-name} --yes-i-really-really-mean-it]</pre>
</div>
<p>To remove a pool the mon_allow_pool_delete flag must be set to true in the Monitor&#8217;s
configuration. Otherwise they will refuse to remove a pool.</p>
<p>See <a class="reference external" href="../../configuration/mon-config-ref">Monitor Configuration</a> for more information.</p>
<p>If you created your own rulesets and rules for a pool you created,  you should
consider removing them when you no longer need your pool:</p>
<div class="highlight-python"><pre>ceph osd pool get {pool-name} crush_ruleset</pre>
</div>
<p>If the ruleset was &#8220;123&#8221;, for example, you can check the other pools like so:</p>
<div class="highlight-python"><pre>ceph osd dump | grep "^pool" | grep "crush_ruleset 123"</pre>
</div>
<p>If no other pools use that custom ruleset, then it&#8217;s safe to delete that
ruleset from the cluster.</p>
<p>If you created users with permissions strictly for a pool that no longer
exists, you should consider deleting those users too:</p>
<div class="highlight-python"><pre>ceph auth list | grep -C 5 {pool-name}
ceph auth del {user}</pre>
</div>
</div>
<div class="section" id="rename-a-pool">
<h2>Rename a Pool<a class="headerlink" href="#rename-a-pool" title="Permalink to this headline">¶</a></h2>
<p>To rename a pool, execute:</p>
<div class="highlight-python"><pre>ceph osd pool rename {current-pool-name} {new-pool-name}</pre>
</div>
<p>If you rename a pool and you have per-pool capabilities for an authenticated
user, you must update the user&#8217;s capabilities (i.e., caps) with the new pool
name.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Version <tt class="docutils literal"><span class="pre">0.48</span></tt> Argonaut and above.</p>
</div>
</div>
<div class="section" id="show-pool-statistics">
<h2>Show Pool Statistics<a class="headerlink" href="#show-pool-statistics" title="Permalink to this headline">¶</a></h2>
<p>To show a pool&#8217;s utilization statistics, execute:</p>
<div class="highlight-python"><pre>rados df</pre>
</div>
</div>
<div class="section" id="make-a-snapshot-of-a-pool">
<h2>Make a Snapshot of a Pool<a class="headerlink" href="#make-a-snapshot-of-a-pool" title="Permalink to this headline">¶</a></h2>
<p>To make a snapshot of a pool, execute:</p>
<div class="highlight-python"><pre>ceph osd pool mksnap {pool-name} {snap-name}</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Version <tt class="docutils literal"><span class="pre">0.48</span></tt> Argonaut and above.</p>
</div>
</div>
<div class="section" id="remove-a-snapshot-of-a-pool">
<h2>Remove a Snapshot of a Pool<a class="headerlink" href="#remove-a-snapshot-of-a-pool" title="Permalink to this headline">¶</a></h2>
<p>To remove a snapshot of a pool, execute:</p>
<div class="highlight-python"><pre>ceph osd pool rmsnap {pool-name} {snap-name}</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Version <tt class="docutils literal"><span class="pre">0.48</span></tt> Argonaut and above.</p>
</div>
</div>
<div class="section" id="set-pool-values">
<span id="setpoolvalues"></span><h2>Set Pool Values<a class="headerlink" href="#set-pool-values" title="Permalink to this headline">¶</a></h2>
<p>To set a value to a pool, execute the following:</p>
<div class="highlight-python"><pre>ceph osd pool set {pool-name} {key} {value}</pre>
</div>
<p>You may set values for the following keys:</p>
<p id="size"><tt class="docutils literal"><span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Sets the number of replicas for objects in the pool.
See <a class="reference internal" href="#set-the-number-of-object-replicas">Set the Number of Object Replicas</a> for further details.
Replicated pools only.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p id="min-size"><tt class="docutils literal"><span class="pre">min_size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Sets the minimum number of replicas required for I/O.
See <a class="reference internal" href="#set-the-number-of-object-replicas">Set the Number of Object Replicas</a> for further details.
Replicated pools only.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Version:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0.54</span></tt> and above</td>
</tr>
</tbody>
</table>
<p id="pg-num"><tt class="docutils literal"><span class="pre">pg_num</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The effective number of placement groups to use when calculating
data placement.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">Superior to <tt class="docutils literal"><span class="pre">pg_num</span></tt> current value.</td>
</tr>
</tbody>
</table>
<p id="pgp-num"><tt class="docutils literal"><span class="pre">pgp_num</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The effective number of placement groups for placement to use
when calculating data placement.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">Equal to or less than <tt class="docutils literal"><span class="pre">pg_num</span></tt>.</td>
</tr>
</tbody>
</table>
<p id="crush-ruleset"><tt class="docutils literal"><span class="pre">crush_ruleset</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The ruleset to use for mapping object placement in the cluster.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p id="allow-ec-overwrites"><tt class="docutils literal"><span class="pre">allow_ec_overwrites</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Whether writes to an erasure coded pool can update part
of an object, so cephfs and rbd can use it. See
<a class="reference external" href="../erasure-code#erasure-coding-with-overwrites">Erasure Coding with Overwrites</a> for more details.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Version:</th><td class="field-body"><tt class="docutils literal"><span class="pre">12.2.0</span></tt> and above</td>
</tr>
</tbody>
</table>
<p id="hashpspool"><tt class="docutils literal"><span class="pre">hashpspool</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Set/Unset HASHPSPOOL flag on a given pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">1 sets flag, 0 unsets flag</td>
</tr>
<tr class="field-even field"><th class="field-name">Version:</th><td class="field-body">Version <tt class="docutils literal"><span class="pre">0.48</span></tt> Argonaut and above.</td>
</tr>
</tbody>
</table>
<p id="nodelete"><tt class="docutils literal"><span class="pre">nodelete</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Set/Unset NODELETE flag on a given pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">1 sets flag, 0 unsets flag</td>
</tr>
<tr class="field-even field"><th class="field-name">Version:</th><td class="field-body">Version <tt class="docutils literal"><span class="pre">FIXME</span></tt></td>
</tr>
</tbody>
</table>
<p id="nopgchange"><tt class="docutils literal"><span class="pre">nopgchange</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Set/Unset NOPGCHANGE flag on a given pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">1 sets flag, 0 unsets flag</td>
</tr>
<tr class="field-even field"><th class="field-name">Version:</th><td class="field-body">Version <tt class="docutils literal"><span class="pre">FIXME</span></tt></td>
</tr>
</tbody>
</table>
<p id="nosizechange"><tt class="docutils literal"><span class="pre">nosizechange</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Set/Unset NOSIZECHANGE flag on a given pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">1 sets flag, 0 unsets flag</td>
</tr>
<tr class="field-even field"><th class="field-name">Version:</th><td class="field-body">Version <tt class="docutils literal"><span class="pre">FIXME</span></tt></td>
</tr>
</tbody>
</table>
<p id="write-fadvise-dontneed"><tt class="docutils literal"><span class="pre">write_fadvise_dontneed</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Set/Unset WRITE_FADVISE_DONTNEED flag on a given pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">1 sets flag, 0 unsets flag</td>
</tr>
</tbody>
</table>
<p id="noscrub"><tt class="docutils literal"><span class="pre">noscrub</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Set/Unset NOSCRUB flag on a given pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">1 sets flag, 0 unsets flag</td>
</tr>
</tbody>
</table>
<p id="nodeep-scrub"><tt class="docutils literal"><span class="pre">nodeep-scrub</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Set/Unset NODEEP_SCRUB flag on a given pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">1 sets flag, 0 unsets flag</td>
</tr>
</tbody>
</table>
<p id="hit-set-type"><tt class="docutils literal"><span class="pre">hit_set_type</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Enables hit set tracking for cache pools.
See <a class="reference external" href="http://en.wikipedia.org/wiki/Bloom_filter">Bloom Filter</a> for additional information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Settings:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bloom</span></tt>, <tt class="docutils literal"><span class="pre">explicit_hash</span></tt>, <tt class="docutils literal"><span class="pre">explicit_object</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bloom</span></tt>. Other values are for testing.</td>
</tr>
</tbody>
</table>
<p id="hit-set-count"><tt class="docutils literal"><span class="pre">hit_set_count</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The number of hit sets to store for cache pools. The higher
the number, the more RAM consumed by the <tt class="docutils literal"><span class="pre">ceph-osd</span></tt> daemon.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1</span></tt>. Agent doesn&#8217;t handle &gt; 1 yet.</td>
</tr>
</tbody>
</table>
<p id="hit-set-period"><tt class="docutils literal"><span class="pre">hit_set_period</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The duration of a hit set period in seconds for cache pools.
The higher the number, the more RAM consumed by the
<tt class="docutils literal"><span class="pre">ceph-osd</span></tt> daemon.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">3600</span></tt> 1hr</td>
</tr>
</tbody>
</table>
<p id="hit-set-fpp"><tt class="docutils literal"><span class="pre">hit_set_fpp</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The false positive probability for the <tt class="docutils literal"><span class="pre">bloom</span></tt> hit set type.
See <a class="reference external" href="http://en.wikipedia.org/wiki/Bloom_filter">Bloom Filter</a> for additional information.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">0.0 - 1.0</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0.05</span></tt></td>
</tr>
</tbody>
</table>
<p id="cache-target-dirty-ratio"><tt class="docutils literal"><span class="pre">cache_target_dirty_ratio</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The percentage of the cache pool containing modified (dirty)
objects before the cache tiering agent will flush them to the
backing storage pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">.4</span></tt></td>
</tr>
</tbody>
</table>
<p id="cache-target-dirty-high-ratio"><tt class="docutils literal"><span class="pre">cache_target_dirty_high_ratio</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The percentage of the cache pool containing modified (dirty)
objects before the cache tiering agent will flush them to the
backing storage pool with a higher speed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">.6</span></tt></td>
</tr>
</tbody>
</table>
<p id="cache-target-full-ratio"><tt class="docutils literal"><span class="pre">cache_target_full_ratio</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The percentage of the cache pool containing unmodified (clean)
objects before the cache tiering agent will evict them from the
cache pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">.8</span></tt></td>
</tr>
</tbody>
</table>
<p id="target-max-bytes"><tt class="docutils literal"><span class="pre">target_max_bytes</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Ceph will begin flushing or evicting objects when the
<tt class="docutils literal"><span class="pre">max_bytes</span></tt> threshold is triggered.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1000000000000</span></tt>  #1-TB</td>
</tr>
</tbody>
</table>
<p id="target-max-objects"><tt class="docutils literal"><span class="pre">target_max_objects</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Ceph will begin flushing or evicting objects when the
<tt class="docutils literal"><span class="pre">max_objects</span></tt> threshold is triggered.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1000000</span></tt> #1M objects</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">hit_set_grade_decay_rate</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Temperature decay rate between two successive hit_sets</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">0 - 100</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">20</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">hit_set_search_last_n</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">Count at most N appearance in hit_sets for temperature calculation</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">0 - hit_set_count</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1</span></tt></td>
</tr>
</tbody>
</table>
<p id="cache-min-flush-age"><tt class="docutils literal"><span class="pre">cache_min_flush_age</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The time (in seconds) before the cache tiering agent will flush
an object from the cache pool to the storage pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">600</span></tt> 10min</td>
</tr>
</tbody>
</table>
<p id="cache-min-evict-age"><tt class="docutils literal"><span class="pre">cache_min_evict_age</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The time (in seconds) before the cache tiering agent will evict
an object from the cache pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><tt class="docutils literal"><span class="pre">1800</span></tt> 30min</td>
</tr>
</tbody>
</table>
<p id="fast-read"><tt class="docutils literal"><span class="pre">fast_read</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">On Erasure Coding pool, if this flag is turned on, the read request
would issue sub reads to all shards, and waits until it receives enough
shards to decode to serve the client. In the case of jerasure and isa
erasure plugins, once the first K replies return, client&#8217;s request is
served immediately using the data decoded from these replies. This
helps to tradeoff some resources for better performance. Currently this
flag is only supported for Erasure Coding pool.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
<tr class="field-odd field"><th class="field-name">Defaults:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0</span></tt></td>
</tr>
</tbody>
</table>
<p id="scrub-min-interval"><tt class="docutils literal"><span class="pre">scrub_min_interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The minimum interval in seconds for pool scrubbing when
load is low. If it is 0, the value osd_scrub_min_interval
from config is used.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0</span></tt></td>
</tr>
</tbody>
</table>
<p id="scrub-max-interval"><tt class="docutils literal"><span class="pre">scrub_max_interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The maximum interval in seconds for pool scrubbing
irrespective of cluster load. If it is 0, the value
osd_scrub_max_interval from config is used.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0</span></tt></td>
</tr>
</tbody>
</table>
<p id="deep-scrub-interval"><tt class="docutils literal"><span class="pre">deep_scrub_interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">The interval in seconds for pool “deep” scrubbing. If it
is 0, the value osd_deep_scrub_interval from config is used.</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0</span></tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="get-pool-values">
<h2>Get Pool Values<a class="headerlink" href="#get-pool-values" title="Permalink to this headline">¶</a></h2>
<p>To get a value from a pool, execute the following:</p>
<div class="highlight-python"><pre>ceph osd pool get {pool-name} {key}</pre>
</div>
<p>You may get values for the following keys:</p>
<p><tt class="docutils literal"><span class="pre">size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#size">size</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">min_size</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#min-size">min_size</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Version:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0.54</span></tt> and above</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">pg_num</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#pg-num">pg_num</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">pgp_num</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#pgp-num">pgp_num</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Range:</th><td class="field-body">Equal to or less than <tt class="docutils literal"><span class="pre">pg_num</span></tt>.</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">crush_ruleset</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#crush-ruleset">crush_ruleset</a></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">hit_set_type</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#hit-set-type">hit_set_type</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">String</td>
</tr>
<tr class="field-odd field"><th class="field-name">Valid Settings:</th><td class="field-body"><tt class="docutils literal"><span class="pre">bloom</span></tt>, <tt class="docutils literal"><span class="pre">explicit_hash</span></tt>, <tt class="docutils literal"><span class="pre">explicit_object</span></tt></td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">hit_set_count</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#hit-set-count">hit_set_count</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">hit_set_period</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#hit-set-period">hit_set_period</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">hit_set_fpp</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#hit-set-fpp">hit_set_fpp</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">cache_target_dirty_ratio</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#cache-target-dirty-ratio">cache_target_dirty_ratio</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">cache_target_dirty_high_ratio</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#cache-target-dirty-high-ratio">cache_target_dirty_high_ratio</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">cache_target_full_ratio</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#cache-target-full-ratio">cache_target_full_ratio</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">target_max_bytes</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#target-max-bytes">target_max_bytes</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">target_max_objects</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#target-max-objects">target_max_objects</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">cache_min_flush_age</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#cache-min-flush-age">cache_min_flush_age</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">cache_min_evict_age</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#cache-min-evict-age">cache_min_evict_age</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">fast_read</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#fast-read">fast_read</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">scrub_min_interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#scrub-min-interval">scrub_min_interval</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">scrub_max_interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#scrub-max-interval">scrub_max_interval</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">deep_scrub_interval</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Description:</th><td class="field-body">see <a class="reference internal" href="#deep-scrub-interval">deep_scrub_interval</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body">Double</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="set-the-number-of-object-replicas">
<h2>Set the Number of Object Replicas<a class="headerlink" href="#set-the-number-of-object-replicas" title="Permalink to this headline">¶</a></h2>
<p>To set the number of object replicas on a replicated pool, execute the following:</p>
<div class="highlight-python"><pre>ceph osd pool set {poolname} size {num-replicas}</pre>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">The <tt class="docutils literal"><span class="pre">{num-replicas}</span></tt> includes the object itself.
If you want the object and two copies of the object for a total of
three instances of the object, specify <tt class="docutils literal"><span class="pre">3</span></tt>.</p>
</div>
<p>For example:</p>
<div class="highlight-python"><pre>ceph osd pool set data size 3</pre>
</div>
<p>You may execute this command for each pool. <strong>Note:</strong> An object might accept
I/Os in degraded mode with fewer than <tt class="docutils literal"><span class="pre">pool</span> <span class="pre">size</span></tt> replicas.  To set a minimum
number of required replicas for I/O, you should use the <tt class="docutils literal"><span class="pre">min_size</span></tt> setting.
For example:</p>
<div class="highlight-python"><pre>ceph osd pool set data min_size 2</pre>
</div>
<p>This ensures that no object in the data pool will receive I/O with fewer than
<tt class="docutils literal"><span class="pre">min_size</span></tt> replicas.</p>
</div>
<div class="section" id="get-the-number-of-object-replicas">
<h2>Get the Number of Object Replicas<a class="headerlink" href="#get-the-number-of-object-replicas" title="Permalink to this headline">¶</a></h2>
<p>To get the number of object replicas, execute the following:</p>
<div class="highlight-python"><pre>ceph osd dump | grep 'replicated size'</pre>
</div>
<p>Ceph will list the pools, with the <tt class="docutils literal"><span class="pre">replicated</span> <span class="pre">size</span></tt> attribute highlighted.
By default, ceph creates two replicas of an object (a total of three copies, or
a size of 3).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../start/">Installation (Quick)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installation (Manual)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Ceph Storage Cluster</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../configuration/">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deployment/">Deployment</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../">Operations</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../operating/">Operating a Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../monitoring/">Monitoring a Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../monitoring-osd-pg/">Monitoring OSDs and PGs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../user-management/">User Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data-placement/">Data Placement Overview</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">Pools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#list-pools">List Pools</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-a-pool">Create a Pool</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-pool-quotas">Set Pool Quotas</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-a-pool">Delete a Pool</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rename-a-pool">Rename a Pool</a></li>
<li class="toctree-l4"><a class="reference internal" href="#show-pool-statistics">Show Pool Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#make-a-snapshot-of-a-pool">Make a Snapshot of a Pool</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remove-a-snapshot-of-a-pool">Remove a Snapshot of a Pool</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-pool-values">Set Pool Values</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-pool-values">Get Pool Values</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-the-number-of-object-replicas">Set the Number of Object Replicas</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-the-number-of-object-replicas">Get the Number of Object Replicas</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../erasure-code/">Erasure code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cache-tiering/">Cache Tiering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../placement-groups/">Placement Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../crush-map/">CRUSH Maps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../add-or-rm-osds/">Adding/Removing OSDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../add-or-rm-mons/">Adding/Removing Monitors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../control/">Command Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/community/">The Ceph Community</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/troubleshooting-mon/">Troubleshooting Monitors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/troubleshooting-osd/">Troubleshooting OSDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/troubleshooting-pg/">Troubleshooting PGs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/log-and-debug/">Logging and Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/cpu-profiling/">CPU Profiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../troubleshooting/memory-profiling/">Memory Profiling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../man/">Man Pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/">APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph Filesystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/rbd/">Ceph Block Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph Object Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../release-notes/">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/">Ceph Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../erasure-code/" title="Erasure code"
             >next</a> |</li>
        <li class="right" >
          <a href="../data-placement/" title="Data Placement Overview"
             >previous</a> |</li>
        <li><a href="../../../">Ceph Documentation</a> &raquo;</li>
          <li><a href="../../" >Ceph Storage Cluster</a> &raquo;</li>
          <li><a href="../" >Cluster Operations</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Red Hat, Inc, and contributors. Licensed under Creative Commons BY-SA.
    </div>
  </body>
</html>