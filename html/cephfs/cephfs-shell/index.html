
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>CephFS Shell &#8212; Ceph Documentation</title>
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="内核驱动支持的功能" href="../kernel-features/" />
    <link rel="prev" title="用 fstab 挂载" href="../fstab/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../kernel-features/" title="内核驱动支持的功能"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../fstab/" title="用 fstab 挂载"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" accesskey="U">Ceph 文件系统</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            

<div id="dev-warning" class="admonition note" style="display:none;">
  <p class="first admonition-title">Notice</p>
  <p class="last">This document is for a development version of Ceph.</p>
</div>

<div id="eol-warning" class="admonition warning" style="display:none;">
  <p class="first admonition-title">Warning</p>
  <p class="last">This document is for an unsupported version of Ceph.</p>
</div>
  <div id="docubetter" align="right" style="display:none; padding: 15px; font-weight: bold;">
    <a id="edit-on-github" href="https://github.com/ceph/ceph/edit/master/doc/cephfs/cephfs-shell.rst" rel="nofollow">Edit on GitHub</a> | <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <div class="section" id="cephfs-shell">
<h1>CephFS Shell<a class="headerlink" href="#cephfs-shell" title="Permalink to this headline">¶</a></h1>
<p>文件系统（ FS ） shell 包含各种类似 shell 的命令，可以直接与
<a class="reference internal" href="../../glossary/#term-19"><span class="xref std std-term">Ceph 文件系统</span></a>交互。</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cephfs</span><span class="o">-</span><span class="n">shell</span> <span class="p">[</span><span class="o">-</span><span class="n">options</span><span class="p">]</span> <span class="o">--</span> <span class="p">[</span><span class="n">command</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span><span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p>选项：</p>
<blockquote>
<div><dl class="option-list">
<dt><kbd><span class="option">-c</span>, <span class="option">--config <var>FILE</var></span></kbd></dt>
<dd><p>指定配置文件</p>
</dd>
<dt><kbd><span class="option">-b</span>, <span class="option">--batch <var>FILE</var></span></kbd></dt>
<dd><p>运行这个批处理文件</p>
</dd>
<dt><kbd><span class="option">-t</span>, <span class="option">--test <var>FILE</var></span></kbd></dt>
<dd><p>Test against transcript(s) in FILE</p>
</dd>
</dl>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Latest version of the cmd2 module is required for running cephfs-shell.
If CephFS is installed through source, execute cephfs-shell in the build
directory. It can also be executed as following using virtualenv:</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>build<span class="o">]</span>$ virtualenv -p python3 venv <span class="o">&amp;&amp;</span> <span class="nb">source</span> venv/bin/activate <span class="o">&amp;&amp;</span> pip3 install cmd2
<span class="o">[</span>build<span class="o">]</span>$ <span class="nb">source</span> vstart_environment.sh <span class="o">&amp;&amp;</span> <span class="nb">source</span> venv/bin/activate <span class="o">&amp;&amp;</span> python3 ../src/tools/cephfs/cephfs-shell
</pre></div>
</div>
<div class="section" id="id1">
<h2>命令<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mkdir">
<h3>mkdir<a class="headerlink" href="#mkdir" title="Permalink to this headline">¶</a></h3>
<p>Create the directory(ies), if they do not already exist.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="p">[</span><span class="o">-</span><span class="n">option</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">directory</span><span class="o">&gt;...</span>
</pre></div>
</div>
<ul class="simple">
<li><p>directory - name of the directory to be created.</p></li>
</ul>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-m <var>MODE</var></span></kbd></dt>
<dd><p>Sets the access mode for the new directory.</p>
</dd>
<dt><kbd><span class="option">-p</span>, <span class="option">--parent</span></kbd></dt>
<dd><p>Create parent directories as necessary. When this option is specified, no error is reported if a directory already exists.</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="put">
<h3>put<a class="headerlink" href="#put" title="Permalink to this headline">¶</a></h3>
<p>Copy a file/directory to Ceph File System from Local File System.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">put</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">source_path</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">target_path</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>source_path - local file/directory path to be copied to cephfs.</dt><dd><ul>
<li><p>if <cite>.</cite> copies all the file/directories in the local working directory.</p></li>
<li><p>if <cite>-</cite>  Reads the input from stdin.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>target_path - remote directory path where the files/directories are to be copied to.</dt><dd><ul>
<li><p>if <cite>.</cite> files/directories are copied to the remote working directory.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-f</span>, <span class="option">--force</span></kbd></dt>
<dd><p>Overwrites the destination if it already exists.</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="get">
<h3>get<a class="headerlink" href="#get" title="Permalink to this headline">¶</a></h3>
<p>Copy a file from Ceph File System to Local File System.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">get</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">source_path</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">target_path</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>source_path - remote file/directory path which is to be copied to local file system.</dt><dd><ul>
<li><p>if <cite>.</cite> copies all the file/directories in the remote working directory.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>target_path - local directory path where the files/directories are to be copied to.</dt><dd><ul>
<li><p>if <cite>.</cite> files/directories are copied to the local working directory.</p></li>
<li><p>if <cite>-</cite> Writes output to stdout.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-f</span>, <span class="option">--force</span></kbd></dt>
<dd><p>Overwrites the destination if it already exists.</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="ls">
<h3>ls<a class="headerlink" href="#ls" title="Permalink to this headline">¶</a></h3>
<p>List all the files and directories in the current working directory.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="p">[</span><span class="n">option</span><span class="p">]</span> <span class="p">[</span><span class="n">directory</span><span class="p">]</span><span class="o">...</span>
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>directory - name of directory whose files/directories are to be listed.</dt><dd><ul>
<li><p>By default current working directory’s files/directories are listed.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-l</span>, <span class="option">--long</span></kbd></dt>
<dd><p>list with long format - show permissions</p>
</dd>
<dt><kbd><span class="option">-r</span>, <span class="option">--reverse</span></kbd></dt>
<dd><p>reverse sort</p>
</dd>
<dt><kbd><span class="option">-H</span></kbd></dt>
<dd><p>human readable</p>
</dd>
<dt><kbd><span class="option">-a</span>, <span class="option">-a<var>ll</var></span></kbd></dt>
<dd><p>ignore entries starting with .</p>
</dd>
<dt><kbd><span class="option">-S</span></kbd></dt>
<dd><p>Sort by file_size</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="cat">
<h3>cat<a class="headerlink" href="#cat" title="Permalink to this headline">¶</a></h3>
<p>Concatenate files and print on the standard output</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span>  <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;....</span>
</pre></div>
</div>
<ul class="simple">
<li><p>file - name of the file</p></li>
</ul>
</div>
<div class="section" id="cd">
<h3>cd<a class="headerlink" href="#cd" title="Permalink to this headline">¶</a></h3>
<p>Change current working directory.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="p">[</span><span class="n">directory</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>directory - path/directory name. If no directory is mentioned it is changed to the root directory.</dt><dd><ul>
<li><p>If ‘.’ moves to the parent directory of the current directory.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="cwd">
<h3>cwd<a class="headerlink" href="#cwd" title="Permalink to this headline">¶</a></h3>
<p>Get current working directory.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cwd</span>
</pre></div>
</div>
</div>
<div class="section" id="quit-ctrl-d">
<h3>quit/Ctrl + D<a class="headerlink" href="#quit-ctrl-d" title="Permalink to this headline">¶</a></h3>
<p>Close the shell.</p>
</div>
<div class="section" id="chmod">
<h3>chmod<a class="headerlink" href="#chmod" title="Permalink to this headline">¶</a></h3>
<p>Change the permissions of file/directory.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">chmod</span> <span class="o">&lt;</span><span class="n">mode</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">/</span><span class="n">directory</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="mv">
<h3>mv<a class="headerlink" href="#mv" title="Permalink to this headline">¶</a></h3>
<p>Moves files/Directory from source to destination.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mv</span> <span class="o">&lt;</span><span class="n">source_path</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">destination_path</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="rmdir">
<h3>rmdir<a class="headerlink" href="#rmdir" title="Permalink to this headline">¶</a></h3>
<p>Delete a directory(ies).</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rmdir</span> <span class="o">&lt;</span><span class="n">directory_name</span><span class="o">&gt;.....</span>
</pre></div>
</div>
</div>
<div class="section" id="rm">
<h3>rm<a class="headerlink" href="#rm" title="Permalink to this headline">¶</a></h3>
<p>Remove a file(es).</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rm</span> <span class="o">&lt;</span><span class="n">file_name</span><span class="o">/</span><span class="n">pattern</span><span class="o">&gt;...</span>
</pre></div>
</div>
</div>
<div class="section" id="write">
<h3>write<a class="headerlink" href="#write" title="Permalink to this headline">¶</a></h3>
<p>Create and Write a file.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">write</span> <span class="o">&lt;</span><span class="n">file_name</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">Enter</span> <span class="n">Data</span><span class="o">&gt;</span>
<span class="n">Ctrl</span><span class="o">+</span><span class="n">D</span> <span class="n">Exit</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="lls">
<h3>lls<a class="headerlink" href="#lls" title="Permalink to this headline">¶</a></h3>
<p>Lists all files and directories in the specified directory.Current local directory files and directories are listed if no     path is mentioned</p>
<p>Usage:</p>
<blockquote>
<div><p>lls &lt;path&gt;…..</p>
</div></blockquote>
</div>
<div class="section" id="lcd">
<h3>lcd<a class="headerlink" href="#lcd" title="Permalink to this headline">¶</a></h3>
<p>Moves into the given local directory.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lcd</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="lpwd">
<h3>lpwd<a class="headerlink" href="#lpwd" title="Permalink to this headline">¶</a></h3>
<p>Prints the absolute path of the current local directory.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lpwd</span>
</pre></div>
</div>
</div>
<div class="section" id="umask">
<h3>umask<a class="headerlink" href="#umask" title="Permalink to this headline">¶</a></h3>
<p>Set and get the file mode creation mask</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">umask</span> <span class="p">[</span><span class="n">mode</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="alias">
<h3>alias<a class="headerlink" href="#alias" title="Permalink to this headline">¶</a></h3>
<p>Define or display aliases</p>
<p>Usage:</p>
<blockquote>
<div><p>alias [name] | [&lt;name&gt; &lt;value&gt;]</p>
</div></blockquote>
<ul class="simple">
<li><p>name - name of the alias being looked up, added, or replaced</p></li>
<li><p>value - what the alias will be resolved to (if adding or replacing) this can contain spaces and does not need to be quoted</p></li>
</ul>
</div>
<div class="section" id="run-pyscript">
<h3>run_pyscript<a class="headerlink" href="#run-pyscript" title="Permalink to this headline">¶</a></h3>
<p>Runs a python script file inside the console</p>
<p>Usage:</p>
<blockquote>
<div><p>run_pyscript &lt;script_path&gt; [script_arguments]</p>
</div></blockquote>
<ul class="simple">
<li><p>Console commands can be executed inside this script with cmd (“your command”)
However, you cannot run nested “py” or “pyscript” commands from within this
script. Paths or arguments that contain spaces must be enclosed in quotes</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command is available as <code class="docutils literal notranslate"><span class="pre">pyscript</span></code> for cmd2 versions 0.9.13
or less.</p>
</div>
</div>
<div class="section" id="py">
<h3>py<a class="headerlink" href="#py" title="Permalink to this headline">¶</a></h3>
<p>Invoke python command, shell, or script</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">py</span> <span class="o">&lt;</span><span class="n">command</span><span class="o">&gt;</span><span class="p">:</span> <span class="n">Executes</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">command</span><span class="o">.</span>
<span class="n">py</span><span class="p">:</span> <span class="n">Enters</span> <span class="n">interactive</span> <span class="n">Python</span> <span class="n">mode</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="shortcuts">
<h3>shortcuts<a class="headerlink" href="#shortcuts" title="Permalink to this headline">¶</a></h3>
<p>Lists shortcuts (aliases) available</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shortcuts</span>
</pre></div>
</div>
</div>
<div class="section" id="history">
<h3>history<a class="headerlink" href="#history" title="Permalink to this headline">¶</a></h3>
<p>View, run, edit, and save previously entered commands.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">history</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">r</span> <span class="o">|</span> <span class="o">-</span><span class="n">e</span> <span class="o">|</span> <span class="o">-</span><span class="n">s</span> <span class="o">|</span> <span class="o">-</span><span class="n">o</span> <span class="n">FILE</span> <span class="o">|</span> <span class="o">-</span><span class="n">t</span> <span class="n">TRANSCRIPT</span><span class="p">]</span> <span class="p">[</span><span class="n">arg</span><span class="p">]</span>
</pre></div>
</div>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span></kbd></dt>
<dd><p>show this help message and exit</p>
</dd>
<dt><kbd><span class="option">-r</span></kbd></dt>
<dd><p>run selected history items</p>
</dd>
<dt><kbd><span class="option">-e</span></kbd></dt>
<dd><p>edit and then run selected history items</p>
</dd>
<dt><kbd><span class="option">-s</span></kbd></dt>
<dd><p>script format; no separation lines</p>
</dd>
<dt><kbd><span class="option">-o <var>FILE</var></span></kbd></dt>
<dd><p>output commands to a script file</p>
</dd>
<dt><kbd><span class="option">-t <var>TRANSCRIPT</var></span></kbd></dt>
<dd><p>output commands and results to a transcript file</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="unalias">
<h3>unalias<a class="headerlink" href="#unalias" title="Permalink to this headline">¶</a></h3>
<p>Unsets aliases</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unalias</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="n">name</span> <span class="p">[</span><span class="n">name</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>name - name of the alias being unset</p></li>
</ul>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-a</span></kbd></dt>
<dd><p>remove all alias definitions</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="set">
<h3>set<a class="headerlink" href="#set" title="Permalink to this headline">¶</a></h3>
<p>Sets a settable parameter or shows current settings of parameters.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span><span class="p">]</span> <span class="p">[</span><span class="n">settable</span> <span class="p">[</span><span class="n">settable</span> <span class="o">...</span><span class="p">]]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Call without arguments for a list of settable parameters with their values.</p></li>
</ul>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span></kbd></dt>
<dd><p>show this help message and exit</p>
</dd>
<dt><kbd><span class="option">-a</span></kbd></dt>
<dd><p>display read-only settings as well</p>
</dd>
<dt><kbd><span class="option">-l</span></kbd></dt>
<dd><p>describe function of parameter</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="edit">
<h3>edit<a class="headerlink" href="#edit" title="Permalink to this headline">¶</a></h3>
<p>Edit a file in a text editor.</p>
<p>Usage:</p>
<blockquote>
<div><p>edit [file_path]</p>
</div></blockquote>
<ul class="simple">
<li><p>file_path - path to a file to open in editor</p></li>
</ul>
</div>
<div class="section" id="run-script">
<h3>run_script<a class="headerlink" href="#run-script" title="Permalink to this headline">¶</a></h3>
<p>Runs commands in script file that is encoded as either ASCII or UTF-8 text.
Each command in the script should be separated by a newline.</p>
<p>Usage:</p>
<blockquote>
<div><p>run_script &lt;file_path&gt;</p>
</div></blockquote>
<ul class="simple">
<li><p>file_path - a file path pointing to a script</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command is available as <code class="docutils literal notranslate"><span class="pre">load</span></code> for cmd2 versions 0.9.13
or less.</p>
</div>
</div>
<div class="section" id="shell">
<h3>shell<a class="headerlink" href="#shell" title="Permalink to this headline">¶</a></h3>
<p>Execute a command as if at the OS prompt.</p>
<p>Usage:</p>
<blockquote>
<div><p>shell &lt;command&gt; [arguments]</p>
</div></blockquote>
</div>
<div class="section" id="locate">
<h3>locate<a class="headerlink" href="#locate" title="Permalink to this headline">¶</a></h3>
<p>Find an item in File System</p>
<p>Usage:</p>
<blockquote>
<div><p>locate [options] &lt;name&gt;</p>
</div></blockquote>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-c</span></kbd></dt>
<dd><p>Count number of items found</p>
</dd>
<dt><kbd><span class="option">-i</span></kbd></dt>
<dd><p>Ignore case</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="stat">
<h3>stat<a class="headerlink" href="#stat" title="Permalink to this headline">¶</a></h3>
<p>Display file status.</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stat</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">file_name</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">file_name</span> <span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span></kbd></dt>
<dd><p>Shows the help message</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="snap">
<h3>snap<a class="headerlink" href="#snap" title="Permalink to this headline">¶</a></h3>
<p>Create or Delete Snapshot</p>
<p>Usage:</p>
<blockquote>
<div><p>snap {create|delete} &lt;snap_name&gt; &lt;dir_name&gt;</p>
</div></blockquote>
<ul class="simple">
<li><p>snap_name - Snapshot name to be created or deleted</p></li>
<li><p>dir_name - directory under which snapshot should be created or deleted</p></li>
</ul>
</div>
<div class="section" id="setxattr">
<h3>setxattr<a class="headerlink" href="#setxattr" title="Permalink to this headline">¶</a></h3>
<p>Set extended attribute for a file</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setxattr</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>path - Path to the file</p></li>
<li><p>name - Extended attribute name to get or set</p></li>
<li><p>value - Extended attribute value to be set</p></li>
</ul>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Shows the help message</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="getxattr">
<h3>getxattr<a class="headerlink" href="#getxattr" title="Permalink to this headline">¶</a></h3>
<p>Get extended attribute value for the name associated with the path</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">getxattr</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>path - Path to the file</p></li>
<li><p>name - Extended attribute name to get or set</p></li>
</ul>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Shows the help message</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="listxattr">
<h3>listxattr<a class="headerlink" href="#listxattr" title="Permalink to this headline">¶</a></h3>
<p>List extended attribute names associated with the path</p>
<p>用法：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">listxattr</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>path - Path to the file</p></li>
</ul>
<dl>
<dt>选项：</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Shows the help message</p>
</dd>
</dl>
</dd>
</dl>
</div>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">安装 Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Ceph 文件系统</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../#cephfs">CephFS 使用文档</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../add-remove-mds/">配备、增加、删除 MDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../standby/">术语</a></li>
<li class="toctree-l3"><a class="reference internal" href="../standby/#mds">MDS 守护进程的引用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../standby/#id3">故障切换的管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="../standby/#mds-standby-replay">热备的配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mds-config-ref/">MDS 配置选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="../client-config-ref/">客户端配置选项</a></li>
<li class="toctree-l3"><a class="reference internal" href="../journaler/">Journaler 配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../man/8/ceph-mds/">ceph-mds 手册页</a></li>
<li class="toctree-l3"><a class="reference internal" href="../createfs/"> 创建 CephFS 文件系统</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kernel/"> 挂载 CephFS 文件系统</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fuse/"> 把 CephFS 挂载为 FUSE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fstab/"> 通过 fstab 挂载 CephFS</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"> CephFS Shell 的用法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">命令</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#mkdir">mkdir</a></li>
<li class="toctree-l5"><a class="reference internal" href="#put">put</a></li>
<li class="toctree-l5"><a class="reference internal" href="#get">get</a></li>
<li class="toctree-l5"><a class="reference internal" href="#ls">ls</a></li>
<li class="toctree-l5"><a class="reference internal" href="#cat">cat</a></li>
<li class="toctree-l5"><a class="reference internal" href="#cd">cd</a></li>
<li class="toctree-l5"><a class="reference internal" href="#cwd">cwd</a></li>
<li class="toctree-l5"><a class="reference internal" href="#quit-ctrl-d">quit/Ctrl + D</a></li>
<li class="toctree-l5"><a class="reference internal" href="#chmod">chmod</a></li>
<li class="toctree-l5"><a class="reference internal" href="#mv">mv</a></li>
<li class="toctree-l5"><a class="reference internal" href="#rmdir">rmdir</a></li>
<li class="toctree-l5"><a class="reference internal" href="#rm">rm</a></li>
<li class="toctree-l5"><a class="reference internal" href="#write">write</a></li>
<li class="toctree-l5"><a class="reference internal" href="#lls">lls</a></li>
<li class="toctree-l5"><a class="reference internal" href="#lcd">lcd</a></li>
<li class="toctree-l5"><a class="reference internal" href="#lpwd">lpwd</a></li>
<li class="toctree-l5"><a class="reference internal" href="#umask">umask</a></li>
<li class="toctree-l5"><a class="reference internal" href="#alias">alias</a></li>
<li class="toctree-l5"><a class="reference internal" href="#run-pyscript">run_pyscript</a></li>
<li class="toctree-l5"><a class="reference internal" href="#py">py</a></li>
<li class="toctree-l5"><a class="reference internal" href="#shortcuts">shortcuts</a></li>
<li class="toctree-l5"><a class="reference internal" href="#history">history</a></li>
<li class="toctree-l5"><a class="reference internal" href="#unalias">unalias</a></li>
<li class="toctree-l5"><a class="reference internal" href="#set">set</a></li>
<li class="toctree-l5"><a class="reference internal" href="#edit">edit</a></li>
<li class="toctree-l5"><a class="reference internal" href="#run-script">run_script</a></li>
<li class="toctree-l5"><a class="reference internal" href="#shell">shell</a></li>
<li class="toctree-l5"><a class="reference internal" href="#locate">locate</a></li>
<li class="toctree-l5"><a class="reference internal" href="#stat">stat</a></li>
<li class="toctree-l5"><a class="reference internal" href="#snap">snap</a></li>
<li class="toctree-l5"><a class="reference internal" href="#setxattr">setxattr</a></li>
<li class="toctree-l5"><a class="reference internal" href="#getxattr">getxattr</a></li>
<li class="toctree-l5"><a class="reference internal" href="#listxattr">listxattr</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../kernel-features/"> 内核驱动支持的功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../man/8/ceph-fuse/"> ceph-fuse 手册页</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../man/8/mount.ceph/"> mount.ceph 手册页</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../man/8/mount.fuse.ceph/"> mount.fuse.ceph 手册页</a></li>
<li class="toctree-l3"><a class="reference internal" href="../best-practices/">最佳部署实践</a></li>
<li class="toctree-l3"><a class="reference internal" href="../administration/">CephFS 管理命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cache-size-limits/">深入理解 MDS 的缓存尺寸限制</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mds-states/">MDS 的各种状态</a></li>
<li class="toctree-l3"><a class="reference internal" href="../posix/">POSIX 兼容性</a></li>
<li class="toctree-l3"><a class="reference internal" href="../experimental-features/">实验性功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="../experimental-features/#id4">曾经是实验性的功能</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quota/">CephFS 配额管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hadoop/">在 Ceph 上使用 Hadoop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cephfs-journal-tool/">cephfs-journal-tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../file-layouts/">文件布局</a></li>
<li class="toctree-l3"><a class="reference internal" href="../eviction/">驱逐客户端</a></li>
<li class="toctree-l3"><a class="reference internal" href="../full/">文件系统占满的处理</a></li>
<li class="toctree-l3"><a class="reference internal" href="../health-messages/">健康消息</a></li>
<li class="toctree-l3"><a class="reference internal" href="../troubleshooting/">故障排除</a></li>
<li class="toctree-l3"><a class="reference internal" href="../disaster-recovery/">灾难恢复</a></li>
<li class="toctree-l3"><a class="reference internal" href="../client-auth/">客户端认证</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrading/">升级 MDS 集群</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrading/#firefly-jewel">升级比 Firefly 老的文件系统，需过 Jewel 这个槛</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dirfrags/">目录分片的配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multimds/">多活 MDS 的配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nfs/">通过 NFS 导出</a></li>
<li class="toctree-l3"><a class="reference internal" href="../app-best-practices/">应用最佳实践</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scrub/">洗刷</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fs-volumes/">FS 卷和子卷</a></li>
<li class="toctree-l3"><a class="reference internal" href="../#id1">元数据修复</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../#id2">开发者指南</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/">Ceph 管理器守护进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/dashboard/">Ceph 仪表盘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/developer_guide/">开发者指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/internals/">Ceph 内幕</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../governance/">项目管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundation/">Ceph 基金会</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/general/">Ceph 版本（总目录）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../releases/">Ceph 版本（索引）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Ceph 术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../translation_cn/">中文版翻译资源</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../kernel-features/" title="内核驱动支持的功能"
             >next</a> |</li>
        <li class="right" >
          <a href="../fstab/" title="用 fstab 挂载"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" >Ceph 文件系统</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>