
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>LibCephFS (Python) &#8212; Ceph Documentation</title>
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/language_data.js"></script>
    <script src="../../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="next" title="Mantle" href="../../mantle/" />
    <link rel="prev" title="Libcephfs (JavaDoc)" href="../libcephfs-java/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../mantle/" title="Mantle"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../libcephfs-java/" title="Libcephfs (JavaDoc)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../" >Ceph 文件系统</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../" accesskey="U">CephFS APIs</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            

<div id="dev-warning" class="admonition note" style="display:none;">
  <p class="first admonition-title">Notice</p>
  <p class="last">This document is for a development version of Ceph.</p>
</div>

<div id="eol-warning" class="admonition warning" style="display:none;">
  <p class="first admonition-title">Warning</p>
  <p class="last">This document is for an unsupported version of Ceph.</p>
</div>
  <div id="docubetter" align="right" style="display:none; padding: 15px; font-weight: bold;">
    <a id="edit-on-github" href="https://github.com/ceph/ceph/edit/master/doc/cephfs/api/libcephfs-py.rst" rel="nofollow">Edit on GitHub</a> | <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <div class="section" id="libcephfs-python">
<h1>LibCephFS (Python)<a class="headerlink" href="#libcephfs-python" title="Permalink to this headline">¶</a></h1>
<p>The <cite>cephfs</cite> python module provides access to CephFS service.</p>
<div class="section" id="module-cephfs">
<span id="api-calls"></span><h2>API calls<a class="headerlink" href="#module-cephfs" title="Permalink to this headline">¶</a></h2>
<p>This module is a thin wrapper around libcephfs.</p>
<dl class="class">
<dt id="cephfs.DirEntry">
<em class="property">class </em><code class="sig-prename descclassname">cephfs.</code><code class="sig-name descname">DirEntry</code><a class="headerlink" href="#cephfs.DirEntry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="cephfs.LibCephFS">
<em class="property">class </em><code class="sig-prename descclassname">cephfs.</code><code class="sig-name descname">LibCephFS</code><a class="headerlink" href="#cephfs.LibCephFS" title="Permalink to this definition">¶</a></dt>
<dd><p>libcephfs python wrapper</p>
<dl class="method">
<dt id="cephfs.LibCephFS.abort_conn">
<code class="sig-name descname">abort_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.abort_conn" title="Permalink to this definition">¶</a></dt>
<dd><p>Abort mds connections.</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.chdir">
<code class="sig-name descname">chdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.chdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the current working directory.</p>
<p>:param path the path to the working directory to change into.</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.chmod">
<code class="sig-name descname">chmod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.chmod" title="Permalink to this definition">¶</a></dt>
<dd><p>Change directory mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path of the directory to create.  This must be either an
absolute path or a relative path off of the current working directory.</p></li>
<li><p><strong>mode</strong> – the permissions the directory should have once created.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.chown">
<code class="sig-name descname">chown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.chown" title="Permalink to this definition">¶</a></dt>
<dd><p>Change directory ownership</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path of the directory to change.</p></li>
<li><p><strong>uid</strong> – the uid to set</p></li>
<li><p><strong>gid</strong> – the gid to set</p></li>
<li><p><strong>follow_symlink</strong> – perform the operation on the target file if &#64;path
is a symbolic link (default)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the open file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fd</strong> – the file descriptor referring to the open file.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.closedir">
<code class="sig-name descname">closedir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.closedir" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the open directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handle</strong> – the open directory stream handle</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.conf_get">
<code class="sig-name descname">conf_get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.conf_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the configuration value as a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>option</strong> – the config option to get</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.conf_parse_argv">
<code class="sig-name descname">conf_parse_argv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.conf_parse_argv" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the command line arguments and load the configuration parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>argv</strong> – the argument list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.conf_read_file">
<code class="sig-name descname">conf_read_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.conf_read_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the ceph configuration from the specified config file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>str opt</strong> (<em>conffile</em>) – the path to ceph.conf to override the default settings</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.conf_set">
<code class="sig-name descname">conf_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.conf_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a configuration value from a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>option</strong> – the configuration option to set</p></li>
<li><p><strong>value</strong> – the value of the configuration option to set</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mount handle for interacting with Ceph.  All libcephfs
functions operate on a mount info handle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dict opt</strong> (<em>conf</em>) – settings overriding the default ones and conffile</p></li>
<li><p><strong>Union</strong><strong>[</strong><strong>int</strong><strong>,</strong><strong>str</strong><strong>]</strong><strong>, </strong><strong>optional</strong> (<em>conffile</em>) – the path to ceph.conf to override the default settings</p></li>
</ul>
</dd>
<dt class="field-even">Auth_id str opt</dt>
<dd class="field-even"><p>the id used to authenticate the client entity</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.debug_get_fd_caps">
<code class="sig-name descname">debug_get_fd_caps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.debug_get_fd_caps" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the capabilities currently issued to the client given the fd.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fd</strong> – the file descriptor to get issued</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.debug_get_file_caps">
<code class="sig-name descname">debug_get_file_caps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.debug_get_file_caps" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the capabilities currently issued to the client given the path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – the path of the file/directory to get the capabilities of.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.fallocate">
<code class="sig-name descname">fallocate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.fallocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Preallocate or release disk space for the file for the byte range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file descriptor of the file to fallocate.</p></li>
<li><p><strong>mode</strong> – the flags determines the operation to be performed on the given
range. default operation (0) allocate and initialize to zero
the file in the byte range, and the file size will be changed
if offset + length is greater than the file size. if the
FALLOC_FL_KEEP_SIZE flag is specified in the mode, the file size
will not be changed. if the FALLOC_FL_PUNCH_HOLE flag is specified
in the mode, the operation is deallocate space and zero the byte range.</p></li>
<li><p><strong>offset</strong> – the byte range starting.</p></li>
<li><p><strong>length</strong> – the length of the range.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.fchmod">
<code class="sig-name descname">fchmod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.fchmod" title="Permalink to this definition">¶</a></dt>
<dd><p>Change file mode based on fd.
:param fd: the file descriptor of the file to change file mode
:param mode: the permissions to be set.</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.fchown">
<code class="sig-name descname">fchown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.fchown" title="Permalink to this definition">¶</a></dt>
<dd><p>Change file ownership
:param fd: the file descriptor of the file to change ownership
:param uid: the uid to set
:param gid: the gid to set</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.fgetxattr">
<code class="sig-name descname">fgetxattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.fgetxattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an extended attribute given the fd of a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the open file descriptor referring to the file</p></li>
<li><p><strong>name</strong> – the name of the extended attribute to get</p></li>
<li><p><strong>size</strong> – the size of the pre-allocated buffer</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.flistxattr">
<code class="sig-name descname">flistxattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.flistxattr" title="Permalink to this definition">¶</a></dt>
<dd><p>List the extended attribute keys set on a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the open file descriptor referring to the file.</p></li>
<li><p><strong>size</strong> – the size of list buffer to be filled with extended attribute keys.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.flock">
<code class="sig-name descname">flock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.flock" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply or remove an advisory lock.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the open file descriptor to change advisory lock.</p></li>
<li><p><strong>operation</strong> – the advisory lock operation to be performed on the file</p></li>
<li><p><strong>owner</strong> – the user-supplied owner identifier (an arbitrary integer)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.fremovexattr">
<code class="sig-name descname">fremovexattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.fremovexattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an extended attribute of a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the open file descriptor referring to the file.</p></li>
<li><p><strong>name</strong> – name of the extended attribute to remove.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.fsetattrx">
<code class="sig-name descname">fsetattrx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.fsetattrx" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a file’s attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the file/directory to set the attributes of.</p></li>
<li><p><strong>mask</strong> – a mask of all the CEPH_SETATTR_* values that have been set in the statx struct.</p></li>
<li><p><strong>stx</strong> – a dict of statx structure that must include attribute values to set on the file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.fsetxattr">
<code class="sig-name descname">fsetxattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.fsetxattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an extended attribute on a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the open file descriptor referring to the file.</p></li>
<li><p><strong>name</strong> – the name of the extended attribute to set.</p></li>
<li><p><strong>value</strong> – the bytes of the extended attribute value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.fstat">
<code class="sig-name descname">fstat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.fstat" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an open file’s extended statistics and attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fd</strong> – the file descriptor of the file to get statistics of.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.fsync">
<code class="sig-name descname">fsync</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.fsync" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronize an open file to persistent media.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file descriptor of the file to sync.</p></li>
<li><p><strong>syncdataonly</strong> – a boolean whether to synchronize metadata and data (0)
or just data (1).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.ftruncate">
<code class="sig-name descname">ftruncate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.ftruncate" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncate the file to the given size.  If this operation causes the
file to expand, the empty bytes will be filled in with zeros.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the file to truncate.</p></li>
<li><p><strong>size</strong> – the new size of the file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.futime">
<code class="sig-name descname">futime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.futime" title="Permalink to this definition">¶</a></dt>
<dd><p>Set access and modification time for a file pointed by descriptor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – file descriptor of the open file</p></li>
<li><p><strong>times</strong> – if times is not None, it must be a tuple (atime, mtime)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.futimens">
<code class="sig-name descname">futimens</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.futimens" title="Permalink to this definition">¶</a></dt>
<dd><p>Set access and modification time for a file pointer by descriptor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – file descriptor of the open file</p></li>
<li><p><strong>times</strong> – if times is not None, it must be a tuple (atime, mtime)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.futimes">
<code class="sig-name descname">futimes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.futimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Set access and modification time for a file pointer by descriptor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – file descriptor of the open file</p></li>
<li><p><strong>times</strong> – if times is not None, it must be a tuple (atime, mtime)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.get_addrs">
<code class="sig-name descname">get_addrs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.get_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get associated client addresses with this RADOS session.</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.get_cap_return_timeout">
<code class="sig-name descname">get_cap_return_timeout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.get_cap_return_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the amount of time that the client has to return caps</p>
<p>In the event that a client does not return its caps, the MDS may blacklist
it after this timeout. Applications should check this value and ensure
that they set the delegation timeout to a value lower than this.</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.get_default_pool">
<code class="sig-name descname">get_default_pool</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.get_default_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the default pool name and id of cephfs. This returns dict{pool_name, pool_id}.</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.get_file_replication">
<code class="sig-name descname">get_file_replication</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.get_file_replication" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the file replication information from an open file descriptor.</p>
<dl class="simple">
<dt>:param fd<span class="classifier">the open file descriptor referring to the file to get</span></dt><dd><p>the replication information of.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.get_instance_id">
<code class="sig-name descname">get_instance_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.get_instance_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a global id for current instance</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.get_layout">
<code class="sig-name descname">get_layout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.get_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Set ceph client session timeout. Must be called before mount.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fd</strong> – file descriptor of the file/directory for which to get the layout</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.get_path_replication">
<code class="sig-name descname">get_path_replication</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.get_path_replication" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the file replication information given the path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – the path of the file/directory to get the replication information of.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.get_pool_id">
<code class="sig-name descname">get_pool_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.get_pool_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the id of the named pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_name</strong> – the name of the pool.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.get_pool_replication">
<code class="sig-name descname">get_pool_replication</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.get_pool_replication" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the pool replication factor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pool_id</strong> – the pool id to look up</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.getcwd">
<code class="sig-name descname">getcwd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.getcwd" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current working directory.</p>
<p>:rtype the path to the current working directory</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.getxattr">
<code class="sig-name descname">getxattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.getxattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an extended attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the file</p></li>
<li><p><strong>name</strong> – the name of the extended attribute to get</p></li>
<li><p><strong>size</strong> – the size of the pre-allocated buffer</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.init">
<code class="sig-name descname">init</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the filesystem client (but do not mount the filesystem yet)</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.lazyio">
<code class="sig-name descname">lazyio</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.lazyio" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable/disable lazyio for the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file descriptor of the file for which to enable lazio.</p></li>
<li><p><strong>enable</strong> – a boolean to enable lazyio or disable lazyio.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.lazyio_propagate">
<code class="sig-name descname">lazyio_propagate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.lazyio_propagate" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the write buffer for the file thereby propogating the buffered write to the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file descriptor of the file to sync.</p></li>
<li><p><strong>offset</strong> – the byte range starting.</p></li>
<li><p><strong>count</strong> – the number of bytes starting from offset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.lazyio_synchronize">
<code class="sig-name descname">lazyio_synchronize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.lazyio_synchronize" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the write buffer for the file and invalidate the read cache. This allows a
subsequent read operation to read and cache data directly from the file and hence
everyone’s propagated writes would be visible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file descriptor of the file to sync.</p></li>
<li><p><strong>offset</strong> – the byte range starting.</p></li>
<li><p><strong>count</strong> – the number of bytes starting from offset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.lchown">
<code class="sig-name descname">lchown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.lchown" title="Permalink to this definition">¶</a></dt>
<dd><p>Change ownership of a symbolic link
:param path: the path of the symbolic link to change.
:param uid: the uid to set
:param gid: the gid to set</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.lgetxattr">
<code class="sig-name descname">lgetxattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.lgetxattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an extended attribute without following symbolic links. This
function is identical to ceph_getxattr, but if the path refers to
a symbolic link, we get the extended attributes of the symlink
rather than the attributes of the file it points to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the file</p></li>
<li><p><strong>name</strong> – the name of the extended attribute to get</p></li>
<li><p><strong>size</strong> – the size of the pre-allocated buffer</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.link">
<code class="sig-name descname">link</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.link" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>existing</strong> – the path to the existing file/directory to link to.</p></li>
<li><p><strong>newname</strong> – the path to the new file/directory to link from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.listxattr">
<code class="sig-name descname">listxattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.listxattr" title="Permalink to this definition">¶</a></dt>
<dd><p>List the extended attribute keys set on a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – path of the file.</p></li>
<li><p><strong>size</strong> – the size of list buffer to be filled with extended attribute keys.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.llistxattr">
<code class="sig-name descname">llistxattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.llistxattr" title="Permalink to this definition">¶</a></dt>
<dd><p>List the extended attribute keys set on a file but do not follow symbolic link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – path of the file.</p></li>
<li><p><strong>size</strong> – the size of list buffer to be filled with extended attribute keys.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.lremovexattr">
<code class="sig-name descname">lremovexattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.lremovexattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an extended attribute of a file but do not follow symbolic link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – path of the file.</p></li>
<li><p><strong>name</strong> – name of the extended attribute to remove.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.lseek">
<code class="sig-name descname">lseek</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.lseek" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the file’s current position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file descriptor of the open file to read from.</p></li>
<li><p><strong>offset</strong> – the offset in the file to read from.  If this value is negative, the
function reads from the current offset of the file descriptor.</p></li>
<li><p><strong>whence</strong> – the flag to indicate what type of seeking to performs:SEEK_SET, SEEK_CUR, SEEK_END</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.lsetxattr">
<code class="sig-name descname">lsetxattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.lsetxattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an extended attribute on a file but do not follow symbolic link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the file.</p></li>
<li><p><strong>name</strong> – the name of the extended attribute to set.</p></li>
<li><p><strong>value</strong> – the bytes of the extended attribute value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.lstat">
<code class="sig-name descname">lstat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.lstat" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a file’s extended statistics and attributes. When file’s a
symbolic link, return the informaion of the link itself rather
than that of the file it points too.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – the file or directory to get the statistics of.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.lutimes">
<code class="sig-name descname">lutimes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.lutimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Set access and modification time for a file. If the file is a symbolic
link do not follow to the target.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – file path for which timestamps have to be changed</p></li>
<li><p><strong>times</strong> – if times is not None, it must be a tuple (atime, mtime)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.mds_command">
<code class="sig-name descname">mds_command</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.mds_command" title="Permalink to this definition">¶</a></dt>
<dd><p>:return 3-tuple of output status int, output status string, output data</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.mkdir">
<code class="sig-name descname">mkdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path of the directory to create.  This must be either an
absolute path or a relative path off of the current working directory.</p></li>
<li><p><strong>mode</strong> – the permissions the directory should have once created.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.mkdirs">
<code class="sig-name descname">mkdirs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.mkdirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create multiple directories at once.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the full path of directories and sub-directories that should
be created.</p></li>
<li><p><strong>mode</strong> – the permissions the directory should have once created</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.mknod">
<code class="sig-name descname">mknod</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.mknod" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a block or character special file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the special file.</p></li>
<li><p><strong>mode</strong> – the permissions to use and the type of special file. The type can be
one of stat.S_IFREG, stat.S_IFCHR, stat.S_IFBLK, stat.S_IFIFO. Both
should be combined using bitwise OR.</p></li>
<li><p><strong>rdev</strong> – If the file type is stat.S_IFCHR or stat.S_IFBLK then this parameter
specifies the major and minor numbers of the newly created device
special file. Otherwise, it is ignored.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.mount">
<code class="sig-name descname">mount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.mount" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a mount using the path for the root of the mount.</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.open">
<code class="sig-name descname">open</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and/or open a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path of the file to open.  If the flags parameter includes O_CREAT,
the file will first be created before opening.</p></li>
<li><p><strong>flags</strong> – set of option masks that control how the file is created/opened.</p></li>
<li><p><strong>mode</strong> – the permissions to place on the file if the file does not exist and O_CREAT
is specified in the flags.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.opendir">
<code class="sig-name descname">opendir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.opendir" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the given directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – the path name of the directory to open.  Must be either an absolute path
or a path relative to the current working directory.</p>
</dd>
<dt class="field-even">Rtype handle</dt>
<dd class="field-even"><p>the open directory stream handle</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.preadv">
<code class="sig-name descname">preadv</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.preadv" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file descriptor of the open file to read from</p></li>
<li><p><strong>buffers</strong> – the list of byte object to read from the file</p></li>
<li><p><strong>offset</strong> – the offset of the file read from.  If this value is negative, the
function reads from the current offset of the file descriptor.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.pwritev">
<code class="sig-name descname">pwritev</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.pwritev" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file descriptor of the open file to write to</p></li>
<li><p><strong>buffers</strong> – the list of byte object to write to the file</p></li>
<li><p><strong>offset</strong> – the offset of the file write into.  If this value is negative, the
function writes to the current offset of the file descriptor.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file descriptor of the open file to read from.</p></li>
<li><p><strong>offset</strong> – the offset in the file to read from.  If this value is negative, the
function reads from the current offset of the file descriptor.</p></li>
<li><p><strong>l</strong> – the flag to indicate what type of seeking to perform</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.readdir">
<code class="sig-name descname">readdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.readdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the next entry in an open directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handle</strong> – the open directory stream handle</p>
</dd>
<dt class="field-even">Rtype dentry</dt>
<dd class="field-even"><p>the next directory entry or None if at the end of the
directory (or the directory is empty.  This pointer
should not be freed by the caller, and is only safe to
access between return and the next call to readdir or
closedir.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.readlink">
<code class="sig-name descname">readlink</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.readlink" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a symbolic link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the symlink to read</p></li>
<li><p><strong>size</strong> – the length of the buffer</p></li>
</ul>
</dd>
<dt class="field-even">Rtype buf</dt>
<dd class="field-even"><p>buffer to hold the path of the file that the symlink points to.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.removexattr">
<code class="sig-name descname">removexattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.removexattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an extended attribute of a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – path of the file.</p></li>
<li><p><strong>name</strong> – name of the extended attribute to remove.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.rename">
<code class="sig-name descname">rename</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename a file or directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> – the path to the existing file or directory.</p></li>
<li><p><strong>dst</strong> – the new name of the file or directory.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.rewinddir">
<code class="sig-name descname">rewinddir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.rewinddir" title="Permalink to this definition">¶</a></dt>
<dd><p>Rewind the directory stream to the beginning of the directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handle</strong> – the open directory stream handle</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.rmdir">
<code class="sig-name descname">rmdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.rmdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – the path of the directory to remove.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.seekdir">
<code class="sig-name descname">seekdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.seekdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Move the directory stream to a position specified by the given offset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handle</strong> – the open directory stream handle</p></li>
<li><p><strong>offset</strong> – the position to move the directory stream to. This offset should be
a value returned by telldir. Note that this value does not refer to
the nth entry in a directory, and can not be manipulated with plus
or minus.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.set_session_timeout">
<code class="sig-name descname">set_session_timeout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.set_session_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Set ceph client session timeout. Must be called before mount.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> – the timeout to set</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.set_uuid">
<code class="sig-name descname">set_uuid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.set_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Set ceph client uuid. Must be called before mount.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>uuid</strong> – the uuid to set</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.setattrx">
<code class="sig-name descname">setattrx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.setattrx" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a file’s attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the file/directory to set the attributes of.</p></li>
<li><p><strong>mask</strong> – a mask of all the CEPH_SETATTR_* values that have been set in the statx struct.</p></li>
<li><p><strong>stx</strong> – a dict of statx structure that must include attribute values to set on the file.</p></li>
<li><p><strong>flags</strong> – mask of AT_* flags (only AT_ATTR_NOFOLLOW is respected for now)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.setxattr">
<code class="sig-name descname">setxattr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.setxattr" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Set an extended attribute on a file.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the file.</p></li>
<li><p><strong>name</strong> – the name of the extended attribute to set.</p></li>
<li><p><strong>value</strong> – the bytes of the extended attribute value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.shutdown">
<code class="sig-name descname">shutdown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmount and destroy the ceph mount handle.</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.stat">
<code class="sig-name descname">stat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.stat" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a file’s extended statistics and attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – the file or directory to get the statistics of.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.statfs">
<code class="sig-name descname">statfs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.statfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a statfs on the ceph file system.  This call fills in file system wide statistics
into the passed in buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – any path within the mounted filesystem</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.statx">
<code class="sig-name descname">statx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.statx" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a file’s extended statistics and attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the file or directory to get the statistics of.</p></li>
<li><p><strong>mask</strong> – want bitfield of CEPH_STATX_* flags showing designed attributes.</p></li>
<li><p><strong>flag</strong> – bitfield that can be used to set AT_* modifier flags (only AT_NO_ATTR_SYNC and AT_SYMLINK_NOFOLLOW)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.symlink">
<code class="sig-name descname">symlink</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.symlink" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a symbolic link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>existing</strong> – the path to the existing file/directory to link to.</p></li>
<li><p><strong>newname</strong> – the path to the new file/directory to link from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.sync_fs">
<code class="sig-name descname">sync_fs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.sync_fs" title="Permalink to this definition">¶</a></dt>
<dd><p>Synchronize all filesystem data to persistent media</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.telldir">
<code class="sig-name descname">telldir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.telldir" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current position of a directory stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>handle</strong> – the open directory stream handle</p>
</dd>
<dt class="field-even">Return value</dt>
<dd class="field-even"><p>The position of the directory stream. Note that the offsets
returned by ceph_telldir do not have a particular order (cannot
be compared with inequality).</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.truncate">
<code class="sig-name descname">truncate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.truncate" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncate the file to the given size.  If this operation causes the
file to expand, the empty bytes will be filled in with zeros.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – the path to the file to truncate.</p></li>
<li><p><strong>size</strong> – the new size of the file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.unlink">
<code class="sig-name descname">unlink</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.unlink" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a file, link, or symbolic link.  If the file/link has multiple links to it, the
file will not disappear from the namespace until all references to it are removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – the path of the file or link to unlink.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.unmount">
<code class="sig-name descname">unmount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.unmount" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmount a mount handle.</p>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.utime">
<code class="sig-name descname">utime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.utime" title="Permalink to this definition">¶</a></dt>
<dd><p>Set access and modification time for path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – file path for which timestamps have to be changed</p></li>
<li><p><strong>times</strong> – if times is not None, it must be a tuple (atime, mtime)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.utimes">
<code class="sig-name descname">utimes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.utimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Set access and modification time for path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – file path for which timestamps have to be changed</p></li>
<li><p><strong>times</strong> – if times is not None, it must be a tuple (atime, mtime)</p></li>
<li><p><strong>follow_symlink</strong> – perform the operation on the target file if &#64;path
is a symbolic link (default)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.version">
<code class="sig-name descname">version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the version number of the <code class="docutils literal notranslate"><span class="pre">libcephfs</span></code> C library.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a tuple of <code class="docutils literal notranslate"><span class="pre">(major,</span> <span class="pre">minor,</span> <span class="pre">extra)</span></code> components of the
libcephfs version</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cephfs.LibCephFS.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cephfs.LibCephFS.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file descriptor of the open file to write to</p></li>
<li><p><strong>buf</strong> – the bytes to write to the file</p></li>
<li><p><strong>offset</strong> – the offset of the file write into.  If this value is negative, the
function writes to the current offset of the file descriptor.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Ceph 简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">安装 Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rados/">Ceph 存储集群</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Ceph 文件系统</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../#cephfs">CephFS 使用文档</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../#id2">开发者指南</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../journaler/"> Journaler 配置</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../capabilities/"> 客户端的能力</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../"> Java 和 Python 捆绑库</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../libcephfs-java/">libcephfs (Java)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">libcephfs (Python)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#module-cephfs">API calls</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../mantle/"> Mantle</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/">Ceph 块设备</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph 对象网关</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph 管理器守护进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/dashboard/">Ceph 仪表盘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API 文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">体系结构</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/developer_guide/">开发者指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/internals/">Ceph 内幕</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../governance/">项目管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../foundation/">Ceph 基金会</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/general/">Ceph 版本（总目录）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/">Ceph 版本（索引）</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Ceph 术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../translation_cn/">中文版翻译资源</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../mantle/" title="Mantle"
             >next</a> |</li>
        <li class="right" >
          <a href="../libcephfs-java/" title="Libcephfs (JavaDoc)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../" >Ceph 文件系统</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../" >CephFS APIs</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>